\documentclass{report}
\title{Summary of Halmos' Naive Set Theory}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage{hyperref}
\usepackage{mathabx}

\newtheorem{ax}{Axiom}[chapter]
\newtheorem{prop}[ax]{Proposition}
\newtheorem{cor}{Corollary}[ax]
\newtheorem{thm}[ax]{Theorem}
\newtheorem{lm}[ax]{Lemma}
\theoremstyle{definition}
\newtheorem{df}[ax]{Definition}
\newtheorem{ex}[ax]{Example}

\newcommand{\dom}{\ensuremath{\operatorname{dom}}}
\newcommand{\ran}{\ensuremath{\operatorname{ran}}}
\newcommand{\card}{\ensuremath{\operatorname{card}}}

\begin{document}
\maketitle
\tableofcontents

\chapter{Primitive Terms and Axioms}

Let there be \emph{sets}. We assume that everything is a set.

Let there be a binary relation of \emph{membership}, $\in$. If $x \in A$ we say that $x$ \emph{belongs} to $A$, $x$ is an \emph{element} of $A$, or $x$ is \emph{contained} in $A$. If this does not hold we write $x \notin A$.

\begin{ax}[Axiom of Extensionality]
Two sets are equal if and only if they have the same elements.
\end{ax}

\begin{ax}[Axiom of Comprehension, Aussonderungsaxiom]
To every set $A$ and to every condition $S(x)$ there corresponds a set $B$ whose elements are exactly those elements $x$ of $A$ for which $S(x)$ holds.
\end{ax}

\begin{df}
Given a set $A$ and a condition $S(x)$, we write $\{ x \in A : S(x) \}$ for the set whose elements are exactly those elements $x$ of $A$ for which $S(x)$ holds.
\end{df}

\begin{proof}
\pf\ This exists by the Axiom of Comprehension and is unique by the Axiom of Extensionality. \qed
\end{proof}

\begin{ax}[Axiom of Pairing]
For any two sets, there exists a set that they both belong to.
\end{ax}

\begin{df}[(Unordered) Pair]
For any sets $a$ and $b$, the \emph{(unordered) pair} $\{a,b\}$ is the set whose elements are just $a$ and $b$.
\end{df}

\begin{proof}
\pf\ This exists by the Axioms of Pairing and Comprehension, and is unique by the Axiom of Extensionality. \qed
\end{proof}

\begin{ax}[Union Axiom]
For every set $A$, there exists a set that contains all the elements that belong to at least one element of $A$.
\end{ax}

\begin{df}[Subset]
Let $A$ and $B$ be sets. We say that $A$ is a \emph{subset} of $B$, or $B$ \emph{includes} $A$, and write $A \subseteq B$ or $B \supseteq A$, iff every element of $A$ is an element of $B$.
\end{df}

\begin{ax}[Power Set Axiom]
For any set $A$, there exists a set that contains all the subsets of $A$.
\end{ax}

\begin{df}[Empty]
A set is \emph{empty} iff it has no elements; otherwise it is \emph{non-empty}.
\end{df}

\begin{ax}[Axiom of Infinity]
There exists a set $I$ such that:
\begin{itemize}
\item $I$ has an element that is empty
\item for all $x \in I$, there exists $y \in I$ such that the elements of $y$ are exactly $x$ and the elements of $x$.
\end{itemize}
\end{ax}

\begin{df}[Ordered Pair]
For any sets $a$ and $b$, the \emph{ordered pair} $(a,b)$ is defined by
\[ (a,b) := \{ \{ a \}, \{ a, b \} \} \enspace . \]
\end{df}

\begin{df}[Power Set]
For any set $A$, the \emph{power set} of $A$, $\mathcal{P} A$, is the set whose elements are exactly the subsets of $A$.
\end{df}

\begin{proof}
\pf\ This exists by the Power Set Axiom and Axiom of Comprehension, and is unique by the Axiom of Extensionality. \qed
\end{proof}

\begin{df}[Cartesian Product]
For any sets $A$ and $B$, the \emph{Cartesian product} $A \times B$ is
\[ A \times B := \{ p \in \mathcal{P} \mathcal{P} (A \cup B) : \exists a \in A. \exists b \in B. p = (a,b) \} \enspace . \]
\end{df}

\begin{df}[Relation]
A \emph{relation} is a set of ordered pairs.

If $R$ is a relation, we write $xRy$ for $(x,y) \in R$.

Given sets $X$ and $Y$, a relation \emph{between $X$ and $Y$} is a subset of $X \times Y$.

Given a set $X$, a relation \emph{on $X$} is a relation between $X$ and $X$.
\end{df}

\begin{df}[Function]
Let $X$ and $Y$ be sets. A \emph{function, map, mapping, transformation} or \emph{operator $f$ from $X$ to $Y$}, $f : X \rightarrow Y$, is a relation $f$ between $X$ and $Y$ such that, for all $x \in X$, there exists a unique $f(x) \in Y$, called the \emph{value} of $f$ at the \emph{argument} $x$, such that $(x,f(x)) \in f$.
\end{df}

\begin{df}[Family]
Let $I$ and $X$ be sets. A \emph{family} of elements of $X$ \emph{indexed} by $I$ is a function $a : I \rightarrow X$. We write $a_i$ for $a(i)$, and $\{a_i\}_{i \in I}$ for $a$.
\end{df}

\begin{df}[Cartesian Product of a Family of Sets]
Let $\{A_i\}_{i \in I}$ be a family of sets. The \emph{Cartesian product} $\bigtimes_{i \in I} A_i$ is the set of all families $\{a_i\}_{i \in I}$ such that $\forall i \in I. a_i \in A_i$.

We write $A^I$ for $\bigtimes_{i \in I} A$.
\end{df}

\begin{ax}[Axiom of Choice]
The Cartesian product of a non-empty family of non-empty sets is non-empty.
\end{ax}

\begin{ax}[Axiom of substitution]
If $S(a,b)$ is a sentence such that for each $a$ in $A$ the set $\{ b : S(a,b) \}$ can be formed, then there exists a function $F$ with domain $A$ such that $F(a) = \{ b : S(a,b) \}$ for each $a$ in $A$.
\end{ax}

\chapter{Basic Properties and Operations on Sets}

\section{The Subset Relation}

\begin{thm}
For any set $A$, we have $A \subseteq A$.
\end{thm}

\begin{proof}
\pf\ Every element of $A$ is an element of $A$. \qed
\end{proof}

\begin{thm}
For any sets $A$, $B$ and $C$, if $A \subseteq B$ and $B \subseteq C$ then $A \subseteq C$.
\end{thm}

\begin{proof}
\pf\ If every element of $A$ is an element of $B$, and every element of $B$ is an element of $C$, then every element of $A$ is an element of $C$. \qed
\end{proof}

\begin{thm}
For any sets $A$ and $B$, if $A \subseteq B$ and $B \subseteq A$ then $A = B$.
\end{thm}

\begin{proof}
\pf\ If every element of $A$ is an element of $B$, and every element of $B$ is an element of $A$, then $A$ and $B$ have the same elements, and therefore are equal by the Axiom of Extensionality. \qed
\end{proof}

\begin{df}[Proper Subset]
Let $A$ and $B$ be sets. We say that $A$ is a \emph{proper} subset of $B$, or $B$ \emph{properly} includes $A$, and write $A \subsetneq B$ or $B \supsetneq A$, iff $A \subseteq B$ and $A \neq B$.
\end{df}

\section{Comprehension Notation}

\begin{thm}
There is no set that contains every set.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be a set.} \prove{There exists a set $B$ such that $B \notin A$.}}
\step{2}{\pflet{$B = \{ x \in A : x \notin x \}$}}
\step{3}{If $B \in A$ then we have $B \in B$ if and only if $B \notin B$.}
\step{4}{$B \notin A$}
\qed
\end{proof}

\section{The Empty Set}

\begin{thm}
There exists a set with no elements.
\end{thm}

\begin{proof}
\pf\ Immediate from the Axiom of Infinity. \qed
\end{proof}

\begin{df}[Empty Set]
The \emph{empty set} $\emptyset$ is the set with no elements.
\end{df}

\begin{thm}
For any set $A$ we have $\emptyset \subset A$.
\end{thm}

\begin{proof}
\pf\ Vacuous. \qed
\end{proof}

\section{Unordered Pairs}

\begin{df}[Singleton]
For any set $a$, the \emph{singleton} $\{a\}$ is defined to be $\{a,a\}$.
\end{df}

\section{Unions}

\begin{df}[Union]
For any set $\mathcal{C}$, the \emph{union} of $\mathcal{C}$, $\bigcup \mathcal{C}$, is the set whose elements are the elements of the elements of $\mathcal{C}$.

We write $\bigcup_{X \in \mathcal{A}} t[X]$ for $\bigcup \{t[X] \mid X \in \mathcal{A} \}$.
\end{df}

\begin{proof}
\pf\ This exists by the Union Axiom and Comprehension Axiom, and is unique by the Axiom of Extensionality. \qed
\end{proof}

\begin{prop}
\[ \bigcup \emptyset = \emptyset \]
\end{prop}

\begin{proof}
\pf\ There is no set that is an element of an element of $\emptyset$. \qed
\end{proof}

\begin{prop}
For any set $A$, we have $\bigcup \{A\} = A$.
\end{prop}

\begin{proof}
\pf\ For any $x$, we have $x$ is an element of an element of $\{A\}$ if and only if $x$ is an element of $A$. \qed
\end{proof}

\begin{df}
We write $A \cup B$ for $\bigcup \{A,B\}$.
\end{df}

\begin{prop}
For any set $A$, we have $A \cup \emptyset = A$.
\end{prop}

\begin{proof}
\pf\ $x \in A \cup \emptyset$ iff $x \in A$ or $x \in \emptyset$, iff $x \in A$. \qed
\end{proof}

\begin{prop}[Idempotence]
For any set $A$, we have $A \cup A = A$.
\end{prop}

\begin{proof}
\pf\ $x \in A$ or $x \in A$ is equivalent to $x \in A$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have $A \subseteq B$ if and only if $A \cup B = B$.
\end{prop}

\begin{proof}
\pf\ For any $x$, the statement "if $x \in A$ then $x \in B$" is equivalent to "$x \in A$ or $x \in B$ if and only if $x \in B$". \qed
\end{proof}

\begin{prop}
For any sets $a$ and $b$, we have $\{a\} \cup \{b\} = \{a,b\}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\section{Intersections}

\begin{df}[Intersection]
For any sets $A$ and $B$, the \emph{intersection} $A \cap B$ is defined to be $\{ x \in A : x \in B \}$.
\end{df}

\begin{prop}
For any set $A$, we have $A \cap \emptyset = \emptyset$.
\end{prop}

\begin{proof}
\pf\ There is no $x$ such that $x \in A$ and $x \in \emptyset$. \qed
\end{proof}

\begin{prop}
For any set $A$, we have
\[ A \cap A = A \enspace . \]
\end{prop}

\begin{proof}
\pf\ We have $x \in A$ and $x \in A$ if and only if $x \in A$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have $A \subseteq B$ if and only if $A \cap B = A$.
\end{prop}

\begin{proof}
\pf\ For any $x$, the statement "if $x \in A$ then $x \in B$" is equivalent to "$x \in A$ and $x \in B$ if and only if $x \in A$". \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $C$, we have $C \subseteq A$ if and only if $(A \cap B) \cup C = A \cap (B \cup C)$.
\end{prop}

\begin{proof}
\pf\ The statement "if $x \in C$ then $x \in A$" is equivalent to the statement "$((x \in A \wedge x \in B) \vee x \in C) \Leftrightarrow (x \in A \wedge (x \in B \vee x \in C))$". \qed
\end{proof}

\begin{df}[Disjoint]
Two sets $A$ and $B$ are \emph{disjoint} if and only if $A \cap B = \emptyset$.
\end{df}

\begin{df}[Pairwise Disjoint]
Let $A$ be a set. We say the elements of $A$ are \emph{pairwise disjoint} if and only if, for all $x, y \in A$, if $x \cap y \neq \emptyset$ then $x = y$.
\end{df}

\begin{df}[Intersection]
For any nonempty set $\mathcal{C}$, the \emph{intersection} of $\mathcal{C}$, $\bigcap \mathcal{C}$, is the set that contains exactly those sets that belong to every element of $\mathcal{C}$.

We write $\bigcap_{X \in \mathcal{A}} t[X]$ for $\bigcap \{t[X] \mid X \in \mathcal{A} \}$.
\end{df}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{C}$ be a nonempty set.}}
\step{2}{There exists a set $I$ whose elements are exactly the sets that belong to every element of $\mathcal{C}$.}
\begin{proof}
	\pf\ Pick $A \in \mathcal{C}$, and take $I = \{ x \in A : \forall X \in \mathcal{C}. x \in X \}$.
\end{proof}
\step{3}{For any sets $I$, $J$, if the elements of $I$ and $J$ are exactly the sets that belong to every element of $\mathcal{C}$ then $I = J$.}
\begin{proof}
	\pf\ Axiom of Extensionality.
\end{proof}
\qed
\end{proof}

\section{Unordered Triples}

\begin{df}[(Unordered) Triple]
Given sets $a_1$, \ldots, $a_n$, define the \emph{(unordered) $n$-tuple} $\{a_1, \ldots, a_n\}$ to be
\[ \{a_1, \ldots, a_n\} := \{a_1\} \cup \cdots \cup \{a_n\} \enspace . \]
\end{df}

\section{Relative Complements}

\begin{df}[Relative Complement]
For any sets $A$ and $B$, the \emph{difference} or \emph{relative complement} $A - B$ is defined to be
\[ A - B := \{ x \in A : x \notin B \} \enspace . \]
\end{df}

\begin{prop}
For any sets $A$ and $E$, we have $A \subseteq E$ if and only if
\[ E - (E - A) = A \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ and $E$ be sets.}}
\step{2}{If $A \subseteq E$ then $E - (E - A) = A$}
\begin{proof}
	\step{2}{\assume{$A \subseteq E$}}
	\step{3}{$E - (E - A) \subseteq A$}
	\begin{proof}
		\pf\ If $x \in E$ and $x \notin E - A$ then $x \in A$.
	\end{proof}
	\step{4}{$A \subseteq E - (E - A)$}
	\begin{proof}
		\pf\ If $x \in A$ then $x \in E$ and $x \notin E - A$.
	\end{proof}
\end{proof}
\step{3}{If $E - (E - A) = A$ then $A \subseteq E$.}
\begin{proof}
	\pf\ Since $E - (E - A) \subseteq E$.
\end{proof}
\qed
\end{proof}

\begin{prop}
For any set $E$ we have
\[ E - \emptyset = E \]
\end{prop}

\begin{proof}
\pf\ $x \in E$ if and only if $x \in E$ and $x \notin \emptyset$. \qed
\end{proof}

\begin{prop}
For any set $E$ we have
\[ E - E = \emptyset \enspace . \]
\end{prop}

\begin{proof}
\pf\ There is no $x$ such that $x \in E$ and $x \notin E$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $E$, we have
\[ A \cap (E - A) = \emptyset \enspace . \]
\end{prop}

\begin{proof}
\pf\ There is no $x$ such that $x \in A$ and $x \in E - A$. \qed
\end{proof}

\begin{prop}
Let $A$ and $E$ be sets. Then $A \subseteq E$ if and only if
\[ A \cup (E - A) = E \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ and $E$ be sets.}}
\step{2}{If $A \subseteq E$ then $A \cup (E - A) = E$.}
\begin{proof}
	\step{2}{\assume{$A \subseteq E$}}
	\step{3}{$A \cup (E - A) \subseteq E$}
	\begin{proof}
		\pf\ If $x \in A$ or $x \in E - A$ then $x \in E$.
	\end{proof}
	\step{4}{$E \subseteq A \cup (E - A)$}
	\begin{proof}
		\pf\ If $x \in E$ then either $x \in A$ or $x \notin A$. In the latter case, $x \in E - A$.
	\end{proof}
\end{proof}
\step{3}{If $A \cup (E - A) = E$ then $A \subseteq E$}
\begin{proof}
	\pf\ Since $A \subseteq A \cup (E - A)$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $A$, $B$ and $E$ be sets. Then:
\begin{enumerate}
\item If $A \subseteq B$ then $E - B \subseteq E - A$.
\item If $A \subseteq E$ and $E - B \subseteq E - A$ then $A \subseteq B$.
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$, $B$ and $E$ be sets.}}
\step{3}{If $A \subseteq B$ then $E - B \subseteq E - A$.}
\begin{proof}
	\pf\ If $A \subseteq B$, $x \in E$ and $x \notin B$, then we have $x \in E$ and $x \notin A$.
\end{proof}
\step{4}{If $A \subseteq E$ and $E - B \subseteq E - A$ then $A \subseteq B$.}
\begin{proof}
	\step{x}{\assume{$A \subseteq E$}}
	\step{a}{\assume{$E - B \subseteq E - A$}}
	\step{b}{\pflet{$x \in A$}}
	\step{c}{$x \in E$}
	\step{d}{$x \notin E - A$}
	\step{e}{$x \notin E - B$}
	\step{f}{$x \in B$}
\end{proof}
\qed
\end{proof}

\begin{ex}
We cannot remove the hypothesis $A \subseteq E$ in item 2 above. Let $E = \emptyset$, $A = \{\emptyset\}$ and $B = \emptyset$. Then $E - B = E - A = \emptyset$ but $A \not\subseteq B$.
\end{ex}

\begin{prop}[De Morgan's Law]
For any sets $A$, $B$ and $E$, we have $E - (A \cup B) = (E - A) \cap (E - B)$.
\end{prop}

\begin{proof}
\pf\ $(x \in E \wedge \neg (x \in A \vee x \in B)) \Leftrightarrow (x \in E \wedge x \notin A \wedge x \in E \wedge x \notin B)$. \qed
\end{proof}

\begin{prop}[De Morgan's Law]
For any sets $A$, $B$ and $E$, we have $E - (A \cap B) = (E - A) \cup (E - B)$.
\end{prop}

\begin{proof}
\pf\ $(x \in E \vee \neg (x \in A \wedge x \in B)) \Leftrightarrow (x \in E \wedge x \notin A) \vee (x \in E \wedge x \notin B)$. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $E$, if $A \subseteq E$ then\
\[ A - B = A \cap (E - B) \enspace . \]
\end{prop}

\begin{proof}
\pf\ If $A \subseteq E$ then we have $(x \in A \wedge x \notin B) \Leftrightarrow (x \in A \wedge x \in E \wedge x \notin B)$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have $A \subseteq B$ if and only if $A - B = \emptyset$.
\end{prop}

\begin{proof}
\pf\ Both are equivalent to the statement that there is no $x$ such that $x \in A$ and $x \notin B$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have
\[ A - (A - B) = A \cap B \enspace . \]
\end{prop}

\begin{proof}
\pf\ $(x \in A \wedge \neg (x \in A \wedge x \notin B)) \Leftrightarrow x \in A \wedge x \in B$. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $C$, we have
\[ A \cap (B - C) = (A \cap B) - (A \cap C) \enspace . \]
\end{prop}

\begin{proof}
\pf\ $(x \in A \wedge x \in B \wedge x \notin C) \Leftrightarrow (x \in A \wedge x \in B \wedge \neg (x \in A \wedge x \in C))$. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$, $C$ and $E$, if $(A \cap B) - C \subseteq E$ then we have
\[ A \cap B \subseteq (A \cap C) \cup (B \cap (E - C)) \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x \in A \cap B$} \prove{$x \in (A \cap C) \cup (B \cap (E - C))$}}
\step{3}{\case{$x \in C$}}
\begin{proof}
	\pf\ Then $x \in A \cap C$.
\end{proof}
\step{4}{\case{$x \notin C$}}
\begin{proof}
	\pf\ Then $x \in E$ and so $x \in B \cap (E - C)$.
\end{proof}
\qed
\end{proof}

\begin{prop}
For any sets $A$, $B$, $C$ and $E$, we have
\[ (A \cup C) \cap (B \cup (E - C)) \subseteq A \cup B \enspace . \]
\end{prop}

\begin{proof}
\pf\ The statement $(x \in A \vee x \in C) \wedge (x \in B \vee (x \in E \wedge x \notin C))$ implies $x \in A \vee x \in B$. \qed
\end{proof}

\begin{prop}[De Morgan's Law]
Let $E$ be a set and $\mathcal{C}$ a nonempty set. Then
\[ E - \bigcup \mathcal{C} = \bigcap_{X \in \mathcal{C}} (E - X) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}[De Morgan's Law]
Let $E$ be a set and $\mathcal{C}$ a nonempty set. Then
\[ E - \bigcap \mathcal{C} = \bigcup_{X \in \mathcal{C}} (E - X) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Symmetric Difference}

\begin{df}[Symmetric Difference]
For any sets $A$ and $B$, the \emph{symmetric difference} $A + B$ is defined to be
\[ A + B := (A - B) \cup (B - A) \enspace . \]
\end{df}

\begin{prop}
For any sets $A$ and $B$, we have
\[ A + B = B + A \]
\end{prop}

\begin{proof}
\pf\ From the commutativity of union. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $C$, we have
\[ A + (B + C) = (A + B) + C \enspace . \]
\end{prop}

\begin{proof}
\pf\ Each is the set of all $x$ that belong to either exactly one or all three of $A$, $B$ and $C$. \qed
\end{proof}

\begin{prop}
For any set $A$, we have
\[ A + \emptyset = A \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
A + \emptyset & = (A - \emptyset) \cup (\emptyset - A) \\
& = A \cup \emptyset \\
& = A & \qed
\end{align*}
\end{proof}

\begin{prop}
For any set $A$ we have
\[ A + A = \emptyset \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
A + A & = (A - A) \cup (A - A) \\
& = \emptyset \cup \emptyset \\
& = \emptyset & \qed
\end{align*}
\end{proof}

\section{Power Sets}

\begin{prop}
\[ \mathcal{P} \emptyset = \{ \emptyset \} \]
\end{prop}

\begin{proof}
\pf\ The only subset of $\emptyset$ is $\emptyset$. \qed
\end{proof}

\begin{prop}
For any set $a$, we have
\[ \mathcal{P} \{ a \} = \{ \emptyset, \{ a \} \} \enspace . \]
\end{prop}

\begin{proof}
\pf\ The only subsets of $\{a\}$ are $\emptyset$ and $\{a\}$. \qed
\end{proof}

\begin{prop}
For any sets $a$ and $b$, we have
\[ \mathcal{P} \{ a,b \} = \{ \emptyset, \{a\}, \{b\}, \{a,b\} \} \enspace . \]
\end{prop}

\begin{proof}
\pf\ The only subsets of $\{a,b\}$ are $\emptyset$, $\{a\}$, $\{b\}$ and $\{a,b\}$. \qed
\end{proof}

\begin{prop}
For any nonempty set $\mathcal{C}$ we have
\[ \bigcap_{X \in \mathcal{C}} \mathcal{P} X = \mathcal{P} \left( \bigcap \mathcal{C} \right) \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
x \in \bigcup_{X \in \mathcal{C}} \mathcal{P} X
& \Leftrightarrow \forall X \in \mathcal{C}. x \subseteq X \\
& \Leftrightarrow \forall X \in \mathcal{C}. \forall y \in x. y \in X \\
& \Leftrightarrow \forall y \in x. \forall X \in mathcal{C}. y \in X \\
& \Leftrightarrow x \subseteq \bigcap \mathcal{C} & \qed
\end{align*}
\end{proof}

\begin{prop}
For any set $\mathcal{C}$ we have
\[ \bigcup_{X \in \mathcal{C}} \mathcal{P} X \subseteq \mathcal{P} \bigcup \mathcal{C} \enspace . \]
\end{prop}

\begin{proof}
\pf\ If there exists $X \in \mathcal{C}$ such that $x \subseteq X$ then $x \subseteq \bigcup \mathcal{C}$. \qed
\end{proof}

\begin{prop}
For any set $E$, we have
\[ \bigcap \mathcal{P} E = \emptyset \enspace . \]
\end{prop}

\begin{proof}
\pf\ Since $\emptyset \in \mathcal{P} E$. \qed
\end{proof}

\begin{prop}
For any sets $E$ and $F$, if $E \subseteq F$ then $\mathcal{P} E \subseteq \mathcal{P} F$.
\end{prop}

\begin{proof}
\pf\ If $E \subseteq F$ and $X \subseteq E$ then $X \subseteq F$. \qed
\end{proof}

\chapter{Relations and Functions}

\section{Ordered Pairs}

\begin{prop}
For any sets $a$, $b$, $x$ and $y$, if $(a,b) = (x,y)$ then $a = x$ and $b = y$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$a$, $b$, $x$ and $y$ be sets.}}
\step{2}{\assume{$(a,b) = (x,y)$}}
\step{3}{$a = x$}
\begin{proof}
	\pf\ $\{a\} = \bigcap (a,b) = \bigcap (x,y) = \{x\}$.
\end{proof}
\step{4}{$\{a,b\} = \{x,y\}$}
\step{5}{\case{$a = b$}}
\begin{proof}
	\step{a}{$x = y$}
	\begin{proof}
		\pf\ Since $\{x,y\} = \{a,b\}$ is a singleton.
	\end{proof}
	\step{b}{$b = y$}
	\begin{proof}
		\pf\ $b = a = x = y$
	\end{proof}
\end{proof}
\step{6}{\case{$a \neq b$}}
\begin{proof}
	\step{a}{$x \neq y$}
	\begin{proof}
		\pf\ Since $\{x,y\} = \{a,b\}$ is not a singleton.
	\end{proof}
	\step{b}{$b = y$}
	\begin{proof}
		\pf\ $\{b\} = \{a,b\} - \{a\} = \{x,y\} - \{x\} = \{y\}$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $X$, we have
\[ (A - B) \times X = (A \times X) - (B \times X) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have $A \times B = \emptyset$ if and only if $A = \emptyset$ or $B = \emptyset$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$, $X$ and $Y$, if $A \subseteq X$ and $B \subseteq Y$ then $A \times B \subseteq X \times Y$. The converse holds assuming $A \neq \emptyset$ and $B \neq \emptyset$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Relations}

\begin{df}[Domain]
The \emph{domain} of a relation $R$ is the set
\[ \dom R := \left\{ x \in \bigcup \bigcup R : \exists y. (x,y) \in R \right\} \enspace . \]
\end{df}

\begin{df}[Range]
The \emph{range} of a relation $R$ is the set
\[ \ran R := \left\{ y \in \bigcup \bigcup R : \exists x. (x,y) \in R \right\} \enspace . \]
\end{df}

\begin{df}[Reflexive]
Let $R$ be a relation on $X$. Then $R$ is \emph{reflexive} iff, for all $x \in X$, we have $xRx$.
\end{df}

\begin{df}[Symmetric]
Let $R$ be a relation on $X$. Then $R$ is \emph{symmetric} iff, whenever $xRy$, then $yRx$.
\end{df}

\begin{df}[Antisymmetric]
A relation $R$ is \emph{antisymmetric} iff, whenever $xRy$ and $yRx$, then $x = y$.
\end{df}

\begin{df}[Transitive]
Let $R$ be a relation on $X$. Then $R$ is \emph{transitive} iff, whenever $xRy$ and $yRz$, then $xRz$.
\end{df}

\begin{df}[Identity Relation]
For any set $X$, the \emph{identity relation} $I_X$ on $X$ is
\[ I_X = \{(x,x) : x \in X \} \enspace . \]
\end{df}

\section{Composition}

\begin{df}[Composition]
Let $R$ be a relation between $X$ and $Y$, and $S$ a relation between $Y$ and $Z$. The \emph{composite} or \emph{relative product} $S \circ R = SR$ is the relation between $X$ and $Z$ defined by
\[ x (S \circ R) z \Leftrightarrow \exists y \in Y (xRy \wedge ySz) \enspace . \]
\end{df}

\begin{prop}
Let $R$ be a relation between $X$ and $Y$, $S$ a relation between $Y$ and $Z$, and $T$ a relation between $Z$ and $W$. Then
\[ T(SR) = (TS)R \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
\label{ex:composition_not_commutative}
Composition of relations is not commutative in general. Let $X = \{a,b\}$ where $a \neq b$. Let $R = \{(a,a),(b,a)\}$ and $S = \{(a,b),(b,b)\}$. Then $SR = S$ but $RS = R \neq S$.
\end{ex}

\begin{prop}
A relation $R$ is transitive if and only if $RR \subseteq R$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Inverses}

\begin{df}[Inverse]
Let $R$ be a relation between $X$ and $Y$. The \emph{inverse} or \emph{converse} $R^{-1}$ is the relation between $Y$ and $X$ defined by
\[ y R^{-1} x \Leftrightarrow x R y \enspace . \]
\end{df}

\begin{prop}
For any relation $R$, we have
\[ \dom R^{-1} = \ran R \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any relation $R$, we have
\[ \ran R^{-1} = \dom R \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $R$ be a relation between $X$ and $Y$, and $S$ a relation between $Y$ and $Z$. Then
\[ (SR)^{-1} = R^{-1}S^{-1} \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
A relation $R$ is symmetric if and only if $R \subseteq R^{-1}$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $R$ be a relation between $X$ and $Y$. Then
\[ I_Y R = R I_X = R \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
A relation $R$ on a set $X$ is reflexive if and only if $I_X \subseteq R$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $R$ be a relation on a set $X$. Then $R$ is antisymmetric iff $R \cap R^{-1} \subseteq I_X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Equivalence Relations}

\begin{df}[Equivalence Relation]
Let $R$ be a relation on $X$. Then $R$ is an \emph{equivalence relation} iff it is reflexive, symmetric and transitive.
\end{df}

\begin{df}[Partition]
Let $X$ be a set. A \emph{partition} of $X$ is a pairwise disjoint set of nonempty subsets of $X$ whose union is $X$.
\end{df}

%TODO More modern terminology e.g. modulo
\begin{df}[Equivalence Class]
Let $R$ be an equivalence relation on $X$. Let $x \in X$. The \emph{equivalence class} of $x$ with respect to $R$ is \[ x / R := \{ y \in X : x R y \} \enspace . \]

We write $X / R$ for the set of all equivalence classes with respect to $R$.
\end{df}

\begin{df}[Induced]
Let $P$ be a partition of $X$. The relation \emph{induced} by $P$ is $X/P$ where $x (X/P) y$ iff there exists $X \in P$ such that $x \in X$ and $y \in X$.
\end{df}

\begin{thm}
Let $R$ be an equivalence relation on $X$. Then $X / R$ is a partition of $X$ that induces the relation $R$.
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{thm}
Let $P$ be a partition of $X$. Then $X / P$ is an equivalence relation on $X$, and $P = X / (X / P)$.
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Functions}

\begin{df}[Injective]
A function $f : X \rightarrow Y$ is \emph{one-to-one} or 	\emph{injective} or an \emph{injection} iff, for all $x,y \in X$, if $f(x) = f(y)$ then $x = y$. In this case, we write $f : X \rightarrowtail Y$.
\end{df}

\begin{df}[Surjective]
Let $f : X \rightarrow Y$. We say $f$ is \emph{surjective}, or a \emph{surjection}, or $f$ maps $X$ \emph{onto} $Y$ iff $\ran f = Y$. In this case, we write $f : X \twoheadrightarrow Y$.
\end{df}

\begin{df}[Bijective]
Let $f : X \rightarrow Y$. Then $f$ is \emph{bijective}, or a \emph{bijection}, iff it is injective and surjective.
\end{df}

\begin{df}[Image]
Let $f : X \rightarrow Y$ and $A \subseteq X$. The \emph{image} of $A$ under $f$ is
\[ f(A) := \{ f(x) : x \in A \} \enspace . \]
\end{df}

\begin{prop}
Let $f : X \rightarrow Y$ and $A \subseteq B \subseteq X$. Then $f(A) \subseteq f(B)$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ and $Y$ be sets.}}
\step{2}{\pflet{$f : X \rightarrow Y$}}
\step{3}{\pflet{$A,B \in \mathcal{P} X$ with $A \subseteq B$.}}
\step{4}{\pflet{$y \in f(A)$}}
\step{5}{\pick\ $x \in A$ such that $f(x) = y$}
\begin{proof}
	\pf\ \stepref{4}
\end{proof}
\step{6}{$x \in B$}
\begin{proof}
	\pf\ \stepref{3}, \stepref{5}
\end{proof}
\step{7}{$y \in f(B)$}
\begin{proof}
	\pf\ \stepref{5}, \stepref{6}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $\mathcal{A} \subseteq \mathcal{P} X$. Then $f \left( \bigcup \mathcal{A} \right) = \bigcup_{A \in \mathcal{A}} f(A)$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
y \in f \left( \bigcup \mathcal{A} \right)
& \Leftrightarrow \exists x \in \bigcup \mathcal{A}. y = f(x) \\
& \Leftrightarrow \exists x. \exists A \in \mathcal{A} (x \in A \wedge y = f(x)) \\
& \Leftrightarrow \exists A \in \mathcal{A}. \exists x \in A. y = f(x) \\
& \Leftrightarrow \exists A \in \mathcal{A}. y \in f(A) \\
& \Leftrightarrow y \in \bigcup_{A \in \mathcal{A}} f(A) & \qed
\end{align*}
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $\mathcal{A}$ be a nonempty subset of $\mathcal{P} X$. Then $f \left( \bigcap \mathcal{A} \right) \subseteq \bigcap_{A \in \mathcal{A}} f(A)$. Equality holds if $f$ is injective.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ and $Y$ be sets.}}
\step{2}{\pflet{$f : X \rightarrow Y$}}
\step{3}{\pflet{$\mathcal{A}$ be a nonempty subset of $\mathcal{P} X$.}}
\step{4}{$f \left( \bigcap \mathcal{A} \right) \subseteq \bigcap_{A \in \mathcal{A}} f(A)$}
\begin{proof}
	\step{a}{\pflet{$y \in f \left( \bigcap \mathcal{A} \right)$}}
	\step{b}{\pick\ $x \in \bigcap \mathcal{A}$ such that $y = f(x)$}
	\begin{proof}
		\pf\ \stepref{a}
	\end{proof}
	\step{c}{\pflet{$A \in \mathcal{A}$}}
	\step{d}{$x \in A$}
	\begin{proof}
		\pf\ \stepref{b}, \stepref{c}
	\end{proof}
	\step{e}{$y \in f(A)$}
	\begin{proof}
		\pf\ \stepref{b}, \stepref{d}
	\end{proof}
\end{proof}
\step{5}{If $f$ is injective then $f \left( \bigcap \mathcal{A} \right) = \bigcap_{A \in \mathcal{A}} f(A)$}
\begin{proof}
	\step{a}{\assume{$f$ is injective.}}
	\step{b}{\pflet{$y \in \bigcap_{A \in \mathcal{A}} f(A)$}}
	\step{c}{\pick\ $A \in \mathcal{A}$}
	\begin{proof}
		\pf\ $\mathcal{A}$ is nonempty by \stepref{3}.
	\end{proof}
	\step{d}{$y \in f(A)$}
	\begin{proof}
		\pf\ \stepref{b}, \stepref{c}
	\end{proof}
	\step{e}{\pick\ $x \in A$ such that $y = f(x)$}
	\begin{proof}
		\pf\ \stepref{d}
	\end{proof}
	\step{f}{$x \in \bigcap \mathcal{A}$}
	\begin{proof}
		\step{i}{\pflet{$A' \in \mathcal{A}$}}
		\step{ii}{$y \in f(A')$}
		\begin{proof}
			\pf\ \stepref{b}, \stepref{i}
		\end{proof}
		\step{iii}{\pick\ $x' \in A'$ such that $y = f(x')$}
		\begin{proof}
			\pf\ \stepref{ii}
		\end{proof}
		\step{iv}{$x = x'$}
		\begin{proof}
			\pf\ \stepref{a}, \stepref{e}, \stepref{iii}
		\end{proof}
		\step{v}{$x \in A'$}
		\begin{proof}
			\pf\ \stepref{iii}, \stepref{iv}
		\end{proof}
	\end{proof}
	\step{g}{$y \in f \left( \bigcap \mathcal{A} \right)$}
	\begin{proof}
		\pf\ \stepref{e}, \stepref{f}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $X$ and $Y$ be sets. Let $f : X \rightarrow Y$. Let $A,B \in \mathcal{P} X$. Then $f(A) - f(B) \subseteq f(A - B)$. Equality holds if $f$ is injective.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ and $Y$ be sets.}}
\step{2}{\pflet{$f : X \rightarrow Y$}}
\step{3}{\pflet{$A,B \in \mathcal{P} X$}}
\step{4}{$f(A) - f(B) \subseteq f(A - B)$}
\begin{proof}
	\step{a}{\pflet{$y \in f(A) - f(B)$}}
	\step{b}{$y \in f(A)$}
	\begin{proof}
		\pf\ \stepref{a}
	\end{proof}
	\step{c}{\pick\ $x \in A$ such that $y = f(x)$.}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{d}{$x \notin B$}
	\begin{proof}
		\step{i}{\assume{for a contradiction $x \in B$}}
		\step{ii}{$y \in f(B)$}
		\begin{proof}
			\pf\ \stepref{c}, \stepref{i}
		\end{proof}
		\qedstep
		\begin{proof}
			\pf\ \stepref{a} and \stepref{ii} form a contradiction.
		\end{proof}
	\end{proof}
	\step{e}{$x \in A - B$}
	\begin{proof}
		\pf\ \stepref{c}, \stepref{d}
	\end{proof}
	\step{f}{$y \in f(A-B)$}
	\begin{proof}
		\pf\ \stepref{c}, \stepref{e}
	\end{proof}
\end{proof}
\step{5}{If $f$ is injective then $f(A-B) = f(A) - f(B)$.}
\begin{proof}
	\step{a}{\assume{$f$ is injective.}}
	\step{b}{\pflet{$y \in f(A - B)$}}
	\step{c}{\pick\ $x \in A - B$ such that $y = f(x)$}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{d}{$x \in A$}
	\begin{proof}
		\pf\ \stepref{c}
	\end{proof}
	\step{e}{$y \in f(A)$}
	\begin{proof}
		\pf\ \stepref{c}, \stepref{d}
	\end{proof}
	\step{f}{$y \notin f(B)$}
	\begin{proof}
		\step{i}{\assume{$y \in f(B)$}}
		\step{ii}{\pick\ $x' \in B$ such that $y = f(x')$}
		\begin{proof}
			\pf\ \stepref{i}
		\end{proof}
		\step{iii}{$x = x'$}
		\begin{proof}
			\pf\ \stepref{a}, \stepref{c}, \stepref{ii}
		\end{proof}
		\step{iv}{$x \in B$}
		\begin{proof}
			\pf\ \stepref{ii}, \stepref{iii}
		\end{proof}
		\qedstep
		\begin{proof}
			\pf\ \stepref{c} and \stepref{iv} form a contradiction.
		\end{proof}
	\end{proof}
	\step{g}{$y \in f(A) - f(B)$}
	\begin{proof}
		\pf\ \stepref{e}, \stepref{f}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Inclusion Map]
Let $Y$ be a set and $X \subseteq Y$. Then the \emph{inclusion map} $i : X \hookrightarrow Y$ is the function defined by $i(x) = x$ for all $x \in X$.
\end{df}

\begin{prop}
For any set $X$, the identity relation $I_X$ is a function $X \rightarrow X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Restriction]
Let $f : Y \rightarrow Z$ and $X \subseteq Y$. The \emph{restriction} of $f$ to $X$ is the function $f \restriction X : X \rightarrow Z$ defined by
\[ (f \restriction X)(x) = f(x) \qquad (x \in X) \enspace . \]

Given sets $X$, $Y$ and $Z$ with $X \subseteq Y$, if $f : X \rightarrow Z$ and $g : Y \rightarrow Z$, we say $g$ is an \emph{extension} of $f$ to $Y$ iff $f = g \restriction X$.
\end{df}

\begin{df}[Projection]
Given sets $X$ and $Y$, the \emph{projection} maps $\pi_1 : X \times Y \rightarrow X$ and $\pi_2 : X \times Y \rightarrow Y$ are defined by
\[ \pi_1(x,y) = x, \qquad \pi_2(x,y) = y \qquad (x \in X, y \in Y) \enspace . \]
\end{df}

\begin{df}[Canonical Map]
Let $X$ be a set and $R$ an equivalence relation on $X$. The \emph{canonical map} $\pi : X \rightarrow X / R$ is the map defined by $\pi(x) = x / R$.
\end{df}

\begin{prop}
Let $f : X \rightarrow Y$. Then the following are equivalent:
\begin{enumerate}
\item $f$ is one-to-one.
\item For all $A,B \subseteq X$, we have $f(A \cap B) = f(A) \cap f(B)$.
\item For all $A \subseteq X$, we have $f(X-A) \subseteq Y - f(A)$.
\end{enumerate}
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Then $f$ maps $X$ onto $Y$ if and only if, for all $A \subseteq X$, we have $Y - f(A) \subseteq f(X-A)$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Families}

\begin{prop}[Generalized Associative Law for Unions]
Let $\{I_j\}_{j \in J}$ be a family of sets. Let $K = \bigcup_{j \in J} I_j$. Let $\{A_k\}_{k \in K}$ be a family of sets indexed by $K$. Then
\[ \bigcup_{k \in K} A_k = \bigcup_{j \in J} \bigcup_{i \in I_j} A_i \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}[Generalized Commutative Law for Unions]
Let $\{I_j\}_{j \in J}$ be a family of sets. Let $f : J \rightarrow J$ be a one-to-one correspondence from $J$ onto $J$. Then
\[ \bigcup_{j \in J} I_j = \bigcup_{j \in J} I_{f(j)} \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}[Generalized Associative Law for Intersections]
Let $\{I_j\}_{j \in J}$ be a nonempty family of nonempty sets. Let $K = \bigcup_{j \in J} I_j$. Let $\{A_k\}_{k \in K}$ be a family of sets indexed by $K$. Then
\[ \bigcap_{k \in K} A_k = \bigcap_{j \in J} \bigcap_{i \in I_j} A_i \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}[Generalized Commutative Law for Intersections]
Let $\{I_j\}_{j \in J}$ be a nonempty family of sets. Let $f : J \rightarrow J$ be a one-to-one correspondence from $J$ onto $J$. Then
\[ \bigcap_{j \in J} I_j = \bigcap_{j \in J} I_{f(j)} \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $B$ be a set and $\{A_i\}_{i \in I}$ a family of sets. Then
\[ B \cap \bigcup_{i \in I} A_i = \bigcup_{i \in I}
 (B \cap A_i) \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $B$ be a set and $\{A_i\}_{i \in I}$ a nonempty family of sets. Then
\[ B \cup \bigcap_{i \in I} A_i = \bigcap_{i \in I}
 (B \cup A_i) \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Projection]
Let $\{A_i\}_{i \in I}$ be a family of sets and $i \in I$. The \emph{projection} function $\pi_i : \bigtimes_{i \in I} A_i \rightarrow A_i$ is defined by $\pi_i(a) = a_i$.
\end{df}

\begin{prop}
Let $\{A_i\}_{i \in I}$ and $\{B_j\}_{j \in J}$ be families of sets. Then
\[ \left( \bigcup_{i \in I} A_i \right) \times \left( \bigcup_{j \in J} B_j \right) = \bigcup_{i \in I} \bigcup_{j \in J} (A_i \times B_j) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $\{A_i\}_{i \in I}$ and $\{B_j\}_{j \in J}$ be nonempty families of sets. Then
\[ \left( \bigcap_{i \in I} A_i \right) \times \left( \bigcap_{j \in J} B_j \right) = \bigcap_{i \in I} \bigcap_{j \in J} (A_i \times B_j) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $\{A_i\}_{i \in I}$ be a family of subsets of $X$. Then
\[ f \left( \bigcup_{i \in I} A_i \right) = \bigcup_{i \in I} f(A_i) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
It is not true in general that, if $f : X \rightarrow Y$ and $\{A_i\}_{i \in I}$ is a nonempty family of subsets of $X$, then $f \left( \bigcap_{i \in I} A_i \right) = \bigcap_{i \in I} f(A_i)$.

Take $X = \{a,b\}$ and $Y = \{c\}$ where $a \neq b$. Take $I = \{i,j\}$ with $i \neq j$. Let $A_i = \{a\}$ and $A_j = \{b\}$. Let $f$ be the unique function $X \rightarrow Y$. Then $f \left( \bigcap_{i \in I} A_i \right) = f(\emptyset) = \emptyset$ but $\bigcap_{i \in I} f(A_i) = \{c\}$.
\end{ex}

\section{Inverses and Composites of Functions}

\begin{df}[Inverse Image]
Let $f : X \rightarrow Y$. Let $B$ be a subset of $Y$. Then the \emph{inverse image} of $B$ under $f$ is
\[ f^{-1}(B) = \{ x \in X : f(x) \in B \} \enspace . \]
\end{df}

\begin{prop}
Let $f : X \rightarrow Y$. Let $B \subseteq Y$. Then
\[ f(f^{-1}(B)) \subseteq B \enspace . \]
Equality holds if $f$ is surjective.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ and $Y$ be sets.}}
\step{2}{\pflet{$f : X \rightarrow Y$}}
\step{3}{\pflet{$B \subseteq Y$}}
\step{4}{$f(f^{-1}(B)) \subseteq B$}
\begin{proof}
	\step{4}{\pflet{$y \in f(f^{-1}(B))$}}
	\step{5}{\pick\ $x \in f^{-1}(B)$ such that $f(x) = y$}
	\step{6}{$f(x) \in B$}
	\step{7}{$y \in B$}
\end{proof}
\step{5}{If $f$ is surjective then $f(f^{-1}(B)) = B$}
\begin{proof}
	\step{a}{\assume{$f$ is surjective.}}
	\step{b}{\pflet{$y \in B$}}
	\step{c}{\pick\ $x \in X$ such that $f(x) = y$}
	\begin{proof}
		\pf\ \stepref{a}, \stepref{b}
	\end{proof}
	\step{d}{$x \in f^{-1}(B)$}
	\begin{proof}
		\pf\ \stepref{b}, \stepref{c}
	\end{proof}
	\step{e}{$y \in f(f^{-1}(B))$}
	\begin{proof}
		\pf\ \stepref{c}, \stepref{d}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $A \subseteq X$. Then
\[ A \subseteq f^{-1}(f(A)) \enspace . \]
Equality holds if $f$ is one-to-one.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ and $Y$ be sets.}}
\step{2}{\pflet{$f : X \rightarrow Y$}}
\step{3}{\pflet{$A \subseteq X$}}
\step{4}{$A \subseteq f^{-1}(f(A))$}
\begin{proof}
	\step{a}{\pflet{$x \in A$}}
	\step{b}{$f(x) \in f(A)$}
	\step{c}{$x \in f^{-1}(f(x))$}
\end{proof}
\step{5}{If $f$ is injective then $f^{-1}(f(A)) = A$}
\begin{proof}
	\step{a}{\assume{$f$ is injective.}}
	\step{b}{\pflet{$x \in f^{-1}(f(A))$}}
	\step{c}{$f(x) \in f(A)$}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{d}{\pick\ $x' \in A$ such that $f(x') = f(x)$}
	\begin{proof}
		\pf\ \stepref{c}
	\end{proof}
	\step{e}{$x' = x$}
	\begin{proof}
		\pf\ \stepref{a}, \stepref{d}
	\end{proof}
	\step{f}{$x \in A$}
	\begin{proof}
		\pf\ \stepref{d}, \stepref{e}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $A \subseteq B \subseteq Y$. Then $f^{-1}(A) \subseteq f^{-1}(B)$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ and $Y$ be sets.}}
\step{2}{\pflet{$f : X \rightarrow Y$}}
\step{3}{\pflet{$A \subseteq B \subseteq Y$}}
\step{4}{\pflet{$x \in f^{-1}(A)$}}
\step{5}{$f(x) \in A$}
\step{6}{$f(x) \in B$}
\step{7}{$x \in f^{-1}(B)$}
\qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $\mathcal{B} \subseteq Y$. Then
\[ f^{-1} \left( \bigcup \mathcal{B} \right) = \bigcup_{B \in \mathcal{B}} f^{-1}(B) \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
x \in f^{-1} \left( \bigcup \mathcal{B} \right)
& \Leftrightarrow f(x) \in \bigcup \mathcal{B} \\
& \Leftrightarrow \exists B \in \mathcal{B}. f(x) \in B \\
& \Leftrightarrow \exists B \in \mathcal{B}. x \in f^{-1}(B) \\
& \Leftrightarrow x \in \bigcup_{B \in \mathcal{B}} f^{-1}(B) & \qed
\end{align*}
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $\{B_i\}_{i \in I}$ be a nonempty family of subsets of $Y$. Then
\[ f^{-1} \left( \bigcap_{i \in I} B_i \right) = \bigcap_{i \in I} f^{-1}(B_i) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$ and $B \subseteq Y$. Then $f^{-1}(Y - B) = X - f^{-1}(B)$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \approx Y$. Then $f^{-1}$ is a function, and is a bijection $f^{-1} : Y \approx X$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ and $Y$ be sets.}}
\step{2}{\pflet{$f : X \approx Y$}}
\step{3}{$f^{-1}$ is a function.}
\begin{proof}
	\step{a}{\pflet{$(x,y),(x,z) \in f^{-1}$}}
	\step{b}{$(y,x),(z,x) \in f$}
	\step{c}{$y = z$}
	\begin{proof}
		\pf\ $f$ is injective.
	\end{proof}
\end{proof}
%TODO Extract
\step{4}{$\dom f^{-1} = Y$}
\begin{proof}
	\pf
	\begin{align*}
		y \in \dom f^{-1} & \Leftrightarrow \exists x. (y,x) \in f^{-1} \\
		& \Leftrightarrow \exists x. (x,y) \in f \\
		& \Leftrightarrow x \in \ran f \\
		& \Leftrightarrow x \in Y
	\end{align*}
\end{proof}
%TODO Extract
\step{5}{$\ran f^{-1} = X$}
\begin{proof}
	\pf
	\begin{align*}
		x \in \ran f^{-1} & \Leftrightarrow \exists y. (y,x) \in f^{-1} \\
		& \Leftrightarrow \exists y. (x,y) \in f \\
		& \Leftrightarrow x \in \dom f \\
		& \Leftrightarrow x \in X
	\end{align*}
\end{proof}
\step{6}{$f^{-1}$ is injective.}
\begin{proof}
	\step{a}{\pflet{$y,y' \in Y$}}
	\step{b}{\assume{$f^{-1}(y) = f^{-1}(y')$}}
	\step{c}{$y = y'$}
	\begin{proof}
		\pf\ $y = f(f^{-1}(y)) = f(f^{-1}(y')) = y'$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:composite}
Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$. Then $g f : X \rightarrow Z$ and, for all $x \in X$, we have
\[ (g \circ f)(x) = g(f(x)) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
Example \ref{ex:composition_not_commutative} shows that function composition is not commutative in general.
\end{ex}

\begin{prop}
\label{prop:comp_inj}
The composite of two injective functions is injective.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f : X \rightarrowtail Y$ and $g : Y \rightarrowtail Z$}}
\step{2}{\pflet{$x,y \in X$}}
\step{3}{\assume{$(g \circ f)(x) = (g \circ f)(y)$}}
\step{4}{$g(f(x)) = g(f(y))$}
\step{5}{$f(x) = f(y)$}
\begin{proof}
	\pf\ $g$ is injective.
\end{proof}
\step{6}{$x = y$}
\begin{proof}
	\pf\ $f$ is injective.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:comp_surj}
The composite of two surjective functions is surjective.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f : X \twoheadrightarrow Y$ and $g : Y \twoheadrightarrow Z$}}
\step{2}{\pflet{$z \in Z$}}
\step{3}{\pick\ $y \in Y$ such that $g(y) = z$}
\begin{proof}
	\pf\ Since $g$ is surjective.
\end{proof}
\step{4}{\pick\ $x \in X$ such that $f(x) = y$}
\begin{proof}
	\pf\ Since $f$ is surjective.
\end{proof}
\step{5}{$(g \circ f)(x) = z$}
\qed
\end{proof}

\begin{prop}
The composite of two bijective functions is bijective.
\end{prop}

\begin{proof}
\pf\ Propositions \ref{prop:comp_inj} and \ref{prop:comp_surj}. \qed
\end{proof}

\begin{prop}
Let $X$, $Y$ and $Z$ be sets. Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$. Let $A \subseteq Z$. Then
\[ (g \circ f)^{-1}(A) = f^{-1}(g^{-1}(A)) \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$, $Y$ and $Z$ be sets.}}
\step{2}{\pflet{$f : X \rightarrow Y$ and $g : Y \rightarrow Z$}}
\step{3}{\pflet{$A \subseteq Z$}}
\step{4}{$(g \circ f)^{-1}(A) = f^{-1}(g^{-1}(A))$}
\begin{proof}
	\pf
	\step{a}{\pflet{$x \in X$}}
	\step{b}{$x \in (g \circ f)^{-1}(A) \Leftrightarrow x \in f^{-1}(g^{-1}(A))$}
	\begin{proof}
		\pf
		\begin{align*}
			x \in (g \circ f)^{-1}(A) & \Leftrightarrow (g \circ f)(x) \in A \\
			& \Leftrightarrow g(f(x)) \in A & (\text{Proposition \ref{prop:composite}, \stepref{2}, \stepref{a}}) \\
			& \Leftrightarrow f(x) \in g^{-1}(A) \\
			& \Leftrightarrow x \in f^{-1}(g^{-1}(A))
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $f : X \approx Y$ and $g : Y \approx Z$. Then
\[ (gf)^{-1} = f^{-1}g^{-1} : Z \rightarrow X \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
\label{prop:inverse_injective_surjective}
Let $f : X \rightarrow Y$ and $g : Y \rightarrow X$. If $gf = I_X$ then $f$ is one-to-one and $g$ maps $Y$ onto $X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{lm}
Let $f : A \rightarrow B$. If there are functions $g : B \rightarrow A$ and $h : B \rightarrow A$ such that $\forall a \in A. g(f(a)) = a$ and $\forall b \in B.f(h(b)) = b$, then $f$ is bijective and $g = h = f^{-1}$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pflet{$A$ and $B$ be sets.}}
\step{2}{\pflet{$f : A \rightarrow B$ and $g,h : B \rightarrow A$}}
\step{3}{\assume{$\forall a \in A. g(f(a)) = a$}}
\step{4}{\assume{$\forall b \in B. f(h(b)) = b$}}
\step{5}{$f$ is injective.}
\begin{proof}
	\pf\ Proposition \ref{prop:inverse_injective_surjective}, \stepref{2}, \stepref{3}.
\end{proof}
\step{6}{$f$ is surjective.}
\begin{proof}
	\pf\ Proposition \ref{prop:inverse_injective_surjective}, \stepref{2}, \stepref{4}.
\end{proof}
\step{7}{$g = h$}
\begin{proof}
	\step{a}{\pflet{$b \in B$}}
	\step{b}{$g(b) = h(b)$}
	\begin{proof}
		\pf
		\begin{align*}
			g(b) & = g(f(h(b))) & (\text{\stepref{4}, \stepref{a}}) \\
			& = h(b) & (\text{\stepref{3}, \stepref{2}, \stepref{a}})
		\end{align*}
	\end{proof}
\end{proof}
\step{8}{$h = f^{-1}$}
\begin{proof}
	\step{a}{\pflet{$b \in B$}}
	\step{b}{$f(h(b)) = b$}
	\begin{proof}
		\pf\ \stepref{4}, \stepref{a}
	\end{proof}
	\step{c}{$h(b) = f^{-1}(b)$}
\end{proof}
\qed
\end{proof}

\section{Choice Functions}

\begin{df}[Choice Function]
A \emph{choice function} for a set $X$ is a function $f : \mathcal{P} X - \{\emptyset \} \rightarrow X$ such that $f(S) \in S$ for all $S$.
\end{df}

\begin{prop}
Every set has a choice function.
\end{prop}

\begin{proof}
\pf\ Given a nonempty set $X$, apply the Axiom of Choice  to the family $\{ S \}_{S \in \mathcal{P} X - \{\emptyset\}}$. \qed
\end{proof}

\begin{prop}
For any relation $R$, there exists a function $f \subseteq R$ such that $\dom f = \dom R$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$R$ be a relation.}}
\step{2}{\pick\ a choice function $g$ for $\ran R$.}
\step{3}{\pflet{$f : \dom R \rightarrow \ran R$ be the function $f(x) = g(\{y \in \ran R : xRy \})$}}
\step{4}{$f \subseteq R$ and $\dom f = \dom R$.}
\qed
\end{proof}

\begin{prop}
If $\mathcal{C}$ is a set of pairwise disjoint nonempty sets	, then there exists a set $A$ such that, for all $C \in \mathcal{C}$, we have $A \cap C$ is a singleton.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f$ be a choice function for $\bigcup \mathcal{C}$}}
\step{2}{\pflet{$A = \{ f(C) : C \in \mathcal{C} \}$}}
\step{3}{For all $C \in \mathcal{C}$ we have $A \cap C = \{f(C)\}$}
\qed
\end{proof}

\chapter{Equivalence}

\begin{df}[Equivalent]
Sets $E$ and $F$ are \emph{equivalent}, $E \sim F$, iff there exists a one-to-one correspondence between them.
\end{df}

\begin{prop}
For any set $X$, equivalence is an equivalence relation on $\mathcal{P} X$.
\end{prop}

\begin{proof}
\pf\ Easy.
\end{proof}

%TODO Redundant since we have ordinals
\begin{thm}[Schr\"{o}der-Bernstein]
Let $X$ and $Y$ be sets. If there exist injective functions $X \rightarrow Y$ and $Y \rightarrow X$, then $X \sim Y$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$f : X \rightarrow Y$ and $g : Y \rightarrow X$ be one-to-one.}}
\step{2}{\assume{w.l.o.g. $X \cap Y = \emptyset$}}
\step{3}{For $x \in X$, let us say that $x$ is the \emph{parent} of $f(x)$; and for $y \in Y$, let us say that $y$ is the \emph{parent} of $g(y)$.}
\step{4}{For $z \in X \cup Y$, let the set of \emph{descendants} of $z$ be the intersection of all the subsets $S$ of $X \cup Y$ such that $z \in S$ and, if $t \in S$ and $t$ is the parent of $u$ then $u \in S$.}
\step{5}{\pflet{$X_X$ be the set of all elements of $X$ that are descendants of the elements of $X$ that have no parent.}}
\step{6}{\pflet{$X_Y$ be the set of all elements of $X$ that are descendants of the elements of $Y$ that have no parent.}}
\step{7}{\pflet{$X_\infty = X - X_X - X_Y$}}
\step{8}{\pflet{$Y_X$ be the set of all elements of $Y$ that are descendants of the elements of $X$ that have no parent.}}
\step{6}{\pflet{$Y_Y$ be the set of all elements of $Y$ that are descendants of the elements of $Y$ that have no parent.}}
\step{7}{\pflet{$Y_\infty = Y - Y_X - Y_Y$}}
\step{8}{$f \restriction X_X : X_X \sim Y_X$}
\step{9}{$g \restriction Y_Y : Y_Y \sim X_Y$}
\step{10}{$f \restriction X_\infty : X_\infty \sim Y_\infty$}
\step{11}{Define $h : X \rightarrow Y$ by $h(x) = g^{-1}(x)$ if $x \in X_Y$, and $f(x)$ if not.}
\step{12}{$h : X \sim Y$}
\qed
\end{proof}

\begin{thm}[Cantor]
For any set $X$ we have $X \not\sim \mathcal{P} X$.
\end{thm}

\begin{proof}
\pf\ If $f : X \rightarrow \mathcal{P} X$ then $\{ x \in X : x \notin f(x) \}$ is a subset of $X$ not in $\ran f$. \qed
\end{proof}

\chapter{Order}

\begin{df}[Partial Order]
A \emph{partial order} on a set $X$ is a relation on $X$ that is reflexive, antisymmetric and transitive.

A \emph{partially ordered set} or \emph{poset} is a pair $(X, \leq)$ such that $\leq$ is a partial order on $X$.
We write $X$ for the poset $(X, \leq)$.

Given a partial order $\leq$, we write $\geq$ for the inverse of $\leq$.

We write $x < y$ or $y > x$ for $x \leq y \wedge x \neq y$. When this holds, we say $x$ is \emph{less than} $y$, \emph{smaller} than $y$, or a \emph{predecessor} of $y$; and $y$ is \emph{greater than} $x$, \emph{larger} than $x$, or a \emph{successor} of $x$.
\end{df}

\begin{prop}
For any set $X$, the relation $\subseteq$ is a partial order on $\mathcal{P} X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
\label{prop:lt_asym}
In a poset, we never have $x < y$ and $y < x$.
\end{prop}

\begin{proof}
\pf\ We would then have $x \leq y$ and $y \leq x$ hence $x = y$ by antisymmetry. But if $x < y$ or $y < x$ then $x \neq y$. \qed
\end{proof}

\begin{prop}
The relation $<$ is transitive.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$x < y$ and $y < z$}}
\step{2}{$x \leq y$ and $y \leq z$}
\step{3}{$x \leq z$}
\begin{proof}
	\pf\ Since $\leq$ is transitive.
\end{proof}
\step{4}{$x \neq z$}
\begin{proof}
	\pf\ By Proposition \ref{prop:lt_asym}.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $<$ be a transitive relation on $X$ such that we never have $x < y$ and $y < x$. Define $\leq$ by: $x \leq y$ iff $x < y$ or $x = y$. Then $\leq$ is a partial order on $X$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\leq$ is reflexive.}
\begin{proof}
	\pf\ By definition.
\end{proof}
\step{2}{$\leq$ is asymmetric.}
\begin{proof}
	\pf\ If $x \leq y$ and $y \leq x$, we must have $x = y$, because otherwise we would have $x < y$ and $y < x$.
\end{proof}
\step{3}{$\leq$ is transitive.}
\begin{proof}
	\step{a}{\pflet{$x \leq y$ and $y \leq z$}}
	\step{b}{\case{$x = y$}}
	\begin{proof}
		\pf\ We have $y \leq z$ so $x \leq z$.
	\end{proof}
	\step{c}{\case{$y = z$}}
	\begin{proof}
		\pf\ We have $x \leq y$ so $x \leq z$.
	\end{proof}
	\step{d}{\case{$x < y$ and $y < z$}}
	\begin{proof}
		\pf\ We have $x < z$ by transitivity, so $x \leq z$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[(Strict) Initial Segment]
Let $X$ be a poset and $a \in X$. The \emph{(strict) initial segment} determined by $a$ is
\[ s(a) := \{ x \in X : x < a \} \enspace . \]
\end{df}

\begin{df}[Weak Initial Segment]
Let $X$ be a poset and $a \in X$. The \emph{weak initial segment} determined by $a$ is
\[ \overline{s}(a) := \{ x \in X : x \leq a \} \enspace . \]
\end{df}

\begin{df}[Immediate Successor]
Let $X$ be a poset and $x,y \in X$. Then $y$ is the \emph{immediate successor} of $x$, and $x$ is the \emph{immediate predecessor} of $y$, iff $x < y$ and there is no $z$ such that $x < z < y$.
\end{df}

\begin{df}[Least]
Let $X$ be a partial order and $a \in X$. Then $a$ is \emph{least} in $X$ iff $\forall x \in X. a \leq x$.
\end{df}

\begin{prop}
A poset has at most one least element.
\end{prop}

\begin{proof}
\pf\ If $a$ and $b$ are least then $a \leq b$ and $b \leq a$, hence $a = b$. \qed
\end{proof}

\begin{df}[Greatest]
Let $X$ be a partial order and $a \in X$. Then $a$ is \emph{greatest} in $X$ iff $\forall x \in X. x \leq a$.
\end{df}

\begin{prop}
A poset has at most one greatest element.
\end{prop}

\begin{proof}
\pf\ If $a$ and $b$ are greatest then $a \leq b$ and $b \leq a$, hence $a = b$. \qed
\end{proof}

\begin{df}[Minimal]
Let $X$ be a poset and $a \in X$. Then $a$ is \emph{minimal} iff there is no $x \in X$ such that $x < a$.
\end{df}

\begin{df}[Maximal]
Let $X$ be a poset and $a \in X$. Then $a$ is \emph{maximal} iff there is no $x \in X$ such that $a < x$.
\end{df}

\begin{df}[Lower Bound]
Let $X$ be a poset. Let $E \subseteq X$ and $a \in X$. Then $a$ is a \emph{lower bound} for $E$ iff $\forall x \in E. a \leq x$.
\end{df}

\begin{df}[Upper Bound]
Let $X$ be a poset. Let $E \subseteq X$ and $a \in X$. Then $a$ is an \emph{upper bound} for $E$ iff $\forall x \in E. x \leq a$.
\end{df}

\begin{df}[Greatest Lower Bound, Infimum]
Let $X$ be a poset. Let $E \subseteq X$ and $a \in X$. Then $a$ is the \emph{greatest lower bound} or \emph{infimum} for $E$ iff $a$ is the greatest element in the set of lower bounds for $E$.
\end{df}

\begin{df}[Least Upper Bound, Supremum]
Let $X$ be a poset. Let $E \subseteq X$ and $a \in X$. Then $a$ is the \emph{least upper bound} or \emph{supremum} for $E$ iff $a$ is the least element in the set of upper bounds for $E$.
\end{df}

\begin{df}[Total Order]
A partial order $\leq$ on a set $X$ is a \emph{total order}, \emph{simple order} or \emph{linear order} iff, for all $x,y \in X$, either $x \leq y$ or $y \leq x$.
We then call the poset $(X, \leq)$ a \emph{linearly ordered set} or a \emph{chain}.
\end{df}

\begin{prop}
Let $R$ be a partial order on $X$. Then $R$ is total if and only if $X^2 \subseteq R \cup R^{-1}$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any set $X$, the relation $\subseteq$ is a total order on $X$ iff $X$ is either $\emptyset$ or a singleton.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{thm}[Zorn's Lemma]
Let $X$ be a poset such that every chain in $X$ has an upper bound. Then $X$ has a maximal element.
\end{thm}

\begin{proof}
\pf
\step{6}{\pick\ a choice function $f$ for $X$.}
\step{4}{\pflet{$\mathcal{X}$ be the set of chains in $X$.}}
\step{7}{For all $A \in \mathcal{X}$, \pflet{$\hat{A} = \{x \in X : A \cup \{x\} \in \mathcal{X} \}$}}
\step{8}{\pflet{$g : \mathcal{X} \rightarrow \mathcal{X}$ be the function
\[ g(A) = \begin{cases}
A \cup \{ f(\hat{A} - A) \} & \text{if } \hat{A} - A \neq \emptyset \\
A & \text{if } \hat{A} - A = \emptyset
\end{cases} \]}}
\step{10}{For $\mathcal{T} \subseteq \mathcal{X}$, let us say $\mathcal{T}$ is a \emph{tower} iff:
\begin{itemize}
\item $\emptyset \in \mathcal{T}$
\item $\forall A \in \mathcal{T}. g(A) \in \mathcal{T}$
\item For every chain $\mathcal{C}$ in $\mathcal{T}$, we have $\bigcup \mathcal{C} \in \mathcal{T}$
\end{itemize}}
\step{11}{\pflet{$\mathcal{T}_0$ be the intersection of the set of all towers.}}
\begin{proof}
	\pf\ The set of all towers is nonempty since $\mathcal{X}$ is a tower.
\end{proof}
\step{12}{\pflet{$A = \bigcup \mathcal{T}_0$}}
\step{13}{$A$ is a chain in $X$.}
\begin{proof}
	\step{a}{$\mathcal{T}_0$ is a chain under $\subseteq$}
	\begin{proof}
		\step{12}{Given $C \in \mathcal{T}_0$, let us say that $C$ is \emph{comparable} iff, for all $A \in \mathcal{T}_0$, either $A \subseteq C$ or $C \subseteq A$.}
		\step{13}{For all $A,C \in \mathcal{T}_0$, if $C$ is comparable and $A \subsetneq C$ then $g(A) \subseteq C$.}
		\begin{proof}
			\pf\ Since $g(A) - A$ has at most one element, so if $A \subsetneq C \subseteq g(A)$ then $C = g(A)$.
		\end{proof}
		\step{14}{For $C \in \mathcal{T}_0$ comparable, \pflet{$\mathcal{U}_C = \{A \in \mathcal{T}_0 : A \subseteq C \vee g(C) \subseteq A \}$}}
		\step{15}{For $C \in \mathcal{T}_0$ comparable, $\mathcal{U}_C$ is a tower.}
		\begin{proof}
			\step{i}{\pflet{$C \in \mathcal{T}_0$ be comparable}}
			\step{ii}{$\emptyset \in \mathcal{U}_C$}
			\begin{proof}
				\pf\ Since $\emptyset \subseteq C$.
			\end{proof}
			\step{iii}{$\forall A \in \mathcal{U}_C. g(A) \in \mathcal{U}_C$}
			\begin{proof}
				\pf\ By \stepref{13}.
			\end{proof}
			\step{iv}{For every chain $\mathcal{C} \subseteq \mathcal{U}_C$ we have $\bigcup \mathcal{C} \in \mathcal{U}_C$}
			\begin{proof}
				\step{one}{\pflet{$\mathcal{C} \subseteq \mathcal{U}_C$ be a chain.}}
				\step{two}{\case{$\exists A \in \mathcal{C}. g(C) \subseteq A$}}
				\begin{proof}
					\pf\ Then $g(C) \subseteq \bigcup \mathcal{C}$
				\end{proof}
				\step{three}{\case{$\forall A \in \mathcal{C}. A \subseteq C$}}
				\begin{proof}
					\pf\ Then $\bigcup \mathcal{C} \subseteq C$.
				\end{proof}
			\end{proof}
		\end{proof}
		\step{16}{For $C \in \mathcal{T}_0$ comparable, $\mathcal{U}_C = \mathcal{T}_0$.}
		\step{17}{For $C \in \mathcal{T}_0$ comparable we have $g(C)$ is comparable.}
		\begin{proof}
			\pf\ Since for all $A \in \mathcal{T}_0$ either $A \subseteq C \subseteq g(C)$ or $g(C) \subseteq A$.
		\end{proof}
		\step{18}{The set of comparable sets in $\mathcal{T}_0$ is a tower.}
		\begin{proof}
			\step{a}{$\emptyset$ is comparable.}
			\begin{proof}
				\pf\ $\forall A \in \mathcal{T}_0. \emptyset \subseteq A$
			\end{proof}
			\step{b}{For all $C \in \mathcal{T}_0$, if $A$ is comparable then $g(C)$ is comparable.}
			\begin{proof}
				\pf\ \stepref{17}
			\end{proof}
			\step{c}{For every chain $\mathcal{C} \subseteq \mathcal{T}_0$ of comparable sets, we have $\bigcup \mathcal{C}$ is comparable.}
			\begin{proof}
				\step{i}{\pflet{$\mathcal{C} \subseteq \mathcal{T}_0$ be a chain of comparable sets.}}
				\step{ii}{\pflet{$A \in \mathcal{T}_0$}}
				\step{iii}{\case{there exists $C \in \mathcal{C}$ such that $A \subseteq C$}}
				\begin{proof}
					\pf\ Then $A \subseteq \bigcup \mathcal{C}$.
				\end{proof}
				\step{iv}{\case{for all $C \in \mathcal{C}$ we have $C \subseteq A$}}
				\begin{proof}
					\pf\ Then $\bigcup \mathcal{C} \subseteq A$.
				\end{proof}
			\end{proof}
		\end{proof}
		\step{19}{Every set in $\mathcal{T}_0$ is comparable.}
	\end{proof}
	\step{b}{\pflet{$x,y \in A$}}
	\step{c}{\pick\ $A,C \in \mathcal{T}_0$ such that $x \in A$ and $y \in C$}
	\step{d}{\assume{w.l.o.g. $A \subseteq C$}}
	\step{e}{$x,y \in C$}
	\step{f}{$x \leq y$ or $y \leq x$}
	\begin{proof}
		\pf\ Since $C \in \mathcal{X}$ so $C$ is a chain.
	\end{proof}
\end{proof}
\step{14}{\pick\ an upper bound $u$ for $A$.}
\step{15}{$A \in \mathcal{T}_0$}
\begin{proof}
	\pf\ Since $\mathcal{T}_0$ is a chain in $\mathcal{T}_0$ so $\bigcup \mathcal{T}_0 \in \mathcal{T}_0$.
\end{proof}
\step{16}{$g(A) \in \mathcal{T}_0$}
\step{17}{$g(A) \subseteq A$}
\step{18}{$g(A) = A$}
\step{19}{$\hat{A} - A = \emptyset$}
\step{20}{$u \in A$}
\begin{proof}
	\pf\ Since $A \cup \{u\}$ is a chain so $u \in \hat{A}$ and therefore $u \in A$.
\end{proof}
\step{21}{$u$ is maximal in $X$.}
\begin{proof}
	\step{a}{\pflet{$x \in X$}}
	\step{b}{\assume{$u \leq x$}}
	\step{c}{$A \cup \{x\}$ is a chain.}
	\step{d}{$x \in A$}
	\step{e}{$x \leq u$}
	\step{f}{$x = u$}
\end{proof}
\qed
\end{proof}

\begin{df}[Cofinal]
Let $X$ be a poset and $A \subseteq X$. Then $A$ is \emph{cofinal} iff, for all $x \in X$, there exists $a \in A$ such that $x \leq a$.
\end{df}

\begin{df}[Similar]
Two posets $X$ and $Y$ are \emph{similar}, $X \cong Y$ iff there exists an order preserving one-to-one correspondence $f$ between them. We write $f : X \cong Y$ and call $f$ a \emph{similarity}.
\end{df}

\begin{prop}
Let $X$ and $Y$ be posets. Let $f$ be a one-to-one correspondence between $X$ and $Y$. Then $f$ is a similarity if and only if, for all $x,y \in X$, we have $x < y$ iff $f(x) < f(y)$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

%TODO Duplication - extract concept of category
\begin{prop}
For any poset $X$ we have $I_X : X \cong X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
If $f : X \cong Y$ then $f^{-1} : Y \cong X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
If $f : X \cong Y$ and $g : Y \cong Z$ then $g \circ f : X \cong Z$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{cor}
For any set $E$, similarity is an equivalence relation on the set of all posets that are subsets of $E$.
\end{cor}

\section{Well Orderings}

\begin{df}[Well Ordered Set]
A poset $X$ is \emph{well ordered}, and its ordering is a \emph{well ordering}, iff every nonempty subset of $X$ has a least element.
\end{df}

\begin{prop}
Every well ordered set is totally ordered.
\end{prop}

\begin{proof}
\pf\ For all $x$ and $y$ we have $\{x,y\}$ has a least element, so $x \leq y$ or $y \leq x$. \qed
\end{proof}

\begin{thm}[Transfinite Induction]
Let $X$ be a well ordered set. Let $S \subseteq X$ satisfy:
\[ \forall x \in X (\forall y < x. y \in S) \Rightarrow x \in S \enspace . \]
Then $S = X$.
\end{thm}

\begin{proof}
\pf\ We have $X - S$ has no least element, so $X - S = \emptyset$. \qed
\end{proof}

\begin{df}[Continuation]
Let $A$ and $B$ be well ordered sets. Then $B$ is a \emph{continuation} of $A$ iff there exists $b \in B$ such that $A = s(b)$ and the order on $A$ is the restriction of the order on $B$ to $A$.
\end{df}

\begin{prop}
\label{prop:union_under_continuation}
Let $\mathcal{C}$ be a set of well ordered sets that is totally ordered under continuation. Then there exists a unique well ordering on $\bigcup \mathcal{C}$ such that $\bigcup \mathcal{C}$ is a continuation of every element of $\mathcal{C}$.
\end{prop}

\begin{proof}
\pf\ Define $\leq$ on $\bigcup \mathcal{C}$ by: $x \leq y$ iff there exists $C \in \mathcal{C}$ such that $x, y \in C$ and $x \leq y$ in $C$. \qed
\end{proof}

\begin{prop}
Every totally ordered set has a cofinal well ordered subset.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a totally ordered set.}}
\step{2}{\pflet{$\mathcal{C}$ be the poset of all well ordered subsets of $X$ under continuation.}}
\step{3}{Every chain in $\mathcal{C}$ has an upper bound.}
\begin{proof}
	\pf\ Proposition \ref{prop:union_under_continuation}.
\end{proof}
\step{4}{\pick\ a maximal element $C$ of $\mathcal{C}$ \prove{$C$ is cofinal}}
\begin{proof}
	\pf\ Zorn's Lemma
\end{proof}
\step{5}{\pflet{$x \in X$}}
\step{6}{We cannot have $\forall c \in C. c < x$}
\begin{proof}
	\pf\ Then $C \cup \{x\}$ would be a larger chain.
\end{proof}
\step{7}{$\exists c \in C. x \leq c$}
\qed
\end{proof}

\begin{thm}[Well Ordering Theorem]
Every set can be well ordered.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a set.}}
\step{2}{\pflet{$\mathcal{W}$ be the poset of all well ordered subsets of $X$ under continuation.}}
\step{3}{Every chain in $\mathcal{W}$ has an upper bound.}
\begin{proof}
	\pf\ Proposition \ref{prop:union_under_continuation}.
\end{proof}
\step{4}{\pick\ a maximal $M \in \mathcal{W}$}
\begin{proof}
	\pf\ Zorn's Lemma
\end{proof}
\step{5}{$M = X$}
\begin{proof}
	\pf\ If $x \in X - M$ then $M \cup \{x\}$ with $x$ as the greatest element is a continuation of $M$.
\end{proof}
\qed
\end{proof}

\begin{thm}[Transfinite Recursion]
Let $W$ be a well ordered set and $X$ a set. Let $S$ be the set of all functions $f$ such that $\ran f \subseteq X$, and there exists $a \in W$ such that $\dom f = s(a)$. Then there exists a unique function $U : W \rightarrow X$ such that
\[ \forall a \in W. U(a) = f(U \restriction s(a)) \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{Let us say that a subset $A \subseteq W \times X$ is \emph{$f$-closed} iff, whenever $a \in W$ and $t : s(a) \rightarrow X$ satisfies $\forall c < a. (c, t(c)) \in A$, then $(a, f(t)) \in A$.}
\step{2}{\pflet{$U$ be the intersection of the set of $f$-closed subsets of $W \times X$}}
\begin{proof}
	\pf\ This set is nonempty since $W \times X$ is $f$-closed.
\end{proof}
\step{3}{$U$ is $f$-closed.}
\step{4}{$U$ is a function.}
\begin{proof}
	\step{i}{\pflet{$P(a)$ be the property: there is at most one $x \in X$ such that $(a,x) \in U$}}
	\step{ii}{\pflet{$a \in W$}}
	\step{iii}{\assume{as transfinite induction hypothesis $\forall c < a. P(c)$}}
	\step{iv}{\pflet{$(a,x),(a,y) \in U$}}
	\step{v}{$x = f(U \restriction c)$}
	\begin{proof}
		\pf\ If not then $U - \{(a,x)\}$ would be $f$-closed.
	\end{proof}
	\step{vi}{$y = f(U \restriction c)$}
	\step{vii}{$x = y$}
\end{proof}
\step{5}{$\dom U = W$}
\begin{proof}
	\step{i}{\pflet{$a \in W$}}
	\step{ii}{\assume{as transfinite induction hypothesis $\forall c < a. c \in \dom U$}}
	\step{iii}{$(a, f(U \restriction s(a))) \in U$}
\end{proof}
\step{6}{If $U' : W \rightarrow X$ and $\forall a \in W. U'(a) = f(U' \restriction s(a))$, then $U' = U$.}
\begin{proof}
	\pf\ Prove $U'(a) = U(a)$ by transfinite induction on $a$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:similar_subset}
Let $X$ be a well ordered set and $f$ a similarity between $X$ and a subset of $X$. Then, for all $a \in X$, we have $a \leq f(a)$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$a \in X$}}
\step{2}{\assume{as transfinite induction hypothesis $\forall c < a. c \leq f(c)$}}
\step{3}{\assume{for a contradiction $f(a) < a$}}
\step{4}{$f(a) \leq f(f(a))$}
\begin{proof}
	\pf\ \stepref{2}
\end{proof}
\step{5}{$f(f(a)) < f(a)$}
\begin{proof}
	\pf\ From \stepref{3} since $f$ is a similarity.
\end{proof}
\qedstep
\begin{proof}
	\pf\ This is a contradiction.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $X$ and $Y$ be well ordered sets. Then there is at most one similarity between them.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f,g : X \cong Y$} \prove{$\forall a \in X. f(a) = g(a)$}}
\step{2}{\pflet{$a \in X$}}
\step{3}{\assume{as transfinite induction hypothesis $\forall c < a. f(c) = g(c)$}}
\step{4}{$f(a)$ is the least element of $Y - \{f(c) : c < a \}$}
\step{5}{$g(a)$ is the least element of $Y - \{g(c) : c < a\}$}
\step{6}{$f(a) = g(a)$}
\qed
\end{proof}

\begin{prop}
A well ordered set is not similar to any of its initial segments.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a well ordered set.}}
\step{2}{\assume{for a contradiction $f : X \cong s(a)$ for some $a \in X$}}
\step{3}{$f(a) < a$}
\qedstep
\begin{proof}
	\pf\ This contradicts Proposition \ref{prop:similar_subset}.
\end{proof}
\qed
\end{proof}

\begin{thm}[Comparability Theorem]
Given well ordered sets $X$ and $Y$, either $X \cong Y$, or $X$ is similar to an initial segment of $Y$, or $Y$ is similar to an initial segment of $X$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$X_0 = \{a \in X : \exists b \in Y. s(a) \cong s(b) \}$}}
\step{2}{\pflet{$U : X_0 \rightarrow Y$ be the function: for $a \in X_0$, we have $U(a)$ is the unique element in $Y$ such that $s(a) \cong s(U(a))$}}
\step{3}{\pflet{$Y_0 = \ran U$}}
\step{4}{Either $X_0 = X$ or there exists $a \in X$ such that $X_0 = s(a)$}
\begin{proof}
	\step{a}{\assume{$X_0 \neq X$}}
	\step{b}{\pflet{$a$ be the least element of $X - X_0$}}
	\step{c}{\pflet{$x \in X_0$} \prove{$x < a$}}
	\step{d}{\pick\ $f : s(x) \cong s(U(x))$}
	\step{e}{\assume{for a contradiction $a < x$}}
	\step{f}{$f \restriction s(a) : s(a) \cong s(f(a))$}
	\step{g}{$a \in X_0$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\step{5}{Either $Y_0 = Y$ or there exists $b \in Y$ such that $Y_0 = s(b)$}
\begin{proof}
	\pf\ Similar.
\end{proof}
\step{4}{\case{$X_0 = X$ and $Y_0 = Y$}}
\begin{proof}
	\pf\ Then $U : X \cong Y$.
\end{proof}
\step{5}{\case{$X_0 = X$ and $Y_0 \neq Y$}}
\begin{proof}
	\pf\ Then $U : X \cong s(b)$ where $Y_0 = s(b)$.
\end{proof}
\step{6}{\case{$X_0 \neq X$ and $Y_0 = Y$}}
\begin{proof}
	\pf\ Then $U : s(a) \cong Y$ where $X_0 = s(a)$.
\end{proof}
\step{7}{\case{$X_0 \neq X$ and $Y_0 \neq Y$}}
\begin{proof}
	\step{a}{\pflet{$X_0 = s(a)$ and $Y_0 = s(b)$}}
	\step{b}{$U : s(a) \cong s(b)$}
	\step{c}{$a \in X_0$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
Let $X$ be a well ordered set. Then any subset $A$ of $X$ is either similar to $X$ or to an initial segment of $X$.
\end{cor}

\begin{proof}
\pf\ We cannot have $X$ is similar to an initial segment of $A$, say $f : X \cong \{ x \in A : x < a \}$, because then we would have $f(a) < a$ contradicting Proposition \ref{prop:similar_subset}. \qed
\end{proof}

\begin{cor}
For any sets $X$ and $Y$, either there exists an injective function $X \rightarrow Y$, or there exists an injective function $Y \rightarrow X$.
\end{cor}

\begin{proof}
\pf\ Using the Well Ordering Theorem. \qed
\end{proof}

\chapter{Natural Numbers}

\section{Natural Numbers}

\begin{df}[Successor]
The \emph{successor} of a set $x$, $x^+$, is defined by
\[ x^+ := x \cup \{x\} \enspace . \]
\end{df}

\begin{df}
We define
\begin{align*}
0 & = \emptyset \\
1 & = 0^+ \\
2 & = 1^+
\end{align*}
etc.
\end{df}

\begin{df}[Characteristic Function]
Let $X$ be a set and $A \subseteq X$. The \emph{characteristic function} of $A$ is the function $\chi_A : X \rightarrow 2$ defined by
\[ \chi_A(x) = \begin{cases}
1 & \text{if } x \in A \\
0 & \text{if } x \notin A
\end{cases} \]
\end{df}

\begin{thm}
Let $X$ be a set. The function $\chi : \mathcal{P} X \rightarrow 2^X$ that maps a subset $A$ of $X$ to $\chi_A$ is a one-to-one correspondence.
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}
The set $\omega$ of \emph{natural numbers} is the set such that:
\begin{itemize}
\item $0 \in \omega$
\item For all $n \in \omega$ we have $n^+ \in \omega$
\item For any set $X$, if $0 \in X$ and $\forall n \in X. n^+ \in X$ then $\omega \subseteq X$
\end{itemize}
\end{df}

\begin{proof}
\pf\ To show this exists, pick a set $A$ such that $0 \in A$ and $\forall n \in A. n^+ \in A$ (by the Axiom of Infinity), and let $\omega = \bigcap \{ X \in \mathcal{P} A : 0 \in X \wedge \forall n \in X. n^+ \in X \}$. \qed
\end{proof}

\begin{df}[Sequence]
A \emph{finite sequence} is a family whose index set is a natural number. An \emph{infinite sequence} is a family whose index set is $\omega$.

Given a finite sequence of sets $\{ A_i \}_{i \in n^+}$, we write $\bigcup_{i=0}^n A_i$ for $\bigcup_{i \in n^+} A_i$. Given an infinite sequence of sets $\{ A_i \}_{i \in \omega}$, we write $\bigcup_{i=0}^\infty A_i$ for $\bigcup_{i \in \omega} A_i$.

We make similar definitions for $\bigcap$ and $\bigtimes$.
\end{df}

\begin{prop}
\label{prop:succ_in_succ}
For any natural numbers $m$ and $n$, if $m \in n$ then $m^+ \in n^+$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property $\forall m \in n. m^+ \in n^+$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{3}{For any natural number $n$, if $P(n)$ then $P(n^+)$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$m \in n^+$}}
	\step{d}{$m \in n$ or $m = n$}
	\step{e}{$m^+ \in n^+$ or $m^+ = n^+$}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{f}{\case{$m^+ \in n^{++}$}}
\end{proof}
\qed
\end{proof}

\begin{thm}[Principle of Mathematical Induction]
For any subset $S$ of $\omega$, if $0 \in S$ and $\forall n \in S. n^+ \in S$, then $S = \omega$.
\end{thm}

\begin{proof}
\pf\ From the definition of $\omega$. \qed
\end{proof}

\begin{prop}
\label{prop:natural_number_not_subset}
\[ \forall n \in \omega. \forall x \in n. n \not\subseteq x \]
\end{prop}

\begin{proof}
\pf
\step{1}{$\forall x \in 0. 0 \not\subseteq x$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{2}{For any natural number $n$, if $\forall x \in n. n \not\subseteq x$ then $\forall x \in n^+. n^+ \not\subseteq x$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$\forall x \in n. n \not\subseteq x$}}
	\step{c}{\pflet{$x \in n^+$}}
	\step{d}{\assume{for a contradiction $n^+ \subseteq x$}}
	\step{d}{$x \in n$ or $x = n$}
	\step{e}{\case{$x \in n$}}
	\begin{proof}
		\pf\ Then we have $n \subseteq n^+ \subseteq x$ contradicting \stepref{b}.
	\end{proof}
	\step{f}{\case{$x = n$}}
	\begin{proof}
		\pf\ Then we have $n \in n^+ \subseteq x = n$ and $n \subseteq n$ contradicting \stepref{b}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
\label{cor:n_notin_n}
For any natural number $n$ we have $n \notin n$.
\end{cor}

\begin{cor}
For any natural number $n$ we have $n \neq n^+$.
\end{cor}

\begin{df}[Transitive Set]
A set $E$ is a \emph{transitive} set iff, whenever $x \in y \in E$, then $x \in E$.
\end{df}

\begin{prop}
\label{prop:natural_number_transitive}
Every natural number is a transitive set.
\end{prop}

\begin{proof}
\pf
\step{1}{0 is a transitive set.}
\begin{proof}
	\pf\ Vacuously, if $x \in y \in 0$ then $x \in 0$.
\end{proof}
\step{2}{For any natural number $n$, if $n$ is a transitive set, then $n^+$ is a transitive set.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{aa}{\assume{$n$ is a transitive set.}}
	\step{b}{\pflet{$x \in y \in n^+$}}
	\step{c}{$y \in n$ or $y = n$}
	\step{d}{\case{$y \in n$}}
	\begin{proof}
		\step{i}{$x \in n$}
		\begin{proof}
			\pf\ \stepref{aa}, \stepref{b}, \stepref{d}.
		\end{proof}
		\step{ii}{$x \in n^+$}
	\end{proof}
	\step{e}{\case{$y = n$}}
	\begin{proof}
		\step{i}{$x \in n$}
		\begin{proof}
			\pf\ \stepref{b}, \stepref{e}
		\end{proof}
		\step{ii}{$x \in n^+$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any natural numbers $m$ and $n$, if $m^+ = n^+$ then $m = n$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$m$ and $n$ be natural numbers.}}
\step{2}{\assume{$m^+ = n^+$}}
\step{3}{$m \in m^+ = n^+$}
\step{4}{$m \in n$ or $m = n$}
\step{5}{$n \in n^+ = m^+$}
\step{6}{$n \in m$ or $n = m$}
\step{7}{We cannot have $m \in n$ and $n \in m$}
\begin{proof}
	\step{a}{\assume{for a contradiction $m \in n$ and $n \in m$}}
	\step{b}{$m \in m$}
	\begin{proof}
		\pf\ Since $m$ is a transitive set (Proposition \ref{prop:natural_number_transitive}).
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ This contradicts Proposition \ref{prop:natural_number_not_subset}.
	\end{proof}
\end{proof}
\step{8}{$m = n$}
\qed
\end{proof}

\begin{thm}[Recursion Theorem]
Let $X$ be a set. Let $a \in X$. Let $f : X \rightarrow X$. There exists a function $u : \omega \rightarrow X$ such that $u(0) = a$ and, for all $n \in \omega$, we have $u(n^+) = f(u(n))$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{C} = \{ A \in \mathcal{P}(\omega \times X) : (0,a) \in A \wedge \forall n \in \omega. \forall x \in X. (n,x) \in A \Rightarrow (n^+,f(x)) \in A \}$}}
\step{2}{$\mathcal{C} \neq \emptyset$}
\begin{proof}
	\pf\ $\omega \times X \in \mathcal{C}$
\end{proof}
\step{3}{\pflet{$u = \bigcap \mathcal{C}$}}
\step{4}{$u \in \mathcal{C}$}
\step{5}{$u$ is a function.}
\begin{proof}
	\step{a}{\pflet{$P(n)$ be the property: $\forall x,y \in X. (n,x) \in u \wedge (n,y) \in u \Rightarrow x = y$}}
	\step{b}{$P(0)$}
	\begin{proof}
		\step{i}{$\forall x \in X. (0,x) \in u \Rightarrow x = a$}
		\begin{proof}
			\pf\ If $(0,x) \in u$ and $x \neq a$ then $u - \{(0,x)\} \in \mathcal{C}$ and so $u - \{(0,x)\} \subseteq u$, which is impossible.
		\end{proof}
	\end{proof}
	\step{c}{For every natural number $n$, if $P(n)$ then $P(n^+)$.}
	\begin{proof}
		\step{i}{\pflet{$n$ be a natural number.}}
		\step{ii}{\assume{$P(n)$}}
		\step{iii}{\pflet{$x,y \in X$}}
		\step{iv}{\assume{$(n^+,x),(n^+,y) \in u$}}
		\step{v}{\pick\ $x',y' \in X$ such that $(n,x') \in u$, $(n,y') \in u$ and $f(x') = x$ and $f(y') = y$}
		\begin{proof}
			\pf\ If no such $x'$ exists then $u - \{(n^+,x)\} \in \mathcal{C}$ and so $u - \{(n^+,x)\} \subseteq u$ which is impossible. Similarly for $y'$.
		\end{proof}
		\step{vi}{$x' = y'$}
		\begin{proof}
			\pf\ \stepref{ii}
		\end{proof}
		\step{vii}{$x = y$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any natural number $n$, either $n = 0$ or there exists a natural number $m$ such that $n = m^+$.
\end{prop}

\begin{proof}
\pf\ Easy induction on $n$. \qed
\end{proof}

\begin{prop}
$\omega$ is a transitive set.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property $\forall x \in n. x \in \omega$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{3}{For any natural number $n$, if $P(n)$ then $P(n^+)$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$x \in n^+$}}
	\step{d}{$x \in n$ or $x = n$}
	\step{e}{\case{$x \in n$}}
	\begin{proof}
		\pf\ Then $x \in \omega$ by \stepref{b}.
	\end{proof}
	\step{f}{\case{$x = n$}}
	\begin{proof}
		\pf\ Then $x \in \omega$ by \stepref{a}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any natural number $n$ and any nonempty subset $E \subseteq n$, there exists $k \in E$ such that $\forall m \in E. k = m \vee k \in m$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: for any nonempty subset $E \subseteq n$, there exists $k \in E$ such that $\forall m \in E. k = m \vee k \in m$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Vacuous as there is no nonempty subset of 0.
\end{proof}
\step{3}{For any natural number $n$, if $P(n)$ then $P(n^+)$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$E$ be a nonempty subset of $n^+$}}
	\step{d}{\case{$E - \{n\} = \emptyset$}}
	\begin{proof}
		\pf\ Then $E = \{n\}$ so take $k = n$.
	\end{proof}
	\step{e}{\case{$E - \{n\} \neq \emptyset$}}
	\begin{proof}
		\step{i}{\pick\ $k \in E - \{n\}$ such that $\forall m \in E - \{n\}. k = m \vee k \in m$}
		\begin{proof}
			\pf\ By \stepref{b}.
		\end{proof}
		\step{ii}{$\forall m \in E. k = m \vee k \in m$}
		\begin{proof}
			\pf\ Since $k \in n$.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\chapter{Ordinal Numbers}

\begin{df}[Ordinal (Number)]
An \emph{ordinal (number)} is a well ordered set $\alpha$ such that $\forall \xi \in \alpha. s(\xi) = \xi$.

Given ordinals $\alpha$, $\beta$, we write $\alpha < \beta$ iff $\alpha \in \beta$.
\end{df}

\begin{prop}
Every natural number is an ordinal.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
$\omega$ is an ordinal.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
If $\alpha$ is an ordinal number then so is $\alpha^+$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $\alpha$ be an ordinal and $\eta, \xi \in \alpha$. Then $\eta < \xi$ if and only if $\eta \in \xi$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Every ordinal is a transitive set.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Every element of an ordinal is an ordinal.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
\label{prop:similar_ordinals_equal}
Similar ordinals are equal.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha, \beta$ be ordinals.}}
\step{2}{\pflet{$f : \alpha \cong \beta$ be a similarity.} \prove{$\forall \xi \in \alpha. f(\xi) = \xi$}}
\step{3}{\pflet{$\xi \in \alpha$}}
\step{4}{\assume{as transfinite induction hypothesis $\forall \eta < \xi. f(\eta) = \eta$}}
\step{5}{$f(\xi) \subseteq \xi$}
\begin{proof}
	\step{a}{\pflet{$\eta \in f(\xi)$}}
	\step{b}{\pick\ $\zeta \in \alpha$ such that $f(\zeta) = \eta$}
	\step{c}{$\zeta \in \xi$}
	\begin{proof}
		\pf\ Since $f(\zeta) \in f(\xi)$ and $f$ is a similarity.
	\end{proof}
	\step{d}{$f(\zeta) = \zeta$}
	\begin{proof}
		\pf\ \stepref{4}
	\end{proof}
	\step{e}{$\eta = \zeta$}
	\begin{proof}
		\pf\ \stepref{b}, \stepref{d}
	\end{proof}
	\step{f}{$\eta \in \xi$}
	\begin{proof}
		\pf\ \stepref{c}, \stepref{e}
	\end{proof}
\end{proof}
\step{6}{$\xi \subseteq f(\xi)$}
\begin{proof}
	\step{a}{\pflet{$\eta \in \xi$}}
	\step{b}{$\eta = f(\eta) \in f(\xi)$}
\end{proof}
\step{7}{$f(\xi) = \xi$}
\qed
\end{proof}

\begin{prop}
Let $\alpha$ and $\beta$ be ordinals. Then the following are equivalent.
\begin{enumerate}
\item $\alpha \in \beta$
\item $\alpha \subsetneq \beta$
\item $\beta$ is a continuation of $\alpha$.
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{$1 \Rightarrow 3$}
\begin{proof}
	\pf\ If $\alpha \in \beta$ then $\alpha = s(\alpha)$.
\end{proof}
\step{2}{$3 \Rightarrow 2$}
\begin{proof}
	\pf\ Immediate from definitions.
\end{proof}
\step{3}{$2 \Rightarrow 1$}
\begin{proof}
	\step{a}{\pflet{$\gamma$ be the least element of $\beta$ such that $\gamma \notin \alpha$}}
	\step{b}{$\alpha \subseteq \gamma$}
	\begin{proof}
		\step{i}{\pflet{$\eta \in \alpha$}}
		\step{ii}{$\eta \subseteq \alpha$}
		\step{iii}{$\gamma \notin \eta$}
		\step{iv}{$\eta \in \gamma$ or $\eta = \gamma$}
		\step{v}{$\eta \neq \gamma$}
		\begin{proof}
			\pf\ Since $\eta \in \alpha$ and $\gamma \notin \alpha$.
		\end{proof}
		\step{vi}{$\eta \in \gamma$}
	\end{proof}
	\step{c}{$\gamma \subseteq \alpha$}
	\begin{proof}
		\pf\ For all $\eta \in \gamma$ we have $\eta \in \alpha$ by leastness of $\gamma$.
	\end{proof}
	\step{d}{$\gamma = \alpha$}
	\step{e}{$\alpha \in \beta$}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any ordinal numbers $\alpha$ and $\beta$, either $\alpha = \beta$, or $\alpha < \beta$, or $\beta < \alpha$.
\end{prop}

\begin{proof}
\pf
\step{1}{Either $\alpha = \beta$, or $\alpha$ is similar to an initial segment of $\beta$, or $\beta$ is similar to an initial segment of $\alpha$.}
\step{2}{\case{$\alpha$ is similar to an initial segment of $\beta$.}}
\begin{proof}
	\step{a}{\pick\ $\eta \in \beta$ such that $\alpha \sim s(\eta)$}
	\step{b}{$\alpha \sim \eta$}
	\step{c}{$\alpha = \eta$}
	\begin{proof}
		\pf\ Proposition \ref{prop:similar_ordinals_equal}.
	\end{proof}
	\step{d}{$\alpha \in \beta$}
\end{proof}
\step{3}{\case{$\beta$ is similar to an initial segment of $\alpha$.}}
\begin{proof}
	\pf\ Then $\beta \in \alpha$ similarly.
\end{proof}
\qed
\end{proof}

\begin{prop}
Every set of ordinals is well ordered by $<$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E$ be a set of ordinals.}}
\step{2}{\pflet{$A$ be a nonempty subset of $E$.}}
\step{3}{\pick\ $\alpha \in A$}
\step{4}{\case{$\alpha \cap A = \emptyset$}}
\begin{proof}
	\pf\ Then $\alpha$ is least in $A$.
\end{proof}
\step{5}{\case{$\alpha \cap A \neq \emptyset$}}
\begin{proof}
	\pf\ Then $\alpha \cap A$ has a least element, which is least in $A$.
\end{proof}
\qed
\end{proof}

\begin{df}[Limit Ordinal]
A \emph{limit ordinal} is an ordinal number that is not 0 and not $\alpha^+$ for any ordinal $\alpha$.
\end{df}

\begin{prop}
For any set $E$ of ordinal numbers, $\bigcup E$ is an ordinal and is the supremum of $E$.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:union_under_continuation}. \qed
\end{proof}

\begin{thm}[Burali-Forti Paradox]
There is no set whose members are exactly the ordinal numbers.
\end{thm}

\begin{proof}
\pf\ For any set of ordinals $E$, we have $(\bigcup E)^+$ is an ordinal that is not in $E$. \qed
\end{proof}

\begin{thm}[Counting Theorem]
Every well ordered set is similar to a unique ordinal.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a well ordered set.}}
\step{2}{There exists an ordinal $\alpha$ such that $X \cong \alpha$.}
\begin{proof}
	\step{a}{For all $a \in X$, there exists a unique ordinal $\alpha$ such that $s(a) \cong \alpha$}
	\begin{proof}
		\step{i}{\pflet{$a \in X$}}
		\step{ii}{\assume{as transfinite induction hypothesis that, for all $b < a$, there exists a unique ordinal $\beta$ such that $s(b) \cong \beta$}}
		\step{iii}{\pflet{$\alpha = \{ \beta : \beta \text{ is an ordinal } \wedge \exists b < a. s(b) \cong \beta \}$}}
		\begin{proof}
			\pf\ This is a set by the Axiom of Substitution.
		\end{proof}
		\step{iv}{$\alpha$ is an ordinal}
		\begin{proof}
			\step{one}{\pflet{$\gamma \in \beta \in \alpha$}}
			\step{two}{\pick\ $b < a$ and $f : s(b) \cong \beta$}
			\step{three}{\pick\ $c < b$ such that $f(c) = \gamma$}
			\step{four}{$f \restriction s(c) : s(c) \cong \gamma$}
		\end{proof}
		\step{v}{$s(a) \cong \alpha$}
		\begin{proof}
			\pf\ The function $f : s(a) \rightarrow \alpha$ defined by $f(b)$ is the ordinal such that $s(b) \cong f(b)$ is a similarity.
		\end{proof}
		\step{vi}{$\alpha$ is unique.}
		\begin{proof}
			\pf\ Proposition \ref{prop:similar_ordinals_equal}.
		\end{proof}
	\end{proof}
	\step{b}{\pflet{$\alpha = \{\beta : \beta \text{ is an ordinal } \wedge \exists a \in X. s(a) \cong \beta \}$}}
	\begin{proof}
		\pf\ This is a set by the Axiom of Substitution.
	\end{proof}
	\step{c}{$\alpha$ is an ordinal.}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
	\step{d}{$X \cong \alpha$}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\step{3}{For any ordinals $\alpha$ and $\beta$, if $X \cong \alpha$ and $X \cong \beta$ then $\alpha = \beta$.}
\begin{proof}
	\pf\ Proposition \ref{prop:similar_ordinals_equal}.
\end{proof}
\qed
\end{proof}

\section{Order on the Natural Numbers}

\begin{prop}
\label{prop:plus_mono}
For natural numbers $m$, $n$ and $k$, if $m < n$ then $m + k < n + k$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$m,n \in \omega$}}
\step{2}{\assume{$m < n$}}
\step{3}{$m + 0 < n + 0$}
\step{4}{$\forall k \in \omega. m + k < n + k \Rightarrow m + k^+ < n + k^+$}
\begin{proof}
	\pf\ By Proposition \ref{prop:succ_in_succ}.
\end{proof}
\qed
\end{proof}

\begin{prop}
For natural numbers $m$, $n$ and $k$, if $m < n$ and $k \neq 0$ then $mk < nk$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$m,n \in \omega$}}
\step{2}{\assume{$m < n$}}
\step{3}{$m1 < n1$}
\step{4}{For all $k \in \omega$, if $k \neq 0$ and $mk < nk$ then $m(k+1) < n(k+1)$}
\begin{proof}
	\pf
	\begin{align*}
		m(k+1) & = mk + m \\
		& < mk + n & (\text{Proposition \ref{prop:plus_mono}}) \\
		& < nk + n & (\text{Proposition \ref{prop:plus_mono}}) \\
		& = n(k+1)
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:subset_finite}
Let $n$ be a natural number. Let $X$ be a proper subset of $n$. Then there exists $m < n$ such that $X \sim m$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: for every proper subset $X \subsetneq n$, there exists $m < n$ such that $X \sim m$.}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$X$ be a proper subset of $n+1$}}
	\step{d}{\case{$X - \{n\} = n$}}
	\begin{proof}
		\pf\ Then $X = n$ so $X \sim n < n+1$.
	\end{proof}
	\step{e}{\case{$X - \{n\} \subsetneq n$}}
	\begin{proof}
		\step{i}{\pick\ $m < n$ such that $X - \{n\} \sim m$}
		\step{ii}{$X \sim m$ or $X \sim m +1$}
		\begin{proof}
			\pf\ If $n \in X$ then $X \sim m + 1$. If $n \notin X$ then $X \sim m$.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:pigeonhole}
For every natural number $n$, we have $n$ is not equivalent to a proper subset of $n$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: every one-to-one function $n \rightarrow n$ is onto.}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ The only function $0 \rightarrow 0$ is $\emptyset$.
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\assume{$f : n+1 \rightarrow n+1$ is one-to-one.}}
	\step{d}{\pflet{$g : n \rightarrow n$ be the function
	\[ g(k) = \begin{cases}
	f(k) & \text{if } f(k) < n \\
	f(n) & \text{if } f(k) = n
	\end{cases} \]}}
	\begin{proof}
		\pf\ If $k < n$ and $f(k) = n$ then $f(n) < n$ since $f$ is one-to-one.
	\end{proof}
	\step{e}{$g$ is one-to-one.}
	\begin{proof}
		\step{i}{\pflet{$k,l < n$}}
		\step{ii}{\assume{$g(k) = g(l)$}}
		\step{iii}{\case{$f(k) < n$ and $f(l) < n$}}
		\begin{proof}
			\pf\ Then $f(k) = g(k) = g(l) = f(l)$ so $k = l$ since $f$ is one-to-one.
		\end{proof}
		\step{iv}{\case{$f(k) < n$ and $f(l) = n$}}
		\begin{proof}
			\pf\ Then $f(k) = g(k) = g(l) = f(n)$ contradicting the fact that $f$ is one-to-one.
		\end{proof}
		\step{v}{\case{$f(k) = n$ and $f(l) < n$}}
		\begin{proof}
			\pf\ Similar.
		\end{proof}
		\step{vi}{\case{$f(k) = n$ and $f(l) = n$}}
		\begin{proof}
			\pf\ Then $k = l$ since $f$ is one-to-one.
		\end{proof}
	\end{proof}
	\step{f}{$g$ maps $n$ onto $n$.}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{g}{$f$ maps $n+1$ onto $n+1$.}
	\begin{proof}
		\step{i}{\pflet{$l < n +1$}}
		\step{ii}{\case{$l < n$}}
		\begin{proof}
			\step{one}{\pick\ $k < n$ such that $g(k) = l$}
			\step{two}{$f(k) = l$ or $f(n) = l$}
		\end{proof}
		\step{iii}{\case{$l = n$}}
		\begin{proof}
			\step{one}{\case{$f(n) = n$}}
			\begin{proof}
				\pf\ Then $l \in \ran f$ as required.
			\end{proof}
			\step{two}{\case{$f(n) < n$}}
			\begin{proof}
				\step{A}{\pick\ $k < n$ such that $g(k) = f(n)$}
				\step{B}{$f(k) = n$}
			\end{proof}
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
Equivalent natural numbers are equal.
\end{cor}

\begin{df}[Lexicographical Order]
The \emph{lexicographical} order on $\omega \times \omega$ is the relation $S$ defined by $(a,b) S (x,y)$ iff $a < x$ or ($a = x$ and $b < y$).
\end{df}

\begin{prop}
The lexicographical order is a well ordering on $\omega \times \omega$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Finite Sets}

\begin{df}[Finite]
A set is \emph{finite} iff it is equivalent to a natural number; otherwise, it is \emph{infinite}.
\end{df}

\begin{prop}
No finite set is equivalent to one of its proper subsets.
\end{prop}

\begin{proof}
\pf\ From Proposition \ref{prop:pigeonhole}. \qed
\end{proof}

\begin{prop}
$\omega$ is infinite.
\end{prop}

\begin{proof}
\pf\ Since the function that maps $n$ to $n+1$ is a one-to-one correspondence between $\omega$ and $\omega - \{0\}$. \qed
\end{proof}

\begin{prop}
Every subset of a finite set is finite.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:subset_finite}. \qed
\end{proof}

\begin{df}[Number of Elements]
For any finite set $E$, the \emph{number of elements} in $E$, $\sharp(E)$, is the unique natural number such that $E \sim \sharp(E)$.
\end{df}

\begin{prop}
Let $E$ and $F$ be finite sets. If $E \subseteq F$ then $\sharp(E) \leq \sharp(F)$.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:subset_finite}. \qed
\end{proof}

\begin{prop}
\label{prop:size_of_union}
Let $E$ and $F$ be disjoint finite sets. Then $E \cup F$ is finite and $\sharp(E \cup F) = \sharp(E) \cup \sharp(F)$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the statement: $n \in \omega$ and for any $m \in \omega$, if $E \sim m$, $F \sim n$ and $E \cap F = \emptyset$, then $E \cup F \sim m + n$}}
\step{2}{$P(0)$}
\begin{proof}
	\step{a}{\pflet{$m \in \omega$}}
	\step{b}{\pflet{$E \sim m$ and $F \sim 0$}}
	\step{c}{$F = \emptyset$}
	\step{d}{$E \cup F = E \sim m = m + 0$}
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$m \in \omega$}}
	\step{d}{\pflet{$E \sim m$ and $F \sim n + 1$}}
	\step{e}{\assume{$E \cap F = \emptyset$}}
	\step{f}{\pick\ $f \in F$}
	\step{g}{$F - \{f\} \sim n$}
	\step{h}{$E \cap (F - \{f\}) = \emptyset$}
	\step{i}{$E \cup (F - \{f\}) \sim m + n$}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{j}{$E \cup F \sim m + n + 1$}
\end{proof}
\qed
\end{proof}

\begin{cor}
\label{cor:union_finite}
The union of two finite sets is finite.
\end{cor}

\begin{proof}
\pf\ Since, if $E$ and $F$ are finite, then $E \cup F = (E - F) \cup (E \cap F) \cup (F - E)$ and these are finite and disjoint. \qed
\end{proof}

\begin{prop}
\label{prop:size_product}
If $E$ and $F$ are finite sets then $E \times F$ is finite and $\sharp(E \times F) = \sharp(E) \sharp(F)$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the statement: $n \in \omega$ and for all $m \in \omega$, if $E \sim m$ and $F \sim n$ then $E \times F \sim mn$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ If $F \sim 0$ then $F = \emptyset$ so $E \times F = \emptyset \sim 0$.
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$m \in \omega$}}
	\step{d}{\assume{$E \sim m$ and $F \sim n + 1$}}
	\step{e}{\pick\ $f \in F$}
	\step{f}{$F - \{f\} \sim n$}
	\step{g}{$E \times (F - \{f\}) \sim mn$}
	\step{h}{$E \times F = (E \times (F - \{f\})) \cup (E \times \{f\})$}
	\step{i}{$E \times \{f\} \sim m$}
	\step{j}{$E \times F \sim mn + m$}
	\begin{proof}
		\pf\ Proposition \ref{prop:size_of_union}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any finite sets $E$ and $F$, we have $E^F$ is finite and $\sharp(E^F) = \sharp(E)^{\sharp(F)}$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: $n \in \omega$ and for all $m \in \omega$, if $E \sim m$ and $F \sim n$ then $E^F \sim m^n$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Since $E^\emptyset = \{\emptyset\} \sim 1$
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$m \in \omega$}}
	\step{d}{\pflet{$E \sim m$ and $F \sim n + 1$}}
	\step{e}{\pick\ $f \in F$}
	\step{f}{$F - \{f\} \sim n$}
	\step{g}{\pflet{$\phi : E^F \rightarrow E^{F - \{f\}} \times E$ be the function $\phi(g) = (g \restriction (F - \{f\}), g(f))$}}
	\step{H}{$\phi$ is a one-to-one correspondence}
	\step{i}{$\sharp(E^F) = m^{n+1}$}
	\begin{proof}
		\pf
		\begin{align*}
			\sharp(E^F) & = \sharp(E^{F - \{f\}} \times E) \\
			& = \sharp(E^{F - \{f\}}) \sharp(E) & (\text{Proposition \ref{prop:size_product}}) \\
			& = m^n m & (\text{\stepref{b}, \stepref{d}}) \\
			& = m^{n+1}
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
If $E$ is finite then $\mathcal{P} E$ is finite and $\sharp(\mathcal{P} E) = 2^{\sharp(E)}$.
\end{cor}

\begin{prop}
The union of a finite set of finite sets is finite.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: for any set $E$, if $E \sim n$ and every element of $E$ is finite, then $\bigcup E$ is finite.}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Since $\bigcup \emptyset = \emptyset$ is finite.
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$E \sim n+1$}}
	\step{d}{\pick\ $X \in E$}
	\step{e}{$E - \{X\} \sim n$}
	\step{f}{$\bigcup(E - \{X\})$ is finite.}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{g}{$\bigcup E = \bigcup (E - \{X\}) \cup X$}
	\step{h}{$\bigcup E$ is finite.}
	\begin{proof}
		\pf\ Corollary \ref{cor:union_finite}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Every nonempty finite set of natural numbers has a greatest element.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: for every $E \subseteq \mathbb{N}$, if $E \sim n$ then $E$ has a greatest element.}}
\step{2}{$P(1)$}
\begin{proof}
	\pf\ Since $k$ is the greatest element of $\{k\}$.
\end{proof}
\step{3}{$\forall n \geq 1. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \geq 1$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\assume{$E \subseteq \omega$ and $E \sim n+1$}}
	\step{d}{\pick\ $k \in E$}
	\step{e}{\pflet{$l$ be the greatest element of $E - \{k\}$}}
	\step{f}{Either $k$ or $l$ is greatest in $E$.}
\end{proof}
\qed
\end{proof}

\begin{prop}
Every infinite set has a subset equivalent to $\omega$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be an infinite set.}}
\step{2}{\pick\ a choice function $f$ for $X$.}
\step{3}{\pflet{$\mathcal{C}$ be the set of all finite subsets of $X$.}}
\step{4}{For all $A \in \mathcal{C}$ we have $X - A \in \dom f$.}
\begin{proof}
	\pf\ For all $A \in \mathcal{C}$ we have $X - A \neq \emptyset$.
\end{proof}
\step{6}{\pflet{$U : \omega \rightarrow \mathcal{C}$ be the function defined recursively by $U(0) = \emptyset$ and $U(n+1) = U(n) \cup \{f(X - U(n))\}$ for all $n \in \omega$.}}
\step{7}{\pflet{$v : \omega \rightarrow X$ be the function $v(n) = f(X - U(n))$} \prove{$v$ is one-to-one.}}
\step{8}{$\forall n \in \omega. v(n) \notin U(n)$}
\begin{proof}
	\pf\ Since $v(n) = f(X - U(n)) \in X - U(n)$.
\end{proof}
\step{9}{$\forall n \in \omega. v(n) \in U(n+1)$}
\step{10}{$\forall m,n \in \omega. n \leq m \Rightarrow U(n) \subseteq U(m)$}
\begin{proof}
	\pf\ Since $U(n) \subseteq U(n+1)$ for all $n$.
\end{proof}
\step{11}{$\forall m,n \in \omega. n < m \Rightarrow v(n) \neq v(m)$}
\begin{proof}
	\pf\ Since $v(n) \in U(m)$ and $v(m) \notin U(m)$.
\end{proof}
\qed
\end{proof}

\begin{cor}
A set is infinite if and only if it is equivalent to a proper subset.
\end{cor}

\section{Ordinal Arithmetic}

\begin{df}[Addition]
Let $I$ be a well ordered set and $(\alpha_i)_{i \in I}$ be a sequence of ordinals. Choose a well ordered set $A_i$ such that $A_i \cong \alpha_i$ for each $i \in I$, and assume the sets $A_i$ are pairwise disjoint. The \emph{sum} $\sum_{i \in I} \alpha_i$ is the ordinal of the well ordered set $\bigcup_{i \in I} A_i$, where:
\begin{itemize}
\item for $x,y \in A_i$, we have $x <_{\bigcup_{i \in I} A_i} y$ if and only if $x <_{A_i} y$
\item for $x \in A_i$ and $y \in A_j$ with $i \neq j$, we have $x <_{\bigcup_{i \in I} A_i} y$ iff $i <_I j$
\end{itemize}

We write $\alpha + \beta$ for $\sum_{i \in 2} \gamma_i$ where $\gamma_0 = \alpha$ and $\gamma_1 = \beta$.
\end{df}

\begin{prop}
\begin{align*}
\alpha + 0 & = \alpha \\
0 + \alpha & = \alpha \\
\alpha + 1 & = \alpha^+ \\
\alpha + (\beta + \gamma) & = (\alpha + \beta) + \gamma
\end{align*}
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any ordinals $\alpha$ and $\beta$, we have $\alpha < \beta$ if and only if there exists $\gamma \neq 0$ such that $\beta = \alpha + \gamma$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
\[ 1 + \omega = \omega \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Multiplication]
Given ordinals $\alpha$ and $\beta$, the \emph{product} $\alpha \beta$ is the ordinal of $\alpha \times \beta$ under the \emph{reverse lexicographic order}: $(a,b) < (c,d)$ iff $b < d$ or ($b = d$ and $a < c$).
\end{df}

\begin{prop}
\begin{align*}
\alpha 0 & = 0 \\
0 \alpha & = 0 \\
\alpha 1 & = \alpha \\
1 \alpha & = \alpha \\
\alpha (\beta \gamma) & = (\alpha \beta) \gamma \\
\alpha (\beta + \gamma) & = \alpha \beta + \alpha \gamma
\end{align*}
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For ordinals $\alpha$ and $\beta$, if $\alpha \beta = 0$ then $\alpha = 0$ or $\beta = 0$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
The commutative law fails:
\[ 2 \omega = \omega \neq \omega 2 \]
\end{ex}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
The right distributive law fails:
\[ (1 + 1) \omega = \omega \neq 1 \omega + 1 \omega = \omega 2 \]
\end{ex}

%TODO Justify this form of transfinite recursion
\begin{df}[Exponentiation]
Given ordinals $\alpha$ and $\beta$, define the ordinal $\alpha^\beta$ by
\begin{align*}
\alpha^0 & = 1 \\
\alpha^{\beta + 1} & = \alpha^\beta \alpha \\
\alpha^\lambda & = \bigcup_{\beta < \lambda} \alpha^\beta & (\lambda \text{ a limit ordinal})
\end{align*}
\end{df}

\begin{prop}
\begin{align*}
0^\alpha & = 0 & (\alpha \geq 1) \\
1^\gamma & = 1 \\
\alpha^{\beta + \gamma} & = \alpha^\beta \alpha^\gamma \\
\alpha^{\beta \gamma} & = (\alpha^\beta)^\gamma
\end{align*}
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
$(\alpha \beta)^\gamma$ is different from $\alpha^\gamma \beta^\gamma$ in general:
\[ (2 \cdot 2)^\omega = \omega \neq 2^\omega 2^\omega = \omega^2 \enspace . \]
\end{ex}

\section{Arithmetic on the Natural Numbers}

\begin{prop}
\label{prop:plus_comm}
For all $m,n \in \omega$, we have
\[ m + n = n + m \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(m)$ be the property $\forall n \in \omega. m + n = n + m$}}
\step{2}{$P(0)$}
\begin{proof}
	\step{a}{\pflet{$Q(n)$ be the property $0 + n = n + 0$}}
	\step{b}{$Q(0)$}
	\begin{proof}
		\pf\ Trivial.
	\end{proof}
	\step{c}{$\forall n \in \omega. Q(n) \Rightarrow Q(n^+)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$Q(n)$}}
		\step{iii}{$0 + n^+ = n^+ + 0$}
		\begin{proof}
			\pf
			\begin{align*}
			0 + n^+ & = (0 + n)^+ \\
			& = (n + 0)^+ & (\text{\stepref{ii}}) \\
			& = n^+ \\
			& = n^+ + 0
			\end{align*}
		\end{proof}
	\end{proof}
\end{proof}
\step{3}{$\forall m \in \omega. P(m) \Rightarrow P(m^+)$}
\begin{proof}
	\step{a}{\pflet{$m \in \omega$}}
	\step{b}{\assume{$P(m)$}}
	\step{c}{\pflet{$Q(n)$ be the property $m^+ + n = n + m^+$}}
	\step{d}{$Q(0)$}
	\begin{proof}
		\pf\ \stepref{2}
	\end{proof}
	\step{e}{$\forall n \in \omega. Q(n) \Rightarrow Q(n^+)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$Q(n)$}}
		\step{iii}{$Q(n^+)$}
		\begin{proof}
			\pf
			\begin{align*}
				m^+ + n^+ & = (m^+ + n)^+ \\
				& = (n + m^+)^+ & (\text{\stepref{ii}}) \\
				& = (n + m)^{++} \\
				& = (m + n)^{++} & (\text{\stepref{b}}) \\
				& = (m + n^+)^+ \\
				& = (n^+ + m)^+ & (\text{\stepref{b}}) \\
				& = n^+ + m^+
\end{align*}					
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For all $m,n \in \omega$, we have
\[ mn = nm \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(m)$ be the statement $\forall n \in \omega. mn = nm$}}
\step{2}{$P(0)$}
\begin{proof}
	\step{a}{\pflet{$Q(n)$ be the statement $0n = n0$}}
	\step{b}{$Q(0)$}
	\begin{proof}
		\pf\ Trivial.
	\end{proof}
	\step{c}{$\forall n \in \omega. Q(n) \Rightarrow Q(n^+)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$Q(n)$}}
		\step{iii}{$Q(n^+)$}
		\begin{proof}
			\pf
			\begin{align*}
				0n^+ & = 0n + 0 \\
				& = 0n \\
				& = n0 & (\text{\stepref{ii}}) \\
				& = 0 \\
				& = n^+0
			\end{align*}
		\end{proof}
	\end{proof}
\end{proof}
\step{3}{$\forall m \in \omega. P(m) \Rightarrow P(m^+)$}
\begin{proof}
	\step{a}{\pflet{$m \in \omega$}}
	\step{b}{\assume{$P(m)$}}
	\step{c}{\pflet{$Q(n)$ be the statement $m^+ n = n m^+$}}
	\step{d}{$Q(0)$}
	\begin{proof}
		\pf\ \stepref{2}
	\end{proof}
	\step{e}{$\forall n \in \omega. Q(n) \Rightarrow Q(n^+)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$Q(n)$}}
		\step{iii}{$Q(n^+)$}
		\begin{proof}
			\pf
			\begin{align*}
				m^+ n^+ & = m^+ n + m^+ \\
				& = (m^+ n + m)^+ \\
				& = (n m^+ + m)^+ & (\text{\stepref{ii}}) \\
				& = (nm + n + m)^+ \\
				& = (mn + m + n)^+ & (\text{\stepref{b}, Proposition \ref{prop:plus_comm}}) \\
				& = (mn^+ + n)^+ \\
				& = (n^+ m + n)^+ & (\text{\stepref{b}}) \\
				& = n^+ m + n^+ \\
				& = n^+ m^+
			\end{align*}
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\chapter{Countable Sets}

\begin{df}[Countable]
A set $A$ is \emph{countable} or \emph{denumerable} iff there exists an injective function $A \rightarrow \omega$.
\end{df}

\begin{df}[Countably Infinite]
A set is \emph{countably infinite} iff it is similar to $\omega$.
\end{df}

\begin{prop}
Every subset of a countable set is countable.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $X$ be a set. If there exists a function from $\omega$ onto $X$, then $X$ is countable.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f$ be a function from $\omega$ onto $X$.}}
\step{2}{Choose a function $g : X \rightarrow \omega$ such that, for all $x \in X$, we have $f(g(x)) = x$.}
\step{3}{$g$ is one-to-one.}
\qed
\end{proof}

\begin{prop}
$\omega \times \omega$ is countable.
\end{prop}

\begin{proof}
\pf\ The sequence
\[ (0,0), (0,1), (1,0), (0,2), (1,1), (2,0), \ldots \]
is an enumeration of $\omega \times \omega$. \qed
\end{proof}

\begin{cor}
A countable union of countable sets is countable.
\end{cor}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be a countable set of countable sets.}}
\step{2}{\pick\ a surjection $f : \omega \rightarrow A$}
\step{3}{For $n \in \omega$, \pick\ a surjection $g_n : \omega \rightarrow f(n)$}
\step{4}{\pick\ a surjection $h : \omega \rightarrow \omega \times \omega$}
\step{5}{$\lambda n \in \omega. g_{\pi_1(h(n))}(\pi_2(h(n)))$ is a surjection $\omega \rightarrow \bigcup A$}
\qed
\end{proof}

\begin{cor}
The Cartesian product of two countable sets is countable.
\end{cor}

\begin{cor}
For any countable set $A$, the set of all finite subsets of $A$ is countable.
\end{cor}

\begin{proof}
\pf\ Prove by induction on $n$ that the set of all subsets of size $n$ is countable. The set of all finite subsets is then the union of these. \qed
\end{proof}

\begin{prop}
$\mathcal{P} \omega$ is uncountable.
\end{prop}

\begin{proof}
\pf\ Cantor's Theorem. \qed
\end{proof}

\chapter{Cardinal Numbers}

\begin{df}[Cardinal Number]
A \emph{cardinal number} or \emph{initial ordinal} is an ordinal $\alpha$ such that, for all $\beta < \alpha$, we have $\beta \not\sim \alpha$.
\end{df}

\begin{df}[Cardinality]
For any set $X$, the \emph{cardinality} of $X$, $\card X$, is the least ordinal that is equivalent to $X$.
\end{df}

\begin{prop}
Given sets $X$ and $Y$, we have $X \sim Y$ if and only if $\card X = \card Y$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For sets $X$ and $Y$, we have $\card X \leq \card Y$ if and only if there exists an injective function $X \rightarrow Y$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Every natural number is a cardinal. $\omega$ is a cardinal.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Every inifinite cardinal is a limit ordinal.
\end{prop}

\begin{proof}
\pf\ For $\alpha$ infinite we have $f : \alpha^+ \sim \alpha$ where $f(\alpha) = 0$ and $f(\beta) = \beta^+$ for all other $\beta$. \qed
\end{proof}

\section{Cardinal Arithmetic}

\begin{df}[Addition]
Given a family of cardinal numbers $\{ \kappa_i \}_{i \in I}$, let $\sum_{i \in I} \kappa_i$ be $\card \bigcup_{i \in I} A_i$, where $\{A_i\}_{i \in I}$ is a pairwise disjoint family of sets with $\card A_i = \kappa_i$ for all $i$.

We write $\kappa + \lambda$ for $\sum_{i \in 2} \kappa_i$ where $\kappa_0 = \kappa$ and $\kappa_1 = \lambda$.
\end{df}

\begin{prop}
\begin{align*}
\kappa + \lambda & = \lambda + \kappa \\
\kappa + (\lambda + \mu) & = (\kappa + \lambda) + \mu \\
\end{align*}
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Cardinal addition agrees with ordinal addition on the natural numbers.
\end{prop}

\begin{proof}
\pf\ Easy induction. \qed
\end{proof}

\begin{prop}
If $\kappa \leq \kappa'$ then $\kappa + \lambda \leq \kappa' + \lambda$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
If $\kappa$ is an infinite cardinal number then $\kappa + \kappa = \kappa$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be an infinite set.} \prove{$A \times 2 \sim A$}}
\step{2}{\pflet{$\mathcal{F}$ be the set of all functions $f$ such that there exists $X \subseteq A$ such that $f : X \times 2 \sim X$.}}
\step{3}{$\mathcal{F}$ is non-empty.}
\begin{proof}
	\pf\ Pick a subset $X \subseteq A$ such that $X \sim \omega$, and a bijection $X \times 2 \sim X$.
\end{proof}
\step{4}{$\mathcal{F}$ is partially ordered by extension.}
\step{5}{Every chain in $\mathcal{F}$ has an upper bound.}
\begin{proof}
	\pf\ If $\mathcal{C} \subseteq \mathcal{F}$ is a chain then $\bigcup \mathcal{C} \in \mathcal{F}$.
\end{proof}
\step{6}{\pick\ $f \in \mathcal{F}$ maximal.}
\step{7}{\pick\ $X \subseteq A$ such that $f : X \times 2 \sim X$}
\step{8}{$X - A$ is finite.}
\begin{proof}
	\step{a}{\assume{for a contradiction $X - A$ is infinite.}}
	\step{b}{\pick\ $Y \subseteq X - A$ such that $Y \sim \omega$.}
	\step{c}{\pick\ $g : Y \times 2 \sim Y$}
	\step{d}{$f \cup g : (X \cup Y) \times 2 \sim X \cup Y$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the maximality of $f$.
	\end{proof}
\end{proof}
\step{9}{$\card A + \card A = \card A$}
\begin{proof}
	\pf
	\begin{align*}
		2 \card A & = 2 (\card X + \card (A - X)) \\
		& = 2 \card X + 2 \card (A - X) \\
		& = \card X + 2 \card (A - X) & (\text{\stepref{7}}) \\
		& = \card X & (\text{\stepref{8}}) \\
		& = \card X + \card (A - X) & (\text{\stepref{8}}) \\
		& = \card A
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{cor}
\label{cor:add_card}
For any cardinals $\kappa$ and $\lambda$ that are not both finite, we have
\[ \kappa + \lambda = \max(\kappa, \lambda) \enspace . \]
\end{cor}

\begin{df}[Multiplication]
Given a family of cardinal numbers $\{ \kappa_i \}_{i \in I}$, let $\prod_{i \in I} \kappa_i = \card \bigtimes_{i \in I} \kappa_i$.

We write $\kappa \lambda$ for $\prod_{i \in 2} \kappa_i$ where $\kappa_0 =\kappa$ and $\kappa_1 = \lambda$.
\end{df}

\begin{prop}
\begin{align*}
\kappa \lambda & = \lambda \kappa \\
\kappa (\lambda \mu) & = (\kappa \lambda) \mu \\
\kappa (\lambda + \mu) & = \kappa \lambda + \kappa \mu
\end{align*}
\end{prop}

\begin{prop}
Cardinal multiplication agrees with ordinal multiplication on the natural numbers.
\end{prop}

\begin{proof}
\pf\ Easy induction. \qed
\end{proof}

\begin{prop}
If $\kappa \leq \kappa'$ then $\kappa \lambda \leq \kappa' \lambda$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
\label{prop:cardinal_inequality}
Let $\{\kappa_i\}_{i \in I}$ and $\{\lambda_i\}_{i \in I}$ be families of cardinal numbers with the same index set. If $\kappa_i < \lambda_i$ for all $i$, then $\sum_{i \in I} \kappa_i < \prod_{i \in I} \lambda_i$.
\end{prop}

\begin{proof}
\pf
\step{1}{Choose a one-to-one function $f_i : \kappa_i \rightarrow \lambda_i$ for each $i \in I$}
\step{2}{$\sum_{i \in I} \kappa_i \leq \prod_{i \in I} \lambda_i$}
\begin{proof}
	\pf\ Define $g : \sum_{i \in I} \kappa_i \rightarrow \prod_{i \in I} \lambda_i$ by
	\begin{align*}
		g(i,\eta)(j) = \begin{cases}
		f_i(\eta) & \text{if } i = j \\
		0 & \text{if } i \neq j
		\end{cases}
	\end{align*}
\end{proof}
\step{3}{There is no surjective function $\sum_{i \in I} \kappa_i < \prod_{i \in I} \lambda_i$}
\begin{proof}
	\step{a}{\pflet{$h : \sum_i \kappa_i \rightarrow \prod_i \lambda_i$}}
	\step{b}{Choose $t(i) < \lambda_i$ for each $i \in I$ such that, for all $\eta < \kappa_i$, we have $t(i) \neq h(i,\eta)(i)$.}
	\begin{proof}
		\pf\ Since the function that maps $\eta$ to $h(i,\eta)(i)$ cannot be surjective $\kappa_i \rightarrow \lambda_i$.
	\end{proof}
	\step{c}{For all $i \in I$ and $\eta < \kappa_i$ we have $h \neq t(i,\eta)$.}
\end{proof}
\qed
\end{proof}

\begin{prop}
If $\kappa$ is an infinite cardinal then $\kappa \kappa = \kappa$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be an infinite set.}}
\step{2}{\pflet{$\mathcal{F}$ be the set of all functions $f$ such that there exists $X \subseteq A$ such that $f : X \times X \sim X$}}
\step{3}{$\mathcal{F}$ is nonempty.}
\begin{proof}
	\pf\ Pick a countably infinite $X \subseteq A$. Then $X \times X \sim X$.
\end{proof}
\step{4}{$\mathcal{F}$ is partially ordered by extension.}
\step{5}{Every chain in $\mathcal{F}$ has an upper bound.}
\step{6}{\pick\ $f \in \mathcal{F}$ maximal.}
\step{7}{\pick\ $X \subseteq A$ such that $f : X \times X \sim X$.}
\step{8}{$\card X = \card A$}
\begin{proof}
	\step{a}{\assume{for a contradiction $\card X < \card A$}}
	\step{b}{$\card A = \card (A - X)$}
	\begin{proof}
		\pf\ Corollary \ref{cor:add_card}.
	\end{proof}
	\step{c}{$\card X < \card (A - X)$}
	\step{d}{\pick\ $Y \subseteq A - X$ such that $Y \sim X$}
	\step{e}{\pick\ $g : (X \times Y) \cup (Y \times X) \cup (Y \times Y) \sim Y$}
	\begin{proof}
		\pf
		\begin{align*}
			(X \times Y) \cup (Y \times X) \cup (Y \times Y)
			& \sim 3 \times X \times X & (\text{\stepref{d}}) \\
			& \sim 3 \times X & (\text{\stepref{7}}) \\
			& \sim X & (\text{Corollary \ref{cor:add_card}}) \\
			& \sim Y & (\text{\stepref{d}})
		\end{align*}
	\end{proof}
	\step{f}{$f \cup g : (X \cup Y) \times (X \cup Y) \sim X \cup Y$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the maximality of $f$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
If $\kappa$ and $\lambda$ are non-zero cardinals that are not both finite, then
\[ \kappa \lambda = \max(\kappa, \lambda) \enspace . \]
\end{cor}

\begin{df}[Exponentiation]
Given cardinal numbers $\kappa$ and $\lambda$, let $\kappa^\lambda$ be the cardinality of the set of all functions $\lambda \rightarrow \kappa$.
\end{df}

\begin{prop}
\begin{align*}
\kappa^{\lambda + \mu} & = \kappa^\lambda \kappa^\mu \\
(\kappa \lambda)^\mu & = \kappa^\mu \lambda^\mu \\
\kappa^{\lambda \mu} & = (\kappa^\lambda)^\mu
\end{align*}
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Cardinal exponentiation and ordinal exponentiation agree on the natural numbers.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
\[ \card \mathcal{P} X = 2^{\card X} \]
\end{prop}

\begin{proof}
\pf\ Define $\chi : \mathcal{P} X \sim 2^X$ to be the function that maps $S$ to the function $\chi_S : X \rightarrow 2$ where $\chi_S(x) = 1$ if $x \in S$ and $\chi_S(x) = 0$ if $x \notin S$. \qed
\end{proof}

\begin{prop}
For any infinite cardinal $\kappa$ we have $\kappa < 2^\kappa$.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:cardinal_inequality}. \qed
\end{proof}

\begin{prop}
If $\kappa \leq \lambda$ then $\kappa^\mu \leq \lambda^\mu$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Alephs}

%TODO Justify this
\begin{df}[Aleph]
Define the cardinal $\aleph_\alpha$ for every ordinal $\alpha$ as follows: $\aleph_\alpha$ is the least infinite cardinal greater than $\aleph_\beta$ for all $\beta < \alpha$.
\end{df}

\begin{prop}
\[ \aleph_0 = \omega \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Continuum Hypothesis]
The \emph{continuum hypothesis} is the statement $\aleph_1 = 2^{\aleph_0}$.
\end{df}

\begin{df}[Generalized Continuum Hypothesis]
The \emph{generalized continuum hypothesis} is the statement: for every ordinal $\alpha$ we have $\aleph_{\alpha + 1} = 2^{\aleph_\alpha}$.
\end{df}

\end{document}

\documentclass{report}
\title{Summary of Halmos' Naive Set Theory}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage{hyperref}
\usepackage{mathabx}

\newtheorem{ax}{Axiom}[chapter]
\newtheorem{prop}[ax]{Proposition}
\newtheorem{cor}{Corollary}[ax]
\newtheorem{thm}[ax]{Theorem}
\newtheorem{lm}[ax]{Lemma}
\theoremstyle{definition}
\newtheorem{df}[ax]{Definition}
\newtheorem{ex}[ax]{Example}

\newcommand{\dom}{\ensuremath{\operatorname{dom}}}
\newcommand{\ran}{\ensuremath{\operatorname{ran}}}

\begin{document}
\maketitle
\tableofcontents

\chapter{Primitive Terms and Axioms}

Let there be \emph{sets}. We assume that everything is a set.

Let there be a binary relation of \emph{membership}, $\in$. If $x \in A$ we say that $x$ \emph{belongs} to $A$, $x$ is an \emph{element} of $A$, or $x$ is \emph{contained} in $A$. If this does not hold we write $x \notin A$.

\begin{ax}[Axiom of Extensionality]
Two sets are equal if and only if they have the same elements.
\end{ax}

\begin{ax}[Axiom of Comprehension, Aussonderungsaxiom]
To every set $A$ and to every condition $S(x)$ there corresponds a set $B$ whose elements are exactly those elements $x$ of $A$ for which $S(x)$ holds.
\end{ax}

\begin{ax}[Axiom of Pairing]
For any two sets, there exists a set that they both belong to.
\end{ax}

\begin{ax}[Union Axiom]
For every set $A$, there exists a set that contains all the elements that belong to at least one element of $A$.
\end{ax}

\begin{df}[Subset]
Let $A$ and $B$ be sets. We say that $A$ is a \emph{subset} of $B$, or $B$ \emph{includes} $A$, and write $A \subseteq B$ or $B \supseteq A$, iff every element of $A$ is an element of $B$.
\end{df}

\begin{ax}[Power Set Axiom]
For any set $A$, there exists a set that contains all the subsets of $A$.
\end{ax}

\begin{ax}[Axiom of Infinity]
There exists a set $I$ such that:
\begin{itemize}
\item $I$ has an element that has no elements
\item for all $x \in I$, there exists $y \in I$ such that the elements of $y$ are exactly $x$ and the elements of $x$.
\end{itemize}
\end{ax}

\chapter{Basic Properties and Operations on Sets}

\section{The Subset Relation}

\begin{thm}
For any set $A$, we have $A \subseteq A$.
\end{thm}

\begin{proof}
\pf\ Every element of $A$ is an element of $A$. \qed
\end{proof}

\begin{thm}
For any sets $A$, $B$ and $C$, if $A \subseteq B$ and $B \subseteq C$ then $A \subseteq C$.
\end{thm}

\begin{proof}
\pf\ If every element of $A$ is an element of $B$, and every element of $B$ is an element of $C$, then every element of $A$ is an element of $C$. \qed
\end{proof}

\begin{thm}
For any sets $A$ and $B$, if $A \subseteq B$ and $B \subseteq A$ then $A = B$.
\end{thm}

\begin{proof}
\pf\ If every element of $A$ is an element of $B$, and every element of $B$ is an element of $A$, then $A$ and $B$ have the same elements, and therefore are equal by the Axiom of Extensionality. \qed
\end{proof}

\begin{df}[Proper Subset]
Let $A$ and $B$ be sets. We say that $A$ is a \emph{proper} subset of $B$, or $B$ \emph{properly} includes $A$, and write $A \subsetneq B$ or $B \supsetneq A$, iff $A \subseteq B$ and $A \neq B$.
\end{df}

\section{Comprehension Notation}

\begin{df}
Given a set $A$ and a condition $S(x)$, we write $\{ x \in A : S(x) \}$ for the set whose elements are exactly those elements $x$ of $A$ for which $S(x)$ holds.
\end{df}

\begin{proof}
\pf\ This exists by the Axiom of Comprehension and is unique by the Axiom of Extensionality. \qed
\end{proof}

\begin{thm}
There is no set that contains every set.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be a set.} \prove{There exists a set $B$ such that $B \notin A$.}}
\step{2}{\pflet{$B = \{ x \in A : x \notin x \}$}}
\step{3}{If $B \in A$ then we have $B \in B$ if and only if $B \notin B$.}
\step{4}{$B \notin A$}
\qed
\end{proof}

\section{The Empty Set}

\begin{thm}
There exists a set with no elements.
\end{thm}

\begin{proof}
\pf\ Immediate from the Axiom of Infinity. \qed
\end{proof}

\begin{df}[Empty Set]
The \emph{empty set} $\emptyset$ is the set with no elements.
\end{df}

\begin{thm}
For any set $A$ we have $\emptyset \subset A$.
\end{thm}

\begin{proof}
\pf\ Vacuous. \qed
\end{proof}

\section{Unordered Pairs}

\begin{df}[(Unordered) Pair]
For any sets $a$ and $b$, the \emph{(unordered) pair} $\{a,b\}$ is the set whose elements are just $a$ and $b$.
\end{df}

\begin{proof}
\pf\ This exists by the Axioms of Pairing and Comprehension, and is unique by the Axiom of Extensionality. \qed
\end{proof}

\begin{df}[Singleton]
For any set $a$, the \emph{singleton} $\{a\}$ is defined to be $\{a,a\}$.
\end{df}

\section{Unions}

\begin{df}[Union]
For any set $\mathcal{C}$, the \emph{union} of $\mathcal{C}$, $\bigcup \mathcal{C}$, is the set whose elements are the elements of the elements of $\mathcal{C}$.

We write $\bigcup_{X \in \mathcal{A}} t[X]$ for $\bigcup \{t[X] \mid X \in \mathcal{A} \}$.
\end{df}

\begin{proof}
\pf\ This exists by the Union Axiom and Comprehension Axiom, and is unique by the Axiom of Extensionality. \qed
\end{proof}

\begin{prop}
\[ \bigcup \emptyset = \emptyset \]
\end{prop}

\begin{proof}
\pf\ There is no set that is an element of an element of $\emptyset$. \qed
\end{proof}

\begin{prop}
For any set $A$, we have $\bigcup \{A\} = A$.
\end{prop}

\begin{proof}
\pf\ For any $x$, we have $x$ is an element of an element of $\{A\}$ if and only if $x$ is an element of $A$. \qed
\end{proof}

\begin{df}
We write $A \cup B$ for $\bigcup \{A,B\}$.
\end{df}

\begin{prop}
For any set $A$, we have $A \cup \emptyset = A$.
\end{prop}

\begin{proof}
\pf\ $x \in A \cup \emptyset$ iff $x \in A$ or $x \in \emptyset$, iff $x \in A$. \qed
\end{proof}

\begin{prop}[Idempotence]
For any set $A$, we have $A \cup A = A$.
\end{prop}

\begin{proof}
\pf\ $x \in A$ or $x \in A$ is equivalent to $x \in A$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have $A \subseteq B$ if and only if $A \cup B = B$.
\end{prop}

\begin{proof}
\pf\ For any $x$, the statement "if $x \in A$ then $x \in B$" is equivalent to "$x \in A$ or $x \in B$ if and only if $x \in B$". \qed
\end{proof}

\begin{prop}
For any sets $a$ and $b$, we have $\{a\} \cup \{b\} = \{a,b\}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\section{Intersections}

\begin{df}[Intersection]
For any sets $A$ and $B$, the \emph{intersection} $A \cap B$ is defined to be $\{ x \in A : x \in B \}$.
\end{df}

\begin{prop}
For any set $A$, we have $A \cap \emptyset = \emptyset$.
\end{prop}

\begin{proof}
\pf\ There is no $x$ such that $x \in A$ and $x \in \emptyset$. \qed
\end{proof}

\begin{prop}
For any set $A$, we have
\[ A \cap A = A \enspace . \]
\end{prop}

\begin{proof}
\pf\ We have $x \in A$ and $x \in A$ if and only if $x \in A$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have $A \subseteq B$ if and only if $A \cap B = A$.
\end{prop}

\begin{proof}
\pf\ For any $x$, the statement "if $x \in A$ then $x \in B$" is equivalent to "$x \in A$ and $x \in B$ if and only if $x \in A$". \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $C$, we have $C \subseteq A$ if and only if $(A \cap B) \cup C = A \cap (B \cup C)$.
\end{prop}

\begin{proof}
\pf\ The statement "if $x \in C$ then $x \in A$" is equivalent to the statement "$((x \in A \wedge x \in B) \vee x \in C) \Leftrightarrow (x \in A \wedge (x \in B \vee x \in C))$". \qed
\end{proof}

\begin{df}[Disjoint]
Two sets $A$ and $B$ are \emph{disjoint} if and only if $A \cap B = \emptyset$.
\end{df}

\begin{df}[Pairwise Disjoint]
Let $A$ be a set. We say the elements of $A$ are \emph{pairwise disjoint} if and only if, for all $x, y \in A$, if $x \cap y \neq \emptyset$ then $x = y$.
\end{df}

\begin{df}[Intersection]
For any nonempty set $\mathcal{C}$, the \emph{intersection} of $\mathcal{C}$, $\bigcap \mathcal{C}$, is the set that contains exactly those sets that belong to every element of $\mathcal{C}$.

We write $\bigcap_{X \in \mathcal{A}} t[X]$ for $\bigcap \{t[X] \mid X \in \mathcal{A} \}$.
\end{df}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{C}$ be a nonempty set.}}
\step{2}{There exists a set $I$ whose elements are exactly the sets that belong to every element of $\mathcal{C}$.}
\begin{proof}
	\pf\ Pick $A \in \mathcal{C}$, and take $I = \{ x \in A : \forall X \in \mathcal{C}. x \in X \}$.
\end{proof}
\step{3}{For any sets $I$, $J$, if the elements of $I$ and $J$ are exactly the sets that belong to every element of $\mathcal{C}$ then $I = J$.}
\begin{proof}
	\pf\ Axiom of Extensionality.
\end{proof}
\qed
\end{proof}

\section{Unordered Triples}

\begin{df}[(Unordered) Triple]
Given sets $a_1$, \ldots, $a_n$, define the \emph{(unordered) $n$-tuple} $\{a_1, \ldots, a_n\}$ to be
\[ \{a_1, \ldots, a_n\} := \{a_1\} \cup \cdots \cup \{a_n\} \enspace . \]
\end{df}

\section{Relative Complements}

\begin{df}[Relative Complement]
For any sets $A$ and $B$, the \emph{difference} or \emph{relative complement} $A - B$ is defined to be
\[ A - B := \{ x \in A : x \notin B \} \enspace . \]
\end{df}

\begin{prop}
For any sets $A$ and $E$, we have $A \subseteq E$ if and only if
\[ E - (E - A) = A \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ and $E$ be sets.}}
\step{2}{If $A \subseteq E$ then $E - (E - A) = A$}
\begin{proof}
	\step{2}{\assume{$A \subseteq E$}}
	\step{3}{$E - (E - A) \subseteq A$}
	\begin{proof}
		\pf\ If $x \in E$ and $x \notin E - A$ then $x \in A$.
	\end{proof}
	\step{4}{$A \subseteq E - (E - A)$}
	\begin{proof}
		\pf\ If $x \in A$ then $x \in E$ and $x \notin E - A$.
	\end{proof}
\end{proof}
\step{3}{If $E - (E - A) = A$ then $A \subseteq E$.}
\begin{proof}
	\pf\ Since $E - (E - A) \subseteq E$.
\end{proof}
\qed
\end{proof}

\begin{prop}
For any set $E$ we have
\[ E - \emptyset = E \]
\end{prop}

\begin{proof}
\pf\ $x \in E$ if and only if $x \in E$ and $x \notin \emptyset$. \qed
\end{proof}

\begin{prop}
For any set $E$ we have
\[ E - E = \emptyset \enspace . \]
\end{prop}

\begin{proof}
\pf\ There is no $x$ such that $x \in E$ and $x \notin E$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $E$, we have
\[ A \cap (E - A) = \emptyset \enspace . \]
\end{prop}

\begin{proof}
\pf\ There is no $x$ such that $x \in A$ and $x \in E - A$. \qed
\end{proof}

\begin{prop}
Let $A$ and $E$ be sets. Then $A \subseteq E$ if and only if
\[ A \cup (E - A) = E \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ and $E$ be sets.}}
\step{2}{If $A \subseteq E$ then $A \cup (E - A) = E$.}
\begin{proof}
	\step{2}{\assume{$A \subseteq E$}}
	\step{3}{$A \cup (E - A) \subseteq E$}
	\begin{proof}
		\pf\ If $x \in A$ or $x \in E - A$ then $x \in E$.
	\end{proof}
	\step{4}{$E \subseteq A \cup (E - A)$}
	\begin{proof}
		\pf\ If $x \in E$ then either $x \in A$ or $x \notin A$. In the latter case, $x \in E - A$.
	\end{proof}
\end{proof}
\step{3}{If $A \cup (E - A) = E$ then $A \subseteq E$}
\begin{proof}
	\pf\ Since $A \subseteq A \cup (E - A)$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $A$, $B$ and $E$ be sets. Then:
\begin{enumerate}
\item If $A \subseteq B$ then $E - B \subseteq E - A$.
\item If $A \subseteq E$ and $E - B \subseteq E - A$ then $A \subseteq B$.
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$, $B$ and $E$ be sets.}}
\step{3}{If $A \subseteq B$ then $E - B \subseteq E - A$.}
\begin{proof}
	\pf\ If $A \subseteq B$, $x \in E$ and $x \notin B$, then we have $x \in E$ and $x \notin A$.
\end{proof}
\step{4}{If $A \subseteq E$ and $E - B \subseteq E - A$ then $A \subseteq B$.}
\begin{proof}
	\step{x}{\assume{$A \subseteq E$}}
	\step{a}{\assume{$E - B \subseteq E - A$}}
	\step{b}{\pflet{$x \in A$}}
	\step{c}{$x \in E$}
	\step{d}{$x \notin E - A$}
	\step{e}{$x \notin E - B$}
	\step{f}{$x \in B$}
\end{proof}
\qed
\end{proof}

\begin{ex}
We cannot remove the hypothesis $A \subseteq E$ in item 2 above. Let $E = \emptyset$, $A = \{\emptyset\}$ and $B = \emptyset$. Then $E - B = E - A = \emptyset$ but $A \not\subseteq B$.
\end{ex}

\begin{prop}[De Morgan's Law]
For any sets $A$, $B$ and $E$, we have $E - (A \cup B) = (E - A) \cap (E - B)$.
\end{prop}

\begin{proof}
\pf\ $(x \in E \wedge \neg (x \in A \vee x \in B)) \Leftrightarrow (x \in E \wedge x \notin A \wedge x \in E \wedge x \notin B)$. \qed
\end{proof}

\begin{prop}[De Morgan's Law]
For any sets $A$, $B$ and $E$, we have $E - (A \cap B) = (E - A) \cup (E - B)$.
\end{prop}

\begin{proof}
\pf\ $(x \in E \vee \neg (x \in A \wedge x \in B)) \Leftrightarrow (x \in E \wedge x \notin A) \vee (x \in E \wedge x \notin B)$. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $E$, if $A \subseteq E$ then\
\[ A - B = A \cap (E - B) \enspace . \]
\end{prop}

\begin{proof}
\pf\ If $A \subseteq E$ then we have $(x \in A \wedge x \notin B) \Leftrightarrow (x \in A \wedge x \in E \wedge x \notin B)$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have $A \subseteq B$ if and only if $A - B = \emptyset$.
\end{prop}

\begin{proof}
\pf\ Both are equivalent to the statement that there is no $x$ such that $x \in A$ and $x \notin B$. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have
\[ A - (A - B) = A \cap B \enspace . \]
\end{prop}

\begin{proof}
\pf\ $(x \in A \wedge \neg (x \in A \wedge x \notin B)) \Leftrightarrow x \in A \wedge x \in B$. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $C$, we have
\[ A \cap (B - C) = (A \cap B) - (A \cap C) \enspace . \]
\end{prop}

\begin{proof}
\pf\ $(x \in A \wedge x \in B \wedge x \notin C) \Leftrightarrow (x \in A \wedge x \in B \wedge \neg (x \in A \wedge x \in C))$. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$, $C$ and $E$, if $(A \cap B) - C \subseteq E$ then we have
\[ A \cap B \subseteq (A \cap C) \cup (B \cap (E - C)) \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x \in A \cap B$} \prove{$x \in (A \cap C) \cup (B \cap (E - C))$}}
\step{3}{\case{$x \in C$}}
\begin{proof}
	\pf\ Then $x \in A \cap C$.
\end{proof}
\step{4}{\case{$x \notin C$}}
\begin{proof}
	\pf\ Then $x \in E$ and so $x \in B \cap (E - C)$.
\end{proof}
\qed
\end{proof}

\begin{prop}
For any sets $A$, $B$, $C$ and $E$, we have
\[ (A \cup C) \cap (B \cup (E - C)) \subseteq A \cup B \enspace . \]
\end{prop}

\begin{proof}
\pf\ The statement $(x \in A \vee x \in C) \wedge (x \in B \vee (x \in E \wedge x \notin C))$ implies $x \in A \vee x \in B$. \qed
\end{proof}

\begin{prop}[De Morgan's Law]
Let $E$ be a set and $\mathcal{C}$ a nonempty set. Then
\[ E - \bigcup \mathcal{C} = \bigcap_{X \in \mathcal{C}} (E - X) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}[De Morgan's Law]
Let $E$ be a set and $\mathcal{C}$ a nonempty set. Then
\[ E - \bigcap \mathcal{C} = \bigcup_{X \in \mathcal{C}} (E - X) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Symmetric Difference}

\begin{df}[Symmetric Difference]
For any sets $A$ and $B$, the \emph{symmetric difference} $A + B$ is defined to be
\[ A + B := (A - B) \cup (B - A) \enspace . \]
\end{df}

\begin{prop}
For any sets $A$ and $B$, we have
\[ A + B = B + A \]
\end{prop}

\begin{proof}
\pf\ From the commutativity of union. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$ and $C$, we have
\[ A + (B + C) = (A + B) + C \enspace . \]
\end{prop}

\begin{proof}
\pf\ Each is the set of all $x$ that belong to either exactly one or all three of $A$, $B$ and $C$. \qed
\end{proof}

\begin{prop}
For any set $A$, we have
\[ A + \emptyset = A \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
A + \emptyset & = (A - \emptyset) \cup (\emptyset - A) \\
& = A \cup \emptyset \\
& = A & \qed
\end{align*}
\end{proof}

\begin{prop}
For any set $A$ we have
\[ A + A = \emptyset \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
A + A & = (A - A) \cup (A - A) \\
& = \emptyset \cup \emptyset \\
& = \emptyset & \qed
\end{align*}
\end{proof}

\section{Power Sets}

\begin{df}[Power Set]
For any set $A$, the \emph{power set} of $A$, $\mathcal{P} A$, is the set whose elements are exactly the subsets of $A$.
\end{df}

\begin{proof}
\pf\ This exists by the Power Set Axiom and Axiom of Comprehension, and is unique by the Axiom of Extensionality. \qed
\end{proof}

\begin{prop}
\[ \mathcal{P} \emptyset = \{ \emptyset \} \]
\end{prop}

\begin{proof}
\pf\ The only subset of $\emptyset$ is $\emptyset$. \qed
\end{proof}

\begin{prop}
For any set $a$, we have
\[ \mathcal{P} \{ a \} = \{ \emptyset, \{ a \} \} \enspace . \]
\end{prop}

\begin{proof}
\pf\ The only subsets of $\{a\}$ are $\emptyset$ and $\{a\}$. \qed
\end{proof}

\begin{prop}
For any sets $a$ and $b$, we have
\[ \mathcal{P} \{ a,b \} = \{ \emptyset, \{a\}, \{b\}, \{a,b\} \} \enspace . \]
\end{prop}

\begin{proof}
\pf\ The only subsets of $\{a,b\}$ are $\emptyset$, $\{a\}$, $\{b\}$ and $\{a,b\}$. \qed
\end{proof}

\begin{prop}
For any nonempty set $\mathcal{C}$ we have
\[ \bigcap_{X \in \mathcal{C}} \mathcal{P} X = \mathcal{P} \left( \bigcap \mathcal{C} \right) \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
x \in \bigcup_{X \in \mathcal{C}} \mathcal{P} X
& \Leftrightarrow \forall X \in \mathcal{C}. x \subseteq X \\
& \Leftrightarrow \forall X \in \mathcal{C}. \forall y \in x. y \in X \\
& \Leftrightarrow \forall y \in x. \forall X \in mathcal{C}. y \in X \\
& \Leftrightarrow x \subseteq \bigcap \mathcal{C} & \qed
\end{align*}
\end{proof}

\begin{prop}
For any set $\mathcal{C}$ we have
\[ \bigcup_{X \in \mathcal{C}} \mathcal{P} X \subseteq \mathcal{P} \bigcup \mathcal{C} \enspace . \]
\end{prop}

\begin{proof}
\pf\ If there exists $X \in \mathcal{C}$ such that $x \subseteq X$ then $x \subseteq \bigcup \mathcal{C}$. \qed
\end{proof}

\begin{prop}
For any set $E$, we have
\[ \bigcap \mathcal{P} E = \emptyset \enspace . \]
\end{prop}

\begin{proof}
\pf\ Since $\emptyset \in \mathcal{P} E$. \qed
\end{proof}

\begin{prop}
For any sets $E$ and $F$, if $E \subseteq F$ then $\mathcal{P} E \subseteq \mathcal{P} F$.
\end{prop}

\begin{proof}
\pf\ If $E \subseteq F$ and $X \subseteq E$ then $X \subseteq F$. \qed
\end{proof}

\chapter{Relations and Functions}

\section{Ordered Pairs}

\begin{df}[Ordered Pair]
For any sets $a$ and $b$, the \emph{ordered pair} $(a,b)$ is defined by
\[ (a,b) := \{ \{ a \}, \{ a, b \} \} \enspace . \]
\end{df}

\begin{prop}
For any sets $a$, $b$, $x$ and $y$, if $(a,b) = (x,y)$ then $a = x$ and $b = y$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$a$, $b$, $x$ and $y$ be sets.}}
\step{2}{\assume{$(a,b) = (x,y)$}}
\step{3}{$a = x$}
\begin{proof}
	\pf\ $\{a\} = \bigcap (a,b) = \bigcap (x,y) = \{x\}$.
\end{proof}
\step{4}{$\{a,b\} = \{x,y\}$}
\step{5}{\case{$a = b$}}
\begin{proof}
	\step{a}{$x = y$}
	\begin{proof}
		\pf\ Since $\{x,y\} = \{a,b\}$ is a singleton.
	\end{proof}
	\step{b}{$b = y$}
	\begin{proof}
		\pf\ $b = a = x = y$
	\end{proof}
\end{proof}
\step{6}{\case{$a \neq b$}}
\begin{proof}
	\step{a}{$x \neq y$}
	\begin{proof}
		\pf\ Since $\{x,y\} = \{a,b\}$ is not a singleton.
	\end{proof}
	\step{b}{$b = y$}
	\begin{proof}
		\pf\ $\{b\} = \{a,b\} - \{a\} = \{x,y\} - \{x\} = \{y\}$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Cartesian Product]
For any sets $A$ and $B$, the \emph{Cartesian product} $A \times B$ is
\[ A \times B := \{ p \in \mathcal{P} \mathcal{P} (A \cup B) : \exists a \in A. \exists b \in B. p = (a,b) \} \enspace . \]
\end{df}

\begin{prop}
For any sets $A$, $B$ and $X$, we have
\[ (A - B) \times X = (A \times X) - (B \times X) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any sets $A$ and $B$, we have $A \times B = \emptyset$ if and only if $A = \emptyset$ or $B = \emptyset$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any sets $A$, $B$, $X$ and $Y$, if $A \subseteq X$ and $B \subseteq Y$ then $A \times B \subseteq X \times Y$. The converse holds assuming $A \neq \emptyset$ and $B \neq \emptyset$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Relations}

\begin{df}[Relation]
A \emph{relation} is a set of ordered pairs.

If $R$ is a relation, we write $xRy$ for $(x,y) \in R$.

Given sets $X$ and $Y$, a relation \emph{between $X$ and $Y$} is a subset of $X \times Y$.

Given a set $X$, a relation \emph{on $X$} is a relation between $X$ and $X$.
\end{df}

\begin{df}[Domain]
The \emph{domain} of a relation $R$ is the set
\[ \dom R := \left\{ x \in \bigcup \bigcup R : \exists y. (x,y) \in R \right\} \enspace . \]
\end{df}

\begin{df}[Range]
The \emph{range} of a relation $R$ is the set
\[ \ran R := \left\{ y \in \bigcup \bigcup R : \exists x. (x,y) \in R \right\} \enspace . \]
\end{df}

\begin{df}[Reflexive]
Let $R$ be a relation on $X$. Then $R$ is \emph{reflexive} iff, for all $x \in X$, we have $xRx$.
\end{df}

\begin{df}[Symmetric]
Let $R$ be a relation on $X$. Then $R$ is \emph{symmetric} iff, whenever $xRy$, then $yRx$.
\end{df}

\begin{df}[Antisymmetric]
A relation $R$ is \emph{antisymmetric} iff, whenever $xRy$ and $yRx$, then $x = y$.
\end{df}

\begin{df}[Transitive]
Let $R$ be a relation on $X$. Then $R$ is \emph{transitive} iff, whenever $xRy$ and $yRz$, then $xRz$.
\end{df}

\begin{df}[Identity Relation]
For any set $X$, the \emph{identity relation} $I_X$ on $X$ is
\[ I_X = \{(x,x) : x \in X \} \enspace . \]
\end{df}

\section{Composition}

\begin{df}[Composition]
Let $R$ be a relation between $X$ and $Y$, and $S$ a relation between $Y$ and $Z$. The \emph{composite} or \emph{relative product} $S \circ R = SR$ is the relation between $X$ and $Z$ defined by
\[ x (S \circ R) z \Leftrightarrow \exists y \in Y (xRy \wedge ySz) \enspace . \]
\end{df}

\begin{prop}
Let $R$ be a relation between $X$ and $Y$, $S$ a relation between $Y$ and $Z$, and $T$ a relation between $Z$ and $W$. Then
\[ T(SR) = (TS)R \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
\label{ex:composition_not_commutative}
Composition of relations is not commutative in general. Let $X = \{a,b\}$ where $a \neq b$. Let $R = \{(a,a),(b,a)\}$ and $S = \{(a,b),(b,b)\}$. Then $SR = S$ but $RS = R \neq S$.
\end{ex}

\begin{prop}
A relation $R$ is transitive if and only if $RR \subseteq R$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Inverses}

\begin{df}[Inverse]
Let $R$ be a relation between $X$ and $Y$. The \emph{inverse} or \emph{converse} $R^{-1}$ is the relation between $Y$ and $X$ defined by
\[ y R^{-1} x \Leftrightarrow x R y \enspace . \]
\end{df}

\begin{prop}
For any relation $R$, we have
\[ \dom R^{-1} = \ran R \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any relation $R$, we have
\[ \ran R^{-1} = \dom R \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $R$ be a relation between $X$ and $Y$, and $S$ a relation between $Y$ and $Z$. Then
\[ (SR)^{-1} = R^{-1}S^{-1} \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
A relation $R$ is symmetric if and only if $R \subseteq R^{-1}$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $R$ be a relation between $X$ and $Y$. Then
\[ I_Y R = R I_X = R \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
A relation $R$ on a set $X$ is reflexive if and only if $I_X \subseteq R$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $R$ be a relation on a set $X$. Then $R$ is antisymmetric iff $R \cap R^{-1} \subseteq I_X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Equivalence Relations}

\begin{df}[Equivalence Relation]
Let $R$ be a relation on $X$. Then $R$ is an \emph{equivalence relation} iff it is reflexive, symmetric and transitive.
\end{df}

\begin{df}[Partition]
Let $X$ be a set. A \emph{partition} of $X$ is a pairwise disjoint set of nonempty subsets of $X$ whose union is $X$.
\end{df}

%TODO More modern terminology e.g. modulo
\begin{df}[Equivalence Class]
Let $R$ be an equivalence relation on $X$. Let $x \in X$. The \emph{equivalence class} of $x$ with respect to $R$ is \[ x / R := \{ y \in X : x R y \} \enspace . \]

We write $X / R$ for the set of all equivalence classes with respect to $R$.
\end{df}

\begin{df}[Induced]
Let $P$ be a partition of $X$. The relation \emph{induced} by $P$ is $X/P$ where $x (X/P) y$ iff there exists $X \in P$ such that $x \in X$ and $y \in X$.
\end{df}

\begin{thm}
Let $R$ be an equivalence relation on $X$. Then $X / R$ is a partition of $X$ that induces the relation $R$.
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{thm}
Let $P$ be a partition of $X$. Then $X / P$ is an equivalence relation on $X$, and $P = X / (X / P)$.
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Functions}

\begin{df}[Function]
Let $X$ and $Y$ be sets. A \emph{function, map, mapping, transformation} or \emph{operator $f$ from $X$ to $Y$}, $f : X \rightarrow Y$, is a relation $f$ between $X$ and $Y$ such that, for all $x \in X$, there exists a unique $f(x) \in Y$, called the \emph{value} of $f$ at the \emph{argument} $x$, such that $(x,f(x)) \in f$.
\end{df}

\begin{df}[Onto]
Let $f : X \rightarrow Y$. We say $f$ maps $X$ \emph{onto} $Y$ iff $\ran f = Y$.
\end{df}

\begin{df}[Image]
Let $f : X \rightarrow Y$ and $A \subseteq X$. The \emph{image} of $A$ under $f$ is
\[ f(A) := \{ f(x) : x \in A \} \enspace . \]
\end{df}

\begin{df}[Inclusion Map]
Let $Y$ be a set and $X \subseteq Y$. Then the \emph{inclusion map} $i : X \hookrightarrow Y$ is the function defined by $i(x) = x$ for all $x \in X$.
\end{df}

\begin{prop}
For any set $X$, the identity relation $I_X$ is a function $X \rightarrow X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Restriction]
Let $f : Y \rightarrow Z$ and $X \subseteq Y$. The \emph{restriction} of $f$ to $X$ is the function $f \restriction X : X \rightarrow Z$ defined by
\[ (f \restriction X)(x) = f(x) \qquad (x \in X) \enspace . \]

Given sets $X$, $Y$ and $Z$ with $X \subseteq Y$, if $f : X \rightarrow Z$ and $g : Y \rightarrow Z$, we say $g$ is an \emph{extension} of $f$ to $Y$ iff $f = g \restriction X$.
\end{df}

\begin{df}[Projection]
Given sets $X$ and $Y$, the \emph{projection} maps $\pi_1 : X \times Y \rightarrow X$ and $\pi_2 : X \times Y \rightarrow Y$ are defined by
\[ \pi_1(x,y) = x, \qquad \pi_2(x,y) = y \qquad (x \in X, y \in Y) \enspace . \]
\end{df}

\begin{df}[Canonical Map]
Let $X$ be a set and $R$ an equivalence relation on $X$. The \emph{canonical map} $\pi : X \rightarrow X / R$ is the map defined by $\pi(x) = x / R$.
\end{df}

\begin{df}[One-to-One]
A function $f : X \rightarrow Y$ is \emph{one-to-one}, or a \emph{one-to-one correspondence}, iff, for all $x,y \in X$, if $f(x) = f(y)$ then $x = y$.
\end{df}

\begin{prop}
Let $f : X \rightarrow Y$. Then the following are equivalent:
\begin{enumerate}
\item $f$ is one-to-one.
\item For all $A,B \subseteq X$, we have $f(A \cap B) = f(A) \cap f(B)$.
\item For all $A \subseteq X$, we have $f(X-A) \subseteq Y - f(A)$.
\end{enumerate}
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Then $f$ maps $X$ onto $Y$ if and only if, for all $A \subseteq X$, we have $Y - f(A) \subseteq f(X-A)$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Families}

\begin{df}[Family]
Let $I$ and $X$ be sets. A \emph{family} of elements of $X$ \emph{indexed} by $I$ is a function $a : I \rightarrow X$. We write $a_i$ for $a(i)$, and $\{a_i\}_{i \in I}$ for $a$.
\end{df}

\begin{prop}[Generalized Associative Law for Unions]
Let $\{I_j\}_{j \in J}$ be a family of sets. Let $K = \bigcup_{j \in J} I_j$. Let $\{A_k\}_{k \in K}$ be a family of sets indexed by $K$. Then
\[ \bigcup_{k \in K} A_k = \bigcup_{j \in J} \bigcup_{i \in I_j} A_i \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}[Generalized Commutative Law for Unions]
Let $\{I_j\}_{j \in J}$ be a family of sets. Let $f : J \rightarrow J$ be a one-to-one correspondence from $J$ onto $J$. Then
\[ \bigcup_{j \in J} I_j = \bigcup_{j \in J} I_{f(j)} \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}[Generalized Associative Law for Intersections]
Let $\{I_j\}_{j \in J}$ be a nonempty family of nonempty sets. Let $K = \bigcup_{j \in J} I_j$. Let $\{A_k\}_{k \in K}$ be a family of sets indexed by $K$. Then
\[ \bigcap_{k \in K} A_k = \bigcap_{j \in J} \bigcap_{i \in I_j} A_i \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}[Generalized Commutative Law for Intersections]
Let $\{I_j\}_{j \in J}$ be a nonempty family of sets. Let $f : J \rightarrow J$ be a one-to-one correspondence from $J$ onto $J$. Then
\[ \bigcap_{j \in J} I_j = \bigcap_{j \in J} I_{f(j)} \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $B$ be a set and $\{A_i\}_{i \in I}$ a family of sets. Then
\[ B \cap \bigcup_{i \in I} A_i = \bigcup_{i \in I}
 (B \cap A_i) \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $B$ be a set and $\{A_i\}_{i \in I}$ a nonempty family of sets. Then
\[ B \cup \bigcap_{i \in I} A_i = \bigcap_{i \in I}
 (B \cup A_i) \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Cartesian Product of a Family of Sets]
Let $\{A_i\}_{i \in I}$ be a family of sets. The \emph{Cartesian product} $\bigtimes_{i \in I} A_i$ is the set of all families $\{a_i\}_{i \in I}$ such that $\forall i \in I. a_i \in A_i$.

We write $A^I$ for $\bigtimes_{i \in I} A$.
\end{df}

\begin{df}[Projection]
Let $\{A_i\}_{i \in I}$ be a family of sets and $i \in I$. The \emph{projection} function $\pi_i : \bigtimes_{i \in I} A_i \rightarrow A_i$ is defined by $\pi_i(a) = a_i$.
\end{df}

\begin{prop}
Let $\{A_i\}_{i \in I}$ and $\{B_j\}_{j \in J}$ be families of sets. Then
\[ \left( \bigcup_{i \in I} A_i \right) \times \left( \bigcup_{j \in J} B_j \right) = \bigcup_{i \in I} \bigcup_{j \in J} (A_i \times B_j) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $\{A_i\}_{i \in I}$ and $\{B_j\}_{j \in J}$ be nonempty families of sets. Then
\[ \left( \bigcap_{i \in I} A_i \right) \times \left( \bigcap_{j \in J} B_j \right) = \bigcap_{i \in I} \bigcap_{j \in J} (A_i \times B_j) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $\{A_i\}_{i \in I}$ be a family of subsets of $X$. Then
\[ f \left( \bigcup_{i \in I} A_i \right) = \bigcup_{i \in I} f(A_i) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
It is not true in general that, if $f : X \rightarrow Y$ and $\{A_i\}_{i \in I}$ is a nonempty family of subsets of $X$, then $f \left( \bigcap_{i \in I} A_i \right) = \bigcap_{i \in I} f(A_i)$.

Take $X = \{a,b\}$ and $Y = \{c\}$ where $a \neq b$. Take $I = \{i,j\}$ with $i \neq j$. Let $A_i = \{a\}$ and $A_j = \{b\}$. Let $f$ be the unique function $X \rightarrow Y$. Then $f \left( \bigcap_{i \in I} A_i \right) = f(\emptyset) = \emptyset$ but $\bigcap_{i \in I} f(A_i) = \{c\}$.
\end{ex}

\section{Inverses and Composites of Functions}

\begin{df}[Inverse]
Given a function $f : X \rightarrow Y$, the \emph{inverse} of $f$ is the function $f^{-1} : \mathcal{P} Y \rightarrow \mathcal{P} X$ defined by
\[ f^{-1}(B) = \{ x \in X : f(x) \in B \} \enspace . \]
We call $f^{-1}(B)$ the \emph{inverse image} of $B$ under $f$.
\end{df}

\begin{prop}
Let $f : X \rightarrow Y$. Then $f$ maps $X$ onto $Y$ if and only if the inverse image of any nonempty subset of $Y$ is nonempty.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Then $f$ is one-to-one if and only if the inverse image of any singleton subset of $Y$ is a singleton.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $B \subseteq Y$. Then
\[ f(f^{-1}(B)) \subseteq B \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $A \subseteq X$. Then
\[ A \subseteq f^{-1}(f(A)) \enspace . \]
Equality holds if $f$ is one-to-one.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $\{B_i\}_{i \in I}$ be a family of subsets of $Y$. Then
\[ f^{-1} \left( \bigcup_{i \in I} B_i \right) = \bigcup_{i \in I} f^{-1}(B_i) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$. Let $\{B_i\}_{i \in I}$ be a nonempty family of subsets of $Y$. Then
\[ f^{-1} \left( \bigcap_{i \in I} B_i \right) = \bigcap_{i \in I} f^{-1}(B_i) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$ and $B \subseteq Y$. Then $f^{-1}(Y - B) = X - f^{-1}(B)$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$ be one-to-one. Then the inverse of $f$ as a relation, $f^{-1}$, is a function $f^{-1} : \ran f \rightarrow X$, and for all $y \in \ran f$, we have $f^{-1}(y)$ is the unique $x$ such that $f(x) = y$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$. Then $g f : X \rightarrow Z$ and, for all $x \in X$, we have
\[ (g \circ f)(x) = g(f(x)) \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
Example \ref{ex:composition_not_commutative} shows that function composition is not commutative in general.
\end{ex}

\begin{prop}
Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$. Then
\[ (gf)^{-1} = f^{-1}g^{-1} : \mathcal{P} Z \rightarrow \mathcal{P} X \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $f : X \rightarrow Y$ and $g : Y \rightarrow X$. If $gf = I_X$ then $f$ is one-to-one and $g$ maps $Y$ onto $X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\chapter{Equivalence}

\begin{df}[Equivalent]
Sets $E$ and $F$ are \emph{equivalent}, $E \sim F$, iff there exists a one-to-one correspondence between them.
\end{df}

\begin{prop}
For any set $X$, equivalence is an equivalence relation on $\mathcal{P} X$.
\end{prop}

\begin{proof}
\pf\ Easy.
\end{proof}

\chapter{Order}

\begin{df}[Partial Order]
A \emph{partial order} on a set $X$ is a relation on $X$ that is reflexive, antisymmetric and transitive.

A \emph{partially ordered set} or \emph{poset} is a pair $(X, \leq)$ such that $\leq$ is a partial order on $X$.
We write $X$ for the poset $(X, \leq)$.

Given a partial order $\leq$, we write $\geq$ for the inverse of $\leq$.

We write $x < y$ or $y > x$ for $x \leq y \wedge x \neq y$. When this holds, we say $x$ is \emph{less than} $y$, \emph{smaller} than $y$, or a \emph{predecessor} of $y$; and $y$ is \emph{greater than} $x$, \emph{larger} than $x$, or a \emph{successor} of $x$.
\end{df}

\begin{prop}
For any set $X$, the relation $\subseteq$ is a partial order on $\mathcal{P} X$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
\label{prop:lt_asym}
In a poset, we never have $x < y$ and $y < x$.
\end{prop}

\begin{proof}
\pf\ We would then have $x \leq y$ and $y \leq x$ hence $x = y$ by antisymmetry. But if $x < y$ or $y < x$ then $x \neq y$. \qed
\end{proof}

\begin{prop}
The relation $<$ is transitive.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$x < y$ and $y < z$}}
\step{2}{$x \leq y$ and $y \leq z$}
\step{3}{$x \leq z$}
\begin{proof}
	\pf\ Since $\leq$ is transitive.
\end{proof}
\step{4}{$x \neq z$}
\begin{proof}
	\pf\ By Proposition \ref{prop:lt_asym}.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $<$ be a transitive relation on $X$ such that we never have $x < y$ and $y < x$. Define $\leq$ by: $x \leq y$ iff $x < y$ or $x = y$. Then $\leq$ is a partial order on $X$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\leq$ is reflexive.}
\begin{proof}
	\pf\ By definition.
\end{proof}
\step{2}{$\leq$ is asymmetric.}
\begin{proof}
	\pf\ If $x \leq y$ and $y \leq x$, we must have $x = y$, because otherwise we would have $x < y$ and $y < x$.
\end{proof}
\step{3}{$\leq$ is transitive.}
\begin{proof}
	\step{a}{\pflet{$x \leq y$ and $y \leq z$}}
	\step{b}{\case{$x = y$}}
	\begin{proof}
		\pf\ We have $y \leq z$ so $x \leq z$.
	\end{proof}
	\step{c}{\case{$y = z$}}
	\begin{proof}
		\pf\ We have $x \leq y$ so $x \leq z$.
	\end{proof}
	\step{d}{\case{$x < y$ and $y < z$}}
	\begin{proof}
		\pf\ We have $x < z$ by transitivity, so $x \leq z$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[(Strict) Initial Segment]
Let $X$ be a poset and $a \in X$. The \emph{(strict) initial segment} determined by $a$ is
\[ s(a) := \{ x \in X : x < a \} \enspace . \]
\end{df}

\begin{df}[Weak Initial Segment]
Let $X$ be a poset and $a \in X$. The \emph{weak initial segment} determined by $a$ is
\[ \overline{s}(a) := \{ x \in X : x \leq a \} \enspace . \]
\end{df}

\begin{df}[Immediate Successor]
Let $X$ be a poset and $x,y \in X$. Then $y$ is the \emph{immediate successor} of $x$, and $x$ is the \emph{immediate predecessor} of $y$, iff $x < y$ and there is no $z$ such that $x < z < y$.
\end{df}

\begin{df}[Least]
Let $X$ be a partial order and $a \in X$. Then $a$ is \emph{least} in $X$ iff $\forall x \in X. a \leq x$.
\end{df}

\begin{prop}
A poset has at most one least element.
\end{prop}

\begin{proof}
\pf\ If $a$ and $b$ are least then $a \leq b$ and $b \leq a$, hence $a = b$. \qed
\end{proof}

\begin{df}[Greatest]
Let $X$ be a partial order and $a \in X$. Then $a$ is \emph{greatest} in $X$ iff $\forall x \in X. x \leq a$.
\end{df}

\begin{prop}
A poset has at most one greatest element.
\end{prop}

\begin{proof}
\pf\ If $a$ and $b$ are greatest then $a \leq b$ and $b \leq a$, hence $a = b$. \qed
\end{proof}

\begin{df}[Minimal]
Let $X$ be a poset and $a \in X$. Then $a$ is \emph{minimal} iff there is no $x \in X$ such that $x < a$.
\end{df}

\begin{df}[Total Order]
A partial order $\leq$ on a set $X$ is a \emph{total order}, \emph{simple order} or \emph{linear order} iff, for all $x,y \in X$, either $x \leq y$ or $y \leq x$.
We then call the poset $(X, \leq)$ a \emph{linearly ordered set} or a \emph{chain}.
\end{df}

\begin{prop}
Let $R$ be a partial order on $X$. Then $R$ is total if and only if $X^2 \subseteq R \cup R^{-1}$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
For any set $X$, the relation $\subseteq$ is a total order on $X$ iff $X$ is either $\emptyset$ or a singleton.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\chapter{Natural Numbers}

\section{Natural Numbers}

\begin{df}[Successor]
The \emph{successor} of a set $x$, $x^+$, is defined by
\[ x^+ := x \cup \{x\} \enspace . \]
\end{df}

\begin{df}
We define
\begin{align*}
0 & = \emptyset \\
1 & = 0^+ \\
2 & = 1^+
\end{align*}
etc.
\end{df}

\begin{df}[Characteristic Function]
Let $X$ be a set and $A \subseteq X$. The \emph{characteristic function} of $A$ is the function $\chi_A : X \rightarrow 2$ defined by
\[ \chi_A(x) = \begin{cases}
1 & \text{if } x \in A \\
0 & \text{if } x \notin A
\end{cases} \]
\end{df}

\begin{thm}
Let $X$ be a set. The function $\chi : \mathcal{P} X \rightarrow 2^X$ that maps a subset $A$ of $X$ to $\chi_A$ is a one-to-one correspondence.
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}
The set $\omega$ of \emph{natural numbers} is the set such that:
\begin{itemize}
\item $0 \in \omega$
\item For all $n \in \omega$ we have $n^+ \in \omega$
\item For any set $X$, if $0 \in X$ and $\forall n \in X. n^+ \in X$ then $\omega \subseteq X$
\end{itemize}
\end{df}

\begin{proof}
\pf\ To show this exists, pick a set $A$ such that $0 \in A$ and $\forall n \in A. n^+ \in A$ (by the Axiom of Infinity), and let $\omega = \bigcap \{ X \in \mathcal{P} A : 0 \in X \wedge \forall n \in X. n^+ \in X \}$. \qed
\end{proof}

\begin{df}[Sequence]
A \emph{finite sequence} is a family whose index set is a natural number. An \emph{infinite sequence} is a family whose index set is $\omega$.

Given a finite sequence of sets $\{ A_i \}_{i \in n^+}$, we write $\bigcup_{i=0}^n A_i$ for $\bigcup_{i \in n^+} A_i$. Given an infinite sequence of sets $\{ A_i \}_{i \in \omega}$, we write $\bigcup_{i=0}^\infty A_i$ for $\bigcup_{i \in \omega} A_i$.

We make similar definitions for $\bigcap$ and $\bigtimes$.
\end{df}

\begin{prop}
\label{prop:succ_in_succ}
For any natural numbers $m$ and $n$, if $m \in n$ then $m^+ \in n^+$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property $\forall m \in n. m^+ \in n^+$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{3}{For any natural number $n$, if $P(n)$ then $P(n^+)$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$m \in n^+$}}
	\step{d}{$m \in n$ or $m = n$}
	\step{e}{$m^+ \in n^+$ or $m^+ = n^+$}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{f}{\case{$m^+ \in n^{++}$}}
\end{proof}
\qed
\end{proof}

\begin{thm}[Principle of Mathematical Induction]
For any subset $S$ of $\omega$, if $0 \in S$ and $\forall n \in S. n^+ \in S$, then $S = \omega$.
\end{thm}

\begin{proof}
\pf\ From the definition of $\omega$. \qed
\end{proof}

\begin{prop}
\label{prop:natural_number_not_subset}
\[ \forall n \in \omega. \forall x \in n. n \not\subseteq x \]
\end{prop}

\begin{proof}
\pf
\step{1}{$\forall x \in 0. 0 \not\subseteq x$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{2}{For any natural number $n$, if $\forall x \in n. n \not\subseteq x$ then $\forall x \in n^+. n^+ \not\subseteq x$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$\forall x \in n. n \not\subseteq x$}}
	\step{c}{\pflet{$x \in n^+$}}
	\step{d}{\assume{for a contradiction $n^+ \subseteq x$}}
	\step{d}{$x \in n$ or $x = n$}
	\step{e}{\case{$x \in n$}}
	\begin{proof}
		\pf\ Then we have $n \subseteq n^+ \subseteq x$ contradicting \stepref{b}.
	\end{proof}
	\step{f}{\case{$x = n$}}
	\begin{proof}
		\pf\ Then we have $n \in n^+ \subseteq x = n$ and $n \subseteq n$ contradicting \stepref{b}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
\label{cor:n_notin_n}
For any natural number $n$ we have $n \notin n$.
\end{cor}

\begin{cor}
For any natural number $n$ we have $n \neq n^+$.
\end{cor}

\begin{df}[Transitive Set]
A set $E$ is a \emph{transitive} set iff, whenever $x \in y \in E$, then $x \in E$.
\end{df}

\begin{prop}
\label{prop:natural_number_transitive}
Every natural number is a transitive set.
\end{prop}

\begin{proof}
\pf
\step{1}{0 is a transitive set.}
\begin{proof}
	\pf\ Vacuously, if $x \in y \in 0$ then $x \in 0$.
\end{proof}
\step{2}{For any natural number $n$, if $n$ is a transitive set, then $n^+$ is a transitive set.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{aa}{\assume{$n$ is a transitive set.}}
	\step{b}{\pflet{$x \in y \in n^+$}}
	\step{c}{$y \in n$ or $y = n$}
	\step{d}{\case{$y \in n$}}
	\begin{proof}
		\step{i}{$x \in n$}
		\begin{proof}
			\pf\ \stepref{aa}, \stepref{b}, \stepref{d}.
		\end{proof}
		\step{ii}{$x \in n^+$}
	\end{proof}
	\step{e}{\case{$y = n$}}
	\begin{proof}
		\step{i}{$x \in n$}
		\begin{proof}
			\pf\ \stepref{b}, \stepref{e}
		\end{proof}
		\step{ii}{$x \in n^+$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any natural numbers $m$ and $n$, if $m^+ = n^+$ then $m = n$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$m$ and $n$ be natural numbers.}}
\step{2}{\assume{$m^+ = n^+$}}
\step{3}{$m \in m^+ = n^+$}
\step{4}{$m \in n$ or $m = n$}
\step{5}{$n \in n^+ = m^+$}
\step{6}{$n \in m$ or $n = m$}
\step{7}{We cannot have $m \in n$ and $n \in m$}
\begin{proof}
	\step{a}{\assume{for a contradiction $m \in n$ and $n \in m$}}
	\step{b}{$m \in m$}
	\begin{proof}
		\pf\ Since $m$ is a transitive set (Proposition \ref{prop:natural_number_transitive}).
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ This contradicts Proposition \ref{prop:natural_number_not_subset}.
	\end{proof}
\end{proof}
\step{8}{$m = n$}
\qed
\end{proof}

\begin{thm}[Recursion Theorem]
Let $X$ be a set. Let $a \in X$. Let $f : X \rightarrow X$. There exists a function $u : \omega \rightarrow X$ such that $u(0) = a$ and, for all $n \in \omega$, we have $u(n^+) = f(u(n))$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{C} = \{ A \in \mathcal{P}(\omega \times X) : (0,a) \in A \wedge \forall n \in \omega. \forall x \in X. (n,x) \in A \Rightarrow (n^+,f(x)) \in A \}$}}
\step{2}{$\mathcal{C} \neq \emptyset$}
\begin{proof}
	\pf\ $\omega \times X \in \mathcal{C}$
\end{proof}
\step{3}{\pflet{$u = \bigcap \mathcal{C}$}}
\step{4}{$u \in \mathcal{C}$}
\step{5}{$u$ is a function.}
\begin{proof}
	\step{a}{\pflet{$P(n)$ be the property: $\forall x,y \in X. (n,x) \in u \wedge (n,y) \in u \Rightarrow x = y$}}
	\step{b}{$P(0)$}
	\begin{proof}
		\step{i}{$\forall x \in X. (0,x) \in u \Rightarrow x = a$}
		\begin{proof}
			\pf\ If $(0,x) \in u$ and $x \neq a$ then $u - \{(0,x)\} \in \mathcal{C}$ and so $u - \{(0,x)\} \subseteq u$, which is impossible.
		\end{proof}
	\end{proof}
	\step{c}{For every natural number $n$, if $P(n)$ then $P(n^+)$.}
	\begin{proof}
		\step{i}{\pflet{$n$ be a natural number.}}
		\step{ii}{\assume{$P(n)$}}
		\step{iii}{\pflet{$x,y \in X$}}
		\step{iv}{\assume{$(n^+,x),(n^+,y) \in u$}}
		\step{v}{\pick\ $x',y' \in X$ such that $(n,x') \in u$, $(n,y') \in u$ and $f(x') = x$ and $f(y') = y$}
		\begin{proof}
			\pf\ If no such $x'$ exists then $u - \{(n^+,x)\} \in \mathcal{C}$ and so $u - \{(n^+,x)\} \subseteq u$ which is impossible. Similarly for $y'$.
		\end{proof}
		\step{vi}{$x' = y'$}
		\begin{proof}
			\pf\ \stepref{ii}
		\end{proof}
		\step{vii}{$x = y$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any natural number $n$, either $n = 0$ or there exists a natural number $m$ such that $n = m^+$.
\end{prop}

\begin{proof}
\pf\ Easy induction on $n$. \qed
\end{proof}

\begin{prop}
$\omega$ is a transitive set.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property $\forall x \in n. x \in \omega$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{3}{For any natural number $n$, if $P(n)$ then $P(n^+)$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$x \in n^+$}}
	\step{d}{$x \in n$ or $x = n$}
	\step{e}{\case{$x \in n$}}
	\begin{proof}
		\pf\ Then $x \in \omega$ by \stepref{b}.
	\end{proof}
	\step{f}{\case{$x = n$}}
	\begin{proof}
		\pf\ Then $x \in \omega$ by \stepref{a}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any natural number $n$ and any nonempty subset $E \subseteq n$, there exists $k \in E$ such that $\forall m \in E. k = m \vee k \in m$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: for any nonempty subset $E \subseteq n$, there exists $k \in E$ such that $\forall m \in E. k = m \vee k \in m$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Vacuous as there is no nonempty subset of 0.
\end{proof}
\step{3}{For any natural number $n$, if $P(n)$ then $P(n^+)$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$E$ be a nonempty subset of $n^+$}}
	\step{d}{\case{$E - \{n\} = \emptyset$}}
	\begin{proof}
		\pf\ Then $E = \{n\}$ so take $k = n$.
	\end{proof}
	\step{e}{\case{$E - \{n\} \neq \emptyset$}}
	\begin{proof}
		\step{i}{\pick\ $k \in E - \{n\}$ such that $\forall m \in E - \{n\}. k = m \vee k \in m$}
		\begin{proof}
			\pf\ By \stepref{b}.
		\end{proof}
		\step{ii}{$\forall m \in E. k = m \vee k \in m$}
		\begin{proof}
			\pf\ Since $k \in n$.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Arithmetic}

\begin{df}[Addition]
Define \emph{addition} $+$ on $\omega$ by recursion thus:
\begin{align*}
	m + 0 & = m \\
	m + n^+ & = (m + n)^+
\end{align*}
\end{df}

\begin{prop}
\label{prop:plus_assoc}
For all $m,n,p \in \omega$ we have
\[ m + (n + p) = (m + n) + p \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(p)$ be the property $\forall m,n \in \omega. m + (n + p) = (m + n) + p$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ $m + (n + 0) = m + n = (m + n) + 0$.
\end{proof}
\step{3}{$\forall p \in \omega. P(p) \Rightarrow P(p^+)$}
\begin{proof}
	\step{a}{\pflet{$p \in \omega$}}
	\step{b}{\assume{$P(p)$}}
	\step{c}{\pflet{$m,n \in \omega$}}
	\step{d}{$m + (n + p^+) = (m + n) + p^+$}
	\begin{proof}
		\pf
		\begin{align*}
			m + (n + p^+) & = m + (n + p)^+ \\
			& = (m + (n + p))^+ \\
			& = ((m + n) + p)^+ \\
			& = (m + n) + p^+
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:plus_comm}
For all $m,n \in \omega$, we have
\[ m + n = n + m \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(m)$ be the property $\forall n \in \omega. m + n = n + m$}}
\step{2}{$P(0)$}
\begin{proof}
	\step{a}{\pflet{$Q(n)$ be the property $0 + n = n + 0$}}
	\step{b}{$Q(0)$}
	\begin{proof}
		\pf\ Trivial.
	\end{proof}
	\step{c}{$\forall n \in \omega. Q(n) \Rightarrow Q(n^+)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$Q(n)$}}
		\step{iii}{$0 + n^+ = n^+ + 0$}
		\begin{proof}
			\pf
			\begin{align*}
			0 + n^+ & = (0 + n)^+ \\
			& = (n + 0)^+ & (\text{\stepref{ii}}) \\
			& = n^+ \\
			& = n^+ + 0
			\end{align*}
		\end{proof}
	\end{proof}
\end{proof}
\step{3}{$\forall m \in \omega. P(m) \Rightarrow P(m^+)$}
\begin{proof}
	\step{a}{\pflet{$m \in \omega$}}
	\step{b}{\assume{$P(m)$}}
	\step{c}{\pflet{$Q(n)$ be the property $m^+ + n = n + m^+$}}
	\step{d}{$Q(0)$}
	\begin{proof}
		\pf\ \stepref{2}
	\end{proof}
	\step{e}{$\forall n \in \omega. Q(n) \Rightarrow Q(n^+)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$Q(n)$}}
		\step{iii}{$Q(n^+)$}
		\begin{proof}
			\pf
			\begin{align*}
				m^+ + n^+ & = (m^+ + n)^+ \\
				& = (n + m^+)^+ & (\text{\stepref{ii}}) \\
				& = (n + m)^{++} \\
				& = (m + n)^{++} & (\text{\stepref{b}}) \\
				& = (m + n^+)^+ \\
				& = (n^+ + m)^+ & (\text{\stepref{b}}) \\
				& = n^+ + m^+
\end{align*}					
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Multiplication]
Define \emph{multiplication} $\cdot$ on $\omega$ by
\begin{align*}
	m0 & = 0\\
	mn^+ & = mn + m
\end{align*}
\end{df}

\begin{prop}
\label{prop:times_plus_distl}
For all $m,n,p \in \omega$, we have
\[ m(n+p) = mn + mp \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(p)$ be the statement $\forall m,n \in \omega. m(n+p) = mn+mp$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf
	\begin{align*}
		m(n+0) & = mn \\
		& = mn + 0 \\
		& = mn + m0
	\end{align*}
\end{proof}
\step{3}{$\forall p \in \omega. P(p) \Rightarrow P(p^+)$}
\begin{proof}
	\step{a}{\pflet{$p \in \omega$}}
	\step{b}{\assume{$P(p)$}}
	\step{c}{\pflet{$m,n \in \omega$}}
	\step{d}{$m(n+p^+) = mn+mp^+$}
	\begin{proof}
		\pf
		\begin{align*}
			m(n+p^+) & = m(n+p)^+ \\
			& = m(n+p) + m \\
			& = (mn + mp) + m & (\text{\stepref{b}}) \\
			& = mn + (mp + m) & (\text{Proposition \ref{prop:plus_assoc}}) \\
			& = mn + mp^+
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For all $m,n,p \in \omega$ we have
\[ m(np) = (mn)p \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(p)$ be the statement $\forall m,n \in \omega. m(np) = (mn)p$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf
	\begin{align*}
		m(n0) & = m0 \\
		& = 0 \\
		& = (mn)0
	\end{align*}
\end{proof}
\step{3}{$\forall p \in \omega. P(p) \Rightarrow P(p^+)$}
\begin{proof}
	\step{a}{\pflet{$p \in \omega$}}
	\step{b}{\assume{$P(p)$}}
	\step{c}{\pflet{$m,n \in \omega$}}
	\step{d}{$m(np^+) = (mn)p^+$}
	\begin{proof}
		\pf
		\begin{align*}
			m(np^+) & = m(np + n) \\
			& = m(np) + mn & (\text{Proposition \ref{prop:times_plus_distl}}) \\
			& = (mn)p + mn & (\text{\stepref{b}}) \\
			& = (mn)p^+
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For all $m,n \in \omega$, we have
\[ mn = nm \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(m)$ be the statement $\forall n \in \omega. mn = nm$}}
\step{2}{$P(0)$}
\begin{proof}
	\step{a}{\pflet{$Q(n)$ be the statement $0n = n0$}}
	\step{b}{$Q(0)$}
	\begin{proof}
		\pf\ Trivial.
	\end{proof}
	\step{c}{$\forall n \in \omega. Q(n) \Rightarrow Q(n^+)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$Q(n)$}}
		\step{iii}{$Q(n^+)$}
		\begin{proof}
			\pf
			\begin{align*}
				0n^+ & = 0n + 0 \\
				& = 0n \\
				& = n0 & (\text{\stepref{ii}}) \\
				& = 0 \\
				& = n^+0
			\end{align*}
		\end{proof}
	\end{proof}
\end{proof}
\step{3}{$\forall m \in \omega. P(m) \Rightarrow P(m^+)$}
\begin{proof}
	\step{a}{\pflet{$m \in \omega$}}
	\step{b}{\assume{$P(m)$}}
	\step{c}{\pflet{$Q(n)$ be the statement $m^+ n = n m^+$}}
	\step{d}{$Q(0)$}
	\begin{proof}
		\pf\ \stepref{2}
	\end{proof}
	\step{e}{$\forall n \in \omega. Q(n) \Rightarrow Q(n^+)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$Q(n)$}}
		\step{iii}{$Q(n^+)$}
		\begin{proof}
			\pf
			\begin{align*}
				m^+ n^+ & = m^+ n + m^+ \\
				& = (m^+ n + m)^+ \\
				& = (n m^+ + m)^+ & (\text{\stepref{ii}}) \\
				& = (nm + n + m)^+ \\
				& = (mn + m + n)^+ & (\text{\stepref{b}, Proposition \ref{prop:plus_assoc}, Proposition \ref{prop:plus_comm}}) \\
				& = (mn^+ + n)^+ \\
				& = (n^+ m + n)^+ & (\text{\stepref{b}}) \\
				& = n^+ m + n^+ \\
				& = n^+ m^+
			\end{align*}
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Exponentiation]
Define \emph{exponentiation} on $\omega$ by recursion:
\begin{align*}
m^0 & = 1 \\
m^{n^+} & = m^n m
\end{align*}
\end{df}

\begin{prop}
\label{prop:exp_add}
For all $m,n,p \in \omega$ we have
\[ m^{n+p} = m^n m^p \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{$m^{n+0} = m^nm^0$}
\begin{proof}
	\pf
	\begin{align*}
		m^{n+0} & = m^n \\
		& = m^n 1 \\
		& = m^n m^0
	\end{align*}
\end{proof}
\step{2}{If $m^{n+p} = m^nm^p$ then $m^{n+p^+} = m^n m^{p^+}$}
\begin{proof}
	\pf
	\begin{align*}
		m^{n+p^+} & = m^{n+p}m \\
		& = m^n m^p m \\
		& = m^n m^{p^+}
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
For all $m,n,p \in \omega$ we have
\[ (m^n)^p = m^{np} \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{$(m^n)^0 = m^{n0}$}
\begin{proof}
	\pf\ Both are equal to 1.
\end{proof}
\step{2}{If $(m^n)^p = m^{np}$ then $(m^n)^{p^+} = m^{np^+}$}
\begin{proof}
	\pf
	\begin{align*}
		(m^n)^{p^+} & = (m^n)^p m^n \\
		& = m^{np} m^n \\
		& = m^{np+n} & (\text{Proposition \ref{prop:exp_add}}) \\
		& = m^{np^+}
	\end{align*}
\end{proof}
\qed
\end{proof}

\section{Order on the Natural Numbers}

\begin{df}
Given natural numbers $m$ and $n$, we write $m < n$ iff $m \in n$.

We write $m \leq n$ iff $m < n \vee m = n$.
\end{df}

\begin{prop}
The relation $\leq$ is a total order on $\omega$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\leq$ is a partial order on $\omega$.}
\begin{proof}
	\step{a}{$<$ is transitive.}
	\begin{proof}
		\pf\ Proposition \ref{prop:natural_number_transitive}.
	\end{proof}
	\step{b}{We never have $m < n$ and $n < m$.}
	\begin{proof}
		\pf\ If $m < n$ and $n < m$ then $m < m$ by Proposition \ref{prop:natural_number_transitive}, contradicting Corollary \ref{cor:n_notin_n}.
	\end{proof}
	\qedstep
\end{proof}
\step{4}{For all $m,n \in \omega$, either $m \leq n$ or $n \leq m$.}
\begin{proof}
	\step{a}{\pflet{$P(n)$ be the statement: $\forall m \in \omega. m \leq n \vee n \leq m$}}
	\step{b}{$P(0)$}
	\begin{proof}
		\step{i}{\pflet{$Q(m)$ be the statement: $0 \leq m$}}
		\step{ii}{$Q(0)$}
		\begin{proof}
			\pf\ Since $0 \leq 0$.
		\end{proof}
		\step{iii}{$\forall m \in \omega. Q(m) \Rightarrow Q(m+1)$}
		\begin{proof}
			\pf\ If $0 \leq m$ then $0 < m+1$ by transitivity.
		\end{proof}
	\end{proof}
	\step{c}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$P(n)$}}
		\step{iii}{$P(n+1)$}
		\begin{proof}
			\step{one}{\pflet{$Q(m)$ be the property $m \leq n + 1 \vee n + 1 \leq m$}}
			\step{two}{$Q(0)$}
			\begin{proof}
				\pf\ \stepref{b}
			\end{proof}
			\step{three}{$\forall m \in \omega. Q(m) \Rightarrow Q(m+1)$}
			\begin{proof}
				\step{A}{\pflet{$m \in \omega$}}
				\step{B}{\assume{$Q(m)$}}
				\step{C}{\case{$m \leq n$}}
				\begin{proof}
					\pf\ Then $m < n+1$
				\end{proof}
				\step{D}{\case{$n < m$}}
				\begin{proof}
					\pf\ Then $n+1 < m+1$ by Proposition \ref{prop:succ_in_succ}, so $n+1 \leq m$.
				\end{proof}
				\step{E}{\case{$n = m$}}
				\begin{proof}
					\pf\ Then $n+1 = m+1$.
				\end{proof}
			\end{proof}
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any natural numbers $m$ and $n$, we have $m \in n$ if and only if $m \subsetneq n$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$m$ and $n$ be natural numbers.}}
\step{2}{If $m \in n$ then $m \subsetneq n$.}
\begin{proof}
	\pf\ Since $n$ is a transitive set, and $m \neq n$ by Corollary \ref{cor:n_notin_n}.
\end{proof}
\step{3}{If $m \subsetneq n$ then $m \in n$.}
\begin{proof}
	\step{a}{\assume{$m \subsetneq n$}}
	\step{b}{$n \notin m$}
	\begin{proof}
		\pf\ Proposition \ref{prop:natural_number_not_subset}.
	\end{proof}
	\step{c}{$m \neq n$}
	\step{d}{$m \in n$}
	\begin{proof}
		\pf\ Trichotomy.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:plus_mono}
For natural numbers $m$, $n$ and $k$, if $m < n$ then $m + k < n + k$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$m,n \in \omega$}}
\step{2}{\assume{$m < n$}}
\step{3}{$m + 0 < n + 0$}
\step{4}{$\forall k \in \omega. m + k < n + k \Rightarrow m + k^+ < n + k^+$}
\begin{proof}
	\pf\ By Proposition \ref{prop:succ_in_succ}.
\end{proof}
\qed
\end{proof}

\begin{prop}
For natural numbers $m$, $n$ and $k$, if $m < n$ and $k \neq 0$ then $mk < nk$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$m,n \in \omega$}}
\step{2}{\assume{$m < n$}}
\step{3}{$m1 < n1$}
\step{4}{For all $k \in \omega$, if $k \neq 0$ and $mk < nk$ then $m(k+1) < n(k+1)$}
\begin{proof}
	\pf
	\begin{align*}
		m(k+1) & = mk + m \\
		& < mk + n & (\text{Proposition \ref{prop:plus_mono}}) \\
		& < nk + n & (\text{Proposition \ref{prop:plus_mono}}) \\
		& = n(k+1)
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any nonempty set of natural numbers $E$, there exists $k \in E$ such that $\forall m \in E. k \leq m$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E \subseteq \omega$}}
\step{2}{\assume{there is no $k \in E$ such that $\forall m \in E. k \leq m$.} \prove{$E = \emptyset$}}
\step{3}{$\forall n \in \omega. n \notin E$}
\begin{proof}
	\step{a}{\pflet{$P(n)$ be the property: $\forall m < n. m \notin E$}}
	\step{b}{$P(0)$}
	\begin{proof}
		\pf\ Vacuous.
	\end{proof}
	\step{c}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
	\begin{proof}
		\step{i}{\pflet{$n \in \omega$}}
		\step{ii}{\assume{$\forall m < n. m \notin E$}}
		\step{iii}{$n \notin E$}
		\begin{proof}
			\pf\ From \stepref{2}.
		\end{proof}
		\step{iv}{$\forall m < n + 1. m \notin E$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:subset_finite}
Let $n$ be a natural number. Let $X$ be a proper subset of $n$. Then there exists $m < n$ such that $X \sim m$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: for every proper subset $X \subsetneq n$, there exists $m < n$ such that $X \sim m$.}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$X$ be a proper subset of $n+1$}}
	\step{d}{\case{$X - \{n\} = n$}}
	\begin{proof}
		\pf\ Then $X = n$ so $X \sim n < n+1$.
	\end{proof}
	\step{e}{\case{$X - \{n\} \subsetneq n$}}
	\begin{proof}
		\step{i}{\pick\ $m < n$ such that $X - \{n\} \sim m$}
		\step{ii}{$X \sim m$ or $X \sim m +1$}
		\begin{proof}
			\pf\ If $n \in X$ then $X \sim m + 1$. If $n \notin X$ then $X \sim m$.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:pigeonhole}
For every natural number $n$, we have $n$ is not equivalent to a proper subset of $n$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: every one-to-one function $n \rightarrow n$ is onto.}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ The only function $0 \rightarrow 0$ is $\emptyset$.
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\assume{$f : n+1 \rightarrow n+1$ is one-to-one.}}
	\step{d}{\pflet{$g : n \rightarrow n$ be the function
	\[ g(k) = \begin{cases}
	f(k) & \text{if } f(k) < n \\
	f(n) & \text{if } f(k) = n
	\end{cases} \]}}
	\begin{proof}
		\pf\ If $k < n$ and $f(k) = n$ then $f(n) < n$ since $f$ is one-to-one.
	\end{proof}
	\step{e}{$g$ is one-to-one.}
	\begin{proof}
		\step{i}{\pflet{$k,l < n$}}
		\step{ii}{\assume{$g(k) = g(l)$}}
		\step{iii}{\case{$f(k) < n$ and $f(l) < n$}}
		\begin{proof}
			\pf\ Then $f(k) = g(k) = g(l) = f(l)$ so $k = l$ since $f$ is one-to-one.
		\end{proof}
		\step{iv}{\case{$f(k) < n$ and $f(l) = n$}}
		\begin{proof}
			\pf\ Then $f(k) = g(k) = g(l) = f(n)$ contradicting the fact that $f$ is one-to-one.
		\end{proof}
		\step{v}{\case{$f(k) = n$ and $f(l) < n$}}
		\begin{proof}
			\pf\ Similar.
		\end{proof}
		\step{vi}{\case{$f(k) = n$ and $f(l) = n$}}
		\begin{proof}
			\pf\ Then $k = l$ since $f$ is one-to-one.
		\end{proof}
	\end{proof}
	\step{f}{$g$ maps $n$ onto $n$.}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{g}{$f$ maps $n+1$ onto $n+1$.}
	\begin{proof}
		\step{i}{\pflet{$l < n +1$}}
		\step{ii}{\case{$l < n$}}
		\begin{proof}
			\step{one}{\pick\ $k < n$ such that $g(k) = l$}
			\step{two}{$f(k) = l$ or $f(n) = l$}
		\end{proof}
		\step{iii}{\case{$l = n$}}
		\begin{proof}
			\step{one}{\case{$f(n) = n$}}
			\begin{proof}
				\pf\ Then $l \in \ran f$ as required.
			\end{proof}
			\step{two}{\case{$f(n) < n$}}
			\begin{proof}
				\step{A}{\pick\ $k < n$ such that $g(k) = f(n)$}
				\step{B}{$f(k) = n$}
			\end{proof}
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
Equivalent natural numbers are equal.
\end{cor}

\section{Finite Sets}

\begin{df}[Finite]
A set is \emph{finite} iff it is equivalent to a natural number; otherwise, it is \emph{infinite}.
\end{df}

\begin{prop}
No finite set is equivalent to one of its proper subsets.
\end{prop}

\begin{proof}
\pf\ From Proposition \ref{prop:pigeonhole}. \qed
\end{proof}

\begin{prop}
$\omega$ is infinite.
\end{prop}

\begin{proof}
\pf\ Since the function that maps $n$ to $n+1$ is a one-to-one correspondence between $\omega$ and $\omega - \{0\}$. \qed
\end{proof}

\begin{prop}
Every subset of a finite set is finite.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:subset_finite}. \qed
\end{proof}

\begin{df}[Number of Elements]
For any finite set $E$, the \emph{number of elements} in $E$, $\sharp(E)$, is the unique natural number such that $E \sim \sharp(E)$.
\end{df}

\begin{prop}
Let $E$ and $F$ be finite sets. If $E \subseteq F$ then $\sharp(E) \leq \sharp(F)$.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:subset_finite}. \qed
\end{proof}

\begin{prop}
\label{prop:size_of_union}
Let $E$ and $F$ be disjoint finite sets. Then $E \cup F$ is finite and $\sharp(E \cup F) = \sharp(E) \cup \sharp(F)$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the statement: $n \in \omega$ and for any $m \in \omega$, if $E \sim m$, $F \sim n$ and $E \cap F = \emptyset$, then $E \cup F \sim m + n$}}
\step{2}{$P(0)$}
\begin{proof}
	\step{a}{\pflet{$m \in \omega$}}
	\step{b}{\pflet{$E \sim m$ and $F \sim 0$}}
	\step{c}{$F = \emptyset$}
	\step{d}{$E \cup F = E \sim m = m + 0$}
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$m \in \omega$}}
	\step{d}{\pflet{$E \sim m$ and $F \sim n + 1$}}
	\step{e}{\assume{$E \cap F = \emptyset$}}
	\step{f}{\pick\ $f \in F$}
	\step{g}{$F - \{f\} \sim n$}
	\step{h}{$E \cap (F - \{f\}) = \emptyset$}
	\step{i}{$E \cup (F - \{f\}) \sim m + n$}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{j}{$E \cup F \sim m + n + 1$}
\end{proof}
\qed
\end{proof}

\begin{cor}
\label{cor:union_finite}
The union of two finite sets is finite.
\end{cor}

\begin{proof}
\pf\ Since, if $E$ and $F$ are finite, then $E \cup F = (E - F) \cup (E \cap F) \cup (F - E)$ and these are finite and disjoint. \qed
\end{proof}

\begin{prop}
\label{prop:size_product}
If $E$ and $F$ are finite sets then $E \times F$ is finite and $\sharp(E \times F) = \sharp(E) \sharp(F)$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the statement: $n \in \omega$ and for all $m \in \omega$, if $E \sim m$ and $F \sim n$ then $E \times F \sim mn$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ If $F \sim 0$ then $F = \emptyset$ so $E \times F = \emptyset \sim 0$.
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$m \in \omega$}}
	\step{d}{\assume{$E \sim m$ and $F \sim n + 1$}}
	\step{e}{\pick\ $f \in F$}
	\step{f}{$F - \{f\} \sim n$}
	\step{g}{$E \times (F - \{f\}) \sim mn$}
	\step{h}{$E \times F = (E \times (F - \{f\})) \cup (E \times \{f\})$}
	\step{i}{$E \times \{f\} \sim m$}
	\step{j}{$E \times F \sim mn + m$}
	\begin{proof}
		\pf\ Proposition \ref{prop:size_of_union}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any finite sets $E$ and $F$, we have $E^F$ is finite and $\sharp(E^F) = \sharp(E)^{\sharp(F)}$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: $n \in \omega$ and for all $m \in \omega$, if $E \sim m$ and $F \sim n$ then $E^F \sim m^n$}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Since $E^\emptyset = \{\emptyset\} \sim 1$
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \in \omega$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$m \in \omega$}}
	\step{d}{\pflet{$E \sim m$ and $F \sim n + 1$}}
	\step{e}{\pick\ $f \in F$}
	\step{f}{$F - \{f\} \sim n$}
	\step{g}{\pflet{$\phi : E^F \rightarrow E^{F - \{f\}} \times E$ be the function $\phi(g) = (g \restriction (F - \{f\}), g(f))$}}
	\step{H}{$\phi$ is a one-to-one correspondence}
	\step{i}{$\sharp(E^F) = m^{n+1}$}
	\begin{proof}
		\pf
		\begin{align*}
			\sharp(E^F) & = \sharp(E^{F - \{f\}} \times E) \\
			& = \sharp(E^{F - \{f\}}) \sharp(E) & (\text{Proposition \ref{prop:size_product}}) \\
			& = m^n m & (\text{\stepref{b}, \stepref{d}}) \\
			& = m^{n+1}
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
If $E$ is finite then $\mathcal{P} E$ is finite and $\sharp(\mathcal{P} E) = 2^{\sharp(E)}$.
\end{cor}

\begin{prop}
The union of a finite set of finite sets is finite.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: for any set $E$, if $E \sim n$ and every element of $E$ is finite, then $\bigcup E$ is finite.}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ Since $\bigcup \emptyset = \emptyset$ is finite.
\end{proof}
\step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\pflet{$E \sim n+1$}}
	\step{d}{\pick\ $X \in E$}
	\step{e}{$E - \{X\} \sim n$}
	\step{f}{$\bigcup(E - \{X\})$ is finite.}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{g}{$\bigcup E = \bigcup (E - \{X\}) \cup X$}
	\step{h}{$\bigcup E$ is finite.}
	\begin{proof}
		\pf\ Corollary \ref{cor:union_finite}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Every nonempty finite set of natural numbers has a greatest element.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: for every $E \subseteq \mathbb{N}$, if $E \sim n$ then $E$ has a greatest element.}}
\step{2}{$P(1)$}
\begin{proof}
	\pf\ Since $k$ is the greatest element of $\{k\}$.
\end{proof}
\step{3}{$\forall n \geq 1. P(n) \Rightarrow P(n+1)$}
\begin{proof}
	\step{a}{\pflet{$n \geq 1$}}
	\step{b}{\assume{$P(n)$}}
	\step{c}{\assume{$E \subseteq \omega$ and $E \sim n+1$}}
	\step{d}{\pick\ $k \in E$}
	\step{e}{\pflet{$l$ be the greatest element of $E - \{k\}$}}
	\step{f}{Either $k$ or $l$ is greatest in $E$.}
\end{proof}
\qed
\end{proof}

\end{document}

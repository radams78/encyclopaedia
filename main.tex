\documentclass{book}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage{hyperref}

\title{Mathematics}
\author{Robin Adams}

\newtheorem{ax}{Axiom}[section]
\newtheorem{axs}[ax]{Axiom Schema}
\newtheorem{prop}[ax]{Proposition}
\newtheorem{props}[ax]{Proposition Schema}
\newtheorem{cor}{Corollary}[ax]
\newtheorem{cors}{Corollary Schema}[ax]
\newtheorem{thm}[ax]{Theorem}
\newtheorem{thms}[ax]{Theorem Schema}
\newtheorem{lm}[ax]{Lemma}
\theoremstyle{definition}
\newtheorem{df}[ax]{Definition}
\newtheorem{dfs}[ax]{Definition Schema}

\newcommand{\dom}{\ensuremath{\operatorname{dom}}}
\newcommand{\ran}{\ensuremath{\operatorname{ran}}}
\newcommand{\spn}{\ensuremath{\operatorname{span}}}
\newcommand{\cl}{\ensuremath{\operatorname{cl}}}
\newcommand{\sgn}{\ensuremath{\operatorname{sgn}}}
\newcommand{\seg}{\ensuremath{\operatorname{seg}}}
\newcommand{\id}[1]{\ensuremath{\mathrm{id}_{#1}}}
\newcommand{\rank}{\ensuremath{\operatorname{rank}}}
\newcommand{\cf}{\ensuremath{\operatorname{cf}}}
\newcommand{\ssup}{\ensuremath{\operatorname{ssup}}}

\begin{document}

\maketitle

\chapter{Sets and Classes}

\section{Classes}

Our language is the language of first-order logic with equality over one primitive binary predicate $\in$. We call all the objects we reason about \emph{sets}. When $a \in b$, we say $a$ is a \emph{member} or \emph{element} of $b$, or $b$ \emph{contains} $a$. We write $b \ni a$ for $a \in b$, and $a \notin b$ for $\neg(a \in b)$. We write $\forall x \in a. \phi$ as an abbreviation for $\forall x(x \in a \rightarrow \phi)$, and $\exists x \in a. \phi$ as an abbreviation for $\exists x(x \in a \wedge \phi)$.

We shall speak informally of \emph{classes} as an abbreviation for talking about predicates. A \emph{class} is determined by a unary predicate $\phi[x]$ (possibly with parameters). We write $\{ x \mid \phi[x] \}$ or $\{ x : \phi[x] \}$ for the class determined by $\phi[x]$. We write '$a$ is an element of $\{x \mid \phi[x]\}$' or '$a \in \{x \mid \phi[x]\}$' for $\phi[a]$.

We write $\{t[x_1, \ldots, x_n] \mid P[x_1, \ldots, x_n] \}$ for 
\[ \{y \mid \exists x_1, \ldots, x_n (y = t[x_1, \ldots, x_n] \wedge P[x_1, \ldots, x_n]) \} \enspace . \]

We say two classes $\mathbf{A}$ and $\mathbf{B}$ are \emph{equal}, and write $\mathbf{A} = \mathbf{B}$, iff $\forall x (x \in \mathbf{A} \leftrightarrow x \in \mathbf{B})$.

\begin{props}
For any class $\mathbf{A}$, the following is a theorem.

\[ \mathbf{A} = \mathbf{A} \]
\end{props}

\begin{proof}
\pf\ We have $\forall x (x \in \mathbf{A} \Leftrightarrow x \in \mathbf{A})$. \qed
\end{proof}

\begin{props}
For any classes $\mathbf{A}$ and $\mathbf{B}$, the following is a theorem.

If $\mathbf{A} = \mathbf{B}$ then $\mathbf{B} = \mathbf{A}$.
\end{props}

\begin{proof}
\pf\ If $\forall x (x \in \mathbf{A} \Leftrightarrow x \in \mathbf{B})$ then $\forall x (x \in \mathbf{B} \Leftrightarrow x \in \mathbf{A})$. \qed
\end{proof}

\begin{props}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{C}$, the following is a theorem.

If $\mathbf{A} = \mathbf{B}$ and $\mathbf{B} = \mathbf{C}$ then $\mathbf{A} = \mathbf{C}$.
\end{props}

\begin{proof}
\pf\ If $\forall x (x \in \mathbf{A} \Leftrightarrow x \in \mathbf{B})$ and $\forall x (x \in \mathbf{B} \Leftrightarrow x \in \mathbf{C})$ then $\forall x (x \in \mathbf{A} \Leftrightarrow x \in \mathbf{C})$. \qed
\end{proof}

\subsection{Subclasses}

\begin{df}[Subclass]
We say a class $\mathbf{A}$ is a \emph{subclass} of $\mathbf{B}$, or $\mathbf{B}$ is a \emph{superclass} of $\mathbf{A}$, or $\mathbf{B}$ \emph{includes} $\mathbf{A}$, and write $\mathbf{A} \subseteq \mathbf{B}$ or $\mathbf{B} \supseteq \mathbf{A}$, iff every element of $\mathbf{A}$ is an element of $\mathbf{B}$. Otherwise we write $\mathbf{A} \nsubseteq \mathbf{B}$ or $\mathbf{B} \nsupseteq \mathbf{A}$.

We say $\mathbf{A}$ is a \emph{proper} subclass of $\mathbf{B}$, $\mathbf{B}$ is a \emph{proper} superclass of $\mathbf{A}$, or $\mathbf{B}$ \emph{properly} includes $\mathbf{A}$, and write $\mathbf{A} \subsetneq \mathbf{B}$ or $\mathbf{B} \supsetneq \mathbf{A}$, iff $\mathbf{A} \subseteq \mathbf{B}$ and $\mathbf{A} \neq \mathbf{B}$.
\end{df}

\begin{props}
For any class $\mathbf{A}$, the following is a theorem.

\[ \mathbf{A} \subseteq \mathbf{A} \]
\end{props}

\begin{proof}
\pf\ Every element of $\mathbf{A}$ is an element of $\mathbf{A}$. \qed
\end{proof}

\begin{props}
For any classes $\mathbf{A}$ and $\mathbf{B}$, the following is a theorem.

If $\mathbf{A} \subseteq \mathbf{B}$ and $\mathbf{B} \subseteq \mathbf{A}$ then $\mathbf{A} = \mathbf{B}$.
\end{props}

\begin{proof}
\pf\ If every element of $\mathbf{A}$ is an element of $\mathbf{B}$, and every element of $\mathbf{B}$ is an element of $\mathbf{A}$, then $\mathbf{A}$ and $\mathbf{B}$ have exactly the same elements. \qed
\end{proof}

\begin{props}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{C}$, the following is a theorem.

If $\mathbf{A} \subseteq \mathbf{B}$ and $\mathbf{B} \subseteq \mathbf{C}$ then $\mathbf{A} \subseteq \mathbf{C}$.
\end{props}

\begin{proof}
\pf\ If every element of $\mathbf{A}$ is an element of $\mathbf{B}$ and every element of $\mathbf{B}$ is an element of $\mathbf{C}$ then every element of $\mathbf{A}$ is an element of $\mathbf{C}$. \qed
\end{proof}

\subsection{Constructions of Classes}

\begin{df}[Empty Class]
The \emph{empty class} $\emptyset$ is $\{ x \mid \bot \}$. Every other class is \emph{nonempty}.
\end{df}

\begin{df}[Universal Class]
The \emph{universal class} $\mathbf{V}$ is $\{ x \mid \top \}$.
\end{df}

\begin{df}[Enumeration]
Given objects $a_1$, \ldots, $a_n$, we define the class $\{ a_1, \ldots, a_n \}$ to be the class $\{ x \mid x = a_1 \vee \cdots \vee x = a_n \}$.
\end{df}

\begin{df}[Intersection]
For any classes $\mathbf{A}$ and $\mathbf{B}$, the \emph{intersection} $\mathbf{A} \cap \mathbf{B}$ is $\{ x \mid x \in \mathbf{A} \wedge x \in \mathbf{B}\}$.
\end{df}

\begin{df}[Union]
For any classes $\mathbf{A}$ and $\mathbf{B}$, the \emph{union} $\mathbf{A} \cup \mathbf{B}$ is $\{ x \mid x \in \mathbf{A} \vee x \in \mathbf{B} \}$.
\end{df}

\begin{df}[Relative Complement]
Let $\mathbf{A}$ and $\mathbf{B}$ be classes. The \emph{relative complement} of $\mathbf{B}$ in $\mathbf{A}$ is the class $\mathbf{A} - \mathbf{B} := \{x \in \mathbf{A} \mid x \notin \mathbf{B} \}$.
\end{df}

\begin{df}[Symmetric Difference]
For any classes $\mathbf{A}$ and $\mathbf{B}$, the \emph{symmetric difference} is the class $\mathbf{A} + \mathbf{B} := (\mathbf{A} - \mathbf{B}) \cup (\mathbf{B} - \mathbf{A})$.
\end{df}

\begin{df}[Pairwise disjoint]
Let $\mathbf{A}$ be a class. We say the elements of $\mathbf{A}$ are \emph{pairwise disjoint} iff, for all $x, y \in \mathbf{A}$, if $x \cap y \neq \emptyset$ then $x = y$.
\end{df}

\section{Sets and the Axiom of Extensionality}
	
\begin{df}[Axiom of Extensionality]
The \emph{Axiom of Extensionality} is the statement: if two sets have exactly the same members, then they are equal.
\[ \forall x, y (\forall z (z \in x \Leftrightarrow z \in y) \Rightarrow x = y) \enspace . \]

When working in a theory with the Axiom of Extensionality, we may identify a set $a$ with the class $\{x \mid x \in a\}$. Our use of the symbols $\in$ and $=$ is consistent. We say a class $\mathbf{A}$ \emph{is a set} iff there exists a set $a$ such that $a = \mathbf{A}$; that is, $\{x \mid \phi[x]\}$ is a set iff $\exists a \forall x (x \in a \leftrightarrow \phi[x])$. Otherwise, $\mathbf{A}$ is a \emph{proper class}.
\end{df}

\begin{df}[Subset]
If $A$ is a set and $A \subseteq \mathbf{B}$, we say $A$ is a \emph{subset} of $\mathbf{B}$.
\end{df}

\begin{df}[Union]
The \emph{union} of a class $\mathbf{A}$ is $\{ x \mid \exists X \in \mathbf{A}. x \in X\}$.
We write $\bigcup_{P(x)} t(x)$ for $\bigcup \{ t(x) \mid P(x) \}$.
\end{df}

\begin{df}[Intersection]
The \emph{intersection} of a class $\mathbf{A}$ is $\{ x \mid \forall X \in \mathbf{A}. x \in X \}$. We write $\bigcap_{P(x)} t(x)$ for $\bigcap \{ t(x) \mid P(x) \}$.
\end{df}

\begin{df}[Power Class]
For any class $\mathbf{A}$, the \emph{power class} $\mathcal{P} \mathbf{A}$ is $\{ X \mid X \subseteq \mathbf{A} \}$.
\end{df}

\section{The Other Axioms}

\begin{df}[Pairing Axiom]
The \emph{Pairing Axiom} is the statement: for any sets $a$ and $b$, the class $\{a,b\}$ is a set.
\[ \forall a \forall b \exists c \forall x (x \in c \Leftrightarrow x = a \vee x = b) \]
\end{df}

\begin{df}[Union Axiom]
The \emph{Union Axiom} is the statement: for any set $A$, the class $\bigcup A$ is a set.
\[ \forall A \exists B \forall x (x \in B \Leftrightarrow \exists y (y \in A \wedge x \in y)) \]
\end{df}

\begin{df}[Comprehension Axiom Scheme]
The \emph{Comprehension Axiom Scheme} is the set of sentences of the form, for any class $\mathbf{A}$: If $\mathbf{A}$ is a subclass of a set then $\mathbf{A}$ is a set.

That is, for any property $P[x,y_1,\ldots,y_n]$:

For any sets $a_1$, \ldots, $a_n$ and $B$, the class $\{ x \in B \mid P[x,a_1, \ldots, a_n] \}$ is a set.
\[ \forall a_1, \ldots, a_n, B. \exists C. \forall x (x \in C \Leftrightarrow x \in B \wedge P[x,a_1, \ldots, a_n]) \]
\end{df}

\begin{df}[Replacement Axiom Scheme]
The \emph{Replacement Axiom Scheme} is the set of sentences of the form, for some property $P[x,y,z_1, \ldots, z_n]$:

For any sets $a_1$, \ldots, $a_n$, $B$, assume for all $x \in B$ there exists at most one $y$ such that $P[x,y,a_1, \ldots, a_n]$. Then $\{ y \mid \exists x \in B. P[x,y,a_1, \ldots, a_n]$ is a set.

\[ \forall a_1, \ldots, a_n, B (\forall x \in B. \forall y,y'(P[x,y,a_1, \ldots, a_n] \wedge P[x,y',a_1, \ldots, a_n] \Rightarrow y = y') \Rightarrow \]
\[ \exists C \forall y (y \in C \Leftrightarrow \exists x \in B. P[x,y,a_1, \ldots, a_n])) \]
\end{df}

\begin{df}[Power Set Axiom]
The \emph{Power Set Axiom} is the statement: the power class of a set is a set.
\[ \forall A \exists B \forall x (x \in B \Leftrightarrow \forall y (y \in x \Rightarrow y \in A)) \]
\end{df}

\begin{df}[Axiom of Infinity]
The \emph{Axiom of Infinity} is the statement: there exists a set $I$ such that $\emptyset \in I$ and $\forall x \in I. x \cup \{x\} \in I$.
\[ \exists I (\exists e \in I. \forall x. x \notin e \wedge \forall x \in I. \exists y \in I. \forall z (z \in y \Leftrightarrow z \in x \vee z = x)) \]
\end{df}

\begin{df}[Axiom of Choice]
The \emph{Axiom of Choice} is the statement: 
For any set $A$ of pairwise disjoint, nonempty sets, there exists a set $C$ such that, for all $x \in A$, we have $x \cap C$ has exactly one element.

\begin{align*}
& \forall A ( \forall x \in A. \exists y y \in x \wedge \\
& \forall x,y \in A. \forall z(z \in x \wedge z \in y \Rightarrow x = y) \Rightarrow \\
& \exists C. \forall x \in A. \exists y \forall z (z \in x \wedge z \in C \Leftrightarrow z = y))
\end{align*}
\end{df}

\begin{df}[Axiom of Regularity]
The \emph{Axiom of Regularity} is the statement:
for any $A$, if $A$ has a member, then there exists $m \in A$ such that $m \cap A = \emptyset$.

\[ \forall A (\exists x. x \in A \Rightarrow \exists m \in A. \neg \exists x (x \in m \wedge x \in A)) \]
\end{df}

\begin{df}[Zermelo Set Theory]
\emph{Zermelo set theory} is the theory whose axioms are:
\begin{itemize}
\item Extensionality
\item Pairing
\item Union
\item Comprehension
\item Power Set
\item Infinity
\item Choice
\item Regularity
\end{itemize}
We label theorems with Z when they are provable in Zermelo set theory.
\end{df}

\begin{df}[Zermelo-Fraenkel Set Theory]
\emph{Zermelo-Fraenkel set theory} is the theory whose axioms are:
\begin{itemize}
\item Extensionality
\item Union
\item Replacement
\item Power Set
\item Infinity
\item Choice
\item Regularity
\end{itemize}
We label theorems with ZFC when they are provable in Zermelo-Fraenkel set theory.
\end{df}

We label a theorem with FOL if it can be proved in first-order logic, i.e. from no axioms.

\section{ZFC Extends Z}

\begin{prop}[Z,ZFC]
The empty class $\emptyset$ is a set.
\end{prop}

\begin{proof}
\pf\ Immediate from the Axiom of Infinity. \qed
\end{proof}

\begin{prop}[ZFC]
The Axiom of Pairing is a theorem of ZFC.
\end{prop}

\begin{proof}
\pf
\step{0}{\pflet{$a,b$ be sets.}}
\step{1}{\pflet{$P(x,y)$ be the predicate $(x = \emptyset \wedge y = a) \vee (x = \mathcal{P} \emptyset \wedge y = b)$.}}
\step{2}{For all $x \in \mathcal{P} \mathcal{P} \emptyset$, there exists at most one $y$ such that $P(x,y)$.}
\begin{proof}
	\step{a}{\pflet{$x \in \mathcal{P} \mathcal{P} \emptyset$}}
	\step{b}{\pflet{$y$ and $y'$ be sets.}}
	\step{c}{\assume{$P(x,y)$ and $P(x,y')$}}
	\step{d}{$(x = \emptyset \wedge y = a) \vee (x = \mathcal{P} \emptyset \wedge y = b)$}
	\begin{proof}
		\pf\ From \stepref{c}.
	\end{proof}
	\step{e}{$(x = \emptyset \wedge y' = a) \vee (x = \mathcal{P} \emptyset \wedge y' = b)$}
	\begin{proof}
		\pf\ From \stepref{c}.
	\end{proof}
	\step{f}{$\emptyset \neq \mathcal{P} \emptyset$}
	\begin{proof}
		\pf\ Since $\emptyset \in \mathcal{P} \emptyset$ and $\emptyset \notin \emptyset$.
	\end{proof}
	\step{g}{$y = y'$}
\end{proof}
\step{3}{\pflet{$A$ be the set $\{ y \mid \exists x \in \mathcal{P} \mathcal{P} \emptyset. P(x,y)\}$.}}
\step{4}{$A = \{a,b\}$}
\qed
\end{proof}

\begin{props}[ZFC]
Every instance of the Comprehension Axiom Scheme is a theorem of ZFC.
\end{props}

\begin{proof}
\pf
\step{0}{\pflet{$P(x)$ be a predicate.}}
\step{1}{\pflet{$A$ be a set.}}
\step{2}{\pflet{$Q(x,y)$ be the predicate $P(x) \wedge y = x$.}}
\step{3}{For all $x \in A$, there exists at most one $y$ such that $Q(x,y)$.}
\begin{proof}
	\step{3a}{\pflet{$x \in A$}}
	\step{3b}{\pflet{$y$ and $y'$ be sets.}}
	\step{3c}{\assume{$Q(x,y)$ and $Q(x,y')$}}
	\step{3d}{$x \in A \wedge P(x) \wedge y = x \wedge y' = x$}
	\begin{proof}
		\pf\ From \stepref{3c}.
	\end{proof}
	\step{3e}{$y = y'$}
	\begin{proof}
		\pf\ From \stepref{3d}.
	\end{proof}
\end{proof}
\step{4}{\pflet{$B$ be the set $\{y \mid \exists x \in A. Q(x,y)\}$}}
\begin{proof}
	\pf\ This is a set by an Axiom of Replacement and \stepref{3}.
\end{proof}
\step{5}{$B = \{y \in A \mid P(y)\}$}
\begin{proof}
	\pf
	\begin{align*}
		y \in B & \Leftrightarrow \exists x \in A. Q(x,y) & (\text{\stepref{4}}) \\
		& \Leftrightarrow \exists x \in A (P(x) \wedge y = x) & (\text{\stepref{2}}) \\
		& \Leftrightarrow P(y)
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{cors}[ZFC]
Every axiom of Z is a theorem of ZFC.
\end{cors}

It follows that every theorem of Z is a theorem of ZFC.

\section{Consequences of the Axioms}

\begin{prop}[Z]
The union of two sets is a set.
\end{prop}

\begin{proof}
\pf\ Because $A \cup B = \bigcup \{A,B\}$. \qed
\end{proof}

\begin{props}[Z]
For any number $n$, the following is a theorem:

For any sets $a_1$, \ldots, $a_n$, the class $\{a_1, \ldots, a_n\} = \{x \mid x = a_1 \vee \cdots \vee x = a_n\}$ is a set.
\end{props}

\begin{proof}
\pf\ The case $n=1$ follows from Pairing since $\{a\} = \{a,a\}$.

If we have proved the theorem for $n$ we have $\{a_1, \ldots, a_n, a_{n+1}\} = \{a_1, \ldots, a_n\} \cup \{a_{n+1}\}$. \qed
\end{proof}

\begin{prop}[Z]
\label{prop:xnotinx}
No set is a member of itself.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x$ be any set.}}
\step{2}{\pick\ $m \in \{x\}$ such that $m \cap \{x\} = \emptyset$.}
\begin{proof}
	\pf\ Axiom of Regularity.
\end{proof}
\step{3}{$m = x$}
\step{4}{$x \cap \{x\} = \emptyset$}
\step{5}{$x \notin x$}
\qed
\end{proof}

\begin{cor}[Z]
The universal class $\mathbf{V}$ is a proper class.
\end{cor}

\begin{proof}
\pf\ If $\mathbf{V}$ is a set then $\mathbf{V} \in \mathbf{V}$, contradicting the Proposition. \qed
\end{proof}

\begin{prop}[Z]
There are no sets $a$ and $b$ such that $a \in b$ and $b \in a$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$a$ and $b$ be any sets.}}
\step{2}{\pick\ $m \in \{a,b\}$ such that $m \cap \{a,b\} = \emptyset$}
\step{3}{\case{$m = a$}}
\begin{proof}
	\pf\ Then $b \notin a$.
\end{proof}
\step{4}{\case{$m = b$}}
\begin{proof}
	\pf\ Then $a \notin b$.
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
The intersection of a set and a class is a set.
\end{prop}

\begin{proof}
\pf\ Immediate from Comprehension. \qed
\end{proof}

\begin{prop}[Z]
The relative complement of a class in a set is a set.
\end{prop}[Z]

\begin{proof}
\pf\ Immediate from Comprehension. \qed
\end{proof}

\begin{cor}[Z]
The symmetric difference of two sets is a set.
\end{cor}

\begin{prop}[Z]
The intersection of a nonempty class is a set.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\mathbf{A}$ be a nonempty class.}}
\step{2}{\pick\ $B \in \mathbf{A}$}
\step{3}{$\bigcap \mathbf{A} \subseteq B$}
\step{4}{$\bigcap \mathbf{A}$ is a set.}
\begin{proof}
	\pf\ By Comprehension.
\end{proof}
\qed
\end{proof}

\begin{props}[FOL]
\label{prop:powermono}
For any classes $\mathbf{A}$ and $\mathbf{B}$, the following is a theorem:

If $\mathbf{A} \subseteq \mathbf{B}$ then $\mathcal{P} \mathbf{A} \subseteq \mathcal{P} \mathbf{B}$.
\end{props}

\begin{proof}
\pf\ Every subset of $\mathbf{A}$ is a subset of $\mathbf{B}$. \qed
\end{proof}

\begin{props}[FOL]
\label{prop:unionmonotone}
For any classes $\mathbf{A}$ and $\mathbf{B}$, the following is a theorem:

If $\mathbf{A} \subseteq \mathbf{B}$ then $\bigcup \mathbf{A} \subseteq \bigcup \mathbf{B}$.
\end{props}

\begin{proof}
\pf\ If $x \in X \in \mathbf{A}$ then $x \in X \in \mathbf{B}$. \qed
\end{proof}

\begin{props}[Z]
\label{prop:UPA}
For any class $\mathbf{A}$, the following is a theorem:

\[ \mathbf{A} = \bigcup \mathcal{P} \mathbf{A} \]
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{A} \subseteq \bigcup \mathcal{P} \mathbf{A}$}
\begin{proof}
	\pf\ For all $x \in \mathbf{A}$ we have $x \in \{x\} \in \mathcal{P} \mathbf{A}$.
\end{proof}
\step{2}{$\bigcup \mathcal{P} \mathbf{A} \subseteq \mathbf{A}$}
\begin{proof}
	\step{a}{\pflet{$x \in \bigcup \mathcal{P} \mathbf{A}$}}
	\step{b}{\pick\ $X \in \mathcal{P} \mathbf{A}$ such that $x \in X$}
	\step{c}{$X \subseteq \mathbf{A}$}
	\step{d}{$x \in \mathbf{A}$}
\end{proof}
\qed
\end{proof}

\section{Transitive Classes}

\begin{df}[Transitive Class]
A class $\mathbf{A}$ is a \emph{transitive class} iff whenever $x \in y \in \mathbf{A}$ then $x \in \mathbf{A}$.
\end{df}

\begin{props}[FOL]
\label{prop:transitiveset}
For any class $\mathbf{A}$, the following is a theorem:

The following are equivalent.
\begin{enumerate}
\item
$\mathbf{A}$ is a transitive class.
\item
$\bigcup \mathbf{A} \subseteq \mathbf{A}$
\item
Every element of $\mathbf{A}$ is a subset of $\mathbf{A}$.
\item
$\mathbf{A} \subseteq \mathcal{P} \mathbf{A}$
\end{enumerate}
\end{props}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{props}[FOL]
\label{prop:uniontransitive}
For any class $\mathbf{A}$, the following is a theorem:

If $\mathbf{A}$ is a transitive class then $\bigcup \mathbf{A}$ is a transitive class.
\end{props}

\begin{proof}
\pf
\step{1}{\assume{$\mathbf{A}$ is a transitive class.}}
\step{2}{\pflet{$x \in y \in \bigcup \mathbf{A}$}}
\step{3}{$y \in \mathbf{A}$}
\begin{proof}
	\pf\ Since $\bigcup \mathbf{A} \subseteq \mathbf{A}$ by Proposition \ref{prop:transitiveset}.
\end{proof}
\step{4}{$x \in \bigcup \mathbf{A}$}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:powtransitive}
For any class $\mathbf{A}$, the following is a theorem:

We have $\mathbf{A}$ is a transitive class if and only if $\mathcal{P} \mathbf{A}$ is a transitive class.
\end{props}

\begin{proof}
\pf
\step{1}{If $\mathbf{A}$ is a transitive class then $\mathcal{P} \mathbf{A}$ is a transitive class.}
\begin{proof}
	\step{a}{\assume{$\mathbf{A}$ is a transitive class.}}
	\step{b}{$\mathbf{A} \subseteq \mathcal{P} \mathbf{A}$}
	\begin{proof}
		\pf\ Proposition \ref{prop:transitiveset}.
	\end{proof}
	\step{c}{$\mathcal{P} \mathbf{A} \subseteq \mathcal{P} \mathcal{P} \mathbf{A}$}
	\begin{proof}
		\pf\ Proposition \ref{prop:powermono}.
	\end{proof}
	\step{d}{$\mathcal{P} \mathbf{A}$ is a transitive class.}
	\begin{proof}
		\pf\ Proposition \ref{prop:transitiveset}.
	\end{proof}
\end{proof}
\step{2}{If $\mathcal{P} \mathbf{A}$ is a transitive class then $\mathbf{A}$ is a transitive class.}
\begin{proof}
	\step{a}{\assume{$\mathcal{P} \mathbf{A}$ is a transitive class.}}
	\step{b}{$\bigcup \mathcal{P} \mathbf{A} \subseteq \mathcal{P} \mathbf{A}$}
	\begin{proof}
		\pf\ Proposition \ref{prop:transitiveset}.
	\end{proof}
	\step{c}{$\mathbf{A} \subseteq \mathcal{P} \mathbf{A}$}
	\begin{proof}
		\pf\ Proposition \ref{prop:UPA}.
	\end{proof}
	\step{d}{$\mathbf{A}$ is a transitive class.}
	\begin{proof}
		\pf\ Proposition \ref{prop:transitiveset}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{props}[FOL]
For any class $\mathbf{A}$, the following is a theorem:

If every member of $\mathbf{A}$ is a transitive set then $\bigcup \mathbf{A}$ is a transitive class.
\end{props}

\begin{proof}
\pf
\step{1}{\assume{Every member of $\mathbf{A}$ is a transitive set.}}
\step{2}{\pflet{$x \in y \in \bigcup \mathbf{A}$}}
\step{3}{\pick\ $A \in \mathbf{A}$ such that $y \in A$.}
\step{4}{$x \in A$}
\begin{proof}
	\pf\ Since $A$ is a transitive set.
\end{proof}
\step{5}{$x \in \bigcup \mathbf{A}$}
\qed
\end{proof}

\begin{props}[FOL]
For any class $\mathbf{A}$, the following is a theorem:

If every member of $\mathbf{A}$ is a transitive set then $\bigcap \mathbf{A}$ is a transitive class.
\end{props}

\begin{proof}
\pf
\step{1}{\assume{Every member of $\mathbf{A}$ is a transitive set.}}
\step{2}{\pflet{$x \in y \in \bigcap \mathbf{A}$} \prove{$x \in \bigcap \mathbf{A}$}}
\step{3}{\pflet{$A \in \mathbf{A}$}}
\step{4}{$y \in A$}
\step{5}{$x \in A$}
\begin{proof}
	\pf\ Since $A$ is a transitive set.
\end{proof}
\qed
\end{proof}

\chapter{Relations}

\section{Ordered Pairs}

\begin{df}[Ordered Pair]
For any sets $a$ and $b$, the \emph{ordered pair} $(a,b)$ is defined to be $\{ \{ a \}, \{a , b \} \}$.
\end{df}

\begin{thm}[Z]
For any sets $a$, $b$, $c$, $d$, we have $(a,b) = (c,d)$ if and only if $a = c$ and $b = d$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $(a,b) = (c,d)$ then $a = c$ and $b = d$.}
\begin{proof}
	\step{a}{\assume{$\{\{a\},\{a,b\}\} = \{\{c\},\{c,d\}\}$}}
	\step{b}{$\bigcap \{\{a\},\{a,b\}\} = \bigcap \{\{c\},\{c,d\}\}$}
	\step{c}{$\{a\} = \{c\}$}
	\step{d}{$a=c$}
	\step{e}{$\bigcup\{\{a\},\{a,b\}\} = \bigcup \{\{c\},\{c,d\}\}$}
	\step{f}{$\{a,b\} = \{c,d\}$}
	\step{g}{$b = c$ or $b = d$}
	\step{h}{$a = d$ or $b = d$}
	\step{i}{If $b = c$ and $a = d$ then $b = d$}
	\begin{proof}
		\pf\ By \stepref{d}.
	\end{proof}
	\step{j}{$b = d$}
	\begin{proof}
		\pf\ From \stepref{g}, \stepref{h}, \stepref{i}.
	\end{proof}
\end{proof}
\step{2}{If $a = c$ and $b = d$ then $(a,b) = (c,d)$.}
\begin{proof}
	\pf\ First-order logic.
\end{proof}
\qed
\end{proof}

\begin{df}[Cartesian Product]
The \emph{Cartesian product} of classes $\mathbf{A}$ and $\mathbf{B}$ is the class $\mathbf{A} \times \mathbf{B} := \{(x,y) \mid x \in \mathbf{A}, y \in \mathbf{B}\}$.
\end{df}

\begin{prop}[Z]
For any sets $A$ and $B$, the class $A \times B$ is a set.
\end{prop}

\begin{proof}
\pf\ It is a subset of $\mathcal{P} \mathcal{P} (A \cup B)$. \qed
\end{proof}

\begin{props}[Z]
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{C}$, the following is a theorem:

\[ \mathbf{A} \times (\mathbf{B} \cup \mathbf{C}) = (\mathbf{A} \times \mathbf{B}) \cup (\mathbf{A} \times \mathbf{C}) \]
\end{props}

\begin{proof}
\pf
\begin{align*}
(x,y) \in \mathbf{A} \times (\mathbf{B} \cup \mathbf{C}) & \Leftrightarrow x \in \mathbf{A} \wedge (y \in \mathbf{B} \vee y \in \mathbf{C}) \\
& \Leftrightarrow (x \in \mathbf{A} \wedge y \in \mathbf{B}) \vee (x \in \mathbf{A} \wedge y \in \mathbf{C}) \\
& \Leftrightarrow (x,y) \in (\mathbf{A} \times \mathbf{B}) \cup (\mathbf{A} \times \mathbf{C}) & \qed
\end{align*}
\end{proof}

\begin{props}[Z]
For any classes $\mathbf{A}$ and $\mathbf{B}$, the following is a theorem:

If $\mathbf{A} \times \mathbf{B} = \mathbf{A} \times \mathbf{C}$ and $\mathbf{A}$ is nonempty then $\mathbf{B} = \mathbf{C}$.
\end{props}

\begin{proof}
\pf
\step{1}{\pick\ $a \in \mathbf{A}$}
\step{2}{For all $x$ we have $x \in \mathbf{B}$ iff $x \in \mathbf{C}$.}
\begin{proof}
	\pf
	\begin{align*}
		x \in \mathbf{B} & \Leftrightarrow (a,x) \in \mathbf{A} \times \mathbf{B} \\
		& \Leftrightarrow (a,x) \in \mathbf{A} \times \mathbf{C} \\
		& \Leftrightarrow x \in \mathbf{C}
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
For any classes $\mathbf{A}$ and $\mathbf{B}$, the following is a theorem:

\[ \mathbf{A} \times \bigcup \mathbf{B} = \{ (a,b) \mid \exists Y \in \mathbf{B}. (a \in \mathbf{A} \wedge b \in Y) \} \]
\end{props}

\begin{proof}
\pf
\begin{align*}
(x,y) \in A \times \bigcup \mathbf{B} & \Leftrightarrow x \in A \wedge \exists Y \in \mathbf{B}. y \in Y \\
& \Leftrightarrow \exists Y \in \mathbf{B} (x \in A \wedge y \in Y) & \qed
\end{align*}
\end{proof}

\section{Relations}

\begin{df}[Relation]
A \emph{relation} $\mathbf{R}$ between classes $\mathbf{A}$ and $\mathbf{B}$ is a subclass of $\mathbf{A} \times \mathbf{B}$.

A \emph{(binary) relation on $\mathbf{A}$} is a relation between $\mathbf{A}$ and $\mathbf{A}$.

We write $x \mathbf{R} y$ for $(x,y) \in \mathbf{R}$.
\end{df}

\subsection{Identity Functions}

\begin{df}[Identity Function]
For any class $\mathbf{A}$, the \emph{identity function} or \emph{diagonal relation} $\mathrm{id}_\mathbf{A}$ on $\mathbf{A}$ is
\[ \mathrm{id}_\mathbf{A} := \{(x,x) \mid x \in \mathbf{A} \} \enspace . \]
\end{df}

\subsection{Inverses}

\begin{df}[Inverse]
The \emph{inverse} of a relation $\mathbf{R}$ between $\mathbf{A}$ and $\mathbf{B}$ is the relation $\mathbf{R}^{-1}$ between $\mathbf{B}$ and $\mathbf{A}$ defined by
\[ b \mathbf{R}^{-1} a \Leftrightarrow a \mathbf{R} b \enspace . \]
\end{df}

\begin{props}[Z]
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{R}$, the following is a theorem:

If $\mathbf{R}$ is a relation between $\mathbf{A}$ and $\mathbf{B}$, we have $(\mathbf{R}^{-1})^{-1} = \mathbf{R}$.
\end{props}

\begin{proof}
\pf
\begin{align*}
x (\mathbf{R}^{-1})^{-1} y & \Leftrightarrow y \mathbf{R}^{-1} x \\
& \Leftrightarrow x \mathbf{R} y & \qed
\end{align*}
\end{proof}

\subsection{Composition}

\begin{df}[Composition]
Let $\mathbf{R}$ be a relation between $\mathbf{A}$ and $\mathbf{B}$, and $\mathbf{S}$ be a relation between $\mathbf{B}$ and $\mathbf{C}$. The \emph{composition} $\mathbf{S} \circ \mathbf{R}$ is the relation between $\mathbf{A}$ and $\mathbf{C}$ defined by
\[ a (\mathbf{S} \circ \mathbf{R}) c \Leftrightarrow \exists b (a \mathbf{R} b \wedge b \mathbf{S} c) \enspace. \]
\end{df}

\begin{props}[Z]
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$, $\mathbf{R}$ and $\mathbf{S}$, the following is a theorem:

If $\mathbf{R}$ is a relation between $\mathbf{A}$ and $\mathbf{B}$, and $\mathbf{S}$ is a relation between $\mathbf{B}$ and $\mathbf{C}$, then
\[ (\mathbf{S} \circ \mathbf{R})^{-1} = \mathbf{R}^{-1} \circ \mathbf{S}^{-1} \enspace . \]
\end{props}

\begin{proof}
\pf
\begin{align*}
z(\mathbf{S} \circ \mathbf{R})^{-1}x & \Leftrightarrow x(\mathbf{S} \circ \mathbf{R})z \\
& \Leftrightarrow \exists y. (x \mathbf{R} y \wedge y \mathbf{S}z) \\
& \Leftrightarrow \exists y. (y \mathbf{R}^{-1} x \wedge z \mathbf{S}^{-1} y) \\
& \Leftrightarrow z (\mathbf{R}^{-1} \circ \mathbf{S}^{-1}) x & \qed
\end{align*}
\end{proof}

\subsection{Properties of Relaitons}

\begin{df}[Reflexive]
Let $\mathbf{R}$ be a binary relation on $\mathbf{A}$. Then $\mathbf{R}$ is \emph{reflexive} on $\mathbf{A}$ iff $\forall x \in \mathbf{A}. (x,x) \in \mathbf{R}$.
\end{df}

\begin{props}[Z]
\label{prop:invref}
For any classes $\mathbf{A}$ and $\mathbf{R}$, the following is a theorem:

If $\mathbf{R}$ is a reflexive relation on $\mathbf{A}$ then so is $\mathbf{R}^{-1}$.
\end{props}

\begin{proof}
\pf
\step{1}{\pflet{$x \in \mathbf{A}$}}
\step{2}{$x \mathbf{R} x$}
\begin{proof}
	\pf\ Since $\mathbf{R}$ is reflexive.
\end{proof}
\step{3}{$x \mathbf{R}^{-1} x$}
\qed
\end{proof}

\begin{df}[Irreflexive]
A relation $\mathbf{R}$ is \emph{irreflexive} iff there is no $x$ such that $(x,x) \in \mathbf{R}$.
\end{df}

\begin{df}[Symmetric]
A relation $\mathbf{R}$ is \emph{symmetric} iff, whenever $x\mathbf{R}y$, then $y\mathbf{R}x$.
\end{df}

\begin{df}[Antisymmetric]
A relation $\mathbf{R}$ is \emph{antisymmetric} iff, whenever $x \mathbf{R} y$ and $y \mathbf{R} x$, then $x = y$.
\end{df}

\begin{props}[Z]
\label{prop:invantisym}
For any classes $\mathbf{A}$ and $\mathbf{R}$, the following is a theorem:

If $\mathbf{R}$ is an antisymmetric relation on $\mathbf{A}$ then so is $\mathbf{R}^{-1}$.
\end{props}

\begin{proof}
\pf
\step{1}{\assume{$x \mathbf{R}^{-1} y$ and $y \mathbf{R}^{-1} x$}}
\step{2}{$y \mathbf{R} x$ and $x \mathbf{R} y$}
\step{3}{$x = y$}
\begin{proof}
	\pf\ Since $\mathbf{R}$ is antisymmetric.
\end{proof}
\qed
\end{proof}

\begin{df}[Transitive]
A relation $\mathbf{R}$ is \emph{transitive} iff, whenever $x\mathbf{R}y$ and $y \mathbf{R} z$, then $x\mathbf{R} z$.
\end{df}

\begin{props}[Z]
\label{prop:invtrans}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{R}$, the following is a theorem:

If $\mathbf{R}$ is a transitive relation between $\mathbf{A}$ and $\mathbf{B}$ then $\mathbf{R}^{-1}$ is transitive.
\end{props}

\begin{proof}
\pf
\step{1}{\assume{$(x,y), (y,z) \in \mathbf{R}^{-1}$}}
\step{2}{$(y,x),(z,y) \in \mathbf{R}$}
\step{3}{$(z,x) \in \mathbf{R}$}
\step{4}{$(x,z) \in \mathbf{R}^{-1}$}
\qed
\end{proof}

\begin{prop}[Z]
For any relation $R$ on a set $A$, there exists a smallest transitive relation on $A$ that includes $R$.
\end{prop}

\begin{proof}
\pf\ The relation is $\bigcap \{ S \in \mathcal{P} A^2 \mid R \subseteq S, S \text{ is transitive} \}$. \qed
\end{proof}

\begin{df}[Transitive Closure]
For any relation $R$ on a set $A$, the \emph{transitive closure} of $R$ is the smallest transitive relation that includes $R$.
\end{df}

\begin{df}[Minimal]
Let $\mathbf{R}$ be a relation on $\mathbf{A}$. An element $m \in \mathbf{A}$ is \emph{minimal} iff there is no $x \in \mathbf{A}$ such that $x \mathbf{R} m$.
\end{df}

\begin{df}[Maximal]
Let $\mathbf{R}$ be a relation on $\mathbf{A}$. An element $m \in \mathbf{A}$ is \emph{maximal} iff there is no $x \in \mathbf{A}$ such that $m \mathbf{R} x$.
\end{df}

\section{n-ary Relations}

\begin{dfs}
For any sets $a_1$, \ldots, $a_n$, define the \emph{ordered $n$-tuple} $(a_1, \ldots, a_n)$ by
\begin{align*}
(a_1) & := a_1 \\
(a_1, \ldots, a_n, a_{n+1}) & = ((a_1, \ldots, a_n), a_{n+1})
\end{align*}
\end{dfs}

\begin{dfs}
An \emph{$n$-ary relation on $\mathbf{A}$} is a class of ordered $n$-tuples all of whose components are in $\mathbf{A}$.
\end{dfs}

\section{Well Founded Relations}

\begin{df}[Well Founded]
A relation $\mathbf{R}$ on a class $\mathbf{A}$ is \emph{well founded} iff:
\begin{itemize}
\item for all $a \in A$, the class $\{ x \in \mathbf{A} \mid x \mathbf{R} a \}$ is a set;
\item every nonempty subset of $\mathbf{A}$ has an $\mathbf{R}$-minimal element.
\end{itemize}
\end{df}

\begin{prop}[Z]
\label{prop:inwellfounded}
For any class $\mathbf{A}$, the relation $\{ (x,y) \in \mathbf{A}^2 \mid x \in y \}$ is well founded.
\end{prop}

\begin{proof}
\pf
\step{1}{For all $a \in \mathbf{A}$, the class $\{ x \in \mathbf{A} \mid x \in a \}$ is a set.}
\begin{proof}
	\pf\ It is a subclass of $a$.
\end{proof}
\step{2}{Every nonempty subset of $\mathbf{A}$ has an $\in$-minimal element.}
\begin{proof}
	\step{a}{\pflet{$C$ be a nonempty subset of $\mathbf{A}$}}
	\step{b}{\pick\ $m \in C$ such that $m \cap C = \emptyset$}
	\begin{proof}
		\pf\ Axiom of Regularity.
	\end{proof}
	\step{c}{$m$ is $\in$-minimal in $C$.}
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:leastelement}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{R}$, the following is a theorem:

Assume $\mathbf{R}$ is a well founded relation on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$ is nonempty. Then $\mathbf{B}$ has an $\mathbf{R}$-minimal element.
\end{props}

\begin{proof}
\pf
\step{1}{\pick\ $b \in \mathbf{B}$}
\step{2}{\pflet{$S = \{ x \in \mathbf{B} \mid x \mathbf{R} b \}$}}
\begin{proof}
	\pf\ $S$ is a set because it is a subclass of $\{ x \in \mathbf{A} \mid x \mathbf{R} b \}$.
\end{proof}
\step{3}{\case{$S = \emptyset$}}
\begin{proof}
	\pf\ In this case $b$ is an $\mathbf{R}$-minimal element of $\mathbf{B}$.
\end{proof}
\step{4}{\case{$S \neq \emptyset$}}
\begin{proof}
	\pf\ In this cases $S$ has an $\mathbf{R}$-minimal element, which is an $\mathbf{R}$-minimal element of $\mathbf{B}$.
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:subwellfounded}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{R}$, the following is a theorem:

Assume $\mathbf{R}$ is a well founded relation on $\mathbf{B}$ and $\mathbf{A} \subseteq \mathbf{B}$. Then $\mathbf{R} \cap \mathbf{A}^2$ is a well founded relation on $\mathbf{A}$.
\end{props}

\begin{proof}
\pf
\step{0}{\pflet{$\mathbf{R}' = \mathbf{R} \cap \mathbf{A}^2$}}
\step{1}{For all $a \in \mathbf{A}$, the class $\{ x \in \mathbf{A} \mid x \mathbf{R}' a \}$ is a set.}
\begin{proof}
	\pf\ By Comprehension since it is a subclass of $\{ x \in \mathbf{B} \mid x \mathbf{R} a \}$.
\end{proof}
\step{2}{Every nonempty subset of $\mathbf{A}$ has an $\mathbf{R}'$-minimal element.}
\begin{proof}
	\pf\ It is a nonempty subset of $\mathbf{B}$ and so has an $\mathbf{R}$-minimal element, which is also an $\mathbf{R}'$-minimal element.
\end{proof}
\qed
\end{proof}

\begin{thms}[Transfinite Induction Principle (Z)]
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{R}$, the following is a theorem:

Assume $\mathbf{R}$ is a well founded relation on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Assume that, for all $t \in \mathbf{A}$,
\[ \{ x \in \mathbf{A} \mid x \mathbf{R} t \} \subseteq \mathbf{B} \Rightarrow t \in \mathbf{B} \enspace . \]
Then $\mathbf{B} = \mathbf{A}$.
\end{thms}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $\mathbf{B} \neq \mathbf{A}$}}
\step{2}{\pick\ an $\mathbf{R}$-minimal element $m$ of $\mathbf{A} - \mathbf{B}$.}
\begin{proof}
	\pf\ Proposition \ref{prop:leastelement}.
\end{proof}
\step{3}{$\{ x \in \mathbf{A} \mid x \mathbf{R} m \} \subseteq \mathbf{B}$}
\begin{proof}
	\pf\ By minimality of $m$.
\end{proof}
\step{4}{$m \in \mathbf{B}$}
\qedstep
\begin{proof}
	\pf\ This is a contradiction.
\end{proof}
\qed
\end{proof}

\begin{thm}[Z]
The transitive closure of a well founded relation on a set is well founded.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$R$ be a well founded relation on the set $A$.}}
\step{2}{\pflet{$R^t$ be the transitive closure of $R$.}}
\step{3}{For any $x,y \in A$, if $x R^t y$ then there exists $z \in A$ such that $z R y$.}
\begin{proof}
	\pf\ $\{ (x,y) \in A^2 \mid \exists z \in A. zRy \}$ is a transitive relation on $A$ that includes $R$.
\end{proof}
\step{4}{\pflet{$B$ be a nonempty subset of $A$.}}
\step{5}{\pick\ an $R$-minimal element $b$ of $B$.}
\step{6}{$b$ is $R^t$-minimal in $B$.}
\begin{proof}
	\pf\ If there exists $x$ such that $x R^t b$ then there exists $z$ such that $z R b$ by \stepref{3}.
\end{proof}
\qed
\end{proof}

\begin{df}[Initial Segment]
Let $\mathbf{R}$ be a relation on $\mathbf{A}$ and $a \in \mathbf{A}$. The \emph{initial segment} up to $a$ is
\[ \seg a := \{ x \in \mathbf{A} \mid x \mathbf{R} a \} \enspace . \]
\end{df}

\begin{thms}[Transfinite Recursion Theorem Schema (ZFC)]
For any classes $\mathbf{A}$, $\mathbf{R}$ and any property $G[x,y,z]$, there exists a class $\mathbf{F}$ such that, for any class $\mathbf{F}'$ the following is a theorem:

Assume that $\mathbf{R}$ is a well-founded relation on $\mathbf{A}$. Assume that, for any $f$ and $t$, there exists a unique $z$ such that $G[f,t,z]$. Then $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{V}$ such that, for all $t \in \mathbf{A}$, we have $\mathbf{F} \restriction \seg t$ is a set and
\[ G[\mathbf{F} \restriction \seg t, t, \mathbf{F}(t)] \enspace . \]

If $\mathbf{F}' : \mathbf{A} \rightarrow \mathbf{V}$ satisfies that, for all $t \in \mathbf{A}$, we have $\mathbf{F}' \restriction \seg t$ is a set and $G[\mathbf{F}' \restriction \seg t, t, \mathbf{F}'(t)]$, then $\mathbf{F}' = \mathbf{F}$.
\end{thms}

\begin{proof}
\pf
\step{1}{For $B$ a subset of $\mathbf{A}$, let us say a function $v : B \rightarrow \mathbf{V}$ is \emph{acceptable} iff, for all $x \in B$, we have $\seg x \subseteq B$ and $G[v \restriction \seg x, x, v(x)]$}
\step{2}{\pflet{$\mathbf{K}$ be the class of all acceptable functions.}}
\step{3}{\pflet{$\mathbf{F} = \bigcup \mathbf{K}$}}
\step{4}{For all $B,C \subseteq \mathbf{A}$, given $v_1 : B \rightarrow \mathbf{V}$ and $v_2 : C \rightarrow \mathbf{V}$ acceptable and $x \in B \cap C$, we have $v_1(x) = v_2(x)$}
\begin{proof}
	\step{a}{\assume{as transfinite induction hypothesis $\forall y \mathbf{R} x. y \in B \cap C \Rightarrow v_1(y) = v_2(y)$}}
	\step{b}{$v_1 \restriction \seg x = v_2 \restriction \seg x$}
	\step{c}{$G[v_1 \restriction \seg x, x, v_1(x)]$}
	\step{d}{$G[v_2 \restriction \seg x, x, v_2(x)]$}
	\step{e}{$v_1(x) = v_2(x)$}
\end{proof}
\step{5}{$\mathbf{F}$ is a function.}
\begin{proof}
	\step{a}{\assume{$(x,y),(x,z) \in \mathbf{F}$}}
	\step{b}{\pick\ acceptable $v_1 : B \rightarrow \mathbf{V}$ and $v_2 : C \rightarrow \mathbf{V}$ such that $v_1(x) = y$ and $v_2(x) = z$}
	\step{c}{$y = z$}
	\begin{proof}
		\pf\ By \stepref{4}.
	\end{proof}
\end{proof}
\step{6}{For all $t \in \dom \mathbf{F}$, we have $\mathbf{F} \restriction \seg t$ is a set and $G[\mathbf{F} \restriction \seg t, t, \mathbf{F}(t)]$}
\begin{proof}
	\step{a}{\pflet{$t \in \dom \mathbf{F}$}}
	\step{b}{\pick\ an acceptable $v : A \rightarrow \mathbf{V}$ such that $t \in A$}
	\step{c}{For all $y \mathbf{R} x$ we have $v(y) = \mathbf{F}(y)$}
	\step{d}{$\mathbf{F} \restriction \seg x = v \restriction \seg x$}
	\step{e}{$G[v \restriction \seg x, x, v(x)]$}
	\step{f}{$G[\mathbf{F} \restriction \seg x, x, \mathbf{F}(x)]$}
\end{proof}
\step{7}{$\dom \mathbf{F} = \mathbf{A}$}
\begin{proof}
	\step{a}{\pflet{$x \in \mathbf{A}$}}
	\step{b}{\assume{as transfinite induction hypothesis $\forall y \mathbf{R} x. y \in \mathbf{A}$}}
	\step{c}{\assume{for a contradiction $x \notin \dom \mathbf{F}$}}
	\step{d}{$\mathbf{F} \restriction \seg x$ is a set}
	\begin{proof}
		\pf\ Axiom of Replacement.
	\end{proof}
	\step{e}{$\mathbf{F} \restriction \seg x$ is acceptable}
	\step{f}{\pflet{$y$ be the unique object such that $G[\mathbf{F} \restriction \seg x, x, y]$}}
	\step{g}{$\mathbf{F} \restriction \seg x \cup \{(x,y)\}$ is acceptable}
	\step{h}{$x \in \dom \mathbf{F}$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\step{8}{If $\mathbf{F}' : \mathbf{A} \rightarrow \mathbf{V}$ satisfies the theorem, then $\mathbf{F}' = \mathbf{F}$.}
\begin{proof}
	\step{a}{\pflet{$x \in \mathbf{A}$} \prove{$\mathbf{F}'(x) = \mathbf{F}(x)$}}
	\step{b}{\assume{as transfinite induction hypothesis $\forall y \mathbf{R} x. \mathbf{F}'(y) = \mathbf{F}(y)$}}
	\step{c}{$\mathbf{F} \restriction x = \mathbf{F}' \restriction x$}
	\step{d}{$G[\mathbf{F} \restriction x, x, \mathbf{F}(x)]$}
	\step{e}{$G[\mathbf{F}' \restriction x, x, \mathbf{F}'(x)]$}
	\step{f}{$\mathbf{F}(x) = \mathbf{F}'(x)$}
\end{proof}
\qed
\end{proof}

\chapter{Functions}

\section{Functions}

\begin{df}[Function]
A \emph{function} from $\mathbf{A}$ to $\mathbf{B}$ is a relation $\mathbf{F}$ between $\mathbf{A}$ and $\mathbf{B}$ such that, for all $x \in \mathbf{A}$, there is only one $y$ such that $x \mathbf{F} y$. We denote this $y$ by $\mathbf{F}(x)$.

A \emph{binary operation} on a class $\mathbf{A}$ is a function $\mathbf{A}^2 \rightarrow \mathbf{A}$.
\end{df}

\begin{df}[Closed]
Let $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{A}$ be a function and $\mathbf{B} \subseteq \mathbf{A}$. Then $\mathbf{B}$ is \emph{closed} under $\mathbf{F}$ iff $\forall x \in \mathbf{B}. \mathbf{F}(x) \in \mathbf{B}$.
\end{df}

\begin{prop}[Z]
For any class $\mathbf{A}$, the following is a theorem:

\[ \mathrm{id}_\mathbf{A} : \mathbf{A} \rightarrow \mathbf{A} \]
\end{prop}

\begin{proof}
\pf\ For all $x \in \mathbf{A}$, the only $y$ such that $(x,y) \in \mathrm{id}_\mathbf{A}$ is $y = x$. \qed
\end{proof}

\begin{props}[Z]
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$, $\mathbf{F}$ and $\mathbf{G}$, the following is a theorem:

Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{G} : \mathbf{B} \rightarrow \mathbf{C}$. Then $\mathbf{G} \circ \mathbf{F} : \mathbf{A} \rightarrow \mathbf{C}$ and, for all $x \in \mathbf{A}$, we have
\[ (\mathbf{G} \circ \mathbf{F})(x) = \mathbf{G}(\mathbf{F}(x)) \enspace . \]
\end{props}

\begin{proof}
\pf
\step{1}{$\forall x \in \mathbf{A}. (x, \mathbf{G}(\mathbf{F}(x))) \in \mathbf{G} \circ \mathbf{F})$}
\begin{proof}
	\pf\ Because $(x, \mathbf{F}(x)) \in \mathbf{F}$ and $(\mathbf{F}(x), \mathbf{G}(\mathbf{F}(x))) \in \mathbf{G}$.
\end{proof}
\step{2}{If $(x,z) \in \mathbf{F} \circ \mathbf{G}$ then $z = \mathbf{G}(\mathbf{F}(x))$}
\begin{proof}
	\step{a}{\pick\ $y \in \mathbf{B}$ such that $x \mathbf{F} y$ and $y \mathbf{G} z$}
	\step{b}{$y = \mathbf{F}(x)$}
	\step{c}{$z = \mathbf{G}(y)$}
	\step{d}{$z = \mathbf{G}(\mathbf{F}(x))$}
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
For any set $A$ there exists a function $F : \mathcal{P} A - \{ \emptyset \} \rightarrow A$ (a \emph{choice function} for $A$) such that, for every nonempty $B \subseteq A$, we have $F(B) \in B$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be a set.}}
\step{2}{\pflet{$\mathcal{A} = \{ \{ B \} \times B \mid B \in \mathcal{P} A - \{ \emptyset \} \}$}}
\step{3}{Every member of $\mathcal{A}$ is nonempty.}
\step{4}{Any two distinct members of $\mathcal{A}$ are disjoint.}
\step{5}{\pick\ a set $C$ such that, for all $X \in \mathcal{A}$, we have $C \cap X$ is a singleton.}
\begin{proof}
	\pf\ Axiom of Choice.
\end{proof}
\step{6}{\pflet{$F = C \cap \bigcup \mathcal{A}$}}
\step{7}{$F : \mathcal{P} A - \{ \emptyset \} \rightarrow A$}
\begin{proof}
	\step{a}{$F$ is a function.}
	\begin{proof}
		\step{i}{\pflet{$(B,b),(B,b') \in F$}}
		\step{ii}{$(B,b),(B,b') \in \{B\} \times B$}
		\begin{proof}
			\pf\ Since $(B,b),(B,b') \in \bigcup \mathcal{A}$.
		\end{proof}
		\step{iii}{$(B,b),(B,b') \in C \cap (\{B\} \times B)$}
		\step{iv}{$(B,b) = (B,b')$}
		\begin{proof}
			\pf\ From \stepref{5}.
		\end{proof}
		\step{v}{$b = b'$}
	\end{proof}
	\step{b}{$\dom F = \mathcal{P} A - \{ \emptyset \}$}
	\begin{proof}
		\pf
		\begin{align*}
			& B \in \dom F \\
			\Leftrightarrow & \exists b. (B,b) \in F \\
			\Leftrightarrow & \exists b. ((B,b) \in \bigcup \mathcal{A} \wedge (B,b) \in C) \\
			\Leftrightarrow & \exists b. \exists B' \in \mathcal{P} A - \{ \emptyset \}. ((B,b) \in \{ B' \} \times B' \wedge (B,b) \in C) \\
			\Leftrightarrow & B \in \mathcal{P} A - \{ \emptyset \} \wedge \exists b \in B. (B,b) \in C \\
			\Leftrightarrow & B \in \mathcal{P} A - \{ \emptyset \} & (\text{\stepref{5}})
		\end{align*}
	\end{proof}
	\step{c}{$\ran F \subseteq A$}
\end{proof}
\step{8}{For every nonempty $B \subseteq A$ we have $F(B) \in B$}
\qed
\end{proof}

\begin{prop}[Z]
\label{prop:AxChoice}
For any relation $R$ between $A$ and $B$, there exists a function $H : A \rightarrow B$ such that $H \subseteq R$ (i.e. $\forall x \in A. xRH(x)$).
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$R$ be a relation between $A$ and $B$.}}
\step{2}{\pick\ a choice function $G$ for $B$.}
\step{3}{Define $H : A \rightarrow B$ by $H(x) = G(\{y \mid xRy\})$}
\step{4}{$H \subseteq R$}
\qed
\end{proof}

\subsection{Injective Functions}

\begin{df}[Injective]
A function $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ is \emph{one-to-one}, \emph{injective} or an \emph{injection}, $\mathbf{F} : \mathbf{A} \rightarrowtail \mathbf{B}$, iff, for all $x,y \in \mathbf{A}$, if $\mathbf{F}(x) = \mathbf{F}(y)$, then $x = y$.
\end{df}

\begin{prop}[Z]
\label{prop:idinj}
For any class $\mathbf{A}$, the following is a theorem:

$\id{\mathbf{A}} : \mathbf{A} \rightarrow \mathbf{A}$ is injective.
\end{prop}

\begin{proof}
\pf\ If $\id{\mathbf{A}}(x) = \id{\mathbf{A}}(y)$ then immediately $x = y$. \qed
\end{proof}

\begin{props}[Z]
\label{prop:compinj}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$, $\mathbf{F}$, $\mathbf{G}$, the following is a theorem:

Assume $\mathbf{F} : \mathbf{A} \rightarrowtail \mathbf{B}$ and $\mathbf{G} : \mathbf{B} \rightarrowtail \mathbf{C}$. Then $\mathbf{G} \circ \mathbf{F} : \mathbf{A} \rightarrowtail \mathbf{C}$.
\end{props}

\begin{proof}
\pf
\step{1}{\pflet{$x,y \in \mathbf{A}$}}
\step{2}{\assume{$(\mathbf{G} \circ \mathbf{F})(x) = (\mathbf{G} \circ \mathbf{F})(y)$}}
\step{3}{$\mathbf{G}(\mathbf{F}(x)) = \mathbf{G}(\mathbf{F}(y))$}
\step{4}{$\mathbf{F}(x) = \mathbf{F}(y)$}
\begin{proof}
	\pf\ Since $\mathbf{G}$ is injective.
\end{proof}
\step{5}{$x = y$}
\begin{proof}
	\pf\ Since $\mathbf{F}$ is injective.
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
Let $F : A \rightarrow B$ where $A$ is nonempty. There exists $G : B \rightarrow A$ (a \emph{left inverse}) such that $G \circ F = \id{A}$ if and only if $F$ is one-to-one.
\end{prop}

\begin{proof}
\pf
\step{1}{If there exists $G : B \rightarrow A$ such that $G \circ F = \id{A}$ then $F$ is one-to-one.}
\begin{proof}
	\step{a}{\assume{$G : B \rightarrow A$ and $G \circ F = I_A$}}
	\step{b}{\pflet{$x,y \in A$}}
	\step{c}{\assume{$F(x) = F(y)$}}
	\step{d}{$x = y$}
	\begin{proof}
		\pf\ $x = G(F(x)) = G(F(y)) = y$
	\end{proof}
\end{proof}
\step{2}{If $F$ is one-to-one then there exists $G : B \rightarrow A$ such that $G \circ F = I_A$.}
\begin{proof}
	\step{a}{\assume{$F$ is one-to-one.}}
	\step{b}{\pick\ $a \in A$}
	\step{c}{\pflet{$G : B \rightarrow A$ be the function defined by: $G(b)$ is the (unique) $x \in A$ such that $F(x) = b$ if there exists such an $x$, $G(b) = a$ otherwise.}}
	\step{d}{For all $x \in A$ we have $G(F(x)) = x$.}
\end{proof}
\qed
\end{proof}

\subsection{Surjective Functions}

\begin{df}[Surjective]
Let $F : A \rightarrow B$. We say that $F$ is \emph{surjective}, or maps $A$ \emph{onto} $B$, and write $F : A \twoheadrightarrow B$, iff for all $y \in B$ there exists $x \in A$ such that $F(x) = y$.
\end{df}

\begin{props}[Z]
\label{prop:idsurj}
For any class $\mathbf{A}$, the following is a theorem:

$\id{\mathbf{A}} : \mathbf{A} \rightarrow \mathbf{A}$ is surjective.
\end{props}

\begin{proof}
\pf\ For any $y \in \mathbf{A}$ we have $\id{\mathbf{A}}(y) = y$. \qed
\end{proof}

\begin{props}[Z]
\label{prop:compsurj}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$, $\mathbf{F}$ and $\mathbf{G}$, the following is a theorem:

If $\mathbf{F} : \mathbf{A} \twoheadrightarrow \mathbf{B}$ and $\mathbf{G} : \mathbf{B} \twoheadrightarrow \mathbf{C}$, then $\mathbf{G} \circ \mathbf{F} : \mathbf{A} \twoheadrightarrow \mathbf{C}$.
\end{props}

\begin{proof}
\pf
\step{1}{\pflet{$c \in \mathbf{C}$}}
\step{2}{\pick\ $b \in \mathbf{B}$ such that $\mathbf{G}(b) = c$.}
\step{3}{\pick\ $a \in \mathbf{A}$ such that $\mathbf{F}(a) = b$.}
\step{4}{$(\mathbf{G} \circ \mathbf{F})(a) = c$}
\qed
\end{proof}

\begin{prop}[Z]
Let $F : A \rightarrow B$. There exists $H : B \rightarrow A$ (a \emph{right inverse}) such that $F \circ H = \id{B}$ if and only if $F$ maps $A$ onto $B$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $F$ has a right inverse then $F$ is surjective.}
\begin{proof}
	\step{a}{\assume{$F$ has a right inverse $H : B \rightarrow A$.}}
	\step{b}{\pflet{$y \in B$}}
	\step{c}{$F(H(y)) = y$}
	\step{c}{There exists $x \in A$ such that $F(x) = y$}
\end{proof}
\step{2}{If $F$ is surjective then $F$ has a right inverse.}
\begin{proof}
	\step{a}{\assume{$F$ is surjective.}}
	\step{b}{\pick\ a function $H : B \rightarrow A$ such that $H \subseteq F^{-1}$}
	\begin{proof}
		\pf\ Proposition \ref{prop:AxChoice}.
	\end{proof}
	\step{d}{$F \circ H = \id{B}$}
	\begin{proof}
		\step{i}{\pflet{$y \in B$}}
		\step{ii}{$(y,H(y)) \in F^{-1}$}
		\step{iii}{$F(H(y)) = y$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\subsection{Bijections}

\begin{df}[Bijection]
Let $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$. Then $\mathbf{F}$ is \emph{bijective} or a \emph{bijection}, $\mathbf{F} : \mathbf{A} \approx \mathbf{B}$, iff it is injective and surjective.
\end{df}

\begin{props}[Z]
\label{prop:idbij}
For any class $\mathbf{A}$, the following is a theorem:

The identity function $\id{\mathbf{A}} : \mathbf{A} \approx \mathbf{A}$ is a bijection.
\end{props}

\begin{proof}
\pf\ Proposition \ref{prop:idinj} and \ref{prop:idsurj}. \qed	
\end{proof}

\begin{props}[Z]
\label{prop:invbij}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{F}$, the following is a theorem:

If $\mathbf{F} : \mathbf{A} \approx \mathbf{B}$ then $\mathbf{F}^{-1} : \mathbf{B} \approx \mathbf{A}$.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{F}^{-1} : \mathbf{B} \rightarrow \mathbf{A}$}
\begin{proof}
	\step{a}{\pflet{$b \in \mathbf{B}$}}
	\step{b}{\pick\ $a \in \mathbf{A}$ such that $\mathbf{F}(a) = b$.}
	\begin{proof}
		\pf\ Since $\mathbf{F}$ is surjective.
	\end{proof}
	\step{c}{$(b,a) \in \mathbf{F}^{-1}$}
	\step{d}{If $(b,a') \in \mathbf{F}^{-1}$ then $a' = a$.}
	\begin{proof}
		\step{i}{\pflet{$a' \in \mathbf{A}$ such that $(b,a') \in \mathbf{F}^{-1}$}}
		\step{ii}{$\mathbf{F}(a') = \mathbf{F}(a)$}
		\step{iii}{$a' = a$}
		\begin{proof}
			\pf\ Since $\mathbf{F}$ is injective.
		\end{proof}
	\end{proof}
\end{proof}
\step{2}{$\mathbf{F}^{-1}$ is injective.}
\begin{proof}
	\step{a}{\pflet{$x,y \in \mathbf{B}$}}
	\step{b}{\assume{$\mathbf{F}^{-1}(x) = \mathbf{F}^{-1}(y)$}}
	\step{c}{$x = y$}
	\begin{proof}
		\pf\ $x = \mathbf{F}(\mathbf{F}^{-1}(x)) = \mathbf{F}(\mathbf{F}^{-1}(y)) = y$.
	\end{proof}
\end{proof}
\step{3}{$\mathbf{F}^{-1}$ is surjective.}
\begin{proof}
	\pf\ For all $a \in \mathbf{A}$ we have $\mathbf{F}^{-1}(\mathbf{F}(a)) = a$.
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:compbij}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$, $\mathbf{F}$ and $\mathbf{G}$, the following is a theorem:

If $\mathbf{F} : \mathbf{A} \approx \mathbf{B}$ and $\mathbf{G} : \mathbf{B} \approx \mathbf{C}$ then $\mathbf{G} \circ \mathbf{F} : \mathbf{A} \approx \mathbf{C}$.
\end{props}

\begin{proof}
\pf\ Propositions \ref{prop:compinj} and \ref{prop:compsurj}. \qed
\end{proof}

\subsection{Restrictions}

\begin{df}[Restriction]
Let $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$. Let $\mathbf{C} \subseteq \mathbf{A}$. The \emph{restriction} of $\mathbf{F}$ to $\mathbf{C}$, denoted $\mathbf{F} \restriction \mathbf{C}$, is the function
\begin{align*}
\mathbf{F} \restriction \mathbf{C} & : \mathbf{C} \rightarrow \mathbf{B} \\
(\mathbf{F} \restriction \mathbf{C})(x) & = \mathbf{F}(x) & (x \in \mathbf{C})
\end{align*}
\end{df}

\subsection{Images}

\begin{df}[Image]
Let $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C} \subseteq \mathbf{A}$. The \emph{image} of $\mathbf{C}$ under $\mathbf{F}$ is the class
\[ \mathbf{F}(\mathbf{C}) := \{ \mathbf{F}(x) \mid x \in \mathbf{C} \} \enspace . \]
\end{df}

\begin{props}[Z]
For any classes $\mathbf{F}$, $\mathbf{A}$ and $\mathbf{B}$, the following is a theorem.

If $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$, then for any subset $S \subseteq \mathbf{A}$, the class $\mathbf{F}(S)$ is a set.
\end{props}

\begin{proof}
\pf\ By an Axiom of Replacement. \qed
\end{proof}

\begin{props}[Z]
\label{prop:imgunion}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$ and $\mathbf{F}$, the following is a theorem:

Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C} \subseteq \mathcal{P} \mathbf{A}$. Then
\[ \mathbf{F} \left( \bigcup \mathbf{C} \right) = \{ y \mid \exists X \in \mathbf{C}. y \in \mathbf{F}(X) \} \]
\end{props}

\begin{proof}
\pf
\begin{align*}
	y \in \mathbf{F} \left( \bigcup \mathbf{C} \right) & \Leftrightarrow \exists x \in \bigcup \mathbf{C}. y = \mathbf{F}(x) \\
	& \Leftrightarrow \exists x. \exists X. X \in \mathbf{C} \wedge x \in X \wedge y = \mathbf{F}(x) \\
	& \Leftrightarrow \exists X \in \mathbf{C}. y \in \mathbf{F}(X) & \qed
\end{align*}
\end{proof}

\begin{props}[Z]
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$, $\mathbf{D}$ and $\mathbf{F}$, the following is a theorem:

Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C}, \mathbf{D} \subseteq \mathbf{A}$. Then
\[ \mathbf{F}(\mathbf{C} \cup \mathbf{D}) = \mathbf{F}(\mathbf{C}) \cup \mathbf{F}(\mathbf{D}) \enspace . \]
\end{props}

\begin{proof}
\pf
\begin{align*}
	y \in \mathbf{F}(\mathbf{C} \cup \mathbf{D})
	& \Leftrightarrow \exists x \in \mathbf{C} \cup \mathbf{D}. y = \mathbf{F}(x) \\
	& \Leftrightarrow \exists x \in \mathbf{C}. y = \mathbf{F}(x) \vee \exists x \in \mathbf{D}. y = \mathbf{F}(x) \\
	& \Leftrightarrow y \in \mathbf{F}(\mathbf{C}) \cup \mathbf{F}(\mathbf{D}) & \qed
\end{align*}
\end{proof}

\begin{prop}[Z]
For any classes $\mathbf{F}$, $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$ and $\mathbf{D}$, the following is a theorem:

Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C}, \mathbf{D} \subseteq \mathbf{A}$. Then

\[ \mathbf{F}(\mathbf{A} \cap \mathbf{B}) \subseteq \mathbf{F}(\mathbf{A}) \cap \mathbf{F}(\mathbf{B}) \enspace . \]

Equality holds if $\mathbf{F}$ is injective.
\end{prop}

\begin{proof}
\pf
\step{1}{$\mathbf{F}(\mathbf{A} \cap \mathbf{B}) \subseteq \mathbf{F}(\mathbf{A}) \cap \mathbf{F}(\mathbf{B})$}
\begin{proof}
	\step{a}{\pflet{$y \in \mathbf{F}(\mathbf{A} \cap \mathbf{B})$}}
	\step{b}{\pick\ $x \in \mathbf{A} \cap \mathbf{B}$ such that $y = \mathbf{F}(x)$}
	\step{c}{$y \in \mathbf{F}(\mathbf{A})$}
	\begin{proof}
		\pf\ Since $x \in \mathbf{A}$.
	\end{proof}
	\step{d}{$y \in \mathbf{F}(\mathbf{B})$}
	\begin{proof}
		\pf\ Since $x \in \mathbf{B}$.
	\end{proof}
\end{proof}
\step{2}{If $\mathbf{F}$ is injective then $\mathbf{F}(\mathbf{A} \cap \mathbf{B}) = \mathbf{F}(\mathbf{A}) \cap \mathbf{F}(\mathbf{B})$.}
\begin{proof}
	\step{a}{\assume{$\mathbf{F}$ is injective.}}
	\step{b}{\pflet{$y \in \mathbf{F}(\mathbf{A}) \cap \mathbf{F}(\mathbf{B})$}}
	\step{c}{\pick\ $x \in \mathbf{A}$ such that $y = \mathbf{F}(x)$}
	\step{d}{\pick\ $x' \in \mathbf{B}$ such that $y = \mathbf{F}(x')$}
	\step{e}{$x = x'$}
	\begin{proof}
		\pf\ \stepref{a}
	\end{proof}
	\step{f}{$x \in \mathbf{A} \cap \mathbf{B}$}
	\step{g}{$y \in \mathbf{F}(\mathbf{A} \cap \mathbf{B})$}
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:imgint}
For any classes $\mathbf{F}$, $\mathbf{A}$, $\mathbf{B}$, and $\mathbf{C}$, the following is a theorem:

Let $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C} \subseteq \mathcal{P} \mathbf{A}$. Then

\[ \mathbf{F} \left( \bigcap \mathbf{C} \right) \subseteq \bigcap \{ \mathbf{F}(X) \mid X \in \mathbf{A} \} \enspace . \]

Equality holds if $\mathbf{F}$ is injective and $\mathbf{A}$ is nonempty.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{F} \left( \bigcap \mathbf{A} \right) \subseteq \bigcap \{ \mathbf{F}(X) \mid X \in \mathbf{A} \}$}
\begin{proof}
	\step{a}{\pflet{$y \in \mathbf{F} (\bigcap \mathbf{A})$}}
	\step{b}{\pick\ $x \in \bigcap \mathbf{A}$ such that $y = \mathbf{F}(x)$}
	\step{c}{\pflet{$X \in \mathbf{A}$}}
	\step{d}{$x \in X$}
	\step{e}{$y \in \mathbf{F}(X)$}
\end{proof}
\step{2}{If $\mathbf{F}$ is injective then $\mathbf{F} \left( \bigcap \mathbf{A} \right) = \bigcap \{ \mathbf{F}(X) \mid X \in \mathbf{A} \}$}
\begin{proof}
	\step{a}{\assume{$\mathbf{F}$ is injective.}}
	\step{aa}{\assume{$\mathbf{A}$ is nonempty.}}
	\step{b}{\pflet{$y \in \bigcap \{ \mathbf{F}(X) \mid X \in \mathbf{A} \}$}}
	\step{c}{\pick\ $X_0 \in \mathbf{A}$}
	\step{d}{\pick\ $x \in X_0$ such that $(x,y) \in \mathbf{F}$}
	\step{e}{$x \in \bigcap \mathbf{A}$}
	\begin{proof}
		\step{i}{\pflet{$X \in \mathbf{A}$}}
		\step{ii}{\pick\ $x' \in X$ such that $(x',y) \in \mathbf{F}$.}
		\step{iii}{$x = x'$}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
		\step{iv}{$x \in X$}
	\end{proof}
	\step{f}{$y \in \mathbf{F}(\bigcap \mathbf{A})$}
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
\label{prop:imgdiff}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$, $\mathbf{D}$ and $\mathbf{F}$, the following is a theorem:

Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C}, \mathbf{D} \subseteq \mathbf{A}$. Then
\[ \mathbf{F}(\mathbf{C}) - \mathbf{F}(\mathbf{D}) \subseteq \mathbf{F}(\mathbf{C} - \mathbf{D}) \enspace . \]
Equality holds if $\mathbf{F}$ is injective.
\end{prop}

\begin{proof}
\pf
\step{1}{$\mathbf{F}(\mathbf{C}) - \mathbf{F}(\mathbf{D}) \subseteq \mathbf{F}(\mathbf{A} - \mathbf{B})$}
\begin{proof}
	\step{a}{\pflet{$y \in \mathbf{F}(\mathbf{A}) - \mathbf{F}(\mathbf{B})$}}
	\step{b}{\pick\ $x \in \mathbf{A}$ such that $y = \mathbf{F}(x)$}
	\step{c}{$x \notin \mathbf{B}$}
	\step{d}{$x \in \mathbf{A} - \mathbf{B}$}
	\step{e}{$y \in \mathbf{F}(\mathbf{A} - \mathbf{B})$}
\end{proof}
\step{2}{If $\mathbf{F}$ is injective then $\mathbf{F}(\mathbf{A}) - \mathbf{F}(\mathbf{B}) = \mathbf{F}(\mathbf{A} - \mathbf{B})$}
\begin{proof}
	\step{a}{\assume{$\mathbf{F}$ is injective.}}
	\step{b}{\pflet{$y \in \mathbf{F}(\mathbf{A} - \mathbf{B})$}}
	\step{c}{\pick\ $x \in \mathbf{A} - \mathbf{B}$ such that $y = \mathbf{F}(x)$}
	\step{d}{$y \in \mathbf{F}(\mathbf{A})$}
	\step{e}{$y \notin \mathbf{F}(\mathbf{B})$}
	\begin{proof}
		\step{i}{\assume{for a contradiction $y \in \mathbf{F}(\mathbf{B})$}}
		\step{ii}{\pick\ $x' \in \mathbf{B}$ such that $y = \mathbf{F}(x')$}
		\step{iii}{$x = x'$}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
		\step{iv}{$x \in \mathbf{B}$}
		\qedstep
		\begin{proof}
			\pf\ This contradicts \stepref{c}.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\subsection{Inverse Images}

\begin{df}[Inverse Image]
Let $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C} \subseteq \mathbf{B}$. Then the \emph{inverse image} of $\mathbf{C}$ under $\mathbf{F}$ is
\[ \mathbf{F}^{-1}(\mathbf{C}) = \{ x \in \mathbf{A} \mid \mathbf{F}(x) \in \mathbf{C} \} \enspace . \]
\end{df}

\begin{props}[Z]
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$ and $\mathbf{F}$, the following is a theorem:

Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C} \subseteq \mathcal{P} \mathbf{B}$. Then
\[ \mathbf{F}^{-1} \left( \bigcap \mathbf{C} \right) = \bigcap \{ \mathbf{F}^{-1}(X) \mid X \in \mathbf{C} \} \enspace . \]
\end{props}

\begin{proof}
\pf
\begin{align*}
x \in \mathbf{F}^{-1} \left( \bigcap \mathbf{C} \right)
& \Leftrightarrow \mathbf{F}(x) \in \bigcap \mathbf{C} \\
& \Leftrightarrow \forall X \in \mathbf{C}. \mathbf{F}(x) \in X \\
& \Leftrightarrow \forall X \in \mathbf{C}. x \in \mathbf{F}^{-1}(X) & \qed
\end{align*}
\end{proof}

\begin{props}[Z]
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{C}$, $\mathbf{D}$ and $\mathbf{F}$, the following is a theorem:

Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{C}, \mathbf{D} \subseteq \mathbf{B}$. Then
\[ \mathbf{F}^{-1}(\mathbf{C} - \mathbf{D}) = \mathbf{F}^{-1}(\mathbf{C}) - \mathbf{F}^{-1}(\mathbf{D}) \enspace . \]
\end{props}

\begin{proof}
\pf
\begin{align*}
x \in \mathbf{F}^{-1}(\mathbf{C} - \mathbf{D}) & \Leftrightarrow \mathbf{F}(x) \in \mathbf{C} - \mathbf{D} \\
& \Leftrightarrow \mathbf{F}(x) \in \mathbf{C} \wedge \mathbf{F}(x) \notin \mathbf{D} \\
& \Leftrightarrow x \in \mathbf{F}^{-1}(\mathbf{C}) \wedge x \in \mathbf{F}^{-1}(\mathbf{D}) \\
& \Leftrightarrow x \in \mathbf{F}^{-1}(\mathbf{C}) - \mathbf{F}^{-1}(\mathbf{D}) & \qed
\end{align*}
\end{proof}

\subsection{Function Sets}

\begin{prop}[ZFC]
For any classes $\mathbf{B}$ and $\mathbf{F}$, the following is a theorem:

Let $A$ be a set. If $\mathbf{F} : A \rightarrow \mathbf{B}$ then $\mathbf{F}$ is a set.
\end{prop}

\begin{proof}
\pf\ By an Axiom of Replacement, we have $R = \{ \mathbf{F}(x) \mid x \in A \}$ is a set. Hence $\mathbf{F}$ is a set since $\mathbf{F} \subseteq A \times R$. \qed
\end{proof}

\begin{df}[Dependent Product Class]
Let $I$ be a set and let $\mathbf{H}(i)$ be a class for all $i \in I$. We write $\prod_{i \in I} \mathbf{H}(i)$ for the class of all functions $f : I \rightarrow \bigcup_{i \in I} \mathbf{H}(i)$ such that $\forall i \in I. f(i) \in \mathbf{H}(i)$.

We write $\mathbf{B}^I$ for $\prod_{i \in I} \mathbf{B}$ where $\mathbf{B}$ does not depend on $I$.
\end{df}

\begin{props}[ZFC]
Let $I$ be a set. Let $H(i)$ be a set for every $i \in I$. Then $\prod_{i \in I} \mathbf{H}(i)$ is a set.
\end{props}

\begin{proof}
\pf
\step{1}{$\{ \mathbf{H}(i) \mid i \in I \}$ is a set.}
\begin{proof}
	\pf\ By an Axiom of Replacement.
\end{proof}
\step{2}{$\bigcup_{i \in I} \mathbf{H}(i)$ is a set.}
\step{3}{$\prod_{i \in I} \mathbf{H}(i)$ is a set.}
\begin{proof}
	\pf\ It is a subset of $\mathcal{P}\left( I \times \bigcup_{i \in I} \mathbf{H}(i) \right)$.
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
Let $I$ be a set. Let $H(i)$ be a set for all $i \in I$. If $\forall i \in I. H(i) \neq \emptyset$ then $\prod_{i \in I} H(i) \neq \emptyset.$
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$\forall i \in I. H(i) \neq \emptyset$}}
\step{2}{\pflet{$R = \{ (i,x) \mid i \in I, x \in H(i) \}$}}
\step{3}{\pick\ a function $f : I \rightarrow \bigcup_{i \in I} H(i)$ such that $f \subseteq R$}
\begin{proof}
	\pf\ Proposition \ref{prop:AxChoice}.
\end{proof}
\step{4}{$f \in \prod_{i \in I} H(i)$}
\qed
\end{proof}

\section{Equinumerosity}

\begin{df}[Equinumerous]
Sets $A$ and $B$ are \emph{equinumerous}, $A \approx B$, iff there exists a bijection between $A$ and $B$.
\end{df}

\section{Domination}

\begin{df}[Dominate]
A set $A$ is \emph{dominated} by a set $B$, $A \preccurlyeq B$, iff there exists an injection $A \rightarrow B$.
\end{df}

\begin{prop}[Z]
Given sets $A$ and $B$, if $A \neq \emptyset$ or $B = \emptyset$, then we have $A \preccurlyeq B$ iff there exists a surjective function $B \rightarrow A$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $A \preccurlyeq B$ and $A \neq \emptyset$ then there exists a surjective function $B \rightarrow A$.}
\begin{proof}
	\step{a}{\assume{$f : A \rightarrow B$ be injective.}}
	\step{b}{\pick\ $a \in A$}
	\step{c}{\pflet{$g : B \rightarrow A$ be the function defined by $g(b) = f^{-1}(b)$ if $b \in \ran f$, and $g(b) = a$ otherwise.}}
	\step{d}{$g$ is surjective.}
\end{proof}
\step{2}{If there exists a surjective function $B \rightarrow A$ then $A \preccurlyeq B$.}
\begin{proof}
	\step{a}{\assume{there exists a surjective function $g : B \rightarrow A$}}
	\step{x}{$\forall a \in A. \exists b \in B. g(b) = a$}
	\step{b}{Choose a function $f : A \rightarrow B$ such that $\forall a \in A. g(f(a)) = a$}
	\step{c}{$f$ is injective.}
\end{proof}
\qed
\end{proof}

\chapter{Equivalence Relations}

\begin{df}[Equivalence Relation]
An \emph{equivalence relation} on a class $\mathbf{A}$ is a binary relation on $\mathbf{A}$ that is reflexive, symmetric and transitive.
\end{df}

\begin{prop}[Z]
Equinumerosity is an equivalence relation on the class of all sets.
\end{prop}

\begin{proof}
\pf\ Propositions \ref{prop:idbij}, \ref{prop:invbij}, \ref{prop:compbij}. \qed
\end{proof}

\begin{df}[Respects]
Let $\mathbf{R}$ be an equivalence relation on $\mathbf{A}$ and $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$. Then $\mathbf{F}$ \emph{respects} $\mathbf{A}$ iff, whenever $(x,y) \in \mathbf{R}$, then $\mathbf{F}(x) = \mathbf{F}(y)$.
\end{df}

\begin{df}[Equivalence Class]
Let $\mathbf{R}$ be an equivalence relation on $\mathbf{A}$ and $a \in \mathbf{A}$. The \emph{equivalence class} of $a$ \emph{modulo} $\mathbf{R}$ is
\[ [a]_{\mathbf{R}} := \{ x \mid a \mathbf{R} x \} \enspace . \]
\end{df}

\begin{props}[Z]
\label{prop:eqclassequal}
For any classes $\mathbf{A}$ and $\mathbf{R}$, the following is a theorem.

Assume $\mathbf{R}$ be an equivalence relation on $\mathbf{A}$. Let $a,b \in \mathbf{A}$. Then $[a]_\mathbf{R} = [b]_\mathbf{R}$ if and only if $a \mathbf{R} b$.
\end{props}

\begin{proof}
\pf
\step{1}{If $[a]_\mathbf{R} = [b]_\mathbf{R}$ then $a \mathbf{R} b$.}
\begin{proof}
	\step{a}{\assume{$[a]_\mathbf{R} = [b]_\mathbf{R}$}}
	\step{b}{$b\mathbf{R}b$}
	\begin{proof}
		\pf\ Reflexivity
	\end{proof}
	\step{c}{$b \in [b]_\mathbf{R}$}
	\step{d}{$b \in [a]_\mathbf{R}$}
	\step{e}{$a\mathbf{R}b$}
\end{proof}
\step{2}{If $a\mathbf{R}b$ then $[a]_\mathbf{R} = [b]_\mathbf{R}$.}
\begin{proof}
	\step{a}{For all $x,y \in \mathbf{A}$, if $x \mathbf{R}y$ then $[y]_\mathbf{R} \subseteq [x]_\mathbf{R}$}
	\begin{proof}
		\step{i}{\pflet{$x,y \in \mathbf{A}$}}
		\step{ii}{\assume{$x\mathbf{R}y$}}
		\step{iii}{\pflet{$t \in [y]_\mathbf{R}$}}
		\step{iv}{$y\mathbf{R}t$}
		\step{v}{$x\mathbf{R}t$}
		\begin{proof}
			\pf\ Transitivity, \stepref{ii}, \stepref{iv}.
		\end{proof}
		\step{vi}{$t \in [x]_\mathbf{R}$}
	\end{proof}
	\step{b}{\assume{$a\mathbf{R}b$}}
	\step{c}{$[b]_\mathbf{R} \subseteq [a]_\mathbf{R}$}
	\begin{proof}
		\pf\ \stepref{a}, \stepref{b}.
	\end{proof}
	\step{d}{$b\mathbf{R}a$}
	\begin{proof}
		\pf\ Symmetry, \stepref{b}.
	\end{proof}
	\step{e}{$[a]_\mathbf{R} \subseteq [b]_\mathbf{R}$}
	\begin{proof}
		\pf\ \stepref{a}, \stepref{d}.
	\end{proof}
	\step{f}{$[a]_\mathbf{R} = [b]_\mathbf{R}$}
	\begin{proof}
		\pf\ \stepref{c}, \stepref{e}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Partition]
A \emph{partition} $\Pi$ of a set $A$ is a set of nonempty subsets of $A$ that is disjoint and exhaustive, i.e.
\begin{enumerate}
\item no two different sets in $\Pi$ have any common elements, and
\item each element of $A$ is in some set in $\Pi$.
\end{enumerate}
\end{df}

\begin{df}
Let $R$ be an equivalence relation on a set $A$. The \emph{quotient set} $A / R$ is the set of all equivalence classes.
\end{df}

\begin{thm}[Z]
Let $A$ be a set and $\mathbf{B}$ a class. Let $R$ be an equivalence relation on $A$ and $F : A \rightarrow \mathbf{B}$. Then $F$ respects $R$ if and only if there exists $\hat{F} : A/R \rightarrow \mathbf{B}$ such that
\[ \forall a \in A. \hat{F}([a]_R) = F(a) \enspace . \]
In this case, $\hat{F}$ is unique.
\end{thm}

\begin{proof}
\pf
\step{1}{If $F$ respects $R$ then there exists $\hat{F} : A / R \rightarrow \mathbf{B}$ such that $\forall a \in A. \hat{F}([a]_R) = F(a)$.}
\begin{proof}
	\step{a}{\assume{$F$ respects $R$.}}
	\step{b}{\pflet{$\hat{F} = \{([a]_R, F(a)) \mid a \in A \}$}}
	\step{c}{$\hat{F}$ is a function.}
	\begin{proof}
		\step{i}{\assume{$a,a' \in A$ and $[a]_R = [a']_R$} \prove{$F(a) = F(a')$}}
		\step{ii}{$(a,a') \in R$}
		\begin{proof}
			\pf\ Proposition \ref{prop:eqclassequal}.
		\end{proof}
		\step{iii}{$F(a) = F(a')$}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
	\end{proof}
	\step{d}{$\dom \hat{F} = A / R$}
	\step{e}{$\ran \hat{F} \subseteq \mathbf{B}$}
	\step{f}{$\forall a \in A. \hat{F}([a]_R) = F(a)$}
\end{proof}
\step{2}{If there exists $\hat{F} : A / R \rightarrow \mathbf{B}$ such that $\forall a \in A. \hat{F}([a]_R) = F(a)$ then $F$ respects $R$.}
\begin{proof}
	\step{a}{\assume{$\hat{F} : A / R \rightarrow \mathbf{B}$ and $\forall a \in A. \hat{F}([a]_R) = F(a)$}}
	\step{b}{\pflet{$a,a' \in A$}}
	\step{c}{\assume{$(a,a') \in R$}}
	\step{d}{$[a]_R = [a']_R$}
		\begin{proof}
			\pf\ Proposition \ref{prop:eqclassequal}.
		\end{proof}
	\step{e}{$F(a) = F(a')$}
	\begin{proof}
		\pf\ \stepref{a}
	\end{proof}
\end{proof}
\step{3}{If $G, H : A / R \rightarrow \mathbf{B}$ and $\forall a \in A. G([a]_R) = H([a]_R)$ then $G = H$.}
\qed
\end{proof}

\begin{prop}[Z]
Let $R$ be an equivalence relation on a set $A$. Then $A/R$ is a partition of $A$.
\end{prop}

\begin{proof}
\pf
\step{2}{Every member of $A/R$ is nonempty.}
\begin{proof}
	\pf\ Since $a \in [a]_R$ by reflexivity.
\end{proof}
\step{3}{No two different sets in $A/R$ have any common elements.}
\begin{proof}
	\step{a}{\pflet{$[a]_R, [b]_R \in A/R$}}
	\step{b}{\pflet{$c \in [a]_R \cap [b]_R$} \prove{$[a]_R = [b]_R$}}
	\step{c}{$aRc$}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{d}{$bRc$}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{e}{$cRb$}
	\begin{proof}
		\pf\ Symmetry, \stepref{d}
	\end{proof}
	\step{f}{$aRb$}
	\begin{proof}
		\pf\ Transitivity, \stepref{c}, \stepref{e}
	\end{proof}
	\step{g}{$[a]_R = [b]_R$}
	\begin{proof}
		\pf\ Proposition \ref{prop:eqclassequal}, \stepref{f}
	\end{proof}
\end{proof}
\step{4}{Each element of $A$ is in some set in $A/R$.}
\begin{proof}
	\pf\ Since $a \in [a]_R$ by reflexivity.
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
For any partition $P$ of a set $A$, there exists a unique equivalence relation $R$ on $A$ such that $A/R = P$, namely $xRy$ iff $\exists X \in P(x \in X \wedge y \in X)$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Natural Map]
Let $A$ be a set and $R$ an equivalence relation on $A$. The \emph{natural map} $A \rightarrow A / R$ is the function that maps $a \in A$ to $[a]_R$.
\end{df}

\chapter{Ordering Relations}

\section{Partial Orders}

\begin{df}[Partial Ordering]
Let $\mathbf{A}$ be a class. A \emph{partial ordering} on $\mathbf{A}$ is a relation $\mathbf{R}$ on $\mathbf{A}$ that is reflexive, antisymmetric and transitive.

We often write $\leq$ for a partial ordering, and then write $x < y$ for $x \leq y \wedge x \neq y$.
\end{df}

\begin{props}[Z]
\label{prop:invposet}
For any classes $\mathbf{A}$ and $\mathbf{R}$, the following is a theorem:

If $\mathbf{R}$ is a partial order on $\mathbf{A}$ then so is $\mathbf{R}^{-1}$.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{R}^{-1}$ is reflexive.}
\begin{proof}
	\pf\ Proposition \ref{prop:invref}.
\end{proof}
\step{2}{$\mathbf{R}^{-1}$ is antisymmetric.}
\begin{proof}
	\pf\ Proposition \ref{prop:invantisym}.
\end{proof}
\step{3}{$\mathbf{R}^{-1}$ is transitive.}
\begin{proof}
	\step{a}{\assume{$x \mathbf{R}^{-1} y$ and $y \mathbf{R}^{-1} z$}}
	\step{b}{$y \mathbf{R} x$ and $z \mathbf{R} y$}
	\step{c}{$z \mathbf{R} x$}
	\begin{proof}
		\pf\ Since $\mathbf{R}$ is transitive.
	\end{proof}
	\step{d}{$x \mathbf{R}^{-1} z$}
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:subposet}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{F}$ and $\mathbf{R}$, the following is a theorem:

Assume $\mathbf{R}$ is a partial order on $\mathbf{B}$ and $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ is injective. Define $\mathbf{S}$ on $\mathbf{A}$ by $x \mathbf{S} y$ iff $\mathbf{F}(x) \mathbf{R} \mathbf{F}(y)$. Then $\mathbf{S}$ is a partial order on $\mathbf{A}$.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{S}$ is reflexive.}
\begin{proof}
	\pf\ For any $x \in \mathbf{A}$ we have $\mathbf{F}(x) \mathbf{R} \mathbf{F}(x)$.
\end{proof}
\step{2}{$\mathbf{S}$ is antisymmetric.}
\begin{proof}
	\step{a}{\pflet{$x,y \in \mathbf{A}$}}
	\step{b}{\assume{$x \mathbf{S} y$ and $y \mathbf{S} x$}}
	\step{c}{$\mathbf{F}(x) \mathbf{R} \mathbf{F}(y)$ and $\mathbf{F}(y) \mathbf{R} \mathbf{F}(x)$}
	\step{d}{$\mathbf{F}(x) = \mathbf{F}(y)$}
	\begin{proof}
		\pf\ $\mathbf{R}$ is antisymmetric.
	\end{proof}
	\step{e}{$x = y$}
\end{proof}
\step{3}{$\mathbf{S}$ is transitive.}
\qed
\end{proof}

\begin{cors}[Z]
\label{cor:subposet}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{R}$, the following is a theorem:

Assume $\mathbf{R}$ be a partial order on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Then $\mathbf{R} \cap \mathbf{B}^2$ is a partial order on $\mathbf{B}$.
\end{cors}

\begin{df}[Partially Ordered Set]
A \emph{partially ordered set} or \emph{poset} is a pair $(A, \leq)$ where $A$ is a set and $\leq$ is a partial ordering on $A$. We often write just $A$ for $(A, \leq)$.

If $(A, \leq)$ is a poset and $B \subseteq A$ we write just $B$ for the poset $(B, \leq \cap B^2)$.
\end{df}

\begin{df}[Strictly Monotone]
Let $(A,<_A)$ and $(B, <_B)$ be posets. A function $f : A \rightarrow B$ is \emph{strictly monotone} iff, whenever $x <_A y$, then $f(x) <_B f(y)$.
\end{df}

\begin{df}[Least]
Let $\leq$ be a partial order on $\mathbf{A}$. An element $m \in \mathbf{A}$ is \emph{least} iff for all $x \in \mathbf{A}$ we have $m \leq x$.
\end{df}

\begin{prop}[Z]
A partial order has at most one least element.
\end{prop}

\begin{proof}
\pf\ If $m$ and $m'$ are least then $m \leq m'$ and $m' \leq m$, so $m = m'$. \qed
\end{proof}

\begin{df}[Greatst]
Let $\leq$ be a partial order on $\mathbf{A}$. An element $m \in \mathbf{A}$ is \emph{greatest} iff for all $x \in A$ we have $x \leq m$.
\end{df}

\begin{prop}[Z]
A poset has at most one greatest element.
\end{prop}

\begin{proof}
\pf\ If $m$ and $m'$ are greatest then $m \leq m'$ and $m' \leq m$, so $m = m'$. \qed
\end{proof}

\begin{df}[Upper Bound]
Let $\leq$ be a partial ordering on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Let $u \in \mathbf{A}$. Then $u$ is an \emph{upper bound} for $\mathbf{B}$ iff $\forall x \in \mathbf{B}. x \leq u$.
\end{df}

\begin{df}[Lower Bound]
Let $\leq$ be a partial ordering on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Let $l \in \mathbf{A}$. Then $l$ is a \emph{lower bound} for $\mathbf{B}$ iff $\forall x \in \mathbf{B}. l \leq x$.
\end{df}

\begin{df}[Bounded Above]
Let $\leq$ be a partial ordering on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Then $\mathbf{B}$ is \emph{bounded above} iff it has an upper bound.
\end{df}

\begin{df}[Bounded Below]
Let $\leq$ be a partial ordering on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Then $\mathbf{B}$ is \emph{bounded below} iff it has a lower bound.
\end{df}

\begin{df}[Least Upper Bound]
Let $\leq$ be a partial ordering on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Let $s \in \mathbf{A}$. Then $s$ is the \emph{least upper bound} or \emph{supremum} of $\mathbf{B}$ iff $s$ is an upper bound for $\mathbf{B}$ and, for every upper bound $u$ for $\mathbf{B}$, we have $s \leq u$.
\end{df}

\begin{df}[Greatest Lower Bound]
Let $\leq$ be a partial ordering on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Let $i \in \mathbf{A}$. Then $i$ is the \emph{greatest lower bound} or \emph{infimum} of $\mathbf{B}$ iff $i$ is a lower bound for $\mathbf{B}$ and, for every lower bound $l$ for $\mathbf{B}$, we have $i \leq l$.
\end{df}

\begin{df}[Complete]
A partial order is \emph{complete} iff every nonempty subset bounded above has a supremum, and every nonempty subset bounded below has an infimum.
\end{df}

\begin{df}[Order Isomorphism]
Let $A$ and $B$ be posets. An \emph{order isomorphism} between $A$ and $B$, $f : A \cong B$, is a bijection $f : A \approx B$ such that $f$ and $f^{-1}$ are monotone.
\end{df}
	
\begin{thm}[Knaster Fixed-Point Theorem (Z)]
Let $A$ be a complete poset with a greatest and least element. Let $\phi : A \rightarrow A$ be monotone. Then there exists $a \in A$ such that $\phi(a) = a$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$B = \{ x \in A \mid x \leq \phi(x) \}$}}
\step{2}{\pflet{$a = \sup B$}}
\begin{proof}
	\pf\ $B$ is nonempty because the least element of $A$ is in $B$, and it is bounded above by the greatest element of $A$.
\end{proof}
\step{3}{For all $b \in B$ we have $b \leq \phi(a)$}
\begin{proof}
	\step{a}{\pflet{$b \in B$}}
	\step{b}{$b \leq \phi(b)$}
	\step{c}{$b \leq a$}
	\step{d}{$\phi(b) \leq \phi(a)$}
	\step{e}{$b \leq \phi(a)$}
\end{proof}
\step{4}{$a \leq \phi(a)$}
\step{5}{$\phi(a) \leq \phi(\phi(a))$}
\step{6}{$\phi(a) \in B$}
\step{7}{$\phi(a) \leq a$}
\step{8}{$\phi(a) = a$}
\qed
\end{proof}

\begin{df}[Dense]
Let $\leq$ be a partial order on $\mathbf{A}$ and
$\mathbf{B} \subseteq \mathbf{A}$. Then $\mathbf{B}$ is \emph{dense} iff, for all $x,y \in \mathbf{A}$, if $x < y$ then there exists $z \in \mathbf{B}$ such that $x < z < y$.
\end{df}

\begin{prop}[Z]
\label{prop:orderisoid}
Let $A$ be a complete poset with no least element. Let $B \subseteq A$ be dense. Let $\theta : A \rightarrow A$ be a monotone map that is the identity on $B$. Then $\theta = \mathrm{id}_A$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$a \in A$} \prove{$\theta(a) = a$}}
\step{3}{\pflet{$S(a) = \{b \in B \mid b < a\}$}}
\step{2}{$S(a)$ is nonempty and bounded above.}
\begin{proof}
	\step{a}{$S(a)$ is nonempty.}
	\begin{proof}
		\step{i}{\pick\ $a_1 < a$}
		\begin{proof}
			\pf\ Since $a$ is not least.
		\end{proof}
		\step{ii}{There exists $b \in B$ such that $a_1 < b < a$.}
	\end{proof}
	\step{b}{$S(a)$ is bounded above by $a$.}
\end{proof}
\step{4}{$\sup S(a) \leq a$}
\step{5}{$\sup S(a) = a$}
\begin{proof}
	\step{a}{\assume{for a contradiction $\sup S(a) < a$}}
	\step{b}{\pick\ $b \in B$ such that $\sup S(a) < b < a$}
	\step{c}{$b \in S(a)$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the fact that $\sup S(a) < b$.
	\end{proof}
\end{proof}
\step{6}{For all $b \in S(a)$ we have $b \leq \theta(a)$}
\begin{proof}
	\step{a}{\pflet{$b \in S(a)$}}
	\step{b}{$b < a$}
	\step{c}{$\theta(b) \leq \theta(a)$}
	\step{d}{$b \leq \theta(a)$}
	\begin{proof}
		\pf\ $\theta(b) = b$
	\end{proof}
\end{proof}
\step{7}{$a \leq \theta(a)$}
\begin{proof}
	\pf\ Since $a = \sup S(a)$ and $\theta(a)$ is an upper bound for $S(a)$.
\end{proof}
\step{8}{$a \nless \theta(a)$}
\begin{proof}
	\step{a}{\assume{for a contradiction $a < \theta(a)$.}}
	\step{b}{\pick\ $b \in B$ such that $a < b < \theta(a)$}
	\step{c}{$\theta(a) \leq \theta(b) = b$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the fact that $b < \theta(a)$.
	\end{proof}
\end{proof}
\step{9}{$\theta(a) = a$}
\qed
\end{proof}

\begin{thm}[Z]
\label{thm:extendorderiso}
Let $A$ and $P$ be complete posets with no least or greatest element. Let $B$ be dense in $A$ and $Q$ be dense in $P$. Every order isomorphism $\phi : B \cong Q$ extends uniquely to an order isomorphism $A \cong P$.
\end{thm}

\begin{proof}
\pf
\step{1}{For $a \in A$, let $S(a) = \{ b \in B \mid b < a \}$.}
\step{2}{Define $\overline{\phi} : A \rightarrow P$ by $\overline{\phi}(a) = \sup \phi(S(a))$.}
\begin{proof}
	\step{a}{$\phi(S(a))$ is nonempty.}
	\begin{proof}
		\step{i}{\pick\ $a_1 < a$}
		\begin{proof}
			\pf\ Since $a$ is not least.
		\end{proof}
		\step{ii}{\pick\ $b \in B$ such that $a_1 < b < a$.}
		\step{iii}{$\phi(b) \in \phi(S(a))$}
	\end{proof}
	\step{b}{$\phi(S(a))$ is bounded above.}
	\begin{proof}
		\step{i}{\pick\ $a_2 > a$}
		\begin{proof}
			\pf\ Since $a$ is not greatest.
		\end{proof}
		\step{ii}{\pick\ $b \in B$ such that $a < b < a_2$}
		\step{iii}{$\phi(b)$ is an upper bound for $\phi(S(a))$.}
	\end{proof}
\end{proof}
\step{3}{$\overline{\phi}$ is monotone.}
\begin{proof}
	\pf\ If $a \leq a'$ then $S(a) \subseteq S(a')$ and so $\overline{\phi}(a) \leq \overline{\phi}(a')$.
\end{proof}
\step{4}{$\overline{\phi}$ extends $\phi$.}
\begin{proof}
	\step{a}{\pflet{$b \in B$} \prove{$\phi(b) = \sup \phi(S(b))$}}
	\step{b}{$\phi(b)$ is an upper bound for $\phi(S(b))$}
	\step{c}{\pflet{$u$ be any upper bound for $\phi(S(b))$} \prove{$\phi(b) \leq u$}}
	\step{d}{\assume{for a contradiction $u < \phi(b)$}}
	\step{e}{\pick\ $q \in Q$ such that $u < q < \phi(b)$}
	\step{f}{\pick\ $b' \in B$ such that $\phi(b') = q$}
	\step{g}{$b' < b$}
	\step{h}{$b' \in S(b)$}
	\step{i}{$q = \phi(b') \leq u$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\step{5}{\pflet{$\psi = \phi^{-1}$}}
\step{6}{\pflet{$\overline{\psi} : P \rightarrow A$ be the function $\overline{\psi}(p) = \sup \{ \psi(q) \mid q \in Q, q < p \}$}}
\step{7}{$\overline{\psi}$ is monotone and extends $\psi$}
\begin{proof}
	\pf\ Similar.
\end{proof}
\step{8}{$\overline{\psi} \circ \overline{\phi} : A \rightarrow A$ is monotone and the identity on $B$.}
\step{9}{$\overline{\psi} \circ \overline{\phi} = \mathrm{id}_A$}
\begin{proof}
	\pf\ Proposition \ref{prop:orderisoid}.
\end{proof}
\step{10}{$\overline{\phi} \circ \overline{\psi} = \mathrm{id}_B$}
\begin{proof}
	\pf\ Proposition \ref{prop:orderisoid}.
\end{proof}
\step{11}{If $\phi^* : A \cong P$ is any order isomorphism that extends $\phi$ then $\phi^* = \overline{\phi}$.}
\begin{proof}
	\step{a}{\pflet{$a \in A$} \prove{$\phi^*(a) = \sup \phi(S(a))$}}
	\step{b}{$\phi^*(a)$ is an upper bound for $\phi(S(a))$}
	\step{c}{\pflet{$u$ be any upper bound for $\phi(S(a))$} \prove{$\phi^*(a) \leq u$}}
	\step{d}{\assume{for a contradiction $u < \phi^*(a)$}}
	\step{e}{\pick\ $q \in Q$ such that $u < q < \phi^*(a)$}
	\step{f}{\pick\ $b \in B$ such that $q = \phi(b)$}
	\step{g}{$b < a$}
	\step{h}{$b \in S(a)$}
	\step{i}{$q = \phi(b) \leq u$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Initial Segment]
Let $\leq$ be a partial order on $\mathbf{A}$ and $t \in A$. The \emph{initial segment} up to $t$ is the class
\[ \seg t := \{ x \in \mathbf{A} \mid x < t \} \enspace . \]
\end{df}

\begin{df}[Lexicographic Ordering]
Let $\mathbf{R}$ be a partial order on $\mathbf{A}$ and $\mathbf{S}$ a partial order on $\mathbf{B}$. The \emph{lexicographic ordering} $\leq$ on $\mathbf{A} \times \mathbf{B}$ is defined by:
\[ (a,b) \leq (a',b') \Leftrightarrow (a \mathbf{R} a' \wedge a \neq a') \vee (a = a' \wedge b \mathbf{S} b') \enspace . \]
\end{df}

\begin{props}[Z]
\label{prop:lexicposet}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{R}$ and $\mathbf{S}$, the following is a theorem:

If $\mathbf{R}$ is a partial order on $\mathbf{A}$ and $\mathbf{S}$ is a partial order on $\mathbf{B}$ then the lexicographic ordering on $\mathbf{A} \times \mathbf{B}$ is a partial order.
\end{props}

\begin{proof}
\pf
\step{1}{\pflet{$\leq$ be the lexicographic ordering on $\mathbf{A} \times \mathbf{B}$}}
\step{2}{$\leq$ is reflexive.}
\begin{proof}
	\pf\ For any $a \in \mathbf{A}$ and $b \in \mathbf{B}$ we have $a = a$ and $b \mathbf{S} b$, so $(a,b) \leq (a,b)$.
\end{proof}
\step{3}{$\leq$ is antisymmetric.}
\begin{proof}
	\step{a}{\assume{$(a,b) \leq (a',b')$ and $(a',b') \leq (a,b)$}}
	\step{b}{$(a \mathbf{R} a' \wedge a \neq a') \vee (a = a' \wedge b \mathbf{S} b')$}
	\step{c}{$(a' \mathbf{R} a \wedge a' \neq a) \vee (a' = a \wedge b \mathbf{S} b')$}
	\step{d}{\case{$a = a'$}}
	\begin{proof}
		\pf\ Then $b \mathbf{S} b'$ and $b' \mathbf{S} b$ hence $b = b'$ and $(a,b) = (a',b')$.
	\end{proof}
	\step{e}{\case{$a \neq a'$}}
	\begin{proof}
		\pf\ Then $a \mathbf{R} a'$ and $a' \mathbf{R} a$ hence $a = a'$ which is a contradiction.
	\end{proof}
\end{proof}
\step{4}{$\leq$ is transitive.}
\begin{proof}
	\step{a}{\assume{$(a_1,b_1) \leq (a_2,b_2) \leq (a_3,b_3)$}}
	\step{b}{$(a_1 \mathbf{R} a_2 \wedge a_1 \neq a_2) \vee (a_1 = a_2 \wedge b_1 \mathbf{S} b_2)$}
	\step{c}{$(a_2 \mathbf{R} a_3 \wedge a_2 \neq a_3) \vee (a_2 = a_3 \wedge b_2 \mathbf{S} b_3)$}
	\step{d}{\case{$a_1 \mathbf{R} a_2, a_1 \neq a_2, a_2 \mathbf{R} a_3, a_2 \neq a_3$}}
	\begin{proof}
		\step{i}{$a_1 \mathbf{R} a_3$}
		\begin{proof}
			\pf\ Since $\mathbf{R}$ is transitive.
		\end{proof}
		\step{ii}{$a_1 \neq a_3$}
		\begin{proof}
			\pf\ If $a_1 = a_3$ then $a_1 \mathbf{R} a_2$ and $a_2 \mathbf{R} a_1$ so $a_1 = a_2$ which is a contradiction.
		\end{proof}
	\end{proof}
	\step{e}{\case{$a_1 \mathbf{R} a_2, a_1 \neq a_2, a_2 = a_3, b_2 \mathbf{S} b_3$}}
	\begin{proof}
		\pf\ Then $a_1 \mathbf{R} a_3$ and $a_1 \neq a_3$.
	\end{proof}
	\step{f}{\case{$a_1 = a_2, b_1 \mathbf{S} b_2, a_2 \mathbf{R} a_3, a_2 \neq a_3$}}
	\begin{proof}
		\pf\ Then $a_1 \mathbf{R} a_3$ and $a_1 \neq a_3$.
	\end{proof}
	\step{g}{\case{$a_1 = a_2, b_1 \mathbf{S} b_2, a_2 = a_3, b_2 \mathbf{S} b_3$}}
	\begin{proof}
		\pf\ Then $a_1 = a_3$ and $b_1 \mathbf{S} b_3$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Linear Orders}

\begin{df}[Linear Ordering]
Let $\mathbf{A}$ be a class. A \emph{linear ordering} or \emph{total ordering} on $\mathbf{A}$ is a partial ordering $\leq$ on $\mathbf{A}$ that is \emph{total}, i.e.
\[ \forall x,y \in \mathbf{A}. x \leq y \vee y \leq x \]

We often use the symbol $<$ for a linear ordering, and then write $x < y$ for $(x,y) \in <$.
\end{df}

\begin{props}[Trichotomy (Z)]
For any classes $\mathbf{A}$ and $\leq$, the following is a theorem:

Assume $\leq$ be a linear ordering on $\mathbf{A}$. For any $x,y \in \mathbf{A}$, exactly one of $x < y$, $x = y$, $y < x$ holds.
\end{props}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{props}[Z]
\label{prop:linord}
For any classes $\mathbf{A}$ and $<$, the following is a theorem:

Let $<$ be a transitive relation on $\mathbf{A}$ that satisfies trichotomy. Define $\leq$ on $\mathbf{A}$ by $x \leq y$ iff $x < y$ or $x = y$. Then $\leq$ is a linear ordering on $\mathbf{A}$ and $x < y$ iff $x \leq y$ and $x \neq y$.
\end{props}

\begin{proof}
\pf
\step{1}{$\leq$ is reflexive.}
\begin{proof}
	\pf\ By definition we have $\forall x \in \mathbf{A}. x \leq x$.
\end{proof}
\step{2}{$\leq$ is antisymmetric.}
\begin{proof}
	\step{a}{\assume{$x \leq y$ and $y \leq x$}}
	\step{b}{$x < y$ or $x = y$}
	\step{c}{$y < x$ or $y = x$}
	\step{d}{We cannot have $x < y$ and $y < x$}
	\begin{proof}
		\pf\ Trichotomy.
	\end{proof}
	\step{e}{$x = y$}
\end{proof}
\step{3}{$\leq$ is transitive.}
\begin{proof}
	\step{a}{\assume{$x \leq y$ and $y \leq z$}}
	\step{b}{$x < y$ or $x = y$}
	\step{c}{$y < z$ or $y = z$}
	\step{d}{\case{$x < y$ and $y < z$}}
	\begin{proof}
		\pf\ Then $x < z$ by transitivity, so $x \leq z$.
	\end{proof}
	\step{e}{\case{$x = y$}}
	\begin{proof}
		\pf\ Then we have $y \leq z$ and so $x \leq z$.
	\end{proof}
	\step{f}{\case{$y = z$}}
	\begin{proof}
		\pf\ Then we have $x \leq y$ and so $x \leq z$.
	\end{proof}
\end{proof}
\step{4}{$\leq$ is total.}
\begin{proof}
	\pf\ Immediate from trichotomy.
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
For any classes $\mathbf{A}$ and $\mathbf{R}$, the following is a theorem:

If $\mathbf{R}$ is a linear ordering on $\mathbf{A}$ then $\mathbf{R}^{-1}$ is also a linear ordering on $\mathbf{A}$.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{R}^{-1}$ is a partial order on $\mathbf{A}$.}
\begin{proof}
	\pf\ Proposition \ref{prop:invposet}.
\end{proof}
\step{2}{$\mathbf{R}^{-1}$ is total.}
\begin{proof}
	\step{a}{\pflet{$x, y \in \mathbf{A}$}}
	\step{b}{$x \mathbf{R} y$ or $y \mathbf{R} x$.}
	\step{c}{$y \mathbf{R}^{-1} x$ or $x \mathbf{R}^{-1} y$.}
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:strictmonotoneinj}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{F}$, $\mathbf{R}$, $\mathbf{S}$, the following is a theorem:

Assume $\mathbf{R}$ is a linear order on $\mathbf{A}$, $\mathbf{S}$ is a partial order on $\mathbf{B}$, and $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$. If $\mathbf{F}$ is strictly monotone then it is injective.
\end{props}

\begin{proof}
\pf
\step{3}{\pflet{$x,y \in \mathbf{A}$}}
\step{6}{\assume{$x \neq y$} \prove{$\mathbf{F}(x) \neq \mathbf{F}(y)$}}
\step{5}{\assume{w.l.o.g. $x \mathbf{R} y$}}
\begin{proof}
	\pf\ $\mathbf{R}$ is total.
\end{proof}
\step{7}{$\mathbf{F}(x) \mathbf{S} \mathbf{F}(y)$ and $\mathbf{F}(x) \neq \mathbf{F}(y)$}
\begin{proof}
	\pf\ $\mathbf{F}$ is strictly monotone.
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:strictmonotoneinv}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\leq$, $\preccurlyeq$ and $\mathbf{F}$, the following is a theorem:

Assume $\leq$ is a linear order on $\mathbf{A}$ and $\preccurlyeq$ is a linear order on $\mathbf{B}$. Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{F}$ is strictly monotone. For all $x,y \in \mathbf{A}$, if $\mathbf{F}(x) \prec \mathbf{F}(y)$ then $x < y$.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{F}(x) \neq \mathbf{F}(y)$ and $\mathbf{F}(y) \not\prec \mathbf{F}(x)$}
\begin{proof}
	\pf\ Trichotomy.
\end{proof}
\step{2}{$x \neq y$ and $y \nless x$}
\begin{proof}
	\pf\ $\mathbf{F}$ is strictly monotone.
\end{proof}
\step{3}{$x < y$}
\begin{proof}
	\pf\ Trichotomy.
\end{proof}
\qed
\end{proof}

\begin{cors}[Z]
\label{cor:orderiso}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\leq$, $\preccurlyeq$ and $\mathbf{F}$, the following is a theorem:

Assume $\leq$ is a linear order on $\mathbf{A}$ and $\preccurlyeq$ is a linear order on $\mathbf{B}$. Assume $\mathbf{F} : \mathbf{A} \rightarrow \mathbf{B}$ and $\mathbf{F}$ is strictly monotone. Then $\mathbf{F}$ is an order isomorphism.
\end{cors}

\begin{props}[Z]
\label{prop:subloset}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{F}$ and $\mathbf{S}$, the following is a theorem:

Assume $\mathbf{S}$ is a linear order on $\mathbf{B}$ and $\mathbf{F} : \mathbf{A} \rightarrowtail \mathbf{B}$. Define $\mathbf{R}$ on $\mathbf{A}$ by $x \mathbf{R} y$ if and only if $\mathbf{F}(x) \mathbf{S} \mathbf{F}(y)$. Then $\mathbf{R}$ is a linear order on $\mathbf{A}$.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{R}$ is a partial order on $\mathbf{A}$.}
\begin{proof}
	\pf\ Proposition \ref{prop:subposet}.
\end{proof}
\step{2}{$\mathbf{R}$ is total.}
\begin{proof}
	\pf\ For all $x,y \in \mathbf{A}$ we have $\mathbf{F}(x) \mathbf{S} \mathbf{F}(y)$ or $\mathbf{F}(y) \mathbf{S} \mathbf{F}(x)$.
\end{proof}
\qed
\end{proof}

\begin{cors}[Z]
\label{cor:subloset}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{R}$, the following is a theorem:

Assume $\mathbf{R}$ be a linear order on $\mathbf{A}$ and $\mathbf{B} \subseteq \mathbf{A}$. Then $\mathbf{R} \cap \mathbf{B}^2$ is a linear order on $\mathbf{B}$.
\end{cors}

\begin{props}[Z]
\label{prop:lexicographlinear}
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{R}$ and $\mathbf{S}$, the following is a theorem:

Assume $\mathbf{R}$ is a linear order on $\mathbf{A}$ and $\mathbf{S}$ is a linear order on $\mathbf{B}$. Then the lexicographic ordering is a linear order on $\mathbf{A} \times \mathbf{B}$.
\end{props}

\begin{proof}
\pf
\step{1}{\pflet{$\leq$ be the lexicographic order on $\mathbf{A} \times \mathbf{B}$}}
\step{2}{$\leq$ is a partial order.}
\begin{proof}
	\pf\ Proposition \ref{prop:lexicposet}.
\end{proof}
\step{3}{$\leq$ is total.}
\begin{proof}
	\step{a}{\pflet{$a,a' \in \mathbf{A}$ and $b, b' \in \mathbf{B}$}}
	\step{b}{\case{$a \mathbf{R} a'$ and $a \neq a'$}}
	\begin{proof}
		\pf\ Then $(a,b) \leq (a',b')$.
	\end{proof}
	\step{c}{\case{$a = a'$}}
	\begin{proof}
		\pf\ We have $b \mathbf{S} b'$ or $b' \mathbf{S} b$, so $(a,b) \leq (a',b')$ or $(a',b') \leq (a,b)$.
	\end{proof}
	\step{d}{\case{$a' \mathbf{R} a$ and $a \neq a'$}}
	\begin{proof}
		\pf\ Then $(a',b') \leq (a,b)$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Well Orderings}

\begin{df}[Well Ordering]
A \emph{well ordering} on a class $\mathbf{A}$ is a well-founded linear ordering on $\mathbf{A}$.
\end{df}

\begin{prop}[Z]
Let $S$ be a well ordering of the set $B$ and $f : A \rightarrow B$ a function. Define $R$ on $A$ by $xRy$ if and only if $F(x) S F(y)$. Then $R$ well orders $A$.
\end{prop}

\begin{proof}
\pf
\step{1}{$R$ linearly orders $A$.}
\begin{proof}
	\pf\ Proposition \ref{prop:subloset}.
\end{proof}
\step{3}{Every nonempty subset of $A$ has a least element.}
\begin{proof}
	\step{a}{\pflet{$C$ be a nonempty subset of $A$.}}
	\step{b}{\pflet{$y$ be the least element of $f(C)$.}}
	\step{c}{\pick\ $x \in C$ such that $f(x) = y$.}
	\step{d}{$x$ is least in $C$.}
\end{proof}
\qed
\end{proof}

\begin{props}[Z]
\label{prop:subwoset}
For any classes $\mathbf{A}$, $\mathbf{B}$ and $\mathbf{R}$, the following is a theorem:

Assume $\mathbf{R}$ well orders $\mathbf{B}$ and $\mathbf{A} \subseteq \mathbf{B}$. Then $\mathbf{R} \cap \mathbf{A}^2$ well orders $\mathbf{A}$.
\end{props}

\begin{proof}
\pf
\step{1}{\pflet{$\mathbf{R}' = \mathbf{R} \cap \mathbf{A}^2$}}
\step{2}{$\mathbf{R}'$ linearly orders $\mathbf{A}$.}
\begin{proof}
	\pf\ Corollary \ref{cor:subloset}.
\end{proof}
\step{3}{$\mathbf{R}'$ is well founded.}
\begin{proof}
	\pf\ Proposition \ref{prop:subwellfounded}.
\end{proof}
\qed
\end{proof}

\begin{props}[ZFC]
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{F}$ and $\mathbf{S}$, the following is a theorem:

Assume $\mathbf{S}$ well orders $\mathbf{B}$ and $\mathbf{F} : \mathbf{A} \rightarrowtail \mathbf{B}$. Define $\mathbf{R}$ on $\mathbf{A}$ by $x \mathbf{R} y$ if and only if $\mathbf{F}(x) \mathbf{S} \mathbf{F}(y)$. Then $\mathbf{R}$ well orders $\mathbf{A}$.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{R}$ linearly orders $\mathbf{A}$.}
\begin{proof}
	\pf\ Proposition \ref{prop:subloset}.
\end{proof}
\step{2}{For all $t \in \mathbf{A}$ we have $\{ x \in \mathbf{A} \mid x \mathbf{R} t \wedge x \neq t \}$ is a set.}
\begin{proof}
	\step{a}{\pflet{$t \in \mathbf{A}$}}
	\step{b}{\pflet{$S = \{ y \in \mathbf{B} \mid y \mathbf{S} \mathbf{F}(t) \wedge y \neq \mathbf{F}(t) \}$}}
	\step{c}{\pflet{$P(x,y)$ be the property $\mathbf{F}(y) = x$}}
	\step{d}{For all $x \in S$ there exists at most one $y$ such that $P(x,y)$}
	\begin{proof}
		\pf\ $\mathbf{F}$ is injective.
	\end{proof}
	\step{e}{\pflet{$T = \{ y \mid \exists x \in S. P(x,y) \}$}}
	\begin{proof}
		\pf\ Axiom of Replacement.
	\end{proof}
	\step{f}{$T = \{ x \in \mathbf{A} \mid x \mathbf{R} t \wedge x \neq t \}$}
\end{proof}
\step{3}{Every nonempty subset of $\mathbf{A}$ has a least element.}
\begin{proof}
	\step{a}{\pflet{$S$ be a nonempty subset of $\mathbf{A}$.}}
	\step{x}{$\mathbf{F}(S)$ is a nonempty subset of $\mathbf{B}$}
	\begin{proof}
		\pf\ Axiom of Replacement.
	\end{proof}
	\step{b}{\pflet{$y$ be the least element of $\mathbf{F}(S)$.}}
	\step{c}{\pick\ $x \in S$ such that $\mathbf{F}(x) = y$.}
	\step{d}{$x$ is least in $S$.}
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
\label{prop:lexicogwellorder}
For any well ordered sets $A$ and $B$, the lexicographic order well orders $A \times B$.
\end{prop}

\begin{proof}
\pf
\step{1}{$A \times B$ is linearly ordered.}
\begin{proof}
	\pf\ Proposition \ref{prop:lexicographlinear}.
\end{proof}
\step{2}{Every nonempty subset of $A \times B$ has a least element.}
\begin{proof}
	\step{a}{\pflet{$S$ be a nonempty subset of $A \times B$.}}
	\step{b}{\pflet{$a$ be the least element of $\{ x \in A \mid \exists y \in B. (x,y) \in S \}$.}}
	\step{c}{\pflet{$b$ be the least element of $\{ y \in B \mid (a,y) \in S \}$.}}
	\step{d}{$(a,b)$ is least in $S$.}
\end{proof}
\qed
\end{proof}

\begin{df}[End Extension]
Let $A$ and $B$ be well ordered sets. Then $B$ is an \emph{end extension} of $A$ iff $A \subseteq B$ and:
\begin{itemize}
\item Whenever $x,y \in A$ then $x \leq_A y$ iff $x \leq_B y$.
\item Whenever $x \in A$ and $y \in B - A$ then $x < y$.
\end{itemize}
\end{df}

\begin{thm}[Z]
Let $\leq$ be a linear ordering on $A$. Assume that, for any $B \subseteq A$ such that $\forall t \in A. \seg t \subseteq B \Rightarrow t \in B$, we have $B = A$. Then $\leq$ is a well ordering on $A$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$C \subseteq A$ be nonempty.}}
\step{2}{\pflet{$B = \{ t \in A \mid \forall x \in C. t < x \}$}}
\step{3}{$B \cap C = \emptyset$}
\step{4}{$B \neq A$}
\step{5}{\pick\ $t \in A$ such that $\seg t \subseteq B$ and $t \notin B$}
\step{6}{$t$ is least in $C$.}
\qed
\end{proof}

\begin{props}[Z]
For any classes $\mathbf{A}$, $\mathbf{B}$, $\mathbf{F}$, $\mathbf{G}$, $\leq$ and $\preccurlyeq$, the following is a theorem:

Assume $\leq$ well orders $\mathbf{A}$ and $\preccurlyeq$ well orders $\mathbf{B}$. Assume $\mathbf{F}$ and $\mathbf{G}$ are order isomorphisms between $\mathbf{A}$ and $\mathbf{B}$. Then $\mathbf{F} = \mathbf{G}$.
\end{props}

\begin{proof}
\pf
\step{1}{For all $x \in \mathbf{A}$, if $\forall t < x. \mathbf{F}(t) = \mathbf{G}(t)$, then $\mathbf{F}(x) = \mathbf{G}(x)$}
\begin{proof}
	\step{a}{\pflet{$x \in \mathbf{A}$}}
	\step{b}{\assume{$\forall t < x. \mathbf{F}(t) = \mathbf{G}(t)$}}
	\step{e}{$\mathbf{F}(\seg x) = \mathbf{G}(\seg x)$}
	\step{c}{$\mathbf{F}(x)$ is the least element of $\mathbf{B} - \mathbf{F}(\seg x)$}
	\step{d}{$\mathbf{G}(x)$ is the least element of $\mathbf{B} - \mathbf{G}(\seg x)$}
	\step{e}{$\mathbf{F}(x) = \mathbf{G}(x)$}
\end{proof}
\step{2}{$\forall x \in \mathbf{A}. \mathbf{F}(x) = \mathbf{G}(x)$}
\begin{proof}
	\pf\ Transfinite induction.
\end{proof}
\qed
\end{proof}

\begin{thm}[ZFC]
Let $A$ and $B$ be well ordered sets. Then one of the following holds: $A \cong B$; there exists $b \in B$ such that $A \cong \seg b$; there exists $a \in A$ such that $\seg a \cong B$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ $e$ that is not in $A$ or $B$.}
\step{2}{\pflet{$F : A \rightarrow B \cup \{e\}$ be the function defined by transfinite recursion thus:
\[ F(t) =
\begin{cases}
\text{the least element of } B - F(\seg t) & \text{if } B - F(\seg t) \neq \emptyset \\
e & \text{if } B - F(\seg t) = \emptyset
\end{cases} \]}}
\step{3}{\case{$e \in \ran F$}}
\begin{proof}
	\step{a}{\pflet{$t$ be least such that $F(t) = e$}}
	\step{b}{$F \restriction \seg t : \seg t \cong B$}
\end{proof}
\step{4}{\case{$\ran F = B$}}
\begin{proof}
	\pf\ We have $F : A \cong B$
\end{proof}
\step{5}{\case{$\ran F \subsetneq B$}}
\begin{proof}
	\step{a}{\pflet{$b$ be the least element of $B - \ran F$}}
	\step{b}{$F : A \cong \seg b$}
\end{proof}
\qed
\end{proof}

\chapter{Ordinal Numbers}

\section{Ordinals}

\begin{df}[Ordinal Number]
An \emph{ordinal (number)} is a transitive set $\alpha$ that is \emph{well-ordered by $\in$}; that is, such that $\{(x,y) \in \alpha^2 \mid x \in y \vee x = y \}$ well orders $\alpha$.

Given $x, y \in \alpha$, we write $x < y$ iff $x \in y$, and $x \leq y$ iff $x \in y$ or $x = y$.

Let $\mathbf{On}$ be the class of ordinal numbers. For $\alpha, \beta \in \mathbf{On}$, we write $\alpha < \beta$ iff $\alpha \in \beta$, and $\alpha \leq \beta$ iff $\alpha < \beta$ or $\alpha = \beta$.
\end{df}

\begin{prop}[Z]
\label{prop:ordisoeq}
For any ordinal numbers $\alpha$ and $\beta$, if $\alpha \cong \beta$ then $\alpha = \beta$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f : \alpha \cong \beta$}}
\step{2}{For all $x \in \alpha$, if $\forall t < x. f(t) = t$ then $f(x) = x$}
\begin{proof}
	\step{a}{$f(x) \subseteq x$}
	\begin{proof}
		\step{i}{\pflet{$y \in f(x)$}}
		\step{ii}{$y \in \beta$}
		\step{iii}{\pick\ $t \in \alpha$ such that $f(t) = y$}
		\begin{proof}
			\pf\ $f$ is surjective.
		\end{proof}
		\step{iv}{$f(t) \in f(x)$}
		\step{v}{$t \in x$}
		\begin{proof}
			\pf\ Since $f$ is an order isomorphism.
		\end{proof}
		\step{vi}{$f(t) = t$}
		\begin{proof}
			\pf\ Induction hypothesis.
		\end{proof}
		\step{viii}{$y = t$}
		\step{ix}{$y \in x$}
	\end{proof}
	\step{b}{$x \subseteq f(x)$}
	\begin{proof}
		\step{i}{\pflet{$t \in x$}}
		\step{ii}{$f(t) \in f(x)$}
		\step{iii}{$f(t) = t$}
		\step{iv}{$t \in f(x)$}
	\end{proof}
\end{proof}
\step{3}{$\forall x \in \alpha. f(x) = x$}
\begin{proof}
	\pf\ Transfinite induction.
\end{proof}
\step{4}{$\alpha = \beta$}
\begin{proof}
	\pf\ Since $\beta = \{ f(t) \mid t \in \alpha \} = \{ t \mid t \in \alpha \} = \alpha$.
\end{proof}
\qed
\end{proof}

\begin{thm}[ZFC]
Every well-ordered set is isomorphic to a unique ordinal.
\end{thm}

\begin{proof}
\pf
\step{1}{For any well-ordered set $A$, there exists an ordinal $\alpha$ such that $A \cong \alpha$.}
\begin{proof}
	\step{a}{\pflet{$A$ be a well-ordered set.}}
	\step{b}{Define the function $E$ on $A$ by transfinite recursion thus:
	\[ E(t) = \{ E(x) \mid x < t \} \qquad (t \in A) \enspace . \]}
	\step{c}{\pflet{$\alpha = \{ E(x) \mid x \in A \}$}}
	\step{d}{$\alpha$ is an ordinal.}
	\begin{proof}
		\step{i}{$\alpha$ is a transitive set.}
		\begin{proof}
			\step{one}{\pflet{$x \in y \in \alpha$}}
			\step{two}{\pick\ $t \in A$ such that $y = E(t)$}
			\step{three}{$x \in E(t) = \{ E(s) \mid s < t \}$}
			\step{four}{\pick\ $s < t$ such that $x = E(s)$}
			\step{five}{$x \in \alpha$}
		\end{proof}
		\step{ii}{$\alpha$ is well-ordered by $\in$.}
		\begin{proof}
			\step{one}{\pflet{$< = \{(x,y) \in \alpha \mid x \in y \}$}}
			\step{two}{$<$ is transitive.}
			\begin{proof}
				\step{A}{\pflet{$x,y,z \in \alpha$ with $x \in y \in z$}}
				\step{B}{\pick\ $t \in A$ such that $z = E(t)$}
				\step{C}{\pick\ $s \in A$ such that $s < t$ and $y = E(s)$}
				\step{D}{\pick\ $r \in A$ such that $r < s$ and $x = E(r)$}
				\step{E}{$r < t$}
				\step{F}{$x \in z$}
			\end{proof}
			\step{three}{$<$ satisfies trichotomy.}
			\begin{proof}
				\step{A}{\pflet{$x,y \in \alpha$}}
				\step{B}{\pick\ $s, t \in A$ such that $E(s) = x$ and $E(t) = y$}
				\step{C}{Exactly one of $s < t$, $s = t$, $t < s$ holds.}
				\step{D}{\case{$s < t$}}
				\begin{proof}
					\step{ONE}{$x \in y$}
					\step{TWO}{$x \neq y$ and $y \notin x$}
					\begin{proof}
						\pf\ Axiom of Regularity.
					\end{proof}
				\end{proof}
				\step{E}{\case{$s = t$}}
				\begin{proof}
					\step{ONE}{$x = y$}
					\step{TWO}{$x \notin y$ and $y \notin x$}
					\begin{proof}
						\pf\ Axiom of Regularity.
					\end{proof}
				\end{proof}
				\step{F}{\case{$t < s$}}
				\begin{proof}
					\pf\ Similar to \stepref{D}.
				\end{proof}
			\end{proof}
			\step{four}{$\leq$ is a linear order on $\alpha$.}
			\begin{proof}
				\pf\ Proposition \ref{prop:linord}.
			\end{proof}
			\step{five}{Every nonempty subset of $\alpha$ has a least element.}
			\begin{proof}
				\step{A}{\pflet{$S$ be a nonempty subset of $\alpha$}}
				\step{B}{\pflet{$T = \{ x \in A \mid E(x) \in S \}$}}
				\step{C}{\pflet{$t$ be the least element of $T$.} \prove{$E(t)$ is least in $S$}}
				\step{D}{\pflet{$y \in S$}}
				\step{E}{\pick\ $s \in T$ such that $E(s) = y$}
				\step{F}{$t \leq s$}
				\step{G}{$x \leq y$}
			\end{proof}
		\end{proof}
	\end{proof}
	\step{f}{$E$ is surjective.}
	\begin{proof}
		\pf\ By definition of $\alpha$.
	\end{proof}
	\step{g}{$E$ is strictly monotone.}
	\begin{proof}
		\pf\ If $s < t$ then $E(s) \in E(t)$ by definition of $E(t)$.
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ Corollary \ref{cor:orderiso}.
	\end{proof}
\end{proof}
\step{2}{For any ordinals $\alpha$ and $\beta$, if $\alpha \cong \beta$ then $\alpha = \beta$.}
\begin{proof}
	\pf\ Proposition \ref{prop:ordisoeq}.
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
\label{prop:elordinal}
The class $\mathbf{On}$ is a transitive class. That is, every element of an ordinal is an ordinal.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha$ be an ordinal.}}
\step{2}{\pflet{$\beta \in \alpha$}}
\step{3}{$\beta$ is a transitive set.}
\begin{proof}
	\step{a}{\pflet{$x \in y \in \beta$}}
	\step{b}{$y \in \alpha$}
	\begin{proof}
		\pf\ $\alpha$ is transitive.
	\end{proof}
	\step{c}{$x \in \alpha$}
	\begin{proof}
		\pf\ $\alpha$ is transitive.
	\end{proof}
	\step{d}{$x \in \beta$}
	\begin{proof}
		\pf\ Since $\{(x,y) \in \alpha^2 \mid x \in y\}$ is transitive.
	\end{proof}
\end{proof}
\step{4}{$\beta$ is well ordered by $\in$.}
\begin{proof}
	\pf\ By Proposition \ref{prop:subwoset}.
\end{proof}
\qed
\end{proof}

\begin{prop}[ZFC]
\label{prop:ordtrichotomy}
Given two ordinal numbers $\alpha$, $\beta$, exactly one of $\alpha \in \beta$, $\alpha = \beta$, $\beta \in \alpha$ holds.
\end{prop}

\begin{proof}
\pf
\step{1}{At most one holds.}
\begin{proof}
	\pf\ Since every ordinal is a transitive set and we never have $\alpha \in \alpha$.
\end{proof}
\step{2}{At least one holds.}
\begin{proof}
	\step{a}{Either $\alpha \cong \beta$ or $\exists t \in \beta. \alpha \cong \seg t$ or $\exists t \in \alpha. \seg t \cong \beta$.}
	\step{b}{\case{$\alpha \cong \beta$}}
	\begin{proof}
		\pf\ Then $\alpha = \beta$ by Proposition \ref{prop:ordisoeq}.
	\end{proof}
	\step{c}{\case{There exists $t \in \beta$ such that $\alpha \cong \seg t$}}
	\begin{proof}
		\step{i}{$t$ is an ordinal number.}
		\begin{proof}
			\pf\ Proposition \ref{prop:elordinal}.
		\end{proof}
		\step{ii}{$t = \seg t$}
		\begin{proof}
			\step{one}{$t \subseteq \seg t$}
			\begin{proof}
				\step{A}{\pflet{$s \in t$}}
				\step{B}{$s \in \beta$}
				\begin{proof}
					\pf\ $\beta$ is a transitive set.
				\end{proof}
				\step{C}{$s \in \seg t$}
			\end{proof}
			\step{two}{$\seg t \subseteq t$}
			\begin{proof}
				\pf\ Immediate from definitions.
			\end{proof}
		\end{proof}
		\step{ii}{$\alpha = t$}
		\begin{proof}
			\pf\ Proposition \ref{prop:ordisoeq}.
		\end{proof}
		\step{iii}{$\alpha \in \beta$}
	\end{proof}
	\step{d}{\case{There exists $t \in \alpha$ such that $\seg t \cong \beta$}}
	\begin{proof}
		\pf\ $\beta \in \alpha$ similarly.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}[Z]
\label{prop:ordwellord}
Any nonempty set $S$ of ordinal numbers has a least element.
\end{prop}

\begin{proof}
\pf
\step{1}{\pick\ $\beta \in S$}
\step{2}{\case{$\beta \cap S = \emptyset$}}
\begin{proof}
	\pf\ Then $\beta$ is least in $S$.
\end{proof}
\step{3}{\case{$\beta \cap S \neq \emptyset$}}
\begin{proof}
	\pf\ The least element of $\beta \cap S$ is least in $S$.
\end{proof}
\qed
\end{proof}

\begin{thm}[ZFC]
\label{thm:Onwellord}
The class $\mathbf{On}$ is well ordered by $\in$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\mathbf{E} = \{(x,y) \in \mathbf{On}^2 \mid x \in y \}$}}
\step{2}{$\mathbf{E}$ is transitive.}
\begin{proof}
	\pf\ If $\alpha \in \beta \in \gamma$ then $\alpha \in \gamma$ because every ordinal is a transitive set.
\end{proof}
\step{3}{$\mathbf{E}$ satisfies trichotomy.}
\begin{proof}
	\pf\ Proposition \ref{prop:ordtrichotomy}.
\end{proof}
\step{3a}{$\mathbf{E}$ linearly orders $\mathbf{On}$.}
\begin{proof}
	\pf\ Proposition \ref{prop:linord}.
\end{proof}
\step{4}{$\mathbf{E}$ is well founded.}
\begin{proof}
	\pf\ Proposition \ref{prop:inwellfounded}.
\end{proof}
\qed
\end{proof}

\begin{cor}[Burali-Forti Paradox (ZFC)]
The class $\mathbf{On}$ is a proper class.
\end{cor}

\begin{proof}
\pf\ If it were a set, it would be a transitive set well-ordered by $\in$, and hence a member of itself, contradicting Proposition \ref{prop:xnotinx}.
\end{proof}

\begin{prop}[ZFC]
\label{prop:transords}
Any transitive set of ordinal numbers is an ordinal number.
\end{prop}

\begin{proof}
\pf\ It is well-ordered by $\in$ by Proposition \ref{prop:subwoset} and Theorem \ref{thm:Onwellord}. \qed
\end{proof}

\begin{prop}[Z]
$\emptyset$ is an ordinal number.
\end{prop}

\begin{proof}
\pf\ Vacuously, it is a transitive set well-ordered by $\in$.
\end{proof}

\begin{df}
We define $0 = \emptyset$.
\end{df}

\begin{prop}[ZFC]
If $A$ is a set of ordinal numbers then $\bigcup A$ is an ordinal number.
\end{prop}

\begin{proof}
\pf
\step{1}{$\bigcup A$ is a transitive set.}
\begin{proof}
	\pf\ Proposition \ref{prop:uniontransitive}.
\end{proof}
\step{2}{$\bigcup A$ is a set of ordinals.}
\begin{proof}
	\pf\ Proposition \ref{prop:elordinal}.
\end{proof}
\qedstep
\begin{proof}
	\pf\ Proposition \ref{prop:transords}.
\end{proof}
\qed
\end{proof}

\begin{cor}[ZFC]
The poset $\mathbf{On}$ is complete.
\end{cor}

\begin{proof}
\pf\ For any nonempty set $A$ of ordinals, $\bigcup A$ is its supremum. \qed
\end{proof}

\begin{prop}[ZFC]
\label{prop:subsetleq}
Let $\alpha$ be an ordinal and $S \subseteq \alpha$. Then $S$ is well-ordered by $\in$ and the ordinal of $(S, \in)$ is $\leq \alpha$.
\end{prop}

\begin{proof}
\pf
\step{1}{$S$ is well ordered by $\in$.}
\step{2}{\pflet{$\beta$ be the ordinal of $(S, \in)$}}
\step{3}{\pflet{$E : S \approx \beta$ be the unique isomorphism.}}
\step{4}{$\forall \gamma \in S. E(\gamma) \leq \gamma$}
\begin{proof}
	\step{o}{\pflet{$\gamma \in S$}}
	\step{a}{\assume{as transfinite induction hypothesis $\forall \delta < \gamma. E(\delta) \leq \delta$}}
	\step{b}{$E(\gamma)$ is the least element of $\beta$ that is greater than $E(\delta)$ for all $\delta < \gamma$}
	\step{c}{$\gamma$ is greater than $E(\delta)$ for all $\delta < \gamma$}
	\step{d}{$E(\gamma) \leq \gamma$}
\end{proof}
\step{5}{$\beta \leq \alpha$}
\begin{proof}
	\step{a}{$\forall \gamma < \beta. \gamma < \alpha$}
	\begin{proof}
		\step{i}{\pflet{$\gamma < \beta$}}
		\step{ii}{\pick\ $\delta \in S$ such that $E(\delta) = \gamma$}
		\step{iii}{$\gamma = E(\delta) \leq \delta < \alpha$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}[ZFC]
Let $\alpha$ be a set. Then the following are equivalent.
\begin{enumerate}
\item $\alpha$ is an ordinal.
\item $\alpha$ is a transitive set and, for all $x,y \in \alpha$, either $x = y$ or $x \in y$ or $y \in x$.
\item $\alpha$ is a transitive set of transitive sets.
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{$1 \Rightarrow 2$}
\begin{proof}
	\pf\ Immediate from definitions.
\end{proof}
\step{2}{$2 \Rightarrow 3$}
\begin{proof}
	\step{a}{\assume{$\alpha$ is a transitive set and, for all $x,y \in \alpha$, either $x = y$ or $x \in y$ or $y \in x$}}
	\step{b}{\pflet{$z \in \alpha$} \prove{$z$ is transitive.}}
	\step{c}{\pflet{$x \in y \in z$}}
	\step{d}{$y \in \alpha$}
	\step{e}{$x \in \alpha$}
	\step{f}{Either $x = z$ or $x \in z$ or $z \in x$}
	\step{g}{$x \neq z$}
	\begin{proof}
		\pf\ We cannot have $x \in y \in x$ by the Axiom of Regularity.
	\end{proof}
	\step{h}{$z \notin x$}
	\begin{proof}
		\pf\ We cannot have $x \in y \in z \in x$ by the Axiom of Regularity.
	\end{proof}
\end{proof}
\step{3}{$3 \Rightarrow 1$}
\begin{proof}
	\step{a}{\pflet{$x$ be a transitive set of transitive sets.}}
	\step{b}{\assume{as $\in$-induction hypothesis that, for all $y \in x$, if $y$ is a transitive set of transitive sets then $y$ is a transitive set of ordinals.}}
	\step{c}{Every element of $x$ is an ordinal.}
	\begin{proof}
		\step{i}{\pflet{$y \in x$}}
		\step{ii}{$y$ is transitive.}
		\step{iii}{Every element of $y$ is transitive.}
		\begin{proof}
			\pf\ Since every element of $y$ is an element of $x$, because $x$ is transitive.
		\end{proof}
		\step{iv}{$y$ is an ordinal.}
		\begin{proof}
			\pf\ \stepref{b}
		\end{proof}
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ Proposition \ref{prop:transords}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{lm}[Z]
\label{lm:endextleq}
Let $A$ and $B$ be well-ordered sets. If $B$ is an end extension of $A$ then the ordinal of $A$ is $\leq$ the ordinal of $B$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha$ be the ordinal of $A$ and $\beta$ the ordinal of $B$.}}
\step{2}{\pflet{$E_A : A \cong \alpha$ and $E_B : B \cong \beta$ be the canonical isomorphisms.}}
\step{3}{$\forall a \in A. E_A(a) = E_B(a)$}
\begin{proof}
	\step{a}{\pflet{$a \in A$}}
	\step{b}{\assume{as transfinite induction hypothesis $\forall x < a. E_A(x) = E_B(x)$}}
	\step{c}{$E_A(a)$ is the least ordinal that is greater than $E_A(x)$ for all $x < a$}
	\step{d}{$E_B(a)$ is the least ordinal that is greater than $E_B(x)$ for all $x < b$}
	\step{e}{$\{ x \in A \mid x <_A a \} = \{ x \in B \mid x <_B a \}$}
	\step{f}{$E_A(a) = E_B(a)$}
\end{proof}
\step{4}{$\alpha \subseteq \beta$}
\step{5}{$\alpha \leq \beta$}
\qed
\end{proof}

\begin{lm}
\label{lm:union_of_end_extensions}
Let $\mathcal{C}$ be a set of well ordered sets such that, for any $A,B \in \mathcal{C}$, we have that one of $A$ and $B$ is an end extension of the other. Let $W = \bigcup \mathcal{C}$ under $x \leq y$ iff there exists $A \in W$ such that $x,y \in A$ and $x \leq y$. Then $W$ is a well ordered set whose ordinal is the supremum of the ordinals of the members of $\mathcal{C}$.
\end{lm}

\begin{proof}
\pf
\step{1}{$\leq$ is reflexive on $W$.}
\begin{proof}
	\step{a}{\pflet{$x \in W$}}
	\step{b}{\pick\ $A \in W$ such that $x \in A$.}
	\step{c}{$x \leq x$}
\end{proof}
\step{2}{$\leq$ is antisymmetric on $W$.}
\begin{proof}
	\step{a}{\pflet{$x,y \in W$}}
	\step{b}{\assume{$x \leq y$ and $y \leq x$}}
	\step{c}{\pick\ $A \in W$ such that $x,y \in A$ and $x \leq_A y$, and $B \in W$ such that $x,y \in B$ and $y \leq_B x$}
	\step{d}{\assume{w.l.o.g. $B$ is an end extension of $A$}}
	\step{e}{$x \leq_B y$ and $y \leq_B x$}
	\step{f}{$x = y$}
\end{proof}
\step{3}{$\leq$ is transitive on $W$.}
\begin{proof}
	\step{a}{\assume{$x \leq y \leq z$}}
	\step{b}{\pick\ $A,B \in W$ such that $x \leq_A y$ and $y \leq_B z$}
	\step{c}{\case{$A$ is an end extension of $B$.}}
	\begin{proof}
		\step{i}{$x \leq_A y$ and $y \leq_A z$}
		\step{2}{$x \leq_A z$}
		\step{3}{$x \leq z$}
	\end{proof}
	\step{d}{\case{$B$ is an end extension of $A$.}}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\step{4}{$\leq$ is total on $W$.}
\begin{proof}
	\step{a}{\pflet{$x,y \in W$}}
	\step{b}{\pick\ $A,B \in \mathcal{C}$ such that $x \in A$ and $y \in B$}
	\step{c}{\assume{w.l.o.g. $B$ is an end extension of $A$}}
	\step{d}{$x \leq_B y$ or $y \leq_B x$}
	\step{e}{$x \leq_W y$ or $y \leq_W x$}
\end{proof}
\step{5}{Every nonempty subset of $W$ has a least element.}
\begin{proof}
	\step{a}{\pflet{$S$ be a nonempty subset of $W$}}
	\step{b}{\pick\ $s \in S$}
	\step{c}{\pick\ $A \in \mathcal{C}$ such that $s \in A$}
	\step{d}{\pflet{$a$ be the $\leq_A$-least element of $S \cap A$} \prove{$a$ is least in $S$}}
	\step{e}{\pflet{$x \in S$} \prove{$a \leq x$}}
	\step{f}{\pick\ $B \in \mathcal{C}$ such that $x \in B$}
	\step{g}{\case{$A$ is an end extension of $B$}}
	\begin{proof}
		\step{i}{$a \leq_A x$}
		\step{ii}{$a \leq x$}
	\end{proof}
	\step{h}{\case{$B$ is an end extension of $A$}}
	\begin{proof}
		\step{i}{\case{$x \in A$}}
		\begin{proof}
			\step{one}{$a \leq_A x$}
			\step{two}{$a \leq x$}
		\end{proof}
		\step{ii}{\case{$x \in B - A$}}
		\begin{proof}
			\step{one}{$a \leq_B x$}
			\step{two}{$a \leq x$}
		\end{proof}
	\end{proof}
\end{proof}
\step{6}{For all $A \in \mathcal{C}$, $W$ is an end extension of $A$.}
\begin{proof}
	\step{a}{For all $x, y \in A$, we have $x \leq_A y$ if and only if $x \leq_W y$}
	\begin{proof}
		\step{i}{\pflet{$x,y \in A$}}
		\step{ii}{If $x \leq_A y$ then $x \leq_W y$}
		\begin{proof}
			\pf\ Immediate from definitions.
		\end{proof}
		\step{iii}{If $x \leq_W y$ then $x \leq_A y$}
		\begin{proof}
			\step{one}{\assume{$x \leq_W y$}}
			\step{two}{\pick\ $B \in \mathcal{C}$ such that $x \leq_B y$}
			\step{three}{\case{$A$ is an end extension of $B$}}
			\begin{proof}
				\pf\ Then $x \leq_A y$.
			\end{proof}
			\step{four}{\case{$B$ is an end extension of $A$}}
			\begin{proof}
				\pf\ Then $x \leq_A y$.
			\end{proof}
		\end{proof}
	\end{proof}
	\step{b}{For all $x \in A$ and $y \in W - A$ we have $x < y$}
	\begin{proof}
		\step{i}{\pflet{$x \in A$ and $y \in W - A$}}
		\step{ii}{\pick\ $B \in \mathcal{C}$ such that $y \in B$}
		\step{iii}{$B$ is an end extension of $A$}
		\step{iv}{$x <_B y$}
		\step{v}{$x <_W y$}
	\end{proof}
\end{proof}
\step{7}{For all $A \in \mathcal{C}$, the ordinal of $A$ is $\leq$ the ordinal of $W$.}
\begin{proof}
	\pf\ Lemma \ref{lm:endextleq}.
\end{proof}
\step{7}{For any ordinal $\alpha$, if for all $A \in \mathcal{C}$ the ordinal of $A$ is $\leq \alpha$, then the ordinal of $W$ is $\leq \alpha$.}
\begin{proof}
	\step{a}{\pflet{$\alpha$ be an ordinal.}}
	\step{b}{\assume{for all $A \in \mathcal{C}$, the ordinal of $A$ is $\leq \alpha$}}
	\step{c}{\pflet{$\beta$ be the ordinal of $W$}}
	\step{d}{\pflet{$E : W \approx \beta$ be the canonical isomorphism.}}
	\step{e}{\assume{for a contradiction $\alpha < \beta$}}
	\step{f}{\pflet{$a \in W$ be the element with $E(a) = \alpha$}}
	\step{g}{\pick\ $A \in \mathcal{C}$ such that $a \in A$}
	\step{h}{\pflet{$\gamma$ be the ordinal of $A$ and $E_A : A \cong \gamma$ be the canonical isomorphism.}}
	\step{i}{For all $x \in A$ we have $E_A(x) = E(x)$}
	\begin{proof}
		\pf\ Transfinite induction on $x$.
	\end{proof}
	\step{j}{$E_A(a) = \alpha$}
	\step{k}{$\alpha < \gamma$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts \stepref{b}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Successors}

\begin{df}[Successor]
The \emph{successor} of a set $a$ is the set $a^+ := a \cup \{a\}$.
\end{df}

\begin{prop}[Z]
\label{prop:Uaplus}
A set $a$ is a transitive set if and only if
\[ \bigcup (a^+) = a \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{One}{If $a$ is a transitive set then $\bigcup (a^+) = a$.}
\begin{proof}
\step{0}{\assume{$a$ is a transitive set.}}
\step{1}{$\bigcup (a^+) \subseteq a$}
\begin{proof}
	\step{a}{\pflet{$x \in \bigcup (a^+)$} \prove{$x \in a$}}
	\step{b}{\pick\ $y \in a^+$ such that $x \in y$.}
	\step{c}{$y \in a$ or $y = a$.}
	\step{d}{\case{$y \in a$}}
	\begin{proof}
		\pf\ Then $x \in a$ because $a$ is a transitive set.
	\end{proof}
	\step{e}{\case{$y = a$}}
	\begin{proof}
		\pf\ Then $x \in a$ immediately.
	\end{proof}
\end{proof}
\step{2}{$a \subseteq \bigcup (a^+)$}
\begin{proof}
	\pf\ Since $a \in a^+$.
\end{proof}
\end{proof}
\step{Two}{If $\bigcup (a^+) = a$ then $a$ is a transitive set.}
\begin{proof}
	\step{1}{\assume{$\bigcup (a^+) = a$}}
	\step{2}{$\bigcup a \subseteq a$}
	\begin{proof}
		\pf
		\begin{align*}
			\bigcup a & \subseteq \bigcup (a^+) & (\text{Proposition \ref{prop:unionmonotone}}) \\
			& = a & (\text{\stepref{1}})
		\end{align*}
	\end{proof}
	\step{3}{$a$ is a transitive set.}
	\begin{proof}
		\pf\ Proposition \ref{prop:transitiveset}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:successortransitive}
For any set $a$, we have $a$ is a transitive set if and only if $a^+$ is a transitive set.
\end{prop}

\begin{proof}
\pf
\step{1}{If $a$ is a transitive set then $a^+$ is a transitiveset.}
\begin{proof}
	\pf\ If $a$ is a transitive set then $\bigcup(a^+) = a \subseteq a^+$ by Proposition \ref{prop:Uaplus} and so $a^+$ is a transitive set.
\end{proof}
\step{2}{If $a^+$ is a transitive set then $a$ is a transitive set.}
\begin{proof}
	\step{a}{\assume{$a^+$ is a transitive set.}}
	\step{b}{\pflet{$x \in y \in a$}}
	\step{c}{$x \in y \in a^+$}
	\step{d}{$x \in a^+$}
	\begin{proof}
		\pf\ \stepref{a}
	\end{proof}
	\step{e}{$x \neq a$}
	\begin{proof}
		\pf\ From \stepref{b} and the Axiom of Regularity.
	\end{proof}
	\step{f}{$x \in a$}
\end{proof}
\qed
\end{proof}

\begin{df}
We write 0 for $\emptyset$, 1 for $\emptyset^+$, 2 for $\emptyset^{++}$, etc.
\end{df}

\begin{prop}
For any set $A$ we have $\mathcal{P} A \approx 2^A$.
\end{prop}

\begin{proof}
\pf\ The function $H : \mathcal{P} A \rightarrow 2^A$ defined by $H(S)(a) = \{\emptyset\}$ if $a \in S$ and $\emptyset$ if $a \notin S$ is a bijection. \qed
\end{proof}

\begin{prop}
For any ordinal number $\alpha$ we have $\alpha^+$ is an ordinal number.
\end{prop}

\begin{proof}
\pf
\step{1}{$\alpha^+$ is a transitive set.}
\begin{proof}
	\pf\ Proposition \ref{prop:successortransitive}.
\end{proof}
\step{2}{$\alpha^+$ is well-ordered by $\in$.}
\begin{proof}
	\step{x}{For all $x,y,z \in \alpha^+$, if $x \in y \in z$ then $x \in z$}
	\begin{proof}
		\step{i}{\case{$z = \alpha$}}
		\begin{proof}
			\pf\ Then $x \in \alpha$ since $\alpha$ is a transitive set.
		\end{proof}
		\step{ii}{\case{$z \in \alpha$}}
		\begin{proof}
			\pf\ Then $x \in z$ since $\alpha$ is well-ordered by $\in$.
		\end{proof}
	\end{proof}
	\step{a}{For all $x,y \in \alpha^+$ we have $x \in y$ or $x = y$ or $y \in x$}
	\begin{proof}
		\step{i}{\case{$x,y \in \alpha$}}
		\begin{proof}
			\pf\ The result follows because $\alpha$ is well-ordered by $\in$.
		\end{proof}
		\step{ii}{\case{$x \in \alpha$, $y = \alpha$}}
		\begin{proof}
			\pf\ Then $x \in y$.
		\end{proof}
		\step{iii}{\case{$x = \alpha$, $y \in \alpha$}}
		\begin{proof}
			\pf\ Then $y \in x$.
		\end{proof}
		\step{iv}{\case{$x = \alpha$, $y = \alpha$}}
		\begin{proof}
			\pf\ Then $x = y$.
		\end{proof}
	\end{proof}
	\step{b}{Every nonempty subset of $\alpha^+$ has an $\in$-least element.}
	\begin{proof}
		\step{i}{\pflet{$S \subseteq \alpha^+$ be nonempty}}
		\step{ii}{\case{$S = \{\alpha\}$}}
		\begin{proof}
			\pf\ $\alpha$ is least in $S$.
		\end{proof}
		\step{iii}{\case{$S \neq \{\alpha\}$}}
		\begin{proof}
			\step{one}{$S - \{\alpha\}$ is a nonempty subset of $\alpha$}
			\step{two}{\pflet{$\beta$ be least in $S - \{\alpha\}$}}
			\step{three}{$\beta$ is least in $S$.}
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:Peano2}
For ordinals $\alpha$ and $\beta$, if $\alpha^+ = \beta^+$ then $\alpha = \beta$.
\end{prop}

\begin{proof}
	\pf\ If $\alpha^+ = \beta^+$ then
	\begin{align*}
		\alpha & = \bigcup (\alpha^+) & (\text{Proposition \ref{prop:Uaplus}}) \\
		& = \bigcup (\beta^+) \\
		& = \beta & (\text{Proposition \ref{prop:Uaplus}})
	\end{align*}
\end{proof}

\begin{prop}
\label{prop:succltsucc}
For ordinals $\alpha$ and $\beta$, we have $\alpha < \beta$ if and only if $\alpha^+ < \beta^+$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
\alpha < \beta & \Leftrightarrow \alpha^+ \leq \beta \\
& \Leftrightarrow \alpha^+ < \beta^+ & \qed
\end{align*}
\end{proof}

\begin{df}[Successor Ordinal]
An ordinal $\alpha$ is a \emph{successor ordinal} iff $\alpha = \beta^+$ for some $\beta$.
\end{df}

\begin{df}[Limit Ordinal]
A \emph{limit ordinal} is an ordinal that is neither 0 nor a successor ordinal.
\end{df}

\begin{prop}
If $\lambda$ is a limit ordinal and $\beta < \lambda$ then $\beta^+ < \lambda$.
\end{prop}

\begin{proof}
\pf\ Since $\beta^+ \leq \lambda$ and $\beta^+ \neq \lambda$. \qed
\end{proof}

\section{The Well-Ordering Theorem and Zorn's Lemma}

\begin{thm}[Hartogs]
For any set $A$, there exists an ordinal not dominated by $A$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha$ be the class of all ordinals $\beta$ such that $\beta \preccurlyeq A$} \prove{$\alpha$ is a set.}}
\step{2}{\pflet{$W = \{ (B, R) \mid B \subseteq A, R \text{ is a well ordering on } B \}$}}
\step{3}{$\alpha$ is the class of the ordinals of the elements of $W$.}
\begin{proof}
	\step{a}{For all $(B,R) \in W$, the ordinal of $(B,R)$ is in $\alpha$.}
	\begin{proof}
		\step{i}{\pflet{$(B,R) \in W$}}
		\step{ii}{\pflet{$\beta$ be the ordinal of $(B,R)$}}
		\step{iii}{\pflet{$E : B \cong \beta$ be the canonical isomorphism.}}
		\step{iv}{\pflet{$i : B \hookrightarrow A$ be the inclusion}}
		\step{v}{$i \circ E^{-1}$ is an injection $\beta \rightarrow A$}
		\step{vi}{$\beta \in \alpha$}
	\end{proof}
	\step{b}{For all $\beta \in \alpha$, there exists $(B,R) \in W$ such that $\beta$ is the ordinal number of $(B,R)$.}
	\begin{proof}
		\step{i}{\pflet{$\beta \in \alpha$}}
		\step{ii}{\pick\ an injection $f : \beta \rightarrow A$}
		\step{iii}{Define $\leq$ on $\ran f$ by $f(x) \leq f(y)$ iff $x \leq y$}
		\step{iv}{$(\ran f, \leq) \in W$}
		\step{v}{$\beta$ is the ordinal number of $(\ran f, \leq)$}
	\end{proof}
\end{proof}
\step{4}{$\alpha$ is a set.}
\begin{proof}
	\pf\ By an Axiom of Replacement.
\end{proof}
\step{5}{$\alpha$ is an ordinal.}
\begin{proof}
	\pf\ It is a transitive set of ordinals.
\end{proof}
\step{6}{$\alpha \not\preccurlyeq A$}
\begin{proof}
	\pf\ Since $\alpha \notin \alpha$.
\end{proof}
\qed
\end{proof}

\begin{thm}[Numeration Theorem]
Every set is equinumerous with some ordinal.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be any set.}}
\step{2}{\pick\ an ordinal $\alpha$ not dominated by $A$.}
\step{3}{\pick\ a choice function $G$ for $A$.}
\step{4}{\pick\ $e \notin A$}
\step{5}{\pflet{$F : \alpha \rightarrow A \cup \{e\}$ by transfinite recursion:
\[ F(\gamma) = \begin{cases}
G(A - F(\{ \delta \mid \delta < \gamma \}) & \text{if } A - F(\{ \delta \mid \delta < \gamma \}) \neq \emptyset \\
e & \text{if } A - F(\{\delta \mid \delta < \gamma \}) = \emptyset
\end{cases} \]}}
\step{6}{$e \in \ran F$}
\begin{proof}
	\step{a}{\assume{for a contradiction $e \notin \ran F$}}
	\step{b}{$F$ is an injection $\alpha \rightarrow A$.}
	\begin{proof}
		\step{i}{\pflet{$\beta, \gamma \in \alpha$ with $\beta \neq \gamma$} \prove{$F(\beta) \neq F(\gamma)$}}
		\step{ii}{\assume{w.l.o.g. $\beta < \gamma$}}
		\step{iii}{$F(\gamma) \in A - F(\{\delta \mid \delta < \gamma\})$}
		\step{iv}{$F(\gamma) \notin F(\{\delta \mid \delta < \gamma \})$}
		\step{v}{$F(\gamma) \neq F(\beta)$}
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ This contradicts \stepref{2}.
	\end{proof}
\end{proof}
\step{7}{\pflet{$\delta$ be least such that $F(\delta) = e$}}
\step{8}{$F \restriction \delta : \delta \approx A$}
\end{proof}

\begin{thm}[Well-Ordering Theorem]
Any set can be well ordered.
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ an ordinal $\delta$ and a bijection $F : A \approx \delta$}
\step{9}{Define $\leq$ on $A$ by $F(x) \leq F(y)$ iff $x \leq y$ for $x,y \in \delta$}
\step{10}{$\leq$ is a well ordering on $A$.}
\qed
\end{proof}

\begin{thm}[Zorn's Lemma]
Let $\mathcal{A}$ be a set such that, for every chain $\mathcal{B} \subseteq \mathcal{A}$, we have $\bigcup \mathcal{B} \in \mathcal{A}$. Then $\mathcal{A}$ has a maximal element.
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ a well ordering $<$ on $\mathcal{A}$.}
\step{2}{\pflet{$F : \mathcal{A} \rightarrow 2$ be the function defined by transfinite recursion by:
\[ F(A) = \begin{cases}
1 & \text{if $A$ includes every set $B < A$ for which $F(B) = 1$} \\
0 & \text{otherwise}
\end{cases} \]}}
\step{3}{\pflet{$\mathcal{C} = \{ A \in \mathcal{A} \mid F(A) = 1 \}$} \prove{$\bigcup \mathcal{C}$ is a maximal element of $\mathcal{A}$}}
\step{4}{For all $A \in \mathcal{A}$, we have $A \in \mathcal{C}$ iff $\forall B < A. B \in \mathcal{C} \Rightarrow B \subseteq A$}
\step{5}{$\mathcal{C}$ is a chain.}
\begin{proof}
	\step{a}{\pflet{$A,A' \in \mathcal{C}$}}
	\step{b}{\assume{w.l.o.g. $A \leq A'$}}
	\step{c}{$A \subseteq A'$}
	\begin{proof}
		\pf\ By \stepref{4}
	\end{proof}
\end{proof}
\step{6}{$\bigcup \mathcal{C} \in \mathcal{A}$}
\step{7}{$\bigcup \mathcal{C}$ is maximal in $\mathcal{A}$.}
\begin{proof}
	\step{a}{\pflet{$A \in \mathcal{A}$ and $\bigcup \mathcal{C} \subseteq A$}}
	\step{b}{$A \in \mathcal{C}$}
	\begin{proof}
		\pf\ By \stepref{4} since $\forall B \in \mathcal{C}. B \subseteq A$.
	\end{proof}
	\step{c}{$A \subseteq \bigcup \mathcal{C}$}
	\step{d}{$A = \bigcup \mathcal{C}$}
\end{proof}
\qed
\end{proof}

\begin{prop}[Teichm\"{u}ller-Tukey Lemma]
Let $\mathcal{A}$ be a nonempty set such that, for every $B$, we have $B \in \mathcal{A}$ if and only if every finite subset of $B$ is a member of $\mathcal{A}$. Then $\mathcal{A}$ has a maximal element.
\end{prop}

\begin{proof}
\pf
\step{1}{For every chain $\mathcal{B} \subseteq \mathcal{A}$, we have $\bigcup \mathcal{B} \in \mathcal{A}$}
\begin{proof}
	\step{a}{\pflet{$\mathcal{B} \subseteq \mathcal{A}$ be a chain.}}
	\step{b}{Every finite subset of $\bigcup \mathcal{B}$ is a member of $\mathcal{A}$.}
	\begin{proof}
		\step{i}{\pflet{$C$ be a finite subset of $\bigcup \mathcal{B}$.}}
		\step{ii}{\pick\ $B \in \mathcal{B}$ such that $C \subseteq B$.}
		\step{iii}{$B \in \mathcal{A}$}
		\step{iv}{Every finite subset of $B$ is in $\mathcal{A}$.}
		\step{v}{$C \in \mathcal{A}$}
	\end{proof}
	\step{c}{$\bigcup \mathcal{B} \in \mathcal{A}$.}
\end{proof}
\qedstep
\begin{proof}
	\pf\ Zorn's lemma.
\end{proof}
\qed
\end{proof}

\begin{thms}
\label{thms:wellorderclass}
For any class $\mathbf{A}$, there exists a class $\mathbf{F}$ such that the following is a theorem:

If $\mathbf{A}$ is a proper class of ordinals, then $\mathbf{F} : \mathbf{On} \rightarrow \mathbf{A}$ is an order isomorphism.
\end{thms}

\begin{proof}
\pf
\step{1}{Define $\mathbf{F} : \mathbf{On} \rightarrow \mathbf{A}$ by transfinite recursion as follows: $\mathbf{F}(\alpha)$ is the least element of $\mathbf{A}$ that is different from $\mathbf{F}(\beta)$ for all $\beta < \alpha$.}
\step{2}{For all $\alpha, \beta \in \mathbf{On}$, if $\alpha < \beta$ then $\mathbf{F}(\alpha) < \mathbf{F}(\beta)$}
\begin{proof}
	\pf\ We have $\mathbf{F}(\alpha) \neq \mathbf{F}(\beta)$ by the definition of $\mathbf{F}(\beta)$, and $\mathbf{F}(\beta) \nless \mathbf{F}(\alpha)$ by the leastness of $\mathbf{F}(\alpha)$.
\end{proof}
\step{3}{$\mathbf{F}$ is surjective.}
\begin{proof}
	\step{a}{\pflet{$\alpha \in \mathbf{A}$}}
	\step{b}{\assume{as transfinite induction hypothesis $\forall \beta \in \mathbf{A}$, if $\beta < \alpha$ then there exists $\gamma$ such that $\beta = \mathbf{F}(\gamma)$.}}
	\step{c}{\pflet{$\gamma = \{ \delta \in \mathbf{On} \mid \mathbf{F}(\delta) < \alpha \}$}}
	\step{d}{$\gamma$ is a set.}
	\begin{proof}
		\pf\ Axiom of Replacement applied to $\alpha$.
	\end{proof}
	\step{e}{$\gamma$ is a transitive set.}
	\begin{proof}
		\pf\ If $\mathbf{F}(\delta) < \alpha$ and $\epsilon < \delta$ then $\mathbf{F}(\epsilon) < \alpha$ by \stepref{2}.
	\end{proof}
	\step{f}{$\gamma$ is an ordinal.}
	\begin{proof}
		\pf\ Proposition \ref{prop:transords}.
	\end{proof}
	\step{g}{$\mathbf{F}(\gamma) = \alpha$}
	\begin{proof}
		\step{i}{$\mathbf{F}(\gamma)$ is the least element of $\mathbf{A}$ different from $\mathbf{F}(\delta)$ for all $\delta < \gamma$}
		\step{ii}{$\mathbf{F}(\gamma)$ is the least element of $\mathbf{A}$ different from $x$ for all $x \in \mathbf{A}$ with $x < \alpha$}
		\step{iii}{$\mathbf{F}(\gamma) = \alpha$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Ordinal Operations}

\begin{df}[Ordinal Operation]
An \emph{ordinal operation} is a function $\mathbf{On} \rightarrow \mathbf{On}$.
\end{df}

\begin{df}[Continuous]
An ordinal operation $\mathbf{T} : \mathbf{On} \rightarrow \mathbf{On}$ is \emph{continuous} iff, for every limit ordinal $\lambda$, we have $\mathbf{T}(\lambda) = \bigcup_{\alpha < \lambda} \mathbf{T}(\alpha)$.
\end{df}

\begin{df}[Normal]
An ordinal operation is \emph{normal} iff it is continuous and strictly monotone.
\end{df}

\begin{props}
\label{prop:normal}
For any class $\mathbf{T}$, the following is a theorem.

If $\mathbf{T}$ is a continuous ordinal operation and $\forall \gamma. \mathbf{T}(\gamma) < \mathbf{T}(\gamma^+)$, then $\mathbf{T}$ is normal.
\end{props}

\begin{proof}
\pf
\step{1}{\pflet{$P[\beta]$ be the property $\forall \gamma < \beta. \mathbf{T}(\gamma) < \mathbf{T}(\beta)$}}
\step{2}{$P[0]$}
\begin{proof}
	\pf\ Vacuous.
\end{proof}
\step{3}{For any ordinal $\gamma$, if $P[\gamma]$ then $P[\gamma^+]$}
\begin{proof}
	\step{a}{\assume{$P[\gamma]$}}
	\step{b}{\pflet{$\delta < \gamma^+$}}
	\step{c}{\case{$\delta < \gamma$}}
	\begin{proof}
		\pf\ Then $\mathbf{T}(\delta) < \mathbf{T}(\gamma) < \mathbf{T}(\gamma^+)$.
	\end{proof}
	\step{d}{\case{$\delta = \gamma$}}
	\begin{proof}
		\pf\ Then $\mathbf{T}(\delta) = \mathbf{T}(\gamma) < \mathbf{T}(\gamma^+)$.
	\end{proof}
\end{proof}
\step{4}{For any limit ordinal $\lambda$, if $\forall \gamma < \lambda. P[\gamma]$ then $P[\lambda]$.}
\begin{proof}
	\step{a}{\assume{$\forall \gamma < \lambda. P[\gamma]$}}
	\step{b}{\pflet{$\delta < \lambda$}}
	\step{c}{$\mathbf{T}(\delta) < \mathbf{T}(\lambda)$}
	\begin{proof}
		\pf
		\begin{align*}
			\mathbf{T}(\delta) & < \mathbf{T}(\delta^+) \\
			& \leq \bigcup_{\epsilon < \lambda} \mathbf{T}(\epsilon) \\
			& = \mathbf{T}(\lambda)
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{props}
\label{prop:gammaltTgamma}
For any class $\mathbf{T}$, the following is a theorem:

Assume $\mathbf{T}$ is a normal ordinal operation. For every ordinal $\alpha$, we have $\alpha \leq \mathbf{T}(\alpha)$.
\end{props}

\begin{proof}
\pf
\step{i}{\pflet{$\gamma$ be an ordinal.}}
\step{ii}{\assume{as induction hypothesis $\forall \delta < \gamma. \mathbf{T}(\delta) \geq \delta$}}
\step{iii}{For all $\delta < \gamma$ we have $\delta < \mathbf{T}(\gamma)$}
\begin{proof}
	\pf\ $\mathbf{T}$ is strictly monotone.
\end{proof}
\step{iv}{$\gamma \leq \mathbf{T}(\gamma)$}
\qed
\end{proof}

\begin{props}
\label{prop:greatestordinal}
For any class $\mathbf{T}$, the following is a theorem:

Assume $\mathbf{T}$ is a normal ordinal operation. For any ordinal $\beta \geq \mathbf{T}(0)$, there exists a greatest ordinal $\gamma$ such that $\mathbf{T}(\gamma) \leq \beta$.
\end{props}

\begin{proof}
\pf
\step{1}{There exists $\gamma$ such that $\mathbf{T}(\gamma) > \beta$}
\begin{proof}
	\step{a}{For all $\gamma$ we have $\mathbf{T}(\gamma) \geq \gamma$}
	\begin{proof}
		\pf\ Proposition \ref{prop:gammaltTgamma}.
	\end{proof}
	\step{b}{$\mathbf{T}(\beta^+) > \beta$}
\end{proof}
\step{2}{\pflet{$\delta$ be least such that $\mathbf{T}(\delta) > \beta$}}
\step{3}{$\delta$ is a successor ordinal.}
\begin{proof}
	\step{a}{$\delta \neq 0$}
	\begin{proof}
		\pf\ Since $\mathbf{T}(0) \leq \beta$.
	\end{proof}
	\step{b}{$\delta$ is not a limit ordinal.}
	\begin{proof}
		\step{i}{\assume{for a contradiction $\delta$ is a limit ordinal.}}
		\step{ii}{$\beta < \bigcup_{\epsilon < \delta} \mathbf{T}(\epsilon)$}
		\begin{proof}
			\pf\ $\mathbf{T}$ is continuous.
		\end{proof}
		\step{iii}{There exists $\epsilon < \delta$ such that $\beta < \mathbf{T}(\epsilon)$}
		\qedstep
		\begin{proof}
			\pf\ This contradicts the minimality of $\delta$.
		\end{proof}
	\end{proof}
\end{proof}
\step{4}{\pflet{$\delta = \gamma^+$}}
\step{5}{$\gamma$ is greatest such that $\mathbf{T}(\gamma) \leq \beta$}
\qed
\end{proof}

\begin{thms}
\label{thm:normalsup}
For any class $\mathbf{T}$, the following is a theorem:

Assume that $\mathbf{T}$ is a normal ordinal operation. For any nonempty set of ordinals $S$, we have
\[ \mathbf{T}(\sup S) = \sup_{\alpha \in S} \mathbf{T}(\alpha) \enspace . \]
\end{thms}

\begin{proof}
\pf
\step{1}{$\forall \alpha \in S. \mathbf{T}(\alpha) \leq \mathbf{T}(\sup S)$}
\begin{proof}
	\pf\ Since $\mathbf{T}$ is monotone.
\end{proof}
\step{2}{For any ordinal $\beta$, if $\forall \alpha \in S. \mathbf{T}(\alpha) \leq \beta$, then $\mathbf{T}(\sup S) \leq \beta$}
\begin{proof}
	\step{a}{\pflet{$\beta$ be an ordinal.}}
	\step{b}{\pflet{$\gamma = \sup S$}}
	\step{c}{\assume{$\forall \alpha \in S. \mathbf{T}(\alpha) \leq \beta$}}
	\step{d}{\case{$\gamma$ is 0 or a successor ordinal}}
	\begin{proof}
		\pf\ Then we must have $\gamma \in S$ so $\mathbf{T}(\gamma) \leq \beta$ from \stepref{c}.
	\end{proof}
	\step{f}{\case{$\gamma$ is a limit ordinal}}
	\begin{proof}
		\step{i}{$\mathbf{T}(\gamma) = \sup_{\alpha < \gamma} \mathbf{T}(\alpha)$}
		\begin{proof}
			\pf\ $\mathbf{T}$ is continuous.
		\end{proof}
		\step{ii}{\assume{for a contradiction $\beta < \mathbf{T}(\gamma)$}}
		\step{iii}{\pick\ $\alpha < \gamma$ such that $\beta < \mathbf{T}(\alpha)$}
		\begin{proof}
			\pf\ \stepref{i}, \stepref{ii}
		\end{proof}
		\step{iv}{\pick\ $\alpha' \in S$ such that $\alpha < \alpha'$}
		\begin{proof}
			\pf\ \stepref{b}, \stepref{iii}
		\end{proof}
		\step{v}{$\beta < \mathbf{T}(\alpha') \leq \beta$}
		\begin{proof}
			\pf\ $\mathbf{T}$ is strictly monotone, \stepref{iii}, \stepref{iv}, \stepref{c}.
		\end{proof}
		\qedstep
		\begin{proof}
			\pf\ This is a contradiction.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:enumerationnormal}
For any classes $\mathbf{A}$ and $\mathbf{T}$, the following is a theorem:

Assume $\mathbf{A}$ is a proper class of ordinals such that, for every set $S \subseteq \mathbf{A}$, we have $\bigcup S \in \mathbf{A}$. Assume $\mathbf{T}$ is the unique order isomorphism $\mathbf{On} \cong \mathbf{A}$. Then $\mathbf{T}$ is normal.
\end{prop}

\begin{proof}
\pf
\step{1}{$\mathbf{T}$ is strictly monotone.}
\begin{proof}
	\pf\ Since it is an order isomorphism.
\end{proof}
\step{2}{$\mathbf{T}$ is continuous.}
\begin{proof}
	\step{a}{\pflet{$\lambda$ be a limit ordinal.}}
	\step{b}{$\mathbf{T}'(\lambda)$ is the least member of $\mathbf{A}$ that is greater than $\mathbf{T}'(\alpha)$ for all $\alpha < \lambda$}
	\step{c}{$\mathbf{T}'(\lambda) = \sup_{\alpha < \lambda} \mathbf{T}'(\alpha)$}
\end{proof}
\qed
\end{proof}

\begin{props}
For any class $\mathbf{T}$, the following is a theorem:

If $\mathbf{T}$ is a normal ordinal operation, then for any limit ordinal $\lambda$, we have $\mathbf{T}(\lambda)$ is a limit ordinal.
\end{props}

\begin{proof}
\pf
\step{1}{$\mathbf{T}(\lambda) \neq 0$}
\begin{proof}
	\pf\ Since $0 \leq \mathbf{T}(0) < \mathbf{T}(\lambda)$.
\end{proof}
\step{2}{$\mathbf{T}(\lambda)$ is not a successor ordinal.}
\begin{proof}
	\step{a}{\assume{for a contradiction $\mathbf{T}(\lambda) = \alpha^+$}}
	\step{b}{$\alpha < \mathbf{T}(\lambda) = \sup_{\beta < \lambda} \mathbf{T}(\beta)$}
	\step{c}{\pick\ $\beta < \lambda$ such that $\alpha < \mathbf{T}(\beta)$}
	\step{d}{$\alpha^+ \leq \mathbf{T}(\beta) < \mathbf{T}(\lambda)$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Ordinal Arithmetic}

\subsection{Addition}

\begin{df}
Let $A$ and $B$ be disjoint well-ordered sets. The \emph{concatenation} of $A$ and $B$ is the set $A \cup B$ under the relation:
\begin{itemize}
\item if $a,a' \in A$ then $a \leq a'$ iff $a \leq a'$ in $A$
\item if $b, b' \in B$ then $b \leq b'$ iff $b \leq b'$ in $B$
\item if $a \in A$ and $b \in B$ then $a \leq b$ and $b \not\leq a$.
\end{itemize}
\end{df}

\begin{prop}
If $A$ and $B$ are disjoint well-ordered sets, then their concatenation is well-ordered.
\end{prop}

\begin{proof}
\pf
\step{1}{$\leq$ is reflexive.}
\begin{proof}
	\pf\ For all $a \in A$ we have $a \leq a$, and for all $b \in B$ we have $b \leq b$.
\end{proof}
\step{2}{$\leq$ is antisymmetric.}
\begin{proof}
	\step{a}{\assume{$x \leq y \leq x$}}
	\step{b}{\case{$x,y \in A$}}
	\begin{proof}
		\pf\ Then $x = y$ since the order on $A$ is antisymmetric.
	\end{proof}
	\step{c}{\case{$x \in A$ and $y \in B$}}
	\begin{proof}
		\pf\ This is impossible as it would imply $y \not\leq x$.
	\end{proof}
	\step{d}{\case{$x \in B$ and $y \in A$}}
	\begin{proof}
		\pf\ This is impossible as it would imply $x \not\leq y$.
	\end{proof}
	\step{e}{\case{$x,y \in B$}}
	\begin{proof}
		\pf\ Then $x = y$ since the order on $B$ is antisymmetric.
	\end{proof}
\end{proof}
\step{3}{$\leq$ is transitive.}
\begin{proof}
	\step{a}{\assume{$x \leq y \leq z$}}
	\step{b}{\case{$x, z \in A$}}
	\begin{proof}
		\pf\ In this case $y \in A$ since $y \leq z$, and so $x \leq z$ since the order on $A$ is transitive.
	\end{proof}
	\step{c}{\case{$x \in A$ and $z \in B$}}
	\begin{proof}
		\pf\ Then $x \leq z$ immediately.
	\end{proof}
	\step{d}{\case{$x \in B$ and $z \in A$}}
	\begin{proof}
		\pf\ This is impossible because we have $y \notin A$ since $x \leq y$ and $y \notin B$ since $y \leq z$.
	\end{proof}
	\step{e}{\case{$x,z \in B$}}
	\begin{proof}
		\pf\ In this case $y \in B$ since $x \leq y$, and so $x \leq z$ since the order on $B$ is transitive.
	\end{proof}
\end{proof}
\step{4}{$\leq$ is total.}
\begin{proof}
	\step{a}{\pflet{$x,y \in A \cup B$}}
	\step{b}{\case{$x,y \in A$}}
	\begin{proof}
		\pf\ Then $x \leq y$ or $y \leq x$ because the order on $A$ is total.
	\end{proof}
	\step{c}{\case{$x \in A$ and $y \in B$}}
	\begin{proof}
		\pf\ Then $x \leq y$.
	\end{proof}
	\step{d}{\case{$x \in B$ and $y \in A$}}
	\begin{proof}
		\pf\ Then $y \leq x$.
	\end{proof}
	\step{e}{\case{$x,y \in B$}}
	\begin{proof}
		\pf\ Then $x \leq y$ or $y \leq x$ because the order on $B$ is total.
	\end{proof}
\end{proof}
\step{5}{Every nonempty subset of $A \cup B$ has a least element.}
\begin{proof}
	\step{a}{\pflet{$S$ be a nonempty subset of $A \cup B$}}
	\step{b}{\case{$S \cap A = \emptyset$}}
	\begin{proof}
		\pf\ Then $S \subseteq B$ and so $S$ has a least element.
	\end{proof}
	\step{c}{\case{$S \cap A \neq \emptyset$}}
	\begin{proof}
		\pf\ The least element of $S \cap A$ is the least element of $S$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Ordinal Addition]
Let $\alpha$ and $\beta$ be ordinal numbers. Then $\alpha + \beta$ is the ordinal number of the concatenation of $A$ and $B$, where $A$ is any well ordered set with ordinal $\alpha$ and $B$ is any well ordered set with ordinal $\beta$.
\end{df}

\begin{thm}[Associative Law for Addition]
For any ordinals $\rho$, $\sigma$ and $\tau$, we have
\[ \rho + (\sigma + \tau) = (\rho + \sigma) + \tau \enspace . \]
\end{thm}

\begin{proof}
\pf\ Given disjoint well ordered sets $A$, $B$ and $C$, the concatenation of $A$ with (the concatenation of $B$ and $C$) is the same as the concatenation of (the concatenation of $A$ and $B$) and $C$. \qed
\end{proof}

\begin{thm}
For any ordinal $\rho$ we have
\[ \rho + 0 = 0 + \rho = \rho \enspace . \]
\end{thm}

\begin{proof}
\pf\ For any well ordered set $A$, the concatenation of $A$ with $\emptyset$ is $A$, and the concatenation of $\emptyset$ with $A$ is $A$. \qed
\end{proof}

\begin{thm}
For any ordinal $\alpha$ we have $\alpha + 1 = \alpha^+$.
\end{thm}

\begin{proof}
\pf\ Since $\alpha^+$ is the concatenation of $\alpha$ and $\{ \alpha \}$. \qed
\end{proof}

\begin{thm}
For any ordinal $\alpha$, the operation that maps $\beta$ to $\alpha + \beta$ is normal.
\end{thm}

\begin{proof}
\pf
\step{1}{For any limit ordinal $\lambda$, we have $\alpha + \lambda = \sup_{\beta < \lambda} (\alpha + \beta)$.}
\begin{proof}
	\step{a}{\pflet{$\lambda$ be a limit ordinal.}}
	\step{b}{$(\{0\} \times \alpha) \cup (\{1\} \times \lambda) = \bigcup_{\beta \in \lambda} ((\{0\} \times \alpha) \cup (\{1\} \times \beta))$, where the order on the right hand side is as in Lemma \ref{lm:union_of_end_extensions}.}
	\begin{proof}
		\pf
		\begin{align*}
			(\{0\} \times \alpha) \cup (\{1\} \times \lambda) & = (\{0\} \times \alpha) \cup (\{1\} \times \bigcup_{\beta < \lambda} \beta) \\
			& = (\{0\} \times \alpha) \cup \bigcup_{\beta < \lambda} (\{1\} \times \beta) \\
			& = \bigcup_{\beta < \lambda} ((\{0\} \times \alpha) \cup (\{1\} \times \beta))
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{For any ordinal $\beta$ we have $\alpha + \beta < \alpha + \beta^+$}
\begin{proof}
	\pf\ Since $\alpha + \beta^+ = \alpha + \beta + 1 = (\alpha + \beta)^+$.
\end{proof}
\qed
\end{proof}

\begin{cor}
\label{cor:pluslt}
For any ordinals $\alpha$, $\beta$, $\gamma$, we have $\beta < \gamma$ if and only if $\alpha + \beta < \alpha + \gamma$.
\end{cor}

\begin{cor}[Left Cancellation for Addition]
For any ordinals $\alpha$, $\beta$ and $\gamma$, if $\alpha + \beta = \alpha + \gamma$ then $\beta = \gamma$.
\end{cor}

\begin{thm}
For any ordinals $\alpha$, $\beta$, $\gamma$, if $\beta \leq \gamma$ then $\beta + \alpha \leq \gamma + \alpha$.
\end{thm}

\begin{proof}
\pf\ Transfinite induction on $\alpha$. \qed
\end{proof}

\begin{thm}[Subtraction Theorem]
Let $\alpha$ and $\beta$ be ordinals with $\alpha \leq \beta$. Then there exists a unique ordinal $\delta$ such that $\alpha + \delta = \beta$.
\end{thm}

\begin{proof}
\pf
\step{1}{For all ordinals $\alpha$ and $\beta$ with $\alpha \leq \beta$, there exists $\delta$ such that $\alpha + \delta = \beta$}
\begin{proof}
	\step{a}{\pflet{$\alpha$ and $\beta$ be ordinals with $\alpha \leq \beta$}}
	\step{b}{\pflet{$\delta$ be the greatest ordinal such that $\alpha + \delta \leq \beta$}}
	\begin{proof}
		\pf\ Proposition \ref{prop:greatestordinal}.
	\end{proof}
	\step{c}{$\alpha + \delta = \beta$}
	\begin{proof}
		\pf\ If $\alpha + \delta < \beta$ then $\alpha + \delta + 1 \leq \beta$ contradicting the greatestness of $\delta$.
	\end{proof}
\end{proof}
\qedstep
\begin{proof}
	\pf\ Uniqueness follows from the Left Cancellation Law.
\end{proof}
\qed
\end{proof}

\subsection{Multiplication}

\begin{df}[Ordinal Multiplication]
Let $\alpha$ and $\beta$ be ordinal numbers. Then $\alpha \beta$ is the ordinal number of $A \times B$ under the lexicographic order, where $A$ is any well ordered set with ordinal $\alpha$ and $B$ is any well ordered set with ordinal $\beta$.
\end{df}

This is well defined by Proposition \ref{prop:lexicogwellorder}.

\begin{thm}[Associative Law]
For any ordinals $\rho$, $\sigma$ and $\tau$, we have
\[ \rho (\sigma \tau) = (\rho \sigma) \tau \enspace . \]
\end{thm}

\begin{proof}
\pf\ Let $A$, $B$ and $C$ be well ordered sets with ordinals $\rho$, $\sigma$ and $\tau$. Then both $\rho (\sigma \tau)$ and $(\rho \sigma) \tau$ are the ordinal of $A \times B \times C$ under
\[ (a,b,c) \leq (a',b',c') \Leftrightarrow a \leq a' \vee (a = a' \wedge b \leq b') \vee (a = a' \wedge b = b' \wedge c \leq c') \enspace . \qquad \qed \]
\end{proof}

\begin{thm}[Left Distributive Law]
For any ordinals $\rho$, $\sigma$ and $\tau$, we have
\[ \rho (\sigma + \tau) = \rho \sigma + \rho \tau \]
\end{thm}

\begin{proof}
\pf\ Let $A$, $B$ and $C$ be well ordered sets with ordinals $\rho$, $\sigma$ and $\tau$ and with $B \cap C = \emptyset$. Then both $\rho (\sigma + \tau)$ and $\rho \sigma + \rho \tau$ are the ordinal of $A \times (B \cup C)$ under the lexicographic ordering. \qed
\end{proof}

\begin{thm}
For any ordinal $\rho$ we have $\rho 0 = 0 \rho = 0$.
\end{thm}

\begin{proof}
\pf\ For any well ordered set $A$ we have $A \times \emptyset = \emptyset \times A = \emptyset$. \qed
\end{proof}

\begin{thm}
For any ordinal $\rho$ we have $\rho 1 = 1 \rho = \rho$.
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{thm}
For any ordinals $\rho$ and $\sigma$, if $\rho \sigma = 0$ then $\rho = 0$ or $\sigma = 0$.
\end{thm}

\begin{proof}
\pf\ If $A \times B = \emptyset$ then $A = \emptyset$ or $B = \emptyset$. \qed
\end{proof}

\begin{thm}
\label{thm:multnormal}
For any non-zero ordinal $\alpha$, the operation that maps $\beta$ to $\alpha \beta$ is normal.
\end{thm}

\begin{proof}
\pf
\step{1}{For any limit ordinal $\lambda$, we have $\alpha \lambda = \bigcup_{\beta < \lambda} \alpha \beta$}
\begin{proof}
	\step{a}{\pflet{$\lambda$ be a limit ordinal}}
	\step{b}{$\alpha \times \lambda = \bigcup_{\beta < \lambda} (\alpha \times \beta)$ as well-ordered sets}
\end{proof}
\step{2}{For any ordinal $\beta$ we have $\alpha \beta < \alpha \beta^+$}
\begin{proof}
	\pf\ $\alpha \beta^+ = \alpha \beta + \alpha > \alpha \beta$
\end{proof}
\qed
\end{proof}

\begin{cor}
For any ordinals $\alpha$, $\beta$, $\gamma$, if $\alpha \neq 0$ then $\beta < \gamma$ if and only if $\alpha \beta < \alpha \gamma$.
\end{cor}

\begin{cor}[Left Cancellation for Multiplication]
For any ordinals $\alpha$, $\beta$, $\gamma$, if $\alpha \neq 0$ and $\alpha \beta = \alpha \gamma$ then $\beta = \gamma$.
\end{cor}

\begin{thm}
For any ordinals $\alpha$, $\beta$ and $\gamma$, if $\beta \leq \gamma$ then $\beta \alpha \leq \gamma \alpha$.
\end{thm}

\begin{proof}
\pf\ Transfinite induction on $\alpha$. \qed
\end{proof}

\begin{thm}[Division Theorem]
Let $\alpha$ and $\delta$ be ordinal numbers with $\delta \neq 0$. Then there exist unique ordinals $\beta$ and $\gamma$ with $\gamma < \delta$ and
\[ \alpha = \delta \beta + \gamma \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{For any ordinal numbers $\alpha$ and $\delta$ with $\delta \neq 0$, there exist ordinals $\beta$ and $\gamma$ such that $\gamma < \delta$ and $\alpha = \delta \beta + \gamma$}
\begin{proof}
	\step{a}{\pflet{$\alpha$ and $\delta$ be ordinals with $\delta \neq 0$}}
	\step{b}{\pflet{$\beta$ be the greatest ordinal such that $\delta \beta \leq \alpha$}}
	\begin{proof}
		\pf\ Proposition \ref{prop:greatestordinal}.
	\end{proof}
	\step{c}{There exists an ordinal $\gamma$ such that $\alpha = \delta \beta + \gamma$}
	\begin{proof}
		\pf\ Subtraction Theorem
	\end{proof}
\end{proof}
\step{2}{For any ordinals $\delta$, $\beta$, $\beta'$, $\gamma$, $\gamma'$, if $\delta \beta + \gamma = \delta \beta' + \gamma'$ and $\delta \neq 0$ and $\gamma, \gamma' < \delta$ then $\beta = \beta'$ and $\gamma = \gamma'$}
\begin{proof}
	\step{a}{\pflet{$\delta$, $\beta$, $\beta'$, $\gamma$, $\gamma'$ be ordinals.}}
	\step{b}{\assume{$\delta \neq 0$ and $\delta \beta + \gamma = \delta \beta' + \gamma'$}}
	\step{c}{$\beta = \beta'$}
	\begin{proof}
		\step{i}{$\beta \nless \beta'$}
		\begin{proof}
			\pf\ If $\beta < \beta'$ then
			\begin{align*}
				\delta \beta' + \gamma' & \geq \delta \beta' \\
				& \geq \delta (\beta + 1) \\
				& = \delta \beta + \delta \\
				& > \delta \beta + \gamma
			\end{align*}
		\end{proof}
		\step{ii}{$\beta' \nless \beta$}
		\begin{proof}
			\pf\ Similar.
		\end{proof}
	\end{proof}
	\step{d}{$\gamma = \gamma'$}
	\begin{proof}
		\pf\ By Cancellation.
	\end{proof}
\end{proof}
\qed
\end{proof}

\subsection{Exponentiation}

\begin{df}
Given ordinals $\alpha$ and $\beta$, define the ordinal $\alpha^\beta$ as follows:
\begin{align*}
0^\alpha & := 0 & (\alpha > 0) \\
\alpha^0 & := 1 \\
\alpha^{\beta^+} & := \alpha^\beta \alpha & (\alpha > 0) \\
\alpha^\lambda & := \sup_{\beta < \lambda} \alpha^\beta & (\alpha > 0, \lambda \text{ a limit ordinal})
\end{align*}
\end{df}

\begin{thm}
Let $\alpha$ be an ordinal $\geq 2$. The operation that maps $\beta$ to $\alpha^\beta$ is normal.
\end{thm}

\begin{proof}
\pf
\step{1}{For $\lambda$ a limit ordinal we have $\alpha^\lambda = \sup_{\beta < \lambda} \alpha^\beta$}
\begin{proof}
	\pf\ By definition.
\end{proof}
\step{2}{For any ordinal $\beta$ we have $\alpha^\beta < \alpha^{\beta^+}$}
\begin{proof}
	\pf\ We have $\alpha^{\beta^+} = \alpha^\beta \alpha > \alpha^\beta$ by Theorem \ref{thm:multnormal} since $\alpha > 1$ and $\alpha^\beta \neq 0$.
\end{proof}
\qed
\end{proof}

\begin{cor}
For any ordinals $\alpha$, $\beta$, $\gamma$, if $\alpha \geq 2$ then $\beta < \gamma$ if and only if $\alpha^\beta < \alpha^\gamma$.
\end{cor}

\begin{cor}[Cancellation for Exponentiation]
For any ordinals $\alpha$, $\beta$, $\gamma$, if $\alpha \geq 2$ and $\alpha^\beta = \alpha^\gamma$ then $\beta = \gamma$.
\end{cor}

\begin{thm}
For any ordinals $\alpha$, $\beta$ and $\gamma$, if $\beta \leq \gamma$ then $\beta^\alpha \leq \gamma^\alpha$.
\end{thm}

\begin{proof}
\pf\ Transfinite induction on $\alpha$.
\end{proof}

\begin{thm}[Logarithm Theorem]
Let $\alpha$ and $\beta$ be ordinal numbers with $\alpha \neq 0$ and $\beta > 1$. Then there exist unique ordinals $\gamma$, $\delta$ and $\rho$ such that
\[ \alpha = \beta^\gamma \delta + \rho, \qquad 0 \neq \delta < \beta, \qquad \rho < \beta^\gamma \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{For any ordinals $\alpha$ and $\beta$ with $\alpha \neq 0$ and $\beta > 1$, there exist ordinals $\gamma$, $\delta$, $\rho$ such that
\[ \alpha = \beta^\gamma \delta + \rho, \qquad 0 \neq \delta < \beta, \qquad \rho < \beta^\gamma \enspace . \]}
\begin{proof}
	\step{a}{\pflet{$\alpha$ and $\beta$ be ordinals with $\alpha \neq 0$ and $\beta > 1$.}}
	\step{b}{\pflet{$\gamma$ be the greatest ordinal such that $\beta^\gamma \leq \alpha$.}}
	\begin{proof}
		\pf\ Proposition \ref{prop:greatestordinal}.
	\end{proof}
	\step{c}{\pflet{$\delta$ and $\rho$ be the unique ordinals with $\rho < \beta^\gamma$ such that $\alpha = \beta^\gamma \delta + \rho$.}}
	\begin{proof}
		\pf\ By the Division Theorem.
	\end{proof}
	\step{d}{$\delta \neq 0$}
	\begin{proof}
		\pf\ If $\delta = 0$ then $\alpha = \beta^\gamma 0 + \rho = \rho < \beta^\gamma \leq \alpha$ which is a contradiction.
	\end{proof}
	\step{e}{$\delta < \beta$}
	\begin{proof}
		\pf\ If $\beta \leq \delta$ then $\alpha \geq \beta^\gamma \delta \geq \beta^\gamma \beta = \beta^{\gamma + 1}$, contradicting the greatestness of $\gamma$.
	\end{proof}
\end{proof}
\step{2}{If $\beta^\gamma \delta + \rho = \beta^{\gamma'} \delta' + \rho'$ with $\beta > 1$, $0 \neq \delta < \beta$, $0 \neq \delta' < \beta$, $\rho < \beta^\gamma$ and $\rho' < \beta^{\gamma'}$, then $\gamma = \gamma'$, $\delta = \delta'$ and $\rho = \rho'$.}
\begin{proof}
	\step{a}{\pflet{$\alpha = \beta^\gamma \delta + \rho = \beta^{\gamma'} \delta' + \rho'$}}
	\step{b}{$\beta^\gamma \leq \alpha < \beta^{\gamma + 1}$}
	\step{c}{$\beta^{\gamma'} \leq \alpha < \beta^{\gamma' + 1}$}
	\step{d}{$\beta^\gamma < \beta^{\gamma' + 1}$ and $\beta^{\gamma'} < \beta^{\gamma + 1}$}
	\step{e}{$\gamma < \gamma' + 1$ and $\gamma' < \gamma + 1$}
	\step{f}{$\gamma = \gamma'$}
	\step{g}{$\delta = \delta'$ and $\rho = \rho'$}
	\begin{proof}
		\pf\ By the Division Theorem.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}
For any ordinal numbers $\alpha$, $\beta$, $\gamma$, we have
\[ \alpha^{\beta + \gamma} = \alpha^\beta \alpha^\gamma \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$P[\gamma]$ be the property: for any ordinals $\alpha$ and $\beta$ we have $\alpha^{\beta + \gamma} = \alpha^\beta \alpha^\gamma$}}
\step{2}{$P[0]$}
\begin{proof}
	\pf
	\begin{align*}
		\alpha^{\beta + 0} & = \alpha^\beta \\
		& = \alpha^\beta 1 \\
		& = \alpha^\beta \alpha^0
	\end{align*}
\end{proof}
\step{3}{For all $\gamma$, if $P[\gamma]$ then $P[\gamma + 1]$}
\begin{proof}
	\pf
	\begin{align*}
		\alpha^{\beta + \gamma + 1} & = \alpha^{\beta + \gamma} \alpha \\
		& = \alpha^\beta \alpha^\gamma \alpha & (\text{induction hypothesis}) \\
		& = \alpha^\beta \alpha^{\gamma + 1}
	\end{align*}
\end{proof}
\step{4}{For any limit ordinal $\lambda$, if $\forall \gamma < \lambda. P[\gamma]$ then $P[\lambda]$.}
\begin{proof}
	\step{a}{\pflet{$\lambda$ be a limit ordinal}}
	\step{b}{\assume{$\forall \gamma < \lambda. P[\gamma]$}}
	\step{c}{\pflet{$\alpha$ and $\beta$ be any ordinals.}}
	\step{d}{\case{$\alpha = 0$}}
	\begin{proof}
		\pf\ We have $\alpha^{\beta + \lambda} = \alpha^\beta \alpha^\lambda = 0$.
	\end{proof}
	\step{e}{\case{$\alpha = 1$}}
	\begin{proof}
		\pf\ We have $\alpha^{\beta + \lambda} = \alpha^\beta \alpha^\lambda = 1$.
	\end{proof}
	\step{f}{\case{$\alpha > 1$}}
	\begin{proof}
		\pf
		\begin{align*}
			\alpha^{\beta + \lambda} & = \alpha^{\sup_{\gamma < \lambda} (\beta + \gamma)} \\
			& = \sup_{\gamma < \lambda} \alpha^{\beta + \gamma} & (\text{Theorem \ref{thm:normalsup}}) \\
			& = \sup_{\gamma < \lambda} \alpha^\beta \alpha^\gamma & (\text{\stepref{b}}) \\
			& = \alpha^\beta \sup_{\gamma < \lambda} \alpha^\gamma & (\text{Theorem \ref{thm:normalsup}}) \\
			& = \alpha^\beta \alpha^\lambda
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}
For any ordinal numbers $\alpha$, $\beta$ and $\gamma$, we have
\[ (\alpha^\beta)^\gamma = \alpha^{\beta \gamma} \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$P[\gamma]$ be the property: For any ordinals $\alpha$ and $\beta$, we have $(\alpha^\beta)^\gamma = \alpha^{\beta \gamma}$}}
\step{2}{$P[0]$}
\begin{proof}
	\pf
	\begin{align*}
		(\alpha^\beta)^0 & = 1 \\
		& = \alpha^{\beta 0}
	\end{align*}
\end{proof}
\step{3}{$\forall \gamma \in \mathbf{On}. P[\gamma] \Rightarrow P[\gamma + 1]$}
\begin{proof}
	\pf
	\begin{align*}
		(\alpha^\beta)^{\gamma + 1} & = (\alpha^\beta)^\gamma \alpha^\beta \\
		& = \alpha^{\beta \gamma} \alpha^\beta \\
		& = \alpha^{\beta \gamma + \beta} \\
		& = \alpha^{\beta (\gamma + 1)}
	\end{align*}
\end{proof}
\step{4}{For any limit ordinal $\lambda$, if $\forall \gamma < \lambda. P[\gamma]$ then $P[\lambda]$.}
\begin{proof}
	\step{a}{\pflet{$\lambda$ be a limit ordinal.}}
	\step{b}{\assume{$\forall \gamma < \lambda. P[\gamma]$}}
	\step{c}{\pflet{$\alpha$ and $\beta$ be any ordinals.}}
	\step{d}{\case{$\alpha = 0$ and $\beta = 0$}}
	\begin{proof}
		\pf
		\begin{align*}
			(0^\beta)^\lambda & = 1^\lambda \\
			& = 1 \\
			& = 0^0 \\
			& = 0^{0 \lambda}
		\end{align*}
	\end{proof}
	\step{dd}{\case{$\alpha = 0$ and $\beta \neq 0$}}
	\begin{proof}
		\pf\ $(0^\beta)^\lambda = 0^{\beta \lambda} = 0$.
	\end{proof}
	\step{e}{\case{$\alpha = 1$}}	
	\begin{proof}
		\pf\ $(1^\beta)^\lambda = 1^{\beta \lambda} = 1$
	\end{proof}
	\step{f}{\case{$\alpha > 1$}}
	\begin{proof}
		\pf
		\begin{align*}
			(\alpha^\beta)^\lambda & = \sup_{\gamma < \lambda} (\alpha^\beta)^\gamma \\
			& = \sup_{\gamma < \lambda} \alpha^{\beta \gamma} \\
			& = \alpha^{\sup_{\gamma < \lambda} \beta \gamma} \\
			& = \alpha^{\beta \lambda}
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Sequences}
<
\begin{df}[Sequence]
Given an ordinal $\alpha$ and class $\mathbf{A}$, an \emph{$\alpha$-sequence} in $\mathbf{A}$ is a function $a : \alpha \rightarrow \mathbf{A}$. We write $a_\beta$ for $a(\beta)$, and $(a_\beta)_{\beta < \alpha}$ for $a$.
\end{df}

\begin{df}[Strictly Increasing]
A sequence $(a_\beta)$ of ordinals is \emph{strictly increasing} iff, whenever $\beta < \gamma$, then $a_\beta < a_\gamma$.
\end{df}

\begin{df}[Subsequence]
Let $(a_\beta)_{\beta < \gamma}$ be a sequence in $\mathbf{A}$. A \emph{subsequence} of $(a_\beta)$ is a sequence of the form $(a_{\beta_\xi})_{\xi < \delta}$ where $(\beta_\xi)_{\xi < \delta}$ is a strictly increasing sequence in $\gamma$.
\end{df}

\begin{df}[Convergence]
Let $(a_\beta)_{\beta < \gamma}$ be a sequence of ordinals and $\lambda$ an ordinal. Then $(a_\beta)$ \emph{converges} to the \emph{limit} $\lambda$ iff $\lambda = \sup_{\beta < \gamma} a_\beta$.
\end{df}

\begin{lm}
\label{lm:convergentsubsequence}
Let $(a_\beta)_{\beta < \gamma}$ be a sequence of ordinals. Then there is a strictly increasing subsequence $(a_{\beta_\xi})_{\xi < \delta}$ such that $\sup_{\xi < \delta} a_{\beta_\xi} = \sup_{\beta < \gamma} a_\beta$.
\end{lm}

\begin{proof}
\pf\ Define $\beta_\xi$ by transfinite recursion as follows. $\beta_\xi$ is the least $\beta$ such that $a_\beta > a_{\beta_\zeta}$ for all $\zeta < \xi$ if there is such an $a_\beta$; if not, the sequence ends.
\qed
\end{proof}

\section{Strict Supremum}

\begin{df}[Strict Supremum]
For any set $S$ of ordinals, define the \emph{strict supremum} of $S$, $\ssup S$, to be the least ordinal greater than every member of $S$.
\end{df}

\chapter{Cardinal Numbers}

\section{Cardinal Numbers}

\begin{df}[Cardinality]
For any set $A$, the \emph{cardinality} or \emph{cardinal number} $|A|$ of $A$ is the least ordinal equinumerous with $A$.

Let $\mathbf{Card}$ be the class of all cardinal numbers.
\end{df}

\begin{prop}
For any sets $A$ and $B$, we have $A \approx B$ iff $|A| = |B|$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Addition]
Given cardinal numbers $\kappa$ and $\lambda$, we define $\kappa + \lambda$ to be $|A \cup B|$ where $A$ and $B$ are disjoint sets of cardinality $\kappa$ and $\lambda$ respectively.

We prove this is well-defined.
\end{df}

\begin{proof}
\pf
\step{1}{\assume{$A \approx A'$, $B \approx B'$, and $A \cap B = A' \cap B' = \emptyset$}}
\step{2}{\pick\ bijections $f : A \approx A'$ and $g : B \approx B'$}
\step{3}{The function $A \cup B \rightarrow A' \cup B'$ that maps $a \in A$ to $f(a)$ and $b \in B$ to $g(b)$ is a bijection.}
\qed
\end{proof}

\begin{prop}
For any cardinal number $\kappa$, we have $\kappa + 0 = \kappa$.
\end{prop}

\begin{proof}
\pf\ Let $A$ and $B$ be disjoint sets of cardinality $\kappa$ and 0. Then $B = \emptyset$ so $A \cup B = A$ and so $|A \cup B| = \kappa$. \qed
\end{proof}

\begin{thm}[Associative Law for Addition]
For any cardinal numbers $\kappa$, $\lambda$, $\mu$ we have $\kappa + (\lambda + \mu) = (\kappa + \lambda) + \mu$.
\end{thm}

\begin{proof}
\pf\ Since $A \cup (B \cup C) = (A \cup B) \cup C$. \qed
\end{proof}

\begin{prop}
For any cardinal numbers $\kappa$ and $\lambda$ we have $\kappa + \lambda = \lambda + \kappa$.
\end{prop}

\begin{proof}
\pf\ Since $A \cup B = B \cup A$. \qed
\end{proof}

\begin{df}[Multiplication]
For $\kappa$ and $\lambda$ cardinal numbers, we define $\kappa \lambda$ to be the cardinal number of $A \times B$, where $|A| = \kappa$ and $|B| = \lambda$.

We prove this is well-defined.
\end{df}

\begin{proof}
\pf\ If $f : A \approx A'$ and $g : B \approx B'$ then the function that maps $(a,b)$ to $(f(a),g(b))$ is a bijection $A \times B \approx A' \times B'$. \qed
\end{proof}

\begin{prop}
For any cardinal number $\kappa$ we have $\kappa \cdot 0 = 0$.
\end{prop}

\begin{proof}
\pf\ Since $A \times \emptyset = \emptyset$. \qed
\end{proof}

\begin{prop}
\label{prop:multone}
For any cardinal number $\kappa$ we have $\kappa \cdot 1 = \kappa$.
\end{prop}

\begin{proof}
\pf\ The function that maps $(a,e)$ to $a$ is a bijection $A \times \{e\} \approx A$. \qed
\end{proof}

\begin{thm}[Distributive Law]
For any cardinal numbers $\kappa$, $\lambda$ and $\mu$, we have $\kappa(\lambda + \mu) = \kappa \lambda + \kappa \mu$.
\end{thm}

\begin{proof}
\pf\ Since $A \times (B \cup C) = (A \times B) \cup (A \times C)$. \qed
\end{proof}

\begin{thm}[Associative Law for Multiplication]
For any cardinal numbers $\kappa$, $\lambda$ and $\mu$, we have $\kappa (\lambda \mu) = (\kappa \lambda) \mu$.
\end{thm}

\begin{proof}
\pf\ Since $A \times (B \times C) \approx (A \times B) \times C$. \qed
\end{proof}

\begin{thm}[Commutative Law for Multiplication]
For any cardinal numbers $\kappa$ and $\lambda$, we have $\kappa \lambda = \lambda \kappa$.
\end{thm}

\begin{proof}
\pf\ Since $A \times B \approx B \times A$. \qed
\end{proof}

\begin{thm}
For any cardinal numbers $\kappa$ and $\lambda$, if $\kappa \lambda = 0$ then $\kappa = 0$ or $\lambda = 0$.
\end{thm}

\begin{proof}
\pf\ if $A \times B = \emptyset$ then $A = \emptyset$ or $B = \emptyset$. \qed
\end{proof}

\begin{df}[Exponentiation]
Given cardinal numbers $\kappa$ and $\lambda$, we define $\kappa^\lambda$ to be $|A^B|$, where $|A| = \kappa$ and $|B| = \lambda$.

We prove this is well-defined.
\end{df}

\begin{proof}
\pf
If $f : A \approx A'$ and $g : B \approx B'$, then the function that maps $h : B \rightarrow A$ to $f \circ h \circ g^{-1}$ is a bijection $A^B \approx A'^{B'}$. \qed
\end{proof}

\begin{prop}
For any cardinal numbers $\kappa$, $\lambda$ and $\mu$,
\[ \kappa^{\lambda + \mu} = (\kappa^{\lambda})^\mu \]
\end{prop}

\begin{proof}
\pf\ The function that maps $f : A \times B \rightarrow C$ to $\lambda a \in A. \lambda b \in B. f(a,b)$ is a bijection $A^{B \times C} \approx (A^B)^C$. \qed
\end{proof}

\begin{prop}
For any cardinal numbers $\kappa$, $\lambda$ and $\mu$,
\[ (\kappa \lambda)^\mu = \kappa^\mu \lambda^\mu \enspace . \]
\end{prop}

\begin{proof}
\pf\ The function $f : A^C \times B^C \rightarrow (A \times B)^C$ with $f(g,h)(c) = (g(c),h(c))$ is a bijection. \qed
\end{proof}

\begin{prop}
For any cardinal numbers $\kappa$, $\lambda$ and $\mu$, we have
\[ \kappa^{\lambda + \mu} = \kappa^\lambda \kappa^\mu \enspace .\]
\end{prop}

\begin{proof}
\pf\ If $B \cap C = \emptyset$, then $f : A^B \times A^C \rightarrow A^{B \cup C}$ given by $f(g,h)(b) = g(b)$ and $f(g,h)(c) = h(c)$ is a bijection. \qed
\end{proof}

\begin{prop}
For any cardinal number $\kappa$, we have $\kappa^0 = 1$.
\end{prop}

\begin{proof}
\pf\ For any set $A$, we have $A^\emptyset = \{ \emptyset \}$. \qed
\end{proof}

\begin{prop}
For any cardinal number $\kappa$, we have $\kappa^1 = \kappa$.
\end{prop}

\begin{proof}
\pf\ For any sets $A$ and $B$, if $B = \{b\}$ then the function $f : A \rightarrow A^B$ with $f(a)(b) = a$ is a bijection. \qed
\end{proof}

\begin{prop}
For any non-zero cardinal number $\kappa$ we have $0^\kappa = 0$.
\end{prop}

\begin{proof}
\pf\ If $A$ is nonempty then there is no function $A \rightarrow \emptyset$. \qed
\end{proof}

\begin{prop}
For any set $A$ we have $|\mathcal{P} A| = 2^{|A|}$.
\end{prop}

\begin{proof}
\pf\ The function $f : \mathcal{P} A \rightarrow 2^A$ where $f(X)(a) = 0$ if $a \notin X$ and $f(X)(a) = 1$ if $a \in X$. \qed
\end{proof}

\begin{thm}[K\"{o}nig]
Let $I$ be a set. Let $\{A_i\}_{i \in I}$ and $\{B_i\}_{i \in I}$ be families of sets. Assume that $\forall i \in I. |A_i| < |B_i|$. Then $\left| \bigcup_{i \in I} A_i \right| < \left| \prod_{i \in I} B_i \right|$.
\end{thm}

\begin{proof}
\pf
\step{1}{For all $i \in I$, choose an injection $f_i : A_i \rightarrowtail B_i$}
\step{2}{For all $i \in I$, choose $b_i \in B_i - f_i(A_i)$}
\step{3}{$\left| \bigcup_{i \in I} A_i \right| \leq \left| \prod_{i \in I} B_i \right|$}
\begin{proof}
	\step{a}{Define $g : \bigcup_{i \in I} A_i \rightarrow \prod_{i \in I} B_i$ by
	\[ g(i,a)(j) = \begin{cases}
	f_i(a) & \text{if } i = j \\
	b_j & \text{otherwise}
	\end{cases} \]}
	\step{b}{$g$ is injective.}
\end{proof}
\step{2}{$\left| \bigcup_{i \in I} A_i \right| \neq \left| \prod_{i \in I} B_i \right|$}
\begin{proof}
	\step{a}{\pflet{$h : \bigcup_{i \in I} A_i \rightarrow \prod_{i \in I} B_i$} \prove{$h$ is not surjective.}}
	\step{b}{For $i \in I$, \pick\ $c_i \in B_i - \{ h(i,a)(i) \mid i \in I \}$}
	\step{c}{$c \in \prod_{i \in I} B_i$}
	\step{d}{$c \notin \ran h$}
\end{proof}
\qed
\end{proof}

\begin{cor}
For any cardinal number $\kappa$ we have $\kappa < 2^\kappa$.
\end{cor}

\section{Ordering on Cardinal Numbers}

\begin{df}
Given cardinal numbers $\kappa$ and $\lambda$, we have $\kappa \leq \lambda$ iff $A \preccurlyeq B$, where $|A| = \kappa$ and $|B| = \lambda$.
\end{df}

\begin{proof}
\pf
\step{1}{\pflet{$|A| = \kappa$ and $|B| = \lambda$}}
\step{2}{\pick\ bijections $f : A \approx \kappa$ and $g : B \approx \lambda$}
\step{3}{If $\kappa \leq \lambda$ then $A \preccurlyeq B$}
\begin{proof}
	\pf\ Let $i : \kappa \hookrightarrow \lambda$ be the inclusion. Then $g^{-1} \circ i \circ f$ is an injection $A \rightarrow B$.
\end{proof}
\step{4}{If $A \preccurlyeq B$ then $\kappa \leq \lambda$}
\begin{proof}
	\step{a}{\assume{$A \preccurlyeq B$}}
	\step{b}{\pick\ an injection $h : A \rightarrowtail B$}
	\step{c}{$g(h(A)) \subseteq B$ is well-ordered by $\in$}
	\step{d}{\pflet{$\gamma$ be the ordinal number of $(g(h(A)), \in)$}}
	\step{e}{$\gamma \leq \lambda$}
	\begin{proof}
		\pf\ Proposition \ref{prop:subsetleq}.
	\end{proof}
	\step{f}{$\kappa \leq \gamma$}
	\begin{proof}
		\pf\ By the leastness of $\kappa$, since $A$ is equinumerous with $\gamma$.
	\end{proof}
	\step{g}{$\kappa \leq \lambda$}
\end{proof}
\qed
\end{proof}

\begin{cor}
There is no largest cardinal number.
\end{cor}

\begin{prop}
For any cardinal numbers $\kappa$, $\lambda$, $\mu$, if $\kappa \leq \lambda$ then $\kappa + \mu \leq \lambda + \mu$.
\end{prop}

\begin{proof}
\pf\ If $f : A \rightarrow B$ is injective, and $A \cap C = B \cap C = \emptyset$, then the function $A \cup C \rightarrow B \cup C$ that maps $a$ to $f(a)$ and maps $c$ to $c$ is an injection. \qed
\end{proof}

\begin{prop}
For any cardinal numbers $\kappa$, $\lambda$, $\mu$, if $\kappa \leq \lambda$ then $\kappa \mu \leq \lambda \mu$.
\end{prop}

\begin{proof}
\pf\ If $f : A \rightarrow B$ is injective, then the function $A \times C \rightarrow B \times C$ that maps $(a,c)$ to $(f(a),c)$ is injective. \qed
\end{proof}

\begin{prop}
For any cardinal numbers $\kappa$, $\lambda$, $\mu$, if $\kappa \leq \lambda$ then $\kappa^\mu \leq \lambda^\mu$.
\end{prop}

\begin{proof}
\pf\ Given an injection $f : A \rightarrow B$, the function that maps $A^C \rightarrow B^C$ that maps $g$ to $f \circ g$ is an injection. \qed
\end{proof}

\begin{prop}
For any cardinal numbers $\kappa$, $\lambda$, $\mu$, if $\kappa \leq \lambda$ and $\mu$ and $\kappa$ are not both 0, then $\mu^\kappa \leq \mu^\lambda$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$, $B$ and $C$ be sets with $A$ and $C$ not both empty.}}
\step{2}{\pflet{$f : A \rightarrow B$ be an injection.} \prove{$C^A \preccurlyeq C^B$}}
\step{3}{\case{$C = \emptyset$}}
\begin{proof}
	\pf\ Then $A \neq \emptyset$ so $C^A = \emptyset \preccurlyeq C^B$.
\end{proof}
\step{4}{\case{$C \neq \emptyset$}}
\begin{proof}
	\step{a}{\pick\ $c \in C$}
	\step{b}{\pflet{$g : C^A \rightarrow C^B$ be the function $g(h)(f(a)) = h(a)$, $g(h)(b) = c$ if $b \notin f(A)$}}
	\step{c}{$g$ is an injection.}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:unioncard}
Let $\mathcal{A}$ be a set such that $\forall X \in \mathcal{A}. |X| \leq \kappa$. Then
\[ \left| \bigcup \mathcal{A} \right| \leq |\mathcal{A}| \kappa \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{a}{For $X \in \mathcal{A}$, choose a surjection $f_X : \kappa \rightarrow X$.}
\step{b}{Define $g : \mathcal{A} \times \kappa \rightarrow \bigcup \mathcal{A}$ by $g(X,\alpha) = f_X(\alpha)$}
\step{c}{$g$ is surjective.}
\qed
\end{proof}

\begin{lm}
\label{lm:supcard}
The union of a set of cardinal numbers is a cardinal number.
\end{lm}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be a set of cardinal numbers.} 
\prove{$\bigcup A$ is the smallest ordinal equinumerous with $\bigcup A$}}
\step{2}{\pflet{$\alpha < \bigcup A$} \prove{$\alpha \not\approx \bigcup A$}}
\step{3}{\pick\ $\kappa \in A$ such that $\alpha < \kappa$}
\step{4}{$\alpha \prec \kappa$}
\step{5}{$\alpha \prec \bigcup A$}
\qed
\end{proof}

\chapter{Natural Numbers}

\section{Inductive Sets}

\begin{df}[Inductive]
A set $I$ is \emph{inductive} iff $0 \in I$ and $\forall x \in I. x^+ \in I$.
\end{df}

\begin{df}[Natural Number]
A \emph{natural number} is a set that belongs to every inductive set.
\end{df}

\begin{thm}
The class $\mathbb{N}$ of natural numbers is a set.
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ an inductive set $I$.}
\begin{proof}
	\pf\ Axiom of Infinity.
\end{proof}
\step{2}{$\mathbb{N} \subseteq I$}
\qed
\end{proof}

\begin{thm}
$\mathbb{N}$ is inductive, and is a subset of every other inductive set.
\end{thm}

\begin{proof}
\pf
\step{1}{$\mathbb{N}$ is inductive.}
\begin{proof}
	\step{a}{$0 \in \mathbb{N}$}
	\begin{proof}
		\pf\ Since $0$ is a member of every inductive set.
	\end{proof}
	\step{b}{$\forall n \in \mathbb{N}. n^+ \in \mathbb{N}$}
	\begin{proof}
		\step{i}{\pflet{$n \in \mathbb{N}$}}
		\step{ii}{\pflet{$I$ be any inductive set.} \prove{$n^+ \in I$}}
		\step{iii}{$n \in I$}
		\begin{proof}
			\pf\ \stepref{i}, \stepref{ii}
		\end{proof}
		\step{iv}{$n^+ \in I$}
		\begin{proof}
			\pf\ \stepref{ii}, \stepref{iii}
		\end{proof}
	\end{proof}
\end{proof}
\step{2}{$\mathbb{N}$ is a subset of every inductive set.}
\begin{proof}
	\pf\ Immediate from definitions.
\end{proof}
\qed
\end{proof}

\begin{cor}[Induction Principle for $\mathbb{N}$]
Any inductive subset of $\mathbb{N}$ coincides with $\mathbb{N}$.
\end{cor}

\begin{thm}
\label{thm:zeroorsucc}
Every natural number except 0 is the successor of some natural number.
\end{thm}

\begin{proof}
\pf\ Trivially by induction. \qed
\end{proof}

\begin{prop}
\label{prop:nattrans}
Every natural number is an ordinal.
\end{prop}

\begin{proof}
\pf\ By induction. \qed
\end{proof}

\begin{prop}
$\mathbb{N}$ is a transitive set.
\end{prop}

\begin{proof}
\pf
\step{1}{$0 \subseteq \mathbb{N}$}
\step{2}{$\forall n \in \mathbb{N}. n \subseteq \mathbb{N} \Rightarrow n^+ \subseteq \mathbb{N}$}
\step{3}{$\forall n \in \mathbb{N}. n \subseteq \mathbb{N}$}
\begin{proof}
	\pf\ From \stepref{1} and \stepref{2} by induction.
\end{proof}
\qed
\end{proof}

\begin{cor}
$\mathbb{N}$ is an ordinal.
\end{cor}

\begin{df}
We define $\omega = \mathbb{N}$.
\end{df}

\begin{prop}[Dependent Choice]
Let $A$ be a nonempty set and $R$ a relation on $A$ such that $\forall x \in A. \exists y \in A. (y,x) \in R$. Then there exists a function $f : \mathbb{N} \rightarrow A$ such that $\forall n \in \mathbb{N}. (f(n+1),f(n)) \in R$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pick\ a choice function $F$ for $A$.}
\step{2}{\pick\ $a \in A$}
\step{3}{Define $f : \mathbb{N} \rightarrow A$ by $f(0) = a$ and $f(n+1) = F(\{ y \in A \mid (y,f(n)) \in R \})$.}
\qed
\end{proof}

\begin{thms}
For any classes $\mathbf{A}$ and $\mathbf{R}$, the following is a theorem:


Assume $\mathbf{R}$ is a relation on $\mathbf{A}$ and, for all $a \in \mathbf{A}$, the class $\{ x \in \mathbf{A} \mid x \mathbf{R} a \}$ is a set. Then $\mathbf{R}$ is well founded if and only if there does not exist a function $f : \mathbb{N} \rightarrow \mathbf{A}$ such that $\forall n \in \mathbb{N}. f(n+1) \mathbf{R} f(n)$.
\end{thms}

\begin{proof}
\pf
\step{1}{If there exists a function $f : \mathbb{N} \rightarrow \mathbf{A}$ such that $\forall n \in \mathbb{N}. f(n+1) \mathbf{R} f(n)$ then $\mathbf{R}$ is not well founded.}
\begin{proof}
	\pf\ $f(\mathbb{N})$ is a nonempty subset of $\mathbf{A}$ with no $\mathbf{R}$-minimal element.
\end{proof}
\step{2}{If $\mathbf{R}$ is not well founded then there exists a function $f : \mathbb{N} \rightarrow \mathbf{A}$ such that $\forall n \in \mathbb{N}. f(n+1) \mathbf{R} f(n)$.}
\begin{proof}
	\step{a}{\assume{$\mathbf{R}$ is not well founded.}}
	\step{b}{\pick\ a nonempty subset $B \subseteq \mathbf{A}$ that has no $\mathbf{R}$-minimal element.}
	\step{c}{$\forall x \in B. \exists y \in B. y \mathbf{R} x$}
	\step{d}{Choose a function $g : B \rightarrow B$ such that $\forall x \in B. g(x) \mathbf{R} x$}
	\step{e}{\pick\ $b \in B$}
	\step{f}{Define $f : \mathbb{N} \rightarrow \mathbf{A}$ recursively by $f(0) = b$ and $\forall n \in \mathbb{N}. f(n+1) = g(f(n))$}
	\step{g}{$\forall n \in \mathbb{N}. f(n+1) \mathbf{R} f(n)$}
\end{proof}
\qed
\end{proof}

\section{Cardinality}

\begin{df}[Finite]
A set is \emph{finite} iff it is equinumerous to some natural number; otherwise it is \emph{infinite}.
\end{df}

\begin{thm}[Pigeonhole Principle]
No natural number is equinumerous to a proper subset of itself.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$P(n)$ be the property: any one-to-one function $n \rightarrow n$ is surjective.}}
\step{2}{$P(0)$}
\begin{proof}
	\pf\ The only function $0 \rightarrow 0$ is injective.
\end{proof}
\step{3}{For every natural number $n$, if $P(n)$ then $P(n+1)$.}
\begin{proof}
	\step{a}{\assume{$P(n)$}}
	\step{b}{\pflet{$f$ be a one-to-one function $n+1 \rightarrow n+1$}}
	\step{c}{$f \restriction n$ is a one-to-one function $n \rightarrow n+1$}
	\step{d}{\case{$n \notin ran f$}}
	\begin{proof}
		\step{i}{$f \restriction n : n \rightarrow n$}
		\step{ii}{$\ran (f \restriction n) = n$}
		\step{iii}{$f(n) = n$}
		\begin{proof}
			\pf\ \stepref{a}.
		\end{proof}
		\step{iv}{$\ran f = n+1$}
	\end{proof}
	\step{e}{\case{$n \in \ran f$}}
	\begin{proof}
		\step{i}{\pick\ $p \in n$ such that $f(p) = n$}
		\step{ii}{\pflet{$\hat{f} : n \rightarrow n$ be the function
		\begin{align*}
		\hat{f}(p) & = f(n) \\
		\hat{f}(x) & = f(x) & (x \neq p)
		\end{align*}}}
		\step{iii}{$\hat{f}$ is one-to-one}
		\step{iv}{$\ran \hat{f} = n$}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
		\step{v}{$\ran f = n + 1$}
	\end{proof}
\end{proof}
\step{4}{For every natural number $n$, $P(n)$.}
\qed
\end{proof}

\begin{cor}
No finite set is equinumerous to a proper subset of itself.
\end{cor}

\begin{cor}
Every natural number is a cardinal number.
\end{cor}

\begin{proof}
\pf\ For any natural number $n$, we have that $n$ is the least ordinal such that $n \approx n$. \qed
\end{proof}

\begin{cor}
$\mathbb{N}$ is a cardinal number.
\end{cor}

\begin{cor}
$\mathbb{N}$ is infinite.
\end{cor}

\begin{proof}
\pf\ The function that maps $n$ to $n+1$ is a bijection between $\mathbb{N}$ and $\mathbb{N} - \{0\}$. \qed
\end{proof}

\begin{cor}
If $C$ is a proper subset of a natural number $n$, then there exists $m < n$ such that $C \approx m$.
\end{cor}

\begin{proof}
\pf\ By Proposition \ref{prop:subsetleq}. \qed
\end{proof}

\begin{cor}
Any subset of a finite set is finite.
\end{cor}

\begin{prop}
For any natural numbers $m$ and $n$ we have $m+n$ (cardinal addition) is a natural number.
\end{prop}

\begin{proof}
\pf\ Induction on $n$. \qed
\end{proof}

\begin{cor}
The union of two finite sets is finite.
\end{cor}

\begin{cor}
\label{cor:finiteunion}
The union of a finite set of finite sets is finite.
\end{cor}

\begin{proof}
\pf\ By induction on the number of elements. \qed
\end{proof}

\begin{prop}
For natural numbers $m$ and $n$, the cardinal sum $m + n$ is equal to the ordinal sum $m + n$.
\end{prop}

\begin{proof}
\pf\ Induction on $n$. \qed
\end{proof}

\begin{prop}
For any natural numbers $m$ and $n$, we have $mn$ (cardinal multiplication) is a natural number.
\end{prop}

\begin{cor}
If $A$ and $B$ are finite sets then $A \times B$ is finite.
\end{cor}

\begin{prop}
For natural numbers $m$ and $n$, the cardinal product $mn$ is equal to the ordinal product $mn$.
\end{prop}

\begin{proof}
\pf\ Induction on $n$. \qed
\end{proof}

\begin{prop}
For any natural numbers $m$ and $n$ we have $m^n$  (cardinal exponentiation) is a natural number.
\end{prop}

\begin{proof}
\pf\ Induction on $n$.
\end{proof}

\begin{cor}
If $A$ and $B$ are finite sets then $A^B$ are finite.
\end{cor}

\begin{prop}
For natural numbers $m$ and $n$, the cardinal exponentiation $m^n$ and the ordinal exponentiation $m^n$ agree.
\end{prop}

\begin{proof}
\pf\ Induction on $n$. \qed
\end{proof}

\begin{prop}
\label{prop:N^2approxN}
$\mathbb{N}^2 \approx \mathbb{N}$
\end{prop}

\begin{proof}
\pf\ The function $J : \mathbb{N}^2 \rightarrow \mathbb{N}$ defined by $J(m,n) = ((m+n)^2 + 3m + n)/2$ is a bijection. \qed
\end{proof}

\begin{prop}
\label{prop:aleph0least}
For any infinite cardinal $\kappa$ we have $\aleph_0 \leq \kappa$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be an infinite set.} \prove{$\mathbb{N} \preccurlyeq A$}}
\step{2}{\pick\ a choice function $F$ for $A$.}
\step{3}{Define $h : \mathbb{N} \rightarrow \{ X \in \mathcal{P} A \mid X \text{ is finite} \}$ by
\begin{align*}
h(0) & = \emptyset \\
h(n+1) & = h(n) \cup \{ F(A - \{ h(m) \mid m < n \}) \}
\end{align*}}
\step{4}{Define $g : \mathbb{N} \rightarrow A$ by $g(n) = F(A - \{ h(m) \mid m < n \})$}
\step{5}{$g$ is injective.}
\begin{proof}
	\pf\ If $m < n$ then $g(m) \neq g(n)$.
\end{proof}
\qed
\end{proof}

\begin{thms}[K\"{o}nig's Lemma]
For any classes $\mathbf{A}$ and $\mathbf{R}$, the following is a theorem:

Assume $\mathbf{R}$ is a well founded relation on $\mathbf{A}$ such that, for all $y \in \mathbf{A}$, the class $\{ x \in \mathbf{A} \mid x \mathbf{R} y \}$ is a finite set. Let $\mathbf{R}^t$ be the transitive closure of $\mathbf{R}$. Then,for all $y \in \mathbf{A}$, the class $\{ x \in \mathbf{A} \mid x \mathbf{R}^t y \}$ is a finite set.
\end{thms}

\begin{proof}
\pf
\step{1}{\pflet{$y \in \mathbf{A}$}}
\step{2}{\assume{as transfinite induction hypothesis $\forall x \mathbf{R} y. \{ z \in \mathbf{A} \mid z \mathbf{R}^t x \}$ is a finite set.}}
\step{3}{$\{ x \mid x \mathbf{R}^t y \} = \bigcup_{x \mathbf{R} y} (\{x\} \cup \{z \mid z \mathbf{R}^t x \}$}
\step{4}{$\{ x \mid x \mathbf{R}^t y\}$ is finite.}
\begin{proof}
	\pf\ Corollary \ref{cor:finiteunion}.
\end{proof}
\qed
\end{proof}

\section{Countable Sets}

\begin{df}[Countable]
A set $A$ is \emph{countable} iff $|A| \leq \aleph_0$.
\end{df}

\begin{thm}
The union of a countable set of countable sets is countable.
\end{thm}

\begin{proof}
\pf\ Proposition \ref{prop:unioncard}. \qed
\end{proof}

\section{Arithmetic}

\begin{df}[Even]
A natural number $n$ is \emph{even} iff there exists $m \in \mathbb{N}$ such that $n = 2m$.
\end{df}

\begin{df}[Odd]
A natural number $n$ is \emph{odd} iff there exists $p \in \mathbb{N}$ such that $n = 2p+1$.
\end{df}

\begin{prop}
Every natural number is either even or odd.
\end{prop}

\begin{proof}
\pf
\step{1}{$0$ is even.}
\begin{proof}
	\pf\ $0 = 2 \times 0$.
\end{proof}
\step{2}{For any natural number $n$, if $n$ is either even or odd then $n^+$ is either even or odd.}
\begin{proof}
	\pf
	\step{a}{\pflet{$n \in \mathbb{N}$}}
	\step{b}{If $n$ is even then $n^+$ is odd.}
	\begin{proof}
		\pf\ If $n = 2p$ then $n^+ = 2p+1$.
	\end{proof}
	\step{c}{If $n$ is odd then $n^+$ is even.}
	\begin{proof}
		\pf\ If $n = 2p+1$ then $n^+ = 2(p+1)$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
No natural number is both even and odd.
\end{prop}

\begin{proof}
\pf
\step{1}{0 is not odd.}
\begin{proof}
	\pf\ For any $p$ we have $2p+1 = (2p)^+ \neq 0$.
\end{proof}
\step{2}{For any natural number $n$, if $n$ is not both even and odd, then $n^+$ is not both even and odd.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{If $n^+$ is even then $n$ is odd.}
	\begin{proof}
		\step{i}{\assume{$n^+$ is even.}}
		\step{ii}{\pick\ $p$ such that $n^+ = 2p$}
		\step{iii}{$p \neq 0$}
		\begin{proof}
			\pf\ Since $n^+ \neq 0$.
		\end{proof}
		\step{iv}{\pick\ $q$ such that $p = q^+$}
		\begin{proof}
			\pf\ Theorem \ref{thm:zeroorsucc}.
		\end{proof}
		\step{vi}{$n^+ = 2q + 2$}
		\begin{proof}
			\pf\ \stepref{ii}, \stepref{iv}.
		\end{proof}
		\step{vii}{$n = 2q+1$}
		\begin{proof}
			\pf\ Proposition \ref{prop:Peano2}, \stepref{vi}
		\end{proof}
		\step{viii}{$n$ is odd.}
	\end{proof}
	\step{c}{If $n^+$ is odd then $n$ is even.}
	\begin{proof}
		\step{i}{\assume{$n^+$ is odd.}}
		\step{ii}{\pick\ $p$ such that $n^+ = 2p+1$}
		\step{iii}{$n = 2p$}
		\begin{proof}
			\pf\ Proposition \ref{prop:Peano2}, \stepref{ii}
		\end{proof}
		\step{iv}{$n$ is even.}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:intltlemma}
Let $m$, $n$, $p$, $q$ be natural numbres. Assume $m + n = p + q$. Then $m < p$ if and only if $q < n$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $m < p$ then $q < n$.}
\begin{proof}
	\pf\ If $m < p$ and $n \leq q$ then $m+n < p + q$.
\end{proof}
\step{2}{If $q < n$ then $m < p$.}
\begin{proof}
	\pf\ Similar.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:intmultlemma}
Let $m$, $n$, $p$ and $q$ be natural numbers. Assume $n < m$ and $q < p$. Then
\[ mq + np < mp + nq \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pick\ positive natural numbers $a$ and $b$ such that $m = n + a$ and $p = q + b$.}
\step{2}{$mp + nq > mq + np$}
\begin{proof}
	\pf
	\begin{align*}
		mp + nq & = (n+a) (q + b) + nq \\
		& = 2nq + nb + aq + ab \\
		mq + np & = (n + a) q + n (q + b) \\
		& = 2nq + aq + nb \\
		\therefore mp + nq & = mq + np + ab \\
		& > mq + np
	\end{align*}
\end{proof}
\qed
\end{proof}

\section{Sequences}

\begin{df}[Sequence]
Let $A$ be a set. A \emph{finite sequence} in $A$ is a function $a : n \rightarrow A$ for some natural number $n$; we write it as $(a(0), a(1), \ldots, a(n-1))$. An \emph{(infinite) sequence} in $A$ is a function $\mathbb{N} \rightarrow A$.

We write $A^*$ for the set of all finite sequences in $A$.
\end{df}

\begin{prop}
If $A$ is countable then $A^*$ is countable.
\end{prop}

\begin{proof}
\pf\ For any $n$, the set $A^n$ is countable, and $A^*$ is equinumerous with $\bigcup_n A^n$. \qed
\end{proof}

\section{Transitive Closure of a Set}

\begin{prop}
For any set $A$, there exists a unique transitive set $C$ such that:
\begin{itemize}
\item $A \subseteq C$
\item For any transitive set $X$, if $A \subseteq X$ then $C \subseteq X$
\end{itemize}
\end{prop}

\begin{proof}
\pf
\step{1}{Define a function $F : \mathbb{N} \rightarrow \mathbf{V}$ by
\begin{align*}
F(0) & = A \\
F(n+1) & = A \cup \bigcup(F(0) \cup \cdots \cup F(n))
\end{align*}}
\step{2}{For all $n \in \mathbb{N}$ and $a \in F(n)$ we have $a \subseteq F(n+1)$}
\begin{proof}
	\pf\ $a \in F(0) \cup \cdots \cup F(n)$ so $a \subseteq \bigcup (F(0) \cup \cdots \cup F(n)) \subseteq F(n+1)$.
\end{proof}
\step{3}{\pflet{$C = \bigcup_{n \in \mathbb{N}} F(n)$}}
\step{4}{$C$ is transitive.}
\begin{proof}
	\step{a}{\pflet{$x \in y \in C$}}
	\step{b}{\pick\ $n \in \mathbb{N}$ such that $y \in F(n)$}
	\step{c}{$y \subseteq F(n+1)$}
	\begin{proof}
		\pf\ \stepref{2}
	\end{proof}
	\step{d}{$x \in F(n+1)$}
	\step{e}{$x \in C$}
\end{proof}
\step{5}{$A \subseteq C$}
\begin{proof}
	\pf\ Since $F(0) = A$.
\end{proof}
\step{6}{For any transitive set $X$, if $A \subseteq X$ then $C \subseteq X$}
\begin{proof}
	\step{a}{\pflet{$X$ be a transitive set}}
	\step{b}{\assume{$A \subseteq X$}}
	\step{c}{For all $n \in \mathbb{N}$ we have $F(n) \subseteq X$.}
	\begin{proof}
		\step{i}{$F(0) \subseteq X$}
		\begin{proof}
			\pf\ \stepref{b}
		\end{proof}
		\step{ii}{For all $n \in \mathbb{N}$, if $F(n) \subseteq X$, then $F(n+1) \subseteq X$.}
		\begin{proof}
			\step{A}{\pflet{$n \in \mathbb{N}$}}
			\step{B}{\assume{$\forall m < n. F(m) \subseteq X$}}
			\step{C}{$F(0) \cup \cdots \cup F(n) \subseteq X$}
			\step{D}{$\bigcup (F(0) \cup \cdots \cup F(n)) \subseteq X$}
			\begin{proof}
				\pf\ Since $X$ is transitive.
			\end{proof}
			\step{E}{$F(n+1) \subseteq X$}
		\end{proof}
	\end{proof}
	\step{d}{$C \subseteq X$}
\end{proof}
\step{7}{Let $D$ be a transitive set such that $A \subseteq D$ and, for any transitive set $X$, if $A \subseteq X$ then $D \subseteq X$. Then $D = C$.}
\begin{proof}
	\pf\ We have $C \subseteq D$ and $D \subseteq C$.
\end{proof}
\qed
\end{proof}

\section{The Veblen Fixed Point Theorem}

\begin{thms}[Veblen Fixed Point Theorem]
For any class $\mathbf{T}$, the following is a theorem:

Assume $\mathbf{T}$ is a normal ordinal operation. For every ordinal $\beta$, there exists $\gamma \geq \beta$ such that $\mathbf{T}(\gamma) = \gamma$.
\end{thms}

\begin{proof}
\pf
\step{1}{\pflet{$\beta$ be an ordinal.}}
\step{2}{\assume{w.l.o.g. $\beta < \mathbf{T}(\beta)$}}
\begin{proof}
	\pf\ We have $\beta \leq \mathbf{T}(\beta)$ by Proposition \ref{prop:gammaltTgamma}, and if $\beta = \mathbf{T}(\beta)$ we take $\gamma := \beta$.
\end{proof}
\step{3}{Define $f : \mathbb{N} \rightarrow \mathbf{On}$ by recursion thus:
\begin{align*}
f(0) & = \beta \\
f(n^+) & = \mathbf{T}(f(n))
\end{align*}}
\step{4}{\pflet{$\gamma = \sup_{n \in \mathbb{N}} f(n)$}}
\step{5}{$\beta \leq \gamma$}
\begin{proof}
	\pf\ Since $\beta = f(0)$.
\end{proof}
\step{5}{$\mathbf{T}(\gamma) = \gamma$}
\begin{proof}
	\step{a}{$\mathbf{T}(\gamma) \leq \gamma$}
	\begin{proof}
	\pf
	\begin{align*}
		\mathbf{T}(\gamma) & = \sup_{n \in \mathbb{N}} \mathbf{T}(f(n)) & (\text{Theorem \ref{thm:normalsup}}) \\
		& = \sup_{n \in \mathbb{N}} f(n^+) & (\text{\stepref{3}}) \\
		& \leq \sup_{n \in \mathbb{N}} f(n) \\
		& = \gamma
	\end{align*}
	\end{proof}
	\step{b}{$\gamma \leq \mathbf{T}(\gamma)$}
	\begin{proof}
		\pf Proposition \ref{prop:gammaltTgamma}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Derived Operation]
Let $\mathbf{T}$ be a normal ordinal operation. The \emph{derived} operation $\mathbf{T}' : \mathbf{On} \rightarrow \mathbf{V}$ is the unique order isomorphism between $\mathbf{On}$ and the fixed points of $\mathbf{T}$.
\end{df}

\begin{props}
For any class $\mathbf{T}$, the following is a theorem:

If $\mathbf{T}$ is a normal ordinal operation, then the derived operation is normal.
\end{props}

\begin{proof}
\pf
\step{1}{For any set $S$ of fixed points of $\mathbf{T}$, we have $\bigcup S$ is a fixed point of $\mathbf{T}$}
\begin{proof}
	\step{a}{\pflet{$S$ be a set of fixed points of $\mathbf{T}$.}}
	\step{b}{$\mathbf{T}(\sup S) = \sup S$}
	\begin{proof}
		\pf
		\begin{align*}
			\mathbf{T}(\sup S) & = \sup_{\alpha \in S} \mathbf{T}(\alpha) & (\text{Theorem \ref{thm:normalsup}}) \\
			& = \sup_{\alpha \in S} \alpha & (\text{\stepref{a}}) \\
			& = \sup S
		\end{align*}
	\end{proof}
\end{proof}
\qedstep
\begin{proof}
	\pf\ Proposition \ref{prop:enumerationnormal}.
\end{proof}
\qed
\end{proof}

\section{Cantor Normal Form}

\begin{thm}
For any ordinal $\alpha$, there exist a unique sequence of nonzero natural numbers $(n_1, \ldots, n_k)$ and sequence of ordinals $(\gamma_1, \ldots, \gamma_k)$ such that
\[ \gamma_k < \gamma_{k-1} < \cdots < \gamma_1 \]
and
\[ \alpha = \omega^{\gamma_1} n_1 + \omega^{\gamma_2} n_2 + \cdots + \omega^{\gamma_k} n_k \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{For any ordinal $\alpha$, there exist a sequence of nonzero natural numbers $(n_1, \ldots, n_k)$ and sequence of ordinals $(\gamma_1, \ldots, \gamma_k)$ such that
\[ \gamma_k < \gamma_{k-1} < \cdots < \gamma_1 \]
and
\[ \alpha = \omega^{\gamma_1} n_1 + \omega^{\gamma_2} n_2 + \cdots + \omega^{\gamma_k} n_k \enspace . \]}
\begin{proof}
	\step{a}{\pflet{$\alpha$ be an ordinal}}
	\step{b}{\assume{as an induction hypothesis that, for all $\beta < \alpha$, the theorem holds.}}
	\step{c}{\assume{w.l.o.g. $\alpha \neq 0$}}
	\step{c}{\pflet{$\gamma_1$, $n_1$, $\rho_1$ be the unique ordinals such that $0 \neq n_1 < \omega$, $\rho_1 < \omega^{\gamma_1}$, and $\alpha = \omega^{\gamma_1} n_1 + \rho_1$}}
	\step{d}{\pflet{$(\gamma_2, \ldots, \gamma_k)$ and $(n_2, \ldots, n_k)$ be sequences such that $\gamma_k < \gamma_{k-1} < \cdots < \gamma_2$ and $\rho_1 = \omega^{\gamma_2} n_2 + \cdots + \omega^{\gamma_k} n_k$}}
	\step{e}{$\gamma_2 < \gamma_1$}
	\begin{proof}
		\pf\ Since $\omega^{\gamma_2} \leq \rho_1 < \omega^{\gamma_1}$
	\end{proof}
\end{proof}
\step{2}{If
\[ \gamma_k < \gamma_{k-1} < \cdots < \gamma_1 \]
\[ \gamma'_k < \gamma'_{k-1} < \cdots < \gamma'_1 \]
and
\[ \omega^{\gamma_1} n_1 + \omega^{\gamma_2} n_2 + \cdots + \omega^{\gamma_k} n_k = \omega^{\gamma'_1} n'_1 + \omega^{\gamma'_2} n'_2 + \cdots + \omega^{\gamma'_k} n'_k \]
then $\gamma_i = \gamma'_i$ for all $i$ and $n_i = n'_i$ for all $i$}
\begin{proof}
	\pf\ Prove by induction on $i$ using the Logarithm Theorem.
\end{proof}
\qed
\end{proof}

\begin{df}[Cantor Normal Form]
For any ordinal $\alpha$, the \emph{Cantor normal form} of $\alpha$ is the expression $\alpha = \omega^{\gamma_1} n_1 + \cdots + \omega^{\gamma_k} n_k$ such that $n_1$, \ldots, $n_k$ are nonzero natural numbers and $\gamma_k < \gamma_{k-1} < \cdots < \gamma_1$.
\end{df}

\chapter{The Cumulative Hierarchy}

\begin{df}[Cumulative Hierarchy]
Define the function $V : \mathbf{On} \rightarrow \mathbf{V}$ by transfinite recursion thus:
\[ V_\alpha = \bigcup_{\beta < \alpha} \mathcal{P} V_\beta \]
\end{df}

\begin{prop}
For all $\alpha \in \mathbf{On}$, $V_\alpha$ is a transitive set.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha \in \mathbf{On}$}}
\step{2}{\assume{as transfinite induction hypothesis $\forall \beta < \alpha. V_\beta$ is a transitive set.}}
\step{3}{For all $\beta < \alpha$, $\mathcal{P} V_\beta$ is a transitive set.}
\begin{proof}
	\pf\ Proposition \ref{prop:powtransitive}.
\end{proof}
\step{4}{$V_\alpha$ is a transitive set.}
\begin{proof}
	\pf\ Proposition \ref{prop:uniontransitive}.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:Vmono}
For any ordinals $\alpha$ and $\beta$, if $\beta < \alpha$ then $V_\beta \subseteq V_\alpha$.
\end{prop}

\begin{proof}
\pf\ Since $V_\beta \in \mathcal{P} V_\beta \subseteq V_\alpha$ and $V_\alpha$ is a transitive set. \qed
\end{proof}

\begin{thm}$ $
\begin{enumerate}
\item $V_0 = \emptyset$
\item $\forall \alpha \in \mathbf{On}. V_{\alpha^+} = \mathcal{P} V_\alpha$
\item For any limit ordinal $\lambda$, $V_\lambda = \bigcup_{\alpha < \lambda} V_\alpha$.
\end{enumerate}
\end{thm}

\begin{proof}
\pf
\step{1}{$V_0 = \emptyset$}
\begin{proof}
	\pf\ Immediate from definition.
\end{proof}
\step{2}{$\forall \alpha \in \mathbf{On}. V_{\alpha^+} = \mathcal{P} V_\alpha$}
\begin{proof}
	\pf
	\step{a}{\pflet{$\alpha \in \mathbf{On}$}}
	\step{b}{For all $\beta < \alpha$ we have $\mathcal{P} V_\beta \subseteq \mathcal{P} V_\alpha$}
	\begin{proof}
		\pf\ Propositions \ref{prop:powermono} and \ref{prop:Vmono}.
	\end{proof}
	\step{c}{$V_{\alpha^+} = \mathcal{P} V_\alpha$}
	\begin{proof}
	\begin{align*}
		V_{\alpha^+} & = \bigcup_{\beta < \alpha^+} \mathcal{P} V_\beta \\
		& = \bigcup_{\beta < \alpha} \mathcal{P} V_\beta \cup \mathcal{P} V_\alpha \\
		& \mathcal{P} V_\alpha & \qed
	\end{align*}
	\end{proof}
\end{proof}
\step{3}{For any limit ordinal $\lambda$, $V_\lambda = \bigcup_{\alpha < \lambda} V_\alpha$}
\begin{proof}
	\pf
	\step{a}{$V_\lambda \subseteq \bigcup_{\alpha < \lambda} V_\alpha$}
	\begin{proof}
	\pf
	\begin{align*}
		V_\lambda & = \bigcup_{\alpha < \lambda} \mathcal{P} V_\alpha \\
		& = \bigcup_{\alpha < \lambda} V_{\alpha^+} & (\text{\stepref{2}}) \\
		& \subseteq \bigcup_{\alpha < \lambda} V_\alpha
	\end{align*}
	\end{proof}
	\step{b}{$\bigcup_{\alpha < \lambda} V_\alpha \subseteq V_\lambda$}
	\begin{proof}
		\pf\ Proposition \ref{prop:Vmono}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
For every set $A$, there exists an ordinal $\alpha$ such that $A \in V_\alpha$.
\end{prop}

\begin{proof}
\pf
\step{1}{Let us say a set $A$ is \emph{grounded} iff there exists an ordinal $\alpha$ such that $A \in V_\alpha$.}
\step{2}{For any set $A$, if every element of $A$ is grounded, then $A$ is grounded.}
\begin{proof}
	\step{a}{\pflet{$A$ be a set.}}
	\step{b}{$S = \{ \alpha \mid \exists a \in A. \alpha \text{ is the least ordinal such that } a \in V_\alpha \}$}
	\begin{proof}
		\pf\ $S$ is a set by an Axiom of Replacement.
	\end{proof}
	\step{c}{\pflet{$\beta = \sup S$}}
	\step{d}{$A \subseteq V_\beta$}
	\begin{proof}
		\step{i}{\pflet{$a \in A$}}
		\step{ii}{\pflet{$\alpha$ be the least ordinal such that $a \in V_\beta$}}
		\step{iii}{$\alpha \in S$}
		\step{iv}{$\alpha \leq \beta$}
		\step{v}{$a \in V_\beta$}
	\end{proof}
	\step{e}{$A \in V_{\beta^+}$}
\end{proof}
\step{1}{\assume{for a contradiction there exists an ungrounded set.}}
\step{3}{\pick\ a transitive set $B$ that has an ungrounded member.}
\begin{proof}
	\pf\ Pick a transitive set $c$, and take $B$ to be the transitive closure of $\{c\}$.
\end{proof}
\step{4}{\pflet{$A = \{ x \in B \mid x \text{ is ungrounded} \}$}}
\step{5}{\pick\ $m \in A$ such that $m \cap A = \emptyset$}
\begin{proof}
	\pf\ Axiom of Regularity.
\end{proof}
\step{6}{Every member of $m$ is grounded.}
\begin{proof}
	\step{a}{\assume{for a contradiction $x \in m$ is ungrounded.}}
	\step{b}{$x \in B$}
	\begin{proof}
		\pf\ Since $B$ is transitive (\stepref{3}).
	\end{proof}
	\step{c}{$x \in A$}
	\begin{proof}
		\pf\ \stepref{4}	
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ This contradicts \stepref{5}.
	\end{proof}
\end{proof}
\step{7}{$m$ is grounded.}
\begin{proof}
	\pf\ \stepref{2}
\end{proof}
\qedstep
\begin{proof}
	\pf\ This contradicts \stepref{5}.
\end{proof}
\qed
\end{proof}

\begin{df}[Rank]
The \emph{rank} of a set $A$ is the least ordinal $\alpha$ such that $A \in V_{\alpha^+}$.
\end{df}

\begin{prop}
\label{prop:allgrounded}
For any set $A$ we have
\[ \rank A = \bigcup_{a \in A} (\rank a)^+ \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha = \bigcup_{a \in A} (\rank a)^+$}}
\step{2}{$A \subseteq V_\alpha$}
\begin{proof}
	\step{a}{\pflet{$a \in A$}}
	\step{b}{$a \in V_{(\rank a)^+}$}
	\step{c}{$a \in V_\alpha$}
\end{proof}
\step{3}{$A \in V_{\alpha^+}$}
\step{4}{If $A \subseteq V_\beta$ then $\alpha \leq \beta$}
\begin{proof}
	\step{a}{\assume{$A \subseteq V_\beta$}}
	\step{b}{For all $a \in A$ we have $(\rank a)^+ \leq \beta$}
	\begin{proof}
		\pf\ Since $a \in V_\beta$.
	\end{proof}
	\step{c}{$\alpha \leq \beta$}
\end{proof}
\qed
\end{proof}

\begin{cor}
For any sets $a$ and $b$, if $a \in b$ then $\rank a < \rank b$.
\end{cor}

\begin{prop}
For any ordinal number $\alpha$ we have $\rank \alpha = \alpha$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha$ be an ordinal.}}
\step{2}{\assume{as transfinite induction hypothesis $\forall \beta < \alpha. \rank \beta = \beta$}}
\step{3}{$\rank \alpha = \bigcup_{\beta < \alpha} \beta^+$}
\begin{proof}
	\pf
	\begin{align*}
		\rank \alpha & = \bigcup_{\beta < \alpha} (\rank \beta)^+ \\
		& = \bigcup_{\beta < \alpha} \beta^+
	\end{align*}
\end{proof}
\step{4}{$\bigcup_{\beta < \alpha} \beta^+ \leq \alpha$}
\begin{proof}
	\pf\ Since for all $\beta < \alpha$ we have $\beta^+ \leq \alpha$.
\end{proof}
\step{5}{$\alpha \leq \bigcup_{\beta < \alpha} \beta^+$}
\begin{proof}
	\step{a}{\pflet{$\gamma = \bigcup_{\beta < \alpha} \beta^+$}}
	\step{b}{\assume{for a contradiction $\gamma < \alpha$}}
	\step{c}{$\gamma^+ \leq \bigcup_{\beta < \alpha} \beta^+ = \gamma$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Hereditarily Finite]
A set is \emph{hereditarily finite} iff it is in $V_\omega$.
\end{df}

\chapter{Models of Set Theory}

\begin{df}[Relativization]
Let $\sigma$ be a sentence in the language of set theory and $\mathbf{M}$ a class. The \emph{relativization} of $\sigma$ to $\mathbf{M}$ is the sentence $\sigma^\mathbf{M}$ formed by replacing every quantifier $\forall x$ with $\forall x \in \mathbf{M}$, and $\exists x$ with $\exists x \in \mathbf{M}$.

We write '$\mathbf{M}$ is a model of $\sigma$' for the sentence $\sigma^\mathbf{M}$.
\end{df}

\begin{thms}
\label{thm:modelExtensionality}
For any class $\mathbf{M}$, the following is a theorem:

If $\mathbf{M}$ is a transitive class, then $\mathbf{M}$ is a model of the Axiom of Extensionality.
\end{thms}

\begin{proof}
\pf
\step{1}{\assume{$\mathbf{M}$ is a transitive class.} \prove{$\forall x,y \in \mathbf{M} (\forall z \in \mathbf{M} (z \in x \Leftrightarrow z \in y) \Rightarrow x = y)$}}
\step{2}{\pflet{$x,y \in \mathbf{M}$}}
\step{3}{\assume{$\forall z \in \mathbf{M} (z \in x \Leftrightarrow z \in y)$}}
\step{4}{$\forall z (z \in x \Leftrightarrow z \in y)$}
\begin{proof}
	\pf\ Since $z \in x \Rightarrow z \in \mathbf{M}$ and $z \in y \Rightarrow z \in \mathbf{M}$ by \stepref{1}.
\end{proof}
\step{5}{$x = y$}
\qed
\end{proof}

\begin{thm}
\label{thm:modelEmptySet}
If $\alpha$ is a non-zero ordinal then $V_\alpha$ is a model of the statement: The empty class is a set.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha \neq 0$} \prove{$\exists x \in V_\alpha. \forall y \in V_\alpha. y \notin x$}}
\step{2}{$\emptyset \in V_\alpha$}
\step{3}{$\forall y \in V_\alpha. y \notin \emptyset$}
\qed
\end{proof}

\begin{thm}
\label{thm:modelPairing}
For any limit ordinal $\lambda$, we have $V_\lambda$ is a model of the statement: for any sets $a$ and $b$, the class $\{ a,b \}$ is a set.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\lambda$ be a limit ordinal.} \prove{$\forall a,b \in V_\lambda. \exists c \in V_\lambda. \forall x \in V_\lambda (x \in c \Leftrightarrow x = a \vee x = b)$}}
\step{2}{\pflet{$a,b \in V_\lambda$}}
\step{3}{\pick\ $\alpha, \beta < \lambda$ such that $a \in V_\alpha$ and $b \in V_\beta$}
\step{4}{\assume{w.l.o.g. $\alpha \leq \beta$}}
\step{5}{$a,b \in V_\beta$}
\step{6}{$\{a,b\} \in V_{\beta + 1}$}
\step{7}{$\{a,b\} \in V_\lambda$}
\step{8}{$\forall x \in V_\lambda (x \in \{a,b\} \Leftrightarrow x = a \vee x = b)$}
\qed
\end{proof}

\begin{thm}
\label{thm:modelUnion}
For any ordinal $\alpha$, we have $V_\alpha$ is a model of the Union Axiom.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha$ be an ordinal.} \prove{$\forall a \in V_\alpha. \exists b \in V_\alpha. \forall x \in V_\alpha (x \in b \Leftrightarrow \exists y \in V_\alpha (x \in y \wedge y \in a))$}}
\step{2}{\pflet{$a \in V_\alpha$}}
\step{3}{\pick\ $\beta < \alpha$ such that $a \subseteq V_\beta$}
\step{4}{$\bigcup a \subseteq V_\beta$}
\begin{proof}
	\pf\ $V_\beta$ is a transitive set.
\end{proof}
\step{5}{$\bigcup a \in V_\alpha$}
\step{6}{$\forall x \in V_\alpha (x \in \bigcup a \Leftrightarrow \exists y \in V_\alpha ( x \in y \wedge y \in a))$}
\begin{proof}
	\pf\ $V_\alpha$ is a transitive set.
\end{proof}
\qed 
\end{proof}

\begin{thm}
\label{thm:modelPowerSet}
For any limit ordinal $\lambda$, we have $V_\lambda$ is a model of the Power Set Axiom.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\lambda$ be a limit ordinal.} \prove{$\forall a \in V_\lambda. \exists b \in V_\lambda. \forall x \in V_\lambda (x \in b \Leftrightarrow \forall y \in V_\lambda (y \in x \Rightarrow y \in a))$}}
\step{2}{\pflet{$a \in V_\lambda$}}
\step{3}{\pick\ $\alpha < \lambda$ such that $a \in V_\alpha$}
\step{4}{$\mathcal{P} a \in V_{\alpha + 1}$}
\step{5}{$\mathcal{P} a \in V_\lambda$}
\step{6}{$\forall x \in V_\lambda (x \in \mathcal{P} a \Leftrightarrow \forall y \in V_\lambda (y \in x \Rightarrow y \in a))$}
\qed
\end{proof}

\begin{thms}
\label{thm:modelComprehension}
For any property $P[x,y_1, \ldots, y_n]$, the following is a theorem:

For any ordinal $\alpha$, the set $V_\alpha$ is a model of the statement: for any sets $a_1$, \ldots, $a_n$, $B$, the class $\{ x \in B \mid P[x,a_1, \ldots, a_n] \}$ is a set.
\end{thms}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha$ be an ordinal.}}
\step{2}{\pflet{$a_1, \ldots, a_n, B \in V_\alpha$}}
\step{3}{\pflet{$C = \{ x \in B \mid P[x,a_1, \ldots, a_n]^{V_\alpha} \}$}}
\step{4}{$C \in V_\alpha$}
\step{5}{$\forall x \in V_\alpha (x \in C \Leftrightarrow x \in B \wedge P[x, a_1, \ldots, a_n]^{V_\alpha})$}
\qed
\end{proof}

\begin{thm}
\label{thm:modelInfinity}
For any ordinal $\alpha > \omega$, we have: $V_\alpha$ is a model of the Axiom of Infinity.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha > \omega$}}
\step{2}{$\mathbb{N} \in V_\alpha$}
\step{3}{$\exists e \in V_\alpha (e \in \mathbb{N} \wedge \forall x \in V_\alpha. x \notin e)$}
\step{4}{$\forall x \in V_\alpha (x \in \mathbb{N} \Rightarrow \exists y \in V_\alpha \forall z \in V_\alpha (z \in y \Leftrightarrow z \in x \vee z = x))$}
\qed
\end{proof}

\begin{thm}
\label{thm:modelChoice}
For any ordinal $\alpha$, we have $V_\alpha$ is a model of the Axiom of Choice.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha$ be an ordinal.}}
\step{2}{\pflet{$A \in V_\alpha$}}
\step{3}{\assume{$\forall x \in V_\alpha (x \in A \Rightarrow \exists y \in V_\alpha. y \in A)$}}
\step{4}{\assume{$\forall x,y,z \in V_\alpha (x \in A \wedge y \in A \wedge z \in x \wedge z \in y \Rightarrow x = y)$}}
\step{5}{$A$ is a set of pairwise disjoint nonempty sets.}
\step{6}{\pick\ $c$ such that, for all $x \in A$, $x \cap c = \emptyset$}
\step{7}{$c \cap \bigcup A \in V_\alpha$}
\step{8}{$\forall x \in V_\alpha (x \in A \Rightarrow \exists y \in V_\alpha \forall z \in V_\alpha (z \in x \wedge z \in c \cap \bigcup A \Leftrightarrow z = y))$}
\qed
\end{proof}

\begin{thm}
\label{thm:modelRegularity}
For any ordinal $\alpha$, we have $V_\alpha$ is a model of the Axiom of Regularity.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha$ be an ordinal.}}
\step{2}{\pflet{$A \in V_\alpha$}}
\step{3}{\assume{$\exists x \in V_\alpha. x \in A$}}
\step{4}{\pick\ $m \in A$ of least rank.}
\step{5}{$m \in V_\alpha$}
\step{6}{$\neg \exists x \in V_\alpha (x \in m \wedge x \in A)$}
\qed
\end{proof}

\begin{thms}
For any axiom $\alpha$ of Zermelo set theory, the following is a theorem:

For any limit ordinal $\lambda > \omega$, we have $V_\lambda$ is a model of $\alpha$.
\end{thms}

\begin{proof}
\pf\ Theorems \ref{thm:modelExtensionality}, \ref{thm:modelEmptySet}, \ref{thm:modelPairing}, \ref{thm:modelUnion}, \ref{thm:modelPowerSet}, \ref{thm:modelComprehension}, \ref{thm:modelInfinity}, \ref{thm:modelChoice}, \ref{thm:modelRegularity}. \qed
\end{proof}

\begin{cors}
\label{cor:modelZermelo}
for any axiom $\alpha$ of Zermelo set theory, the following is a theorem:

$V_{\omega 2}$ is a model of $\alpha$.
\end{cors}

\begin{lm}
There exists a well-ordered structure in $V_{\omega 2}$ whose ordinal is not in $V_{\omega 2}$.
\end{lm}

\begin{proof}
\pf\ Take the well-ordered set $\mathbb{N} \times \{0,1\}$ whose ordinal is $\omega 2$. \qed
\end{proof}

\begin{cors}
There exists an instance $\alpha$ of the Axiom Schema of Replacement such that the following is a theorem:

$V_{\omega 2}$ is not a model of $\alpha$.
\end{cors}

\chapter{Infinite Cardinals}

\section{Arithmetic of Infinite Cardinals}

\begin{prop}
\label{prop:kappasquared}
For any infinite cardinal $\kappa$ we have $\kappa \kappa = \kappa$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pick\ a set $B$ with $|B| = \kappa$}
\step{2}{\pflet{$\mathcal{H} = \{ f \mid f = \emptyset \vee \exists A \subseteq B. (A \text{ is infinite} \wedge f : A \times A \approx A \}$}}
\step{3}{For any chain $\mathcal{C} \subseteq \mathcal{H}$ we have $\bigcup \mathcal{C} \in \mathcal{H}$}
\begin{proof}
	\step{a}{\pflet{$\mathcal{C} \subseteq \mathcal{H}$ be a chain.}}
	\step{b}{\assume{w.l.o.g. $\mathcal{C}$ has a nonempty element.}}
	\step{c}{$\bigcup \mathcal{C}$ is a function.}
	\begin{proof}
		\step{i}{\assume{$(x,y),(x,z) \in \bigcup \mathcal{C}$}}
		\step{ii}{\pick\ $f,g \in \mathcal{C}$ such that $f(x) = y$ and $g(x) = z$}
		\step{iii}{\assume{w.l.o.g. $f \subseteq g$}}
		\step{iv}{$y = z$}
	\end{proof}
	\step{d}{$\bigcup \mathcal{C}$ is injective.}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
	\step{e}{\pflet{$A = \ran \bigcup \mathcal{C}$}}
	\step{f}{$A$ is infinite.}
	\begin{proof}
		\step{i}{\pick\ a nonzero $f \in \mathcal{C}$}
		\step{ii}{\pflet{$A'$ be the infinite subset of $B$ such that $f : A'^2 \approx A'$}}
		\step{iii}{$A' \subseteq A$}
	\end{proof}
	\step{g}{$\dom \bigcup \mathcal{C} = A^2$}
	\begin{proof}
		\step{i}{\pflet{$x,y \in A$}}
		\step{ii}{\pick\ $f,g \in \mathcal{C}$ such that $x \in \ran f$ and $y \in \ran g$}
		\step{iii}{\assume{w.l.o.g. $f \subseteq g$}}
		\step{iv}{\pflet{$A'$ be the infinite subset of $B$ such that $g : A'^2 \approx A'$}}
		\step{v}{$x,y \in A'$}
		\step{vi}{$(x,y) \in \dom g$}
		\step{vii}{$(x,y) \in \dom \bigcup \mathcal{C}$}
	\end{proof}
	\step{h}{$\bigcup \mathcal{C} \in \mathcal{H}$}
\end{proof}
\step{4}{\pick\ a maximal $f_0 \in \mathcal{H}$}
\step{5}{$f_0 \neq \emptyset$}
\begin{proof}
	\step{a}{\pick\ a countably infinite subset $A$ of $B$.}
	\begin{proof}
		\pf\ Proposition \ref{prop:aleph0least}.
	\end{proof}
	\step{b}{\pick\ a bijection $f : A^2 \approx A$}
	\begin{proof}
		\pf\ Proposition \ref{prop:N^2approxN}.
	\end{proof}
	\step{c}{$\emptyset \subseteq f \in \mathcal{H}$}
	\step{d}{$\emptyset$ is not maximal in $\mathcal{H}$}
\end{proof}
\step{6}{\pflet{$A_0$ be the infinite subset of $B$ such that $f_0 : A_0^2 \approx A_0$}}
\step{7}{\pflet{$\lambda = |A_0|$}}
\step{8}{$\lambda$ is infinite.}
\step{9}{$\lambda^2 = \lambda$}
\step{10}{$\lambda = \kappa$}
\begin{proof}
	\step{a}{\assume{for a contradiction $\lambda < \kappa$}}
	\step{b}{$\lambda \leq |B - A_0|$}
	\step{c}{\pick\ a subset $D \subseteq B - A_0$ with $|D| = \lambda$}
	\step{d}{$(A_0 \cup D)^2 = A_0^2 \cup (A_0 \times D) \cup (D \times A_0) \cup D^2$}
	\step{e}{\pflet{$C = (A_0 \times D) \cup (D \times A_0) \cup D^2$}}
	\step{f}{$|C| = \lambda$}
	\begin{proof}
		\pf
		\begin{align*}
			|(A_0 \times D) \cup (D \times A_0) \cup D^2| & = \lambda^2 + \lambda^2 + \lambda^2 \\
			& = \lambda + \lambda + \lambda & (\text{\stepref{9}}) \\
			& = 3 \lambda \\
			& \leq \lambda \cdot \lambda \\
			& = \lambda & (\text{\stepref{9}})
		\end{align*}
	\end{proof}
	\step{g}{\pick\ a bijection $g : C \approx D$}
	\step{h}{$f_0 \cup g : (A_0 \cup D)^2 \approx A_0 \cup D$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the maximality of $f_0$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}[Absorpution Law of Cardinal Arithmetic]
Let $\kappa$ and $\lambda$ be nonzero cardinal numbers such that at least one is infinite. Then
\[ \kappa + \lambda = \kappa \lambda = \max(\kappa, \lambda) \]
\end{thm}

\begin{proof}
\pf
\step{1}{\assume{w.l.o.g. $\lambda \leq \kappa$}}
\step{2}{$\kappa + \lambda = \kappa \lambda = \kappa$}
\begin{proof}
	\pf
	\begin{align*}
		\kappa & \leq \kappa + \lambda \\
		& \leq \kappa + \kappa \\
		& = 2 \kappa \\
		& \leq \kappa \lambda \\
		& \leq \kappa \kappa \\
		& = \kappa & (\text{Proposition \ref{prop:kappasquared}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\section{Alephs}

\begin{df}[Aleph]
Let $\aleph$ be the unique order isomorphism between $\mathbf{On}$ and the class of infinite cardinals.
\end{df}

\begin{prop}
The operation $\aleph$ is normal.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:enumerationnormal} and Lemma \ref{lm:supcard}. \qed
\end{proof}

\begin{df}[Continuum Hypothesis]
The \emph{continuum hypothesis} is the statement that $\aleph_1 = 2^{\aleph_0}$.
\end{df}

\begin{df}[Generalised Continuum Hypothesis]
The \emph{generalised continuum hypothesis} is the statement that, for all $\alpha$, $\aleph_{\alpha^+} = 2^{\aleph_\alpha}$.
\end{df}

\section{Beths}

\begin{df}[Beth]
Define the operation $\beth : \mathbf{On} \rightarrow \mathbf{Card}$ by transfinite recursion as follows:
\begin{align*}
\beth_0 & := \aleph_0 \\
\beth_{\alpha^+} & := 2^{\beth_\alpha} \\
\beth_\lambda & := \bigcup_{\alpha < \lambda} \beth_\alpha & (\lambda \text{ a limit ordinal})
\end{align*}
\end{df}

\begin{prop}
$\beth$ is a normal operation.
\end{prop}

\begin{proof}
\pf\ It is continuous by definition, and $\beth_\alpha < \beth_{\alpha^+}$ by Cantor's Theorem. \qed
\end{proof}

\begin{prop}
The continuum hypothesis is equivalent to the statement $\beth_1 = \aleph_1$.

The generalised continuum hypothesis is equivalent to the statement $\beth = \alpha$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{lm}
For any ordinal number $\alpha$, we have $|V_{\omega + \alpha}| = \beth_\alpha$.
\end{lm}

\begin{proof}
\pf
\step{1}{$|V_\omega| = \beth_0$}
\begin{proof}
	\pf\ Since $V_\omega$ is the union of $\aleph_0$ finite sets of increasing size.
\end{proof}
\step{2}{For any ordinal $\alpha$, if $|V_{\omega + \alpha}| = \beth_\alpha$ then $|V_{\omega + \alpha + 1}| = \beth_{\alpha + 1}$}
\begin{proof}
	\pf\ Since $V_{\omega + \alpha + 1} = \mathcal{P} V_{\omega + \alpha}$.
\end{proof}
\step{3}{For any limit ordinal $\lambda$, if $\forall \alpha < \lambda. |V_{\omega + \alpha}| = \beth_\alpha$ then $|V_{\omega + \lambda}| = \beth_\lambda$.}
\begin{proof}
	\pf
	\begin{align*}
		|V_{\omega + \lambda}| & = \left| \bigcup_{\alpha < \lambda} V_{\omega + \alpha} \right| \\
		& = \sup_{\alpha < \lambda} |V_{\omega + \alpha}| \\
		& = \sup_{\alpha < \lambda} \beth_\alpha \\
		& = \beth_\lambda
	\end{align*}
\end{proof}
\qed
\end{proof}

\section{Cofinality}

\begin{df}[Cofinal]
Let $\lambda$ be a limit ordinal and $S$ a set of ordinals smaller than $\lambda$. Then $S$ is \emph{cofinal} in $\lambda$ if and only if $\lambda = \sup S$.
\end{df}

\begin{df}[Cofinality]
For any ordinal $\alpha$, define the \emph{cofinality} of $\alpha$, $\cf \alpha$, as follows:
\begin{itemize}
\item $\cf 0 = 0$
\item For any ordinal $\alpha$, $\cf \alpha^+ = 1$
\item For any limit ordinal $\lambda$, $\cf \lambda$ is the smallest cardinal such that there exists a set $S$ of ordinals cofinal in $\lambda$ with $|S| = \cf \lambda$.
\end{itemize}
\end{df}

\begin{df}[Regular]
A cardinal $\kappa$ is \emph{regular} iff $\cf \kappa = \kappa$; otherwise it is \emph{singular}.
\end{df}

\begin{prop}
$\aleph_0$ is regular.
\end{prop}

\begin{proof}
\pf\ $\aleph_0$ is not the supremum of $< \aleph_0$ smaller ordinals, because a finite union of finite ordinals is finite. \qed
\end{proof}

\begin{prop}
For every ordinal $\alpha$, $\aleph_{\alpha + 1}$ is regular.
\end{prop}

\begin{proof}
\pf\ If $S$ is a set of ordinals with $|S| < \aleph_{\alpha + 1}$ and $\forall \beta \in S. \beta < \aleph_{\alpha + 1}$, then we have $|S| \leq \aleph_\alpha$ and $\forall \beta \in S. \beta \leq \aleph_\alpha$, hence
\begin{align*}
\left|\bigcup S\right| & \leq \aleph_{\alpha}^2 & (\text{Proposition \ref{prop:unioncard}}) \\
& = \aleph_{\alpha} & (\text{Proposition \ref{prop:kappasquared}}) \qed
\end{align*}
\end{proof}

\begin{props}
For any class $\mathbf{T}$, the following is a theorem.

Assume $\mathbf{T} : \mathbf{On} \rightarrow \mathbf{On}$ is a normal operation.
For any limit ordinal $\lambda$ we have $\cf \mathbf{T}(\lambda) = \cf \lambda$.
\end{props}

\begin{proof}
\pf
\step{1}{$\cf \mathbf{T}(\lambda) \leq \cf \lambda$}
\begin{proof}
	\step{a}{\pick\ a set $S$ of ordinals $< \lambda$ with $|S| = \cf \lambda$ and $\sup S = \lambda$}
	\step{b}{$\mathbf{T}(\lambda) = \sup_{\alpha \in S} \mathbf{T}(\alpha)$}
	\begin{proof}
		\pf\ Theorem \ref{thm:normalsup}.
	\end{proof}
\end{proof}
\step{2}{$\cf \lambda \leq \cf \mathbf{T}(\lambda)$}
\begin{proof}
	\step{a}{\pick\ a set $A$ of ordinals $< \mathbf{T}(\lambda)$ such that $|A| = \cf \mathbf{T}(\lambda)$ and $\sup A = \mathbf{T}(\lambda)$}
	\step{b}{\pflet{$B = \{ \gamma < \lambda \mid \exists \alpha \in A. |\alpha| = \mathbf{T}(\gamma) \}$}}
	\step{c}{$|B| \leq |A| = \cf \mathbf{T}(\lambda)$ \prove{$\sup B = \lambda$}}
	\step{d}{$\forall \alpha \in A. |\alpha| \leq \mathbf{T}(\sup B)$}
	\step{e}{$\forall \alpha \in A. \alpha < \mathbf{T}(\sup B + 1)$}
	\step{f}{$\aleph_\lambda = \sup A \leq \mathbf{T}(\sup B + 1)$}
	\step{g}{$\lambda \leq \sup B + 1$}
	\step{h}{$\lambda \leq \sup B$}
	\begin{proof}
		\pf\ $\lambda$ is a limit ordinal.
	\end{proof}
	\step{i}{$\sup B = \lambda$}
\end{proof}
\qed
\end{proof}

\begin{cor}
$\aleph_\omega$ is singular.
\end{cor}

\begin{proof}
\pf\ $\cf \aleph_\omega = \cf \aleph_0 = \aleph_0$. \qed
\end{proof}

\begin{df}[Weakly Inaccessible]
A cardinal is \emph{weakly inaccessible} iff it is $\aleph_\lambda$ for some limit ordinal $\lambda$ and regular.
\end{df}

\begin{lm}
Let $\lambda$ be a limit ordinal. Then there exists a strictly increasing $\cf \lambda$-sequence that converges to $\lambda$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pick\ a set $S$ of ordinals $< \lambda$ with $|S| = \cf \lambda$ and $\sup S = \lambda$}
\step{2}{\pick\ a bijection $a : \cf \lambda \approx S$}
\step{3}{\pick\ a strictly increasing subsequence $(b_\delta)_{\delta < \beta}$ of $a$ that converges to $\lambda$.}
\begin{proof}
	\pf\ Lemma \ref{lm:convergentsubsequence}.
\end{proof}
\step{4}{$\beta = \cf \lambda$}
\begin{proof}
	\pf\ By minimiality of $\cf \lambda$.
\end{proof}
\qed
\end{proof}

\begin{cor}
Let $\lambda$ be a limit ordinal. Then $\cf \lambda$ is the least ordinal such that there exists a strictly increasing $\cf \lambda$-sequence that converges to $\lambda$.
\end{cor}

\begin{prop}
For any ordinal $\lambda$, $\cf \lambda$ is a regular cardinal.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\lambda$ be an ordinal.}}
\step{2}{\assume{w.l.o.g. $\lambda$ is a limit ordinal.}}
\step{3}{\pick\ a strictly increasing sequence $(a_\alpha)_{\alpha < \cf \lambda}$ that converges to $\lambda$.}
\step{4}{\pflet{$S$ be a set of ordinals $< \cf \lambda$ such that $|S| = \cf \cf \lambda$ and $\sup S = \cf \lambda$.}}
\step{5}{\pflet{$a(S) = \{ a_\alpha \mid \alpha \in S \}$}}
\step{6}{$a(S)$ is cofinal in $\lambda$.}
\begin{proof}
	\step{a}{\pflet{$\beta < \lambda$}}
	\step{b}{\pick\ $\gamma < \cf \lambda$ such that $\beta < a_\gamma$}
	\step{c}{\pick\ $\delta \in S$ such that $\gamma < \delta$}
	\step{d}{$a_\delta \in a(S)$ and $\beta < a_\gamma < a_\delta$}
\end{proof}
\step{7}{$\cf \lambda \leq \cf \cf \lambda$}
\begin{proof}
	\pf\ Since $a(S)$ is a set of ordinals $< \lambda$ with $|a(S)| = \cf \cf \lambda$ and $\sup a(S) = \lambda$.
\end{proof}
\step{8}{$\cf \cf \lambda = \cf \lambda$}
\qed
\end{proof}

\begin{thm}
\label{thm:cfpartition}
Let $\lambda$ be an infinite cardinal. Then $\cf \lambda$ is the least cardinal such that $\lambda$ can be partitioned into $\cf \lambda$ sets, each of cardinality $< \lambda$.
\end{thm}

\begin{proof}
\pf
\step{1}{$\lambda$ can be partitioned into $\cf \lambda$ sets, each of cardinality $< \lambda$}
\begin{proof}
	\step{a}{\pick\ a strictly increasing sequence of ordinlas $(a_\alpha)_{\alpha < \cf \lambda}$ that converges to $\lambda$}
	\step{b}{$\{ \{ \beta \mid a_\alpha \leq \beta < a_{\alpha + 1} \} \mid \alpha < \cf \lambda \}$ is a partition of $\lambda$ into $\cf \lambda$ sets, each of cardinality $< \lambda$}
\end{proof}
\step{2}{If $\lambda$ can be partitioned into $\kappa$ sets, each of cardinality $< \lambda$, then $\cf \lambda \leq \kappa$.}
\begin{proof}
	\step{a}{\pflet{$\mathcal{A}$ be a partition of $\lambda$ into sets of cardinality $< \lambda$}}
	\step{b}{\pflet{$\kappa = |P|$}}
	\step{c}{\pick\ a bijection $A : \kappa \approx P$}
	\step{d}{$\lambda = \bigcup_{\xi < \kappa} A(\xi)$}
	\step{e}{For all $\xi < \kappa$ we have $|A(\xi)| < \lambda$}
	\step{f}{\pflet{$\mu = \sup_{\xi < \kappa} |A(\xi)|$}}
	\step{ff}{$\mu \leq \lambda$}
	\step{g}{For all $\xi < \kappa$ we have $|A(\xi)| \leq \mu$}
	\step{h}{$\lambda \leq \mu \kappa$}
	\begin{proof}
		\pf\ Proposition \ref{prop:unioncard}.
	\end{proof}
	\step{i}{\assume{w.l.o.g. $\kappa < \lambda$}}
	\begin{proof}
		\pf\ If $\lambda \leq \kappa$ then $\cf \lambda \leq \kappa$ since $\cf \lambda \leq \lambda$.
	\end{proof}
	\step{j}{$\lambda = \mu$}
	\begin{proof}
		\pf
		\begin{align*}
			\lambda & \leq \mu \kappa & (\text{\stepref{h}}) \\
			& \leq \lambda \lambda & (\text{\stepref{ff}, \stepref{i}}) \\
			& = \lambda & (\text{Proposition \ref{prop:kappasquared}})
		\end{align*}
	\end{proof}
	\step{k}{$\{ |A(\xi)| \mid \xi < \kappa \}$ is a set of $\leq \kappa$ ordinals all $< \lambda$ whose supremum is $\lambda$}
	\step{l}{$\cf \lambda \leq \kappa$}
\end{proof}
\qed
\end{proof}

\begin{thm}[K\"{o}nig]
For any infinite cardinal $\kappa$ we have $\kappa < \cf 2^\kappa$.
\end{thm}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $\cf 2^\kappa \leq \kappa$}}
\step{2}{\pflet{$S = 2^\kappa$}}
\step{3}{\pick\ a partition $\{A_\xi \mid \xi < \kappa \}$ of $S^\kappa$ with $\forall \xi < \kappa. |A_\xi| < 2^\kappa$.}
\begin{proof}
	\pf\ Theorem \ref{thm:cfpartition}.
\end{proof}
\step{4}{$\forall \xi < \kappa. \{ g(\xi) \mid g \in A_\xi \} \subsetneq S$}
\begin{proof}
	\pf\ We do not have equality because $|\{ g(\xi) \mid g \in A_\xi \}| \leq |A_\xi| < 2^\kappa$.
\end{proof}
\step{5}{For all $\xi < \kappa$, choose $s_\xi \in S - \{ g(\xi) \mid g \in A_\xi \}$}
\step{6}{$s \in S^\kappa$}
\step{7}{For all $\xi < \kappa$ we have $s \notin A_\xi$}
\begin{proof}
	\pf\ Since for all $\xi < \kappa$ and $g \in A_\xi$ we have $s_\xi(\xi) \neq g(\xi)$.
\end{proof}
\qedstep
\begin{proof}
	\pf\ This contradicts \stepref{3}.
\end{proof}
\qed
\end{proof}

\begin{cor}
\[ 2^{\aleph_0} \neq \aleph_\omega \]
\end{cor}

\begin{prop}
For any ordinal $\alpha$, we have $\cf \alpha$ is the least cardinal such that $\alpha$ is the strict supremum of $\cf \alpha$ smaller ordinals.
\end{prop}

\begin{proof}
\pf
\step{1}{\case{$\alpha = 0$}}
\begin{proof}
	\pf\ Since $0 = \ssup \emptyset$.
\end{proof}
\step{2}{\case{$\alpha = \beta^+$}}
\begin{proof}
	\pf\ Since $\beta^+ = \ssup \{ \beta \}$.
\end{proof}
\step{3}{\case{$\alpha$ is a limit ordinal.}}
\begin{proof}
	\step{a}{There exists a set $S$ of ordinals $< \alpha$ such that $|S| = \cf \alpha$ and $\alpha = \ssup S$.}
	\begin{proof}
		\step{a}{\pick\ a set $S$ of ordinals $< \alpha$ such that $|S| = \cf \alpha$ and $\sup S = \alpha$ \prove{$\alpha = \ssup S$}}
		\step{b}{$\forall \beta \in S. \beta < \alpha$}
		\step{c}{For any ordinal $\gamma$, if $\forall \beta \in S. \beta < \gamma$ then $\alpha \leq \gamma$}
	\end{proof}
	\step{c}{If $T$ is a set of ordinals $< \alpha$ such that $\alpha = \ssup T$, then $\cf \alpha \leq |T|$.}
	\begin{proof}
		\step{i}{\pflet{$T$ be a set of ordinals $< \alpha$ such that $\alpha = \ssup T$}}
		\step{ii}{$\alpha = \sup T$}
		\begin{proof}
			\step{one}{For all $\beta \in T$ we have $\beta \leq \alpha$}
			\step{two}{\pflet{$\mu$ be any upper bound for $T$} \prove{$\alpha \leq \mu$}}
			\step{three}{$\alpha \leq \mu + 1$}
			\begin{proof}
				\pf\ Since $\forall \beta \in T. \beta < \mu + 1$.
			\end{proof}
			\step{four}{$\alpha \neq \mu + 1$}
			\begin{proof}
				\pf\ Since $\alpha$ is a limit ordinal.
			\end{proof}
			\step{five}{$\alpha < \mu + 1$}
			\step{six}{$\alpha \leq \mu$}
		\end{proof}
		\step{iii}{$\cf \alpha \leq |T|$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Inaccessible Cardinals}

\begin{df}[Inaccessible Cardinal]
A cardinal number $\kappa$ is \emph{inaccessible} iff:
\begin{itemize}
\item $\kappa > \aleph_0$
\item $\forall \lambda < \kappa. 2^\lambda < \kappa$ (cardinal exponentiation)
\item $\kappa$ is regular.
\end{itemize}
\end{df}

\begin{proof}
Any inaccessible cardinal is weakly inaccessible.
\end{proof}

\begin{proof}
\pf
\step{1}{\pflet{$\kappa = \aleph_\lambda$ be weakly inaccessible.} \prove{$\lambda$ is a limit ordinal.}}
\step{2}{$\lambda \neq 0$}
\step{3}{\assume{for a contradiction $\lambda = \beta + 1$}}
\step{4}{$\aleph_\beta < \kappa$}
\step{5}{$2^{\aleph_\beta} < \kappa$}
\step{6}{$\aleph_{\beta + 1} < \kappa$}
\begin{proof}
	\pf\ Since $\aleph_{\beta + 1} \leq 2^{\aleph_\beta}$.
\end{proof}
\qedstep
\begin{proof}
\pf\ This contradicts \stepref{3}.
\end{proof}
\qed
\end{proof}

\begin{prop}
If the Generalized Continuum Hypothesis is true, then every weakly inaccessible cardinal is inaccessible.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{The Generalized Continuum Hypothesis.}}
\step{2}{\pflet{$\kappa = \aleph_\lambda$ be weakly inaccessible.}}
\step{3}{$\kappa > \aleph_0$}
\begin{proof}
	\pf\ $\lambda > 0$ because $\lambda$ is a limit ordinal.
\end{proof}
\step{4}{For all $\mu < \kappa$ we have $2^\mu < \kappa$}
\begin{proof}
	\step{a}{\pflet{$\mu < \kappa$}}
	\step{b}{\pflet{$\mu = \aleph_\alpha$}}
	\step{c}{$\alpha < \lambda$}
	\step{d}{$\alpha + 1 < \lambda$}
	\begin{proof}
		\pf\ $\lambda$ is a limit ordinal.
	\end{proof}
	\step{e}{$2^\mu < \kappa$}
	\begin{proof}
		\pf
		\begin{align*}
			2^\mu & = 2^{\aleph_\alpha} & (\text{\stepref{b}})  \\
			& = 2^{\beth_\alpha} & (\text{\stepref{1}}) \\
			& = \beth_{\alpha + 1} \\
			& = \aleph_{\alpha + 1} & (\text{\stepref{1}}) \\
			& < \aleph_\lambda & (\text{\stepref{d}}) \\
			& = \kappa & (\text{\stepref{2}})
		\end{align*}
	\end{proof}
\end{proof}
\step{5}{$\kappa$ is regular.}
\begin{proof}
	\pf\ \stepref{2}
\end{proof}
\qed
\end{proof}

%TODO: If ZFC is consistent then it cannot prove that weakly inaccessible cardinals exist

\begin{lm}
Let $\kappa$ be an inaccessible cardinal. For every ordinal $\alpha < \kappa$ we have $\beth_\alpha < \kappa$.
\end{lm}

\begin{proof}
\pf
\step{1}{$\beth_0 < \kappa$}
\begin{proof}
	\pf\ Since $\kappa > \aleph_0$.
\end{proof}
\step{2}{For any ordinal $\alpha$, if $\beth_\alpha < \kappa$ then $\beth_{\alpha + 1} < \kappa$.}
\begin{proof}
	\pf\ Since $\beth_{\alpha + 1} = 2^{\beth_\alpha} < \kappa$.
\end{proof}
\step{3}{For any limit ordinal $\lambda$, if $\forall \alpha < \lambda. \beth_\alpha < \kappa$ and $\lambda < \kappa$ then $\beth_\lambda < \kappa$.}
\begin{proof}
	\pf\ By regularity of $\kappa$, since $\beth_\lambda$ is the union of $|\lambda|$ cardinals all $< \kappa$.
\end{proof}
\qed
\end{proof}

\begin{lm}
Let $\kappa$ be an inaccessible cardinal. For all $A \in V_\kappa$ we have $|A| < \kappa$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pflet{$A \in V_\kappa$}}
\step{2}{\pick\ $\alpha < \kappa$ such that $A \in V_\alpha$}
\step{3}{$A \subseteq V_\alpha$}
\step{4}{$|A| \leq |V_\alpha| \leq \beth_\alpha < \kappa$}
\qed
\end{proof}

\begin{thms}
For every axiom $\alpha$ of ZFC, the following is a theorem:

For any inaccessible cardinal $\kappa$, we have $V_\kappa$ is a model of $\alpha$.
\end{thms}

\begin{proof}
\pf\ For every axiom except the Replacement Axioms, we have Corollary \ref{cor:modelZermelo}.

For an Axiom of Replacement using the property $P[x,y,z_1, \ldots, z_n]$, we reason as follows:

\step{1}{\pflet{$\kappa$ be an inaccessible cardinal}
\prove{\[ \forall a_1, \ldots, a_n, B \in V_\kappa (\forall x \in B. \forall y,y' \in V_\kappa \]
\[ (P[x,y,a_1, \ldots, a_n]^{V_\kappa} \wedge P[x,y',a_1, \ldots, a_n]^{V_\kappa} \Rightarrow y = y') \Rightarrow \]
\[ \exists C \in V_\kappa \forall y \in V_\kappa (y \in C \Leftrightarrow \exists x \in B. P[x,y,a_1, \ldots, a_n]^{V_\kappa})) \]
}}
\step{2}{\pflet{$a_1, \ldots, a_n, B \in V_\kappa$}}
\step{3}{\assume{for all $x \in B$, there exists at most one $y \in V_\kappa$ such that $P[x,y,a_1, \ldots, a_n]^{V_\kappa}$.}}
\step{4}{\pflet{$F = \{(x,y) \in B \times V_\kappa \mid P[x,y,a_1, \ldots, a_n]^{V_\kappa} \}$}}
\step{5}{\pflet{$C = \ran F$} \prove{$C \in V_\kappa$}}
\step{6}{\pflet{$S = \{ \rank F(x) \mid x \in \dom F \}$}}
\step{7}{$|S| < \kappa$}
\begin{proof}
	\pf\ Since $|S| \leq |\dom F| \leq |B| < \kappa$.
\end{proof}
\step{8}{$\forall \alpha \in S. \alpha < \kappa$}
\begin{proof}
	\pf\ Since $F(x) \in V_\kappa$ for all $x \in \dom F$.
\end{proof}
\step{9}{$\sup S < \kappa$}
\begin{proof}
	\pf\ Since $\kappa$ is regular.
\end{proof}
\step{10}{$\rank C \leq \sup S + 1$}
\step{11}{$\rank C < \kappa$}
\step{12}{$C \in V_\kappa$}
\qed
\end{proof}
\chapter{Group Theory}

\section{Groups}

\begin{df}[Group]
A \emph{group} $G$ consists of a set $G$ and a function $\cdot : G^2 \rightarrow G$ such that:
\begin{enumerate}
\item $\cdot$ is associative
\item There exists $e \in G$ such that $\forall x \in G. xe = x$ and $\forall x \in G. \exists y \in G. xy = e$.
\end{enumerate}
\end{df}

\begin{prop}
The inverse of an element in a group is unique.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$b$ and $b'$ are inverses of $a$.}}
\step{2}{$b = b'$}
\begin{proof}
	\pf
	\begin{align*}
		b & = be \\
		& = bab' \\
		& = eb' \\
		& = b'
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}
We write $x^{-1}$ for the inverse of $x$.
\end{df}

\begin{prop}
\label{prop:groupcancel}
In any group, if $ab = ac$ then $b = c$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
b & = eb \\
& = a^{-1}ab \\
& = a^{-1}ac \\
& = ec \\
& = c & \qed
\end{align*}
\end{proof}

\section{Abelian Groups}

\begin{df}[Abelian group]
An \emph{Abelian group} is a group whose multiplication is commutative.

We may say we are writing an Abelian group \emph{additively}, meaning we write $a + b$ for $ab$, $0$ for $e$ and $-a$ for $a^{-1}$. In this case we write $a-b$ for $ab^{-1}$.
\end{df}

\chapter{Ring Theory}

\section{Rings}

\begin{df}[Commutative Ring]
A \emph{commutative ring} consists of a set $R$ and two binary operations $+$, $\cdot$ on $R$ such that:
\begin{itemize}
\item
$D$ is an Abelian group under $+$. Let us write 0 for its identity element.
\item
$\cdot$ is commutative and associative, and distributes over $+$.
\item
$\cdot$ has an identity element 1 that is different from 0.
\end{itemize}
\end{df}

\begin{prop}
\label{prop:timeszero}
In any commutative ring, $0x = 0$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
(0+0)x & = 0x \\
\therefore 0x + 0x & = 0x + 0 \\
\therefore 0x & = 0 & (\text{Proposition \ref{prop:groupcancel}}) \qed
\end{align*}
\end{proof}

\begin{prop}
In any commutative ring, $(-a)b = -(ab)$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
ab + (-a)b & = (a + (-a))b \\
& = 0b \\
& = 0 & (\text{Proposition \ref{prop:timeszero}}) \qed
\end{align*}
\end{proof}

\section{Ordered Rings}

\begin{df}[Ordered Commutative Ring]
An \emph{ordered commutative ring} consists of a commutative ring $R$ with a linear order $<$ on $R$ such that:
\begin{itemize}
\item for all $x,y,z \in R$, we have $x < y$ if and only if $x + z < y + z$.
\item for all $x,y,z \in R$, if $0 < z$ then we have $x < y$ if and only if $xz < yz$.
\end{itemize}
\end{df}

\begin{prop}
In any ordered commutative ring, $0 < 1$.
\end{prop}

\begin{proof}
\pf\ If $1 < 0$ then we have $0 < -1$ and so $0 < (-1)(-1) = 1$, which is a contradiction. \qed
\end{proof}

\begin{prop}
The ordering on an ordered commutative ring is dense; that is, if $x < y$ then there exists $z$ such that $x < z < y$.
\end{prop}

\begin{proof}
\pf\ Take $z = (x + y) / 2$. \qed
\end{proof}

\section{Integral Domains}

\begin{df}[Integral Domain]
An \emph{integral domain} is a commutative ring such that, for all $a,b \in D$, if $ab = 0$ then $a = 0$ or $b = 0$.
\end{df}

\begin{prop}
\label{prop:multcancel}
In any integral domain, if $ab = ac$ and $a \neq 0$ then $b = c$.
\end{prop}

\begin{proof}
\pf\ We have $a(b-c) = 0$ and $a \neq 0$ so $b - c = 0$ hence $b = c$. \qed
\end{proof}

\begin{df}[Ordered Integral Domain]
An \emph{ordered integral domain} is an ordered commutative ring that is an integral domain.
\end{df}

\chapter{Field Theory}

\section{Fields}

\begin{df}[Field]
A \emph{field} $F$ is a commutative ring such that $0 \neq 1$ and, for all $x \in F$, if $x \neq 0$ then there exists $y \in F$ such that $xy = 1$.
\end{df}

\begin{prop}
Every field is an integral domain.
\end{prop}

\begin{proof}
\pf\ If $ab = 0$ and $a \neq 0$ then $b = a^{-1}ab = 0$. \qed
\end{proof}

\begin{prop}
In any field $F$, we have $F - \{0\}$ is an Abelian group under multiplication.
\end{prop}

\begin{proof}
\pf\ Immediate from the definition. \qed
\end{proof}

\begin{df}[Field of Fractions]
Let $D$ be an integral domain. The \emph{field of fractions} of $D$ is the quotient set $F = (D \times (D - \{0\})) / \sim$ where
\[ (a,b) \sim (c,d) \Leftrightarrow ad = bc \]
under
\begin{align*}
[(a,b)] + [(c,d)] & = [(ad+bc,bd)] \\
[(a,b)][(c,d)] & = [(ac,bd)]
\end{align*}

We prove this is a field.
\end{df}

\begin{proof}
\pf
\step{1}{$\sim$ is an equivalence relation on $D \times (D - \{0\})$.}
\begin{proof}
\pf
\step{1}{$\sim$ is reflexive.}
\begin{proof}
	\pf\ We always have $ab = ba$.
\end{proof}
\step{2}{$\sim$ is symmetric.}
\begin{proof}
	\pf\ If $ad = bc$ then $cb = da$.
\end{proof}
\step{3}{$\sim$ is transitive.}
\begin{proof}
	\step{a}{\assume{$(a,b) \sim (c,d) \sim (e,f)$}}
	\step{b}{$ad = bc$ and $cf = de$}
	\step{c}{$adf = bde$}
	\begin{proof}
		\pf\ $adf = bcf = bde$
	\end{proof}
	\step{d}{$af = be$}
	\begin{proof}
		\pf\ Proposition \ref{prop:multcancel}.
	\end{proof}
\end{proof}
\qed
\end{proof}
\step{2}{Addition is well-defined.}
\begin{proof}
\pf
\step{1}{If $b \neq 0$ and $d \neq 0$ then $bd \neq 0$.}
\begin{proof}
	\pf\ Since $D$ is an integral domain.
\end{proof}
\step{2}{If $ab' = a'b$ and $cd' = c'd$ then $(ad+bc)b'd' = (a'd' + b'c')bd$.}
\begin{proof}
	\pf
	\begin{align*}
		(ad+bc)b'd' & = ab'dd' + bb'cd' \\
		& = a'bdd' + bb'c'd \\
		& = (a'd' + b'c')bd
	\end{align*}
\end{proof}
\qed
\end{proof}
\step{3}{Multiplication is well-defined.}
\begin{proof}
\pf
\step{1}{If $b \neq 0$ and $d \neq 0$ then $bd \neq 0$.}
\begin{proof}
	\pf\ Since $D$ is an integral domain.
\end{proof}
\step{2}{If $[(a,b)] = [(a',b')]$ and $[(c,d)] = [(c',d')]$ then $[(ac,bd)] = [(a'c',b'd')]$.}
\begin{proof}
	\pf\ If $ab' = a'b$ and $cd' = c'd$ then $acb'd' = a'c'bd$.
\end{proof}
\qed
\end{proof}
\step{4}{Addition is commutative.}
\begin{proof}
\pf\ $[(a,b)] + [(c,d)] = [(ad+bc,bd)] = [(cb+da,db)] = [(c,d)] + [(a,b)]$ \qed
\end{proof}
\step{5}{Addition is associative.}
\begin{proof}
\pf
\begin{align*}
[(a,b)] + ([(c,d)] + [(e,f)]) & = [(a,b)] + [(cf+de,df)] \\
& = [(adf + bcf + bde,bdf)] \\
& = [(ad+bc,bd)] + [(e,f)] \\
& = ([(a,b)] + [(c,d)]) + [(e,f)] & \qed
\end{align*}
\end{proof}
\step{6}{For any $x \in F$ we have $x + [(0,1)] = x$}
\begin{proof}
\pf\ $[(a,b)] + [(0,1)] = [(a \cdot 1 + b \cdot 0, b \cdot 1)] = [(a,b)]$ \qed
\end{proof}
\step{7}{For any $x \in F$, there exists $y \in F$ such that $x + y = [(0,1)]$.}
\begin{proof}
\pf\ $[(a,b)] + [(-a,b)] = [(ab-ab,b^2)] = [(0,b^2)] = [(0,1)]$ \qed
\end{proof}
\step{8}{Multiplication is commutative.}
\begin{proof}
\pf\ $[(a,b)][(c,d)] = [(c,d)][(a,b)] = [(ac,bd)]$. \qed
\end{proof}
\step{9}{Multiplication is assocative.}
\begin{proof}
\pf\ $[(a,b)]([(c,d)][(e,f)]) = ([(a,b)][(c,d)])[(e,f)] = [(ace,bdf)]$. \qed
\end{proof}
\step{10}{For any $x \in F$ we have $x[(1,1)] = x$}
\begin{proof}
\pf\ $[(a,b)][(1,1)] = [(a,b)]$ \qed
\end{proof}
\step{11}{For any non-zero $x \in F$, there exists $y \in F$ such that $xy = [(1,1)]$.}
\begin{proof}
\pf
\step{a}{\pflet{$[(a,b)] \in \mathbb{Q}$}}
\step{b}{\assume{$[(a,b)] \neq [(0,1)]$}}
\step{c}{$a \neq 0$}
\step{d}{$[(a,b)][(b,a)] = [(1,1)]$}
\qed
\end{proof}
\qed
\end{proof}

\begin{df}
For any field $F$, let $N(F)$ be the intersection of all the subsets $S \subseteq F$ such that $1 \in S$ and $\forall x \in S. x + 1 \in S$.
\end{df}

\begin{df}[Characteristic Zero]
A field $F$ has \emph{characteristic 0} iff $0 \notin N(F)$.
\end{df}

\begin{prop}
\label{prop:NFbij}
In a field $F$ with characteristic 0, the function $n : \mathbb{N} \rightarrow N(F)$ defined by
\begin{align*}
n(0) & = 1 \\
n(x+1) & = n(x) + 1
\end{align*}
is a bijection.
\end{prop}

\begin{proof}
\pf
\step{1}{$n$ is injective.}
\begin{proof}
	\step{a}{\assume{for a contradiction $n(i) = n(j)$ with $i \neq j$}}
	\step{b}{\assume{w.l.o.g. $i < j$}}
	\step{c}{$n(j-i) = 0$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the fact that $F$ has characteristic 0.
	\end{proof}
\end{proof}
\step{2}{$n$ is surjective.}
\begin{proof}
	\pf\ Since $\ran n$ is a subset of $F$ that includes 1 and is closed under $+1$.
\end{proof}
\qed
\end{proof}

\begin{df}
In any field $F$, let
\[ I(F) = N(F) \cup \{0\} \cup \{-x \mid x \in N(F) \} \]
\end{df}

\begin{df}
In any field $F$, let
\[ Q(F) = \{ x/y \mid x,y \in I(F), y \neq 0 \} \]
\end{df}

\begin{prop}
$Q(F)$ is the smallest subfield of $F$.
\end{prop}

\begin{proof}
\pf\ $Q(F)$ is closed under $+$ and $\cdot$, and any subset of $F$ closed under $+$ and $\cdot$ that contains 0 and 1 must include $Q(F)$. \qed
\end{proof}

\begin{thm}
\label{thm:Qisounique}
Let $F$ and $G$ be fields of characteristic 0. Then there exists a unique field isomorphism between $Q(F)$ and $Q(G)$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\phi : N(F) \rightarrow N(G)$ be the unique function such that $\phi(1) = 1$ and $\forall x \in N(F). \phi(x+1) = \phi(x) + 1$.}}
\step{2}{$\phi$ is a bijection.}
\begin{proof}
	\pf\ Similar to Proposition \ref{prop:NFbij}.
\end{proof}
\step{3}{$\forall x,y \in N(F). \phi(x+y) = \phi(x) + \phi(y)$}
\begin{proof}
	\pf\ Induction on $y$.
\end{proof}
\step{4}{$\forall x,y \in N(F). \phi(xy) = \phi(x)\phi(y)$}
\begin{proof}
	\pf\ Induction on $y$.
\end{proof}
\step{5}{Extend $\phi$ to a bijection $I(F) \cong I(G)$ such that $\forall x,y \in I(F).\phi(x+y) = \phi(x) + \phi(y)$ and $\forall x,y \in I(F). \phi(xy) = \phi(x)\phi(y)$}
\begin{proof}
	\step{a}{Define $\phi(0) = 0$ and $\phi(-x) = -\phi(x)$ for $x \in N(F)$}
	\begin{proof}
		\step{i}{$0 \notin N(F)$}
		\step{ii}{For all $x \in N(F)$ we have $-x \notin N(F)$}
		\begin{proof}
			\pf\ Then we would have $x + -x = 0 \in N(F)$.
		\end{proof}
		\step{iii}{For all $x \in N(F)$ we have $-x \neq 0$}
	\end{proof}
	\step{b}{For all $x,y \in I(F)$ we have $\phi(x+y) = \phi(x) + \phi(y)$}
	\begin{proof}
		\pf\ Case analysis on $x$ and $y$.
	\end{proof}
	\step{c}{For all $x,y \in I(F)$ we have $\phi(xy) = \phi(x) \phi(y)$}
	\begin{proof}
		\pf\ Case analysis on $x$ and $y$.
	\end{proof}
\end{proof}
\step{6}{Extend $\phi$ to a bijection $Q(F) \cong Q(G)$ such that $\forall x,y \in Q(F).\phi(x+y) = \phi(x) + \phi(y)$ and $\forall x,y \in Q(F). \phi(xy) = \phi(x)\phi(y)$}
\begin{proof}
	\step{a}{Define $\phi(x/y) = \phi(x)/\phi(y)$}
\end{proof}
\step{7}{$\phi$ is unique.}
\begin{proof}
	\step{a}{\pflet{$\theta$ satisfy the theorem.}}
	\step{b}{For all $x \in N(F)$ we have $\theta(x) = \phi(x)$}
	\step{c}{For all $x \in I(F)$ we have $\theta(x) = \phi(x)$}
	\step{d}{For all $x \in Q(F)$ we have $\theta(x) = \phi(x)$}
\end{proof}
\qed
\end{proof}

\section{Ordered Fields}

\begin{df}[Ordered Field]
An \emph{ordered field} is an ordered commutative ring that is a field.
\end{df}

\begin{prop}
Every ordered field $F$ has characteristic 0.
\end{prop}

\begin{proof}
\pf\ We have $0 < n$ for all $n \in N(F)$. \qed
\end{proof}

\begin{prop}
Let $F$ be a field of characteristic 0. Then there exists a unique relation $<$ on $Q(F)$ that makes $Q(F)$ into an ordered field.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{cor}
\label{cor:isoQs}
Let $F$ and $G$ be ordered fields. Let $\phi$ be the unique field isomorphism between $Q(F)$ and $Q(G)$. Then $\phi$ is an ordered field isomorphism.
\end{cor}

\begin{df}[Archimedean]
An ordered field $F$ is \emph{Archimedean} iff
\[ \forall x \in F. \exists n \in N(F). n > x \enspace . \]
\end{df}

\begin{prop}
\label{prop:Archimedean1}
Let $F$ be an Archimedean ordered field. Let $x,y \in F$ with $x > 0$. Then there exists $n \in N(F)$ such that $nx > y$.
\end{prop}

\begin{proof}
\pf\ Pick $n > y/x$. \qed
\end{proof}

\begin{prop}
\label{prop:Qdense}
Let $F$ be an Archimedean ordered field. For all $x,y \in F$, if $x < y$, then there exists $r \in Q(F)$ such that $x < r < y$.
\end{prop}

\begin{proof}
\pf
\step{one}{\case{$x > 0$}}
\begin{proof}
\step{1}{\pick\ $n \in N(F)$ such that $n(y-x) > 1$}
\begin{proof}
	\pf\ Proposition \ref{prop:Archimedean1}.
\end{proof}
\step{2}{$ny > 1 + nx$}
\step{3}{\pflet{$m$ be the least element of $N(F)$ such that $m > nx$.}}
\step{4}{$m-1 \leq nx$}
\step{5}{$nx < m < ny$}
\step{6}{$x < m/n < y$}
\end{proof}
\step{two}{\case{$x \leq 0$}}
\begin{proof}
	\step{1}{\pick\ $k \in N(F)$ such that $k > -x$}
	\step{2}{$0 < x+k < y + k$}
	\step{3}{\pick\ $r \in Q(F)$ such that $x + k < r < y + k$}
	\begin{proof}
		\pf\ \stepref{one}
	\end{proof}
	\step{4}{$x < r-k < y$}
\end{proof}
\end{proof}

\begin{df}[Complete]
An ordered field $F$ is \emph{complete} iff every nonempty subset of $F$ bounded above has a least upper bound.
\end{df}

\begin{prop}
Every complete ordered field is Archimedean.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$F$ be a complete ordered field.}}
\step{2}{\pflet{$x \in F$}}
\step{3}{\assume{for a contradiction there is no member of $N(F)$ greater than $x$.}}
\step{4}{$x$ is an upper bound for $N(F)$.}
\step{5}{\pflet{$y = \sup N(F)$}}
\step{6}{\pick\ $n \in N(F)$ such that $y-1 < n$}
\step{7}{$y < n + 1$}
\qedstep
\begin{proof}
	\pf\ This is a contradiction.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $F$ be a complete ordered field and $a \in F$ be nonnegative. Then there exists $b \in F$ such that $b^2 = a$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$B = \{ x \in F \mid 0 \leq x \leq 1 + a \}$}}
\step{2}{\pflet{$\phi : B \rightarrow B$ be the function
\[ \phi(x) = x + \frac{1}{2(1+a)}(a-x^2) \enspace . \]}}
\step{3}{$\phi$ is strictly monotone.}
\begin{proof}
	\step{a}{\pflet{$0 \leq x < y \leq 1 + a$}}
	\step{b}{$1 - \frac{x+y}{2(1+a)} > 0$}
	\step{c}{$\phi(y) - \phi(x) = (y-x)(1 - \frac{x+y}{2(1+a)}) > 0$}
	\step{d}{$\phi(x) < \phi(y)$}
\end{proof}
\step{4}{\pick\ $b \in B$ such that $\phi(b) = b$.}
\begin{proof}
	\pf\ Knaster Fixed-Point Theorem.
\end{proof}
\step{5}{$b^2 = a$}
\qed
\end{proof}

\begin{thm}[Uniqueness of the Complete Ordered Field]
If $F$ and $G$ are complete ordered fields, then there exists a unique bijection $\phi : F \cong G$ such that, for all $x,y \in F$,
\begin{align*}
\phi(x+y) & =\phi(x) + \phi(y) \\
\phi(xy) & = \phi(x) \phi(y)
\end{align*}
This bijection also satisfies: for all $x,y \in F$,
\[ x < y \Leftrightarrow \phi(x) < \phi(y) \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ a bijection $\phi : Q(F) \cong Q(G)$ such that, for all $x,y \in Q(F)$,
\begin{align*}
\phi(x+y) & = \phi(x) + \phi(y) \\
\phi(xy) & = \phi(x)\phi(y) \\
x < y & \Leftrightarrow \phi(x) < \phi(y)
\end{align*}}
\begin{proof}
	\pf\ Corollary \ref{cor:isoQs}.
\end{proof}
\step{2}{$Q(F)$ intersects every interval in $F$.}
\begin{proof}
	\pf\ Proposition \ref{prop:Qdense}.
\end{proof}
\step{3}{$Q(G)$ intersects every interval in $G$.}
\begin{proof}
	\pf\ Proposition \ref{prop:Qdense}.
\end{proof}
\step{4}{\pick\ an order isomorphism $\psi : F \cong G$ that extends $\phi$.}
\begin{proof}
	\pf\ Theorem \ref{thm:extendorderiso}.
\end{proof}
\step{5}{$\forall x,y \in F. \psi(x+y) = \psi(x) + \psi(y)$}
\begin{proof}
	\step{a}{\pflet{$x,y \in F$}}
	\step{b}{$\psi(x) + \psi(y) \nless \psi(x+y)$}
	\begin{proof}
		\step{i}{\assume{for a contradiction $\psi(x) + \psi(y) < \psi(x+y)$}}
		\step{ii}{\pick\ $r' \in Q(G)$ such that $\psi(x) < r' < \psi(x+y) - \psi(y)$}
		\step{iii}{\pick\ $s' \in Q(G)$ such that $\psi(y) < s' < \psi(x+y) - r'$}
		\step{vi}{$r' + s' < \psi(x+y)$}
		\step{vii}{\pick\ $r,s \in Q(F)$ such that $\phi(r) = r'$ and $\phi(s) = s'$}
		\step{viii}{$\phi(r+s) = r' + s'$}
		\step{ix}{$\psi(x) < \psi(r)$}
		\step{x}{$\psi(y) < \psi(s)$}
		\step{xi}{$\psi(x+y) >\psi(r+s)$}
		\step{xii}{$x < r$}
		\step{xiii}{$y < s$}
		\step{xiv}{$x+y > r+s$}
		\qedstep
		\begin{proof}
			\pf\ This is a contradiction.
		\end{proof}		 
	\end{proof}
	\step{c}{$\psi(x+y) \nless \psi(x) + \psi(y)$}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\step{6}{$\forall x,y \in F. \psi(xy) = \psi(x)\psi(y)$}
\begin{proof}
	\step{a}{\pflet{$x,y \in F$}}
	\step{b}{\case{$x$ and $y$ are positive.}}
	\begin{proof}
		\step{i}{$\psi(x) \psi(y) \nless \psi(xy)$}
		\begin{proof}
			\step{one}{\assume{for a contradiction $\psi(x) \psi(y) < \psi(xy)$}}
			\step{two}{\pick\ $r' \in Q(G)$ such that $\psi(x) < r' < \psi(xy) / \psi(y)$}
			\step{three}{\pick\ $s' \in Q(G)$ such that $\psi(y) < s' < \psi(xy) / r'$}
			\step{four}{$r's' < \psi(xy)$}
			\step{five}{\pick\ $r,s \in Q(F)$ such that $\phi(r) = r'$ and $\phi(s) = s'$}
			\step{six}{$\phi(rs) = r's'$}
			\step{seven}{$x < r$, $y < s$ and $rs < xy$}
			\qedstep
			\begin{proof}
				\pf\ This is a contradiction.
			\end{proof}
		\end{proof}
		\step{ii}{$\psi(xy) \nless \psi(x) \psi(y)$}
		\begin{proof}
			\pf\ Similar.
		\end{proof}
	\end{proof}
	\step{c}{\case{$x$ and $y$ are not both positive.}}
	\begin{proof}
		\pf\ Follows from \stepref{b} since $\psi(-x) = -\psi(x)$ by \stepref{5}.
	\end{proof}
\end{proof}
\step{7}{For any field isomorphism $\theta : F \cong G$, we have $\theta = \psi$.}
\begin{proof}
	\step{a}{$\theta \restriction Q(F) = \phi$}
	\begin{proof}
		\pf\ Theorem \ref{thm:Qisounique}.
	\end{proof}
	\step{b}{$\theta$ is strictly monotone.}
	\begin{proof}
		\step{i}{\pflet{$x,y \in F$ with $x < y$}}
		\step{ii}{$y-x > 0$}
		\step{iii}{\pick\ $z \in F$ such that $z^2 = y-x$}
		\step{iv}{$\theta(z)^2 = \theta(y) - \theta(x)$}
		\step{v}{$\theta(y) - \theta(x) > 0$}
		\step{vi}{$\theta(x) < \theta(y)$}
	\end{proof}
	\step{c}{$\theta = \psi$}
	\begin{proof}
		\pf\ By the uniqueness of $\psi$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\chapter{Number Systems}

\section{The Integers}

\begin{df}
The set of \emph{integers} $\mathbb{Z}$ is the quotient set $\mathbb{N}^2 / \sim$, where $(m,n) \sim (p,q)$ iff $m + q = n + p$.

We prove$\sim$ is an equivalence relation on $\mathbb{N}^2$.
\end{df}

\begin{proof}
\pf
\step{1}{$\sim$ is reflexive.}
\begin{proof}
	\pf\ For all $m,n \in \mathbb{N}$ we have $m + n = n + m$.
\end{proof}
\step{2}{$\sim$ is symmetric.}
\begin{proof}
	\pf\ If $m + q = n + p$ then $p + n = q + m$.
\end{proof}
\step{3}{$\sim$ is transitive.}
\begin{proof}
	\step{a}{\assume{$(m,n) \sim (p,q) \sim (r,s)$}}
	\step{b}{$m + q = n + p$ and $p + s = q + r$}
	\step{c}{$m + q + s = n + q + r$}
	\step{d}{$m + s = n + r$}
	\begin{proof}
		\pf\ By cancellation.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Addition]
Define \emph{addition} $+$ on $\mathbb{Z}$ by $[(m,n)] + [(p,q)] = [(m+p,n+q)]$.

We prove this is well-defined.
\end{df}

\begin{proof}
\pf\ If $m + n' = n + m'$ and $p + q' = q + p'$ then $m + p + n' + q' = n + q + m' + p'$. \qed
\end{proof}

\begin{prop}
\label{prop:plusZcomm}
Addition on $\mathbb{Z}$ is commutative.
\end{prop}

\begin{proof}
\pf\ $[(m,n)] + [(p,q)] = [(m+p,n+q)] = [(p+m,q+n)] = [(p,q)] + [(m,n)]$. \qed
\end{proof}

\begin{prop}
\label{prop:plusZassoc}
Addition on $\mathbb{Z}$ is associative.
\end{prop}

\begin{proof}
\pf\ $[(m,n)] + ([(p,q)] + [(r,s)]) = [(m+p+r,n+q+s)] = ([(m,n)] + [(p,q)]) + [(r,s)]$. \qed
\end{proof}

\begin{prop}
Given natural numbers $m$ and $n$, we have $[(m,0)] = [(n,0)]$ iff $m = n$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{df}
We identify any natural number $n$ with the integer $[(n,0)]$.
\end{df}

\begin{prop}
Addition on integers agrees with addition on natural numbers.
\end{prop}

\begin{proof}
\pf\ Since $[(m,0)] + [(n,0)] = [(m+n,0)]$. \qed
\end{proof}

\begin{prop}
\label{prop:plusZzero}
For all $a \in \mathbb{Z}$ we have $a + 0 = a$.
\end{prop}

\begin{proof}
\pf\ $[(m,n)] + [(0,0)] = [(m+0,n+0)] = [(m,n)]$. \qed
\end{proof}

\begin{prop}
\label{prop:plusZinv}
For all $a \in \mathbb{Z}$, there exists $b \in \mathbb{Z}$ such that $a + b = 0$.
\end{prop}

\begin{proof}
\pf\ $[(m,n)] + [(n,m)] = [(m+n,m+n)] = [(0,0)]$ \qed
\end{proof}

\begin{prop}
\label{prop:Zgroup}
The integers form an Abelian group under addition.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:plusZcomm}, \ref{prop:plusZassoc}, \ref{prop:plusZzero}, \ref{prop:plusZinv}. \qed
\end{proof}

\begin{df}
Define multiplication $\cdot$ on $\mathbb{Z}$ by: $[(m,n)][(p,q)] = [(mp+nq,mq+np)]$.

We prove this is well defined.
\end{df}

\begin{proof}
\pf
\step{1}{\assume{$m + n' = n + m'$ and $p + q' = q + p'$} \prove{$mp + nq + m'q' + n'p' = mq + np + m'p' + n'q'$}}
\step{2}{$mp + n'p = np + m'p$}
\step{3}{$nq + m'q = mq + n'q$}
\step{4}{$m'p + m'q' = m'q + m'p'$}
\step{5}{$n'q + n'p' = n'p + n'q'$}
\step{6}{$mp + n'p + nq + m'q + m'p + m'q' + n'q + n'p'
= np + m'p + mq + n'q + m'q + m'p' + n'p + n'q'$}
\step{7}{$mp + nq + m'q' + n'p' = mq + np + m'p' + n'q'$}
\begin{proof}
	\pf\ By cancellation.
\end{proof}
\qed
\end{proof}

\begin{prop}
Multiplication on integers agrees with multiplication on natural numbers.
\end{prop}

\begin{proof}
\pf\ Since $[(m,0)][(n,0)] = [(mn+0,m0+n0)] = [(mn,0)]$. \qed
\end{proof}

\begin{prop}
\label{prop:timesZcomm}
Multiplication on $\mathbb{Z}$ is commutative.
\end{prop}

\begin{proof}
\pf\ $[(m,n)][(p,q)] = [(mp+nq,mq+np)] = [(pm+qn,pn+qm)] = [(p,q)][(m,n)]$. \qed
\end{proof}

\begin{prop}
\label{prop:timesZassoc}
Multiplication on $\mathbb{Z}$ is associative.
\end{prop}

\begin{proof}
\pf
\begin{align*}
[(m,n)]([(p,q)][(r,s)]) & = [(m,n)][(pr+qs,ps+qr)] \\
& = [(mpr+mqs+nps+nqr,mps+mqr+npr+nqs)] \\
& = [(mp+nq,mq+np)][(r,s)] \\
& = ([(m,n)][(p,q)])[(r,s)] & \qed
\end{align*}
\end{proof}

\begin{prop}
\label{prop:timesZdist}
Multiplication distributes over addition.
\end{prop}

\begin{proof}
\pf
\begin{align*}
[(m,n)]([(p,q)]+[(r,s)]) & = [(m,n)][(p+r,q+s)] \\
& = [(mp+mr+nq+ns, np+nr+mq+ms)] \\
[(m,n)][(p,q)] + [(m,n)][(r,s)] & = [(mp+nq,mq+np)] + [(mr+ns,ms+nr)] \\
& = [(mp+nq+mr+ns,mq+np+ms+nr)] & \qed
\end{align*}
\end{proof}

\begin{prop}
\label{prop:timesZone}
For any integer $a$ we have $a1 = a$.
\end{prop}

\begin{proof}
\pf\ Since $[(m,n)][(1,0)] = [(m1+n0,m0+n1)] = [(m,n)]$. \qed
\end{proof}

\begin{prop}
\label{prop:Zno_zero_div}
For any integeres $a$ and $b$, if $ab = 0$ then $a = 0$ or $b = 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$[(m,n)][(p,q)] = [(0,0)]$}}
\step{2}{$mp+nq = mq+np$}
\step{3}{\assume{$[(m,n)] \neq [(0,0)]$}}
\step{4}{$m \neq n$ \prove{$p = q$}}
\step{5}{\case{$m < n$}}
\begin{proof}
	\step{a}{$p \nless q$}
	\begin{proof}
		\pf\ If $p < q$ then $mq+np < mp+nq$ by Proposition \ref{prop:intmultlemma}.
	\end{proof}
	\step{b}{$q \nless p$}
	\begin{proof}
		\pf\ If $q < p$ then $mp+nq < mq+np$ by Proposition \ref{prop:intmultlemma}.
	\end{proof}
	\step{c}{$p = q$}
	\begin{proof}
		\pf\ By trichotomy.
	\end{proof}
\end{proof}
\step{6}{\case{$n < m$}}
\begin{proof}
	\pf\ Similar.
\end{proof}
\qed
\end{proof}

\begin{prop}
The integers $\mathbb{Z}$ form an integral domain.
\end{prop}

\begin{proof}
\pf\ Propositions \ref{prop:timesZcomm}, \ref{prop:timesZassoc}, \ref{prop:timesZdist}, \ref{prop:timesZone}, \ref{prop:Zno_zero_div}, \ref{prop:Zgroup}. \qed
\end{proof}

\begin{df}
Define $<$ on $\mathbb{Z}$ by $[(m,n)] < [(p,q)]$ if and only if $m + q < n + p$.

We prove this is well-defined.
\end{df}

\begin{proof}
\pf
\step{1}{\assume{$m + n' = n + m'$ and $p + q' = q + p'$.} \prove{$m + q < n + p$ if and only if $m' + q' < n' + p'$}}
\step{2}{$m + q < n + p$ if and only if $m' + q' < n' + p'$}
\begin{proof}
	\pf
	\begin{align*}
		m + q < n + p & \Leftrightarrow m + n' + q < n + n' + p & (\text{Corollary \ref{cor:pluslt}}) \\
		& \Leftrightarrow m' + n + q < n + n' + p \\
		& \Leftrightarrow m' + q < n' + p & (\text{Corollary \ref{cor:pluslt}}) \\
		& \Leftrightarrow m' + q + p' < n' + p + p' & (\text{Corollary \ref{cor:pluslt}}) \\
		& \Leftrightarrow m' + q' + p < n' + p + p' \\
		& \Leftrightarrow m' + q' < n' + p' & (\text{Corollary \ref{cor:pluslt}}) & \qed \\
	\end{align*}
\end{proof}
\end{proof}

\begin{prop}
The ordering on the integers agrees with the ordering on the natural numbers.
\end{prop}

\begin{proof}
\pf\ We have $[(m,0)] < [(n,0)]$ iff $m < n$. \qed
\end{proof}

\begin{prop}
$<$ is a linear order on $\mathbb{Z}$.
\end{prop}

\begin{proof}
	\pf
	\step{1}{$<$ is irreflexive.}
	\begin{proof}
		\pf\ We never have $m + n < m + n$.
	\end{proof}
	\step{2}{$<$ is transitive.}
	\begin{proof}
		\step{a}{\assume{$[(m,n)] < [(p,q)] < [(r,s)]$}}
		\step{b}{$m + q < n + p$ and $p + s < q + r$}
		\step{c}{$m + q + s < n + q + r$}
		\begin{proof}
			\pf\ $m + q + s < n + p + s < n + q + r$
		\end{proof}
		\step{d}{$m + s < n + r$}
		\begin{proof}
			\pf\ Corollary \ref{cor:pluslt}.
		\end{proof}
	\end{proof}
	\step{3}{$<$ is total.}
	\begin{proof}
		\pf\ Given natural numbers $m$, $n$, $p$ and $q$, either $m +q < n + p$, or $m + q = n + p$, or $n + p < m + q$.
	\end{proof}
	\qed
\end{proof}

\begin{df}[Positive]
An integer $a$ is \emph{positive} iff $a > 0$.
\end{df}

\begin{thm}
For any integers $a$, $b$ and $c$, we have $a < b$ if and only if $a + c < b + c$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $a < b$ then $a + c < b + c$.}
\begin{proof}
	\step{a}{\pflet{$a = [(m,n)]$, $b = [(p,q)]$ and $c = [(r,s)]$.}}
	\step{b}{\assume{$a < b$}}
	\step{c}{$m + q < n + p$}
	\step{d}{$m + r + q + s < n + r + p + s$}
	\step{e}{$[(m+r,n+s)] < [(p+r,q+s)]$}
	\step{f}{$a + c < b + c$}
\end{proof}
\step{2}{If $a + c < b + c$ then $a < b$.}
\begin{proof}
	\pf\ From \stepref{1} and Proposition \ref{prop:strictmonotoneinv}.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $a$, $b$ and $c$ be integers. If $0 < c$, then $a < b$ if and only if $ac < bc$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$c = [(r,s)]$}}
\step{2}{\assume{$0 < c$}}
\step{3}{$s < r$}
\step{4}{For all integers $a$ and $b$, if $a < b$ then $ac < bc$}
\begin{proof}
	\step{1}{\pflet{$a = [(m,n)]$, $b = [(p,q)]$.}}
	\step{a}{\assume{$a < b$}}
	\step{b}{$m + q < n + p$}
	\step{w}{$(m+q)r + (p+n)s < (m+q)s + (p+n)r$}
	\begin{proof}
		\pf\ Proposition \ref{prop:intmultlemma}, \stepref{3}, \stepref{b}.
	\end{proof}
	\step{x}{$mr + ns + ps + qr < ms + nr + pr + qs$}
	\step{y}{$[(mr+ns,ms+nr)] < [(pr+qs,ps+qr)]$}
	\step{z}{$ac < bc$}
\end{proof}
\step{5}{For all integers $a$ and $b$, if $ac < bc$ then $a < b$}
\begin{proof}
	\pf\ From \stepref{4} and Proposition \ref{prop:strictmonotoneinv}.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:Zarchimedean}
Let $a$ be a positive integer. For any integer $b$, there exists $k \in \mathbb{N}$ such that $b < ak$.
\end{prop}

\begin{proof}
\pf
\step{1}{\case{$b \leq 0$}}
\begin{proof}
	\pf\ Take $k = 1$.
\end{proof}
\step{2}{\case{$b > 0$}}
\begin{proof}
	\pf\ Take $k = b + 1$.
\end{proof}
\qed
\end{proof}

\section{The Rationals}

\begin{df}[Rational Numbers]
The set $\mathbb{Q}$ of \emph{rational numbers} is the field of fractions over the integers.
\end{df}

\begin{prop}
For any integers $a$ and $b$, we have $[(a,1)] = [(b,1)]$ iff $a = b$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

Henceforth we identify any integer $a$ with the rational number $[(a,1)]$.

\begin{prop}
Addition on the rationals agrees with addition on the integers.
\end{prop}

\begin{proof}
\pf\ $[(a,1)] + [(b,1)] = [(a \cdot 1 + b \cdot 1, 1 \cdot 1)] = [(a + b, 1)]$. \qed
\end{proof}

\begin{prop}
Multiplication on the rationals agrees with multiplication on the integers.
\end{prop}

\begin{proof}
\pf\ $[(a,1)][(b,1)] = [(ab,1)]$ \qed
\end{proof}

\begin{df}
Define the ordering $<$ on the rationals by: if $b$ and $d$ are positive, then $[(a,b)] < [(c,d)]$ iff $ad < bc$.

We prove this is well-defined.
\end{df}

\begin{proof}
\pf
\step{1}{For any rational $q$, there exist integers $a$, $b$ with $b$ positive such that $q = [(a,b)]$.}
\begin{proof}
	\pf\ Since $[(a,b)] = [(-a,-b)]$, and if $b \neq 0$ then one of $b$ and $-b$ is positive.
\end{proof}
\step{2}{If $b$, $b'$, $d$ and $d'$ are positive, $[(a,b)] = [(a',b')]$, and $[(c,d)] = [(c',d')]$, then $ad < bc$ iff $a'd' < b'c'$.}
\begin{proof}
	\pf
	\step{a}{If $ad < bc$ then $a'd' < b'c'$.}
	\begin{proof}
		\step{i}{\assume{$ad < bc$}}
		\step{ii}{$ab'd < bb'c$}
		\step{iii}{$a'bd < bb'c$}
		\step{iv}{$a'd < b'c$}
		\step{v}{$a'dd'< b'cd'$}
		\step{vi}{$a'dd' < b'c'd$}
		\step{vii}{$a'd' < b'c'$}
	\end{proof}
	\step{b}{If $a'd' < b'c'$ then $ad < bc$.}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
The ordering on the rationals agrees with the ordering on the integers.
\end{prop}

\begin{proof}
\pf\ We have $[(a,1)] < [(b,1)]$ if and only if $a < b$. \qed
\end{proof}

\begin{prop}
The relation $<$ is a linear ordering on $\mathbb{Q}$.
\end{prop}

\begin{proof}
\pf
\step{1}{$<$ is irreflexive.}
\begin{proof}
	\pf\ We never have $ab < ab$.
\end{proof}
\step{2}{$<$ is transitive.}
\begin{proof}
	\step{a}{\assume{$[(a,b)] < [(c,d)] < [(e,f)]$ where $b$, $d$ and $f$ are positive.}}
	\step{b}{$ad < bc$ and $cf < de$}
	\step{c}{$adf < bde$}
	\begin{proof}
		\pf\ $adf < bcf < bde$
	\end{proof}
	\step{d}{$af < be$}
\end{proof}
\step{3}{$<$ is total.}
\begin{proof}
	\pf\ For any integers $a$, $b$, $c$, $d$, we have $ad < bc$ or $ad = bc$ or $bc < ad$.
\end{proof}
\qed
\end{proof}

\begin{prop}
For any rationals $r$, $s$ and $t$, we have $r < s$ if and only if $r + t < s + t$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$a$, $b$, $c$, $d$, $e$, $f$ be integers with $b$, $d$ and $f$ positive.}}
\step{2}{$[(a,b)] + [(e,f)] < [(c,d)] + [(e,f)]$ if and only if $[(a,b)] < [(c,d)]$.}
\begin{proof}
	\pf
	\begin{align*}
		[(a,b)] + [(e,f)] < [(c,d)] + [(e,f)] & \Leftrightarrow [(af + be, bf)] < [(cf + de, df)] \\
		& \Leftrightarrow (af + be) df < (cf+de)bf \\
		& \Leftrightarrow afdf + bedf < cfbf + debf \\
		& \Leftrightarrow afdf < cfbf \\
		& \Leftrightarrow ad < bc \\
		& \Leftrightarrow [(a,b)] < [(c,d)]
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{cor}
For any rational $r$, we have $r < 0$ if and only if $0 < -r$.
\end{cor}

\begin{df}[Absolute Value]
For any rational $r$, the \emph{absolute value} of $r$ is defined by
\[ |r| := \begin{cases}
-r & \text{if } 0 < -r \\
r & \text{otherwise}
\end{cases} \]
\end{df}

\begin{prop}
For any rationals $r$, $s$ and $t$, if $t$ is positive then $r < s$ iff $rt < st$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$r = [(a,b)]$, $s = [(c,d)]$ and $t = [(e,f)]$ where $b$, $d$ and $f$ are positive.}}
\step{2}{\assume{$0 < t$}}
\step{3}{$e > 0$}
\step{4}{$rt < st$ iff $r < s$}
\begin{proof}
	\pf
	\begin{align*}
		rt < st & \Leftrightarrow [(ae,bf)] < [(ce,df)]  \\
		& \Leftrightarrow aedf < cebf \\
		& \Leftrightarrow ad < bc \\
		& \Leftrightarrow r < s
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{cor}
The rationals form an ordered field.
\end{cor}

\begin{prop}
\label{prop:Qarchimedean}
Let $p$ be a positive rational. For any rational number $r$, there exists $k \in \mathbb{N}$ such that $r < pk$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$p = a/b$ and $r = c/d$ where $a$, $b$ and $d$ are positive.}}
\step{2}{\pick\ $k \in \mathbb{N}$ such that $bc < adk$}
\begin{proof}
	\pf\ Proposition \ref{prop:Zarchimedean}.
\end{proof}
\step{3}{$r < pk$}
\qed
\end{proof}

\begin{prop}
$\mathbb{Q} \approx \mathbb{N}$
\end{prop}

\begin{proof}
\pf\ Arrange the rationals in order $0/1$, $1/1$, $1/2$, $0/2$, $-1/2$, $-1/1$, $-2/1$, $-2/2$, $-2/3$, $-1/3$, $0/3$, $1/3$, $2/3$, etc. then remove all duplicates. \qed
\end{proof}
\section{The Real Numbers}

\begin{df}[Cauchy Sequence]
A \emph{Cauchy sequence} is a sequence $(q_n)$ of rationals such that, for every positive rational $\epsilon$, there exists $k \in \mathbb{N}$ such that $\forall m,n > k. |q_m - q_n| < \epsilon$.
\end{df}

%TODO: Cauchy sequences modulo $\sim$ form the reals.

\begin{df}[Dedekind Cut]
A \emph{Dedekind cut} is a set $x \subseteq \mathbb{Q}$ such that:
\begin{enumerate}
\item $\emptyset \neq x \neq \mathbb{Q}$
\item $x$ is closed downwards.
\item $x$ has no greatest member.
\end{enumerate}

The set $\mathbb{R}$ of \emph{real numbers} is the set of Dedekind cuts.
\end{df}

\begin{prop}
For any rational $q$, we have $\{ r \in \mathbb{Q} \mid r < q \} \in \mathbb{R}$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$q \in \mathbb{Q}$}}
\step{2}{\pflet{$q \downarrow = \{ r \mid r < q \}$}}
\step{3}{$q \downarrow \neq \emptyset$}
\begin{proof}
	\pf\ We have $q - 1 \in q \downarrow$.
\end{proof}
\step{4}{$q \downarrow \neq \mathbb{Q}$}
\begin{proof}
	\pf\ Since $q \notin q \downarrow$.
\end{proof}
\step{5}{$q \downarrow$ is closed downwards.}
\begin{proof}
	\pf\ Trivial.
\end{proof}
\step{6}{$q \downarrow$ has no greatest element.}
\begin{proof}
	\pf\ For all $r \in q \downarrow$ we have $r < (q+r)/2 \in q \downarrow$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:QtoRwd}
For rationals $q$ and $r$, we have $q = r$ if and only if $\{ s \in \mathbb{Q} \mid s < q \} = \{ s \in \mathbb{Q} \mid s < r \}$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$q \downarrow = \{ s \in \mathbb{Q} \mid s < q \}$}}
\step{2}{\pflet{$r \downarrow = \{ s \in \mathbb{Q} \mid s < r \}$}}
\step{3}{If $q = r$ then $q \downarrow = r \downarrow$}
\begin{proof}
	\pf\ Trivial.
\end{proof}
\step{4}{If $q < r$ then $q \downarrow \neq r \downarrow$}
\begin{proof}
	\pf\ We have $q \in r \downarrow$ and $q \notin q \downarrow$.
\end{proof}
\step{5}{If $r < q$ then $q \downarrow \neq r \downarrow$}
\begin{proof}
	\pf\ We have $r \in q \downarrow$ and $q \notin q \downarrow$.
\end{proof}
\qed
\end{proof}

Henceforth we identify a rational $q$ with the real number $\{ r \in \mathbb{Q} \mid r < q \}$.

\begin{df}
Define the ordering $<$ on $\mathbb{R}$ by: $x < y$ iff $x \subsetneq y$.
\end{df}

\begin{prop}
The ordering on the reals agrees with the ordering on the rationals.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$q, r \in \mathbb{Q}$}}
\step{2}{\pflet{$q \downarrow = \{ s \in \mathbb{Q} \mid s < q \}$.}}
\step{3}{\pflet{$r \downarrow = \{ s \in \mathbb{Q} \mid s < r \}$.} \prove{$q < r$ iff $q \downarrow \subsetneq r \downarrow$}}
\step{4}{If $q < r$ then $q \downarrow \subsetneq r \downarrow$}
\begin{proof}
	\step{a}{\assume{$q < r$}}
	\step{b}{$q \downarrow \subseteq r \downarrow$}
	\begin{proof}
		\pf\ If $s < q$ then $s < r$.
	\end{proof}
	\step{c}{$q \downarrow \neq r \downarrow$}
	\begin{proof}
		\pf\ Proposition \ref{prop:QtoRwd}.
	\end{proof}
\end{proof}
\step{5}{If $q \downarrow \subsetneq r \downarrow$ then $q < r$}
\begin{proof}
	\step{a}{\assume{$q \downarrow \subsetneq r \downarrow$}}
	\step{b}{\pick\ $s \in r \downarrow$ such that $s \notin q \downarrow$}
	\step{c}{$q \leq s < r$}
\end{proof}
\qed
\end{proof}

\begin{prop}
The ordering $<$ is a linear ordering on $\mathbb{R}$.
\end{prop}

\begin{proof}
\pf
\step{1}{$<$ is irreflexive.}
\begin{proof}
	\pf\ No set is a proper subset of itself.
\end{proof}
\step{2}{$<$ is transitive.}
\begin{proof}
	\pf\ Since the relationship $\subsetneq$ is transitive on the class of all sets.
\end{proof}
\step{3}{$<$ is total.}
\begin{proof}
	\step{a}{\pflet{$x$, $y$ be Dedekind cuts.}}
	\step{b}{\assume{$x \nsubseteq y$} \prove{$y \subsetneq x$}}
	\step{c}{\pick\ $q \in x$ such that $q \notin y$}
	\step{d}{\pflet{$r \in y$} \prove{$r \in x$}}
	\step{e}{$q \not\leq r$}
	\begin{proof}
		\pf\ Since $y$ is closed downwards.
	\end{proof}
	\step{f}{$r < q$}
	\step{g}{$r \in x$}
	\begin{proof}
		\pf\ Since $x$ is closed downwards.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Any bounded nonempty subset of $\mathbb{R}$ has a least upper bound.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be a bounded nonempty subset of $\mathbb{R}$.}}
\step{2}{$\bigcup A$ is a Dedekind cut.}
\begin{proof}
	\step{a}{$\bigcup A \neq \emptyset$}
	\begin{proof}
		\step{i}{\pick $x \in A$}
		\step{ii}{\pick\ $q \in x$}
		\step{iii}{$q \in \bigcup A$}
	\end{proof}
	\step{b}{$\bigcup A \neq \mathbb{Q}$}
	\begin{proof}
		\step{i}{\pick\ an upper bound $u$ for $A$}
		\step{ii}{\pick\ $q \notin u$ \prove{$q \notin \bigcup A$}}
		\step{iii}{\assume{for a contradiction $q \in \bigcup A$}}
		\step{iv}{\pick\ $x \in A$ such that $q \in x$}
		\step{v}{$x \leq u$}
		\step{vi}{$q \in u$}
		\qedstep
		\begin{proof}
			\pf\ This is a contradiction.
		\end{proof}
	\end{proof}
	\step{c}{$\bigcup A$ is closed downwards.}
	\begin{proof}
		\step{i}{\pflet{$q \in \bigcup A$ and $r < q$}}
		\step{ii}{\pick\ $x \in A$ such that $q \in x$}
		\step{iii}{$r \in x$}
		\step{iv}{$r \in \bigcup A$}
	\end{proof}
	\step{d}{$\bigcup A$ has no greatest element.}
	\begin{proof}
		\step{i}{\pflet{$q \in \bigcup A$}}
		\step{ii}{\pick\ $x \in A$ such that $q \in x$}
		\step{iii}{\pick\ $r \in x$ such that $q < r$}
		\step{iv}{$r \in \bigcup A$}
	\end{proof}
\end{proof}
\step{3}{$\bigcup A$ is an upper bound for $A$.}
\begin{proof}
	\pf\ For all $x \in A$ we have $x \subseteq \bigcup A$.
\end{proof}
\step{4}{For any upper bound $u$ for $\bigcup A$ we have $\bigcup A \leq u$.}
\begin{proof}
	\pf\ If $\forall x \in A. x \subseteq u$ we have $\bigcup A \subseteq u$.
\end{proof}
\qed
\end{proof}

\begin{df}[Addition]
Define \emph{addition} $+$ on the reals by
\[ x + y := \{ q + r \mid q \in x, r \in y \} \enspace . \]

We prove this is well-defined.
\end{df}

\begin{proof}
\pf
\step{1}{\pflet{$x,y \in \mathbb{R}$} \prove{$X+y$ is a Dedekind cut.}}
\step{2}{$x + y \neq \emptyset$}
\begin{proof}
	\pf\ Pick $q \in x$ and $r \in y$; then $q+r \in x+y$.
\end{proof}
\step{3}{$x + y \neq \mathbb{Q}$}
\begin{proof}
	\step{a}{\pick\ $q \notin x$ and $r \notin y$ \prove{$q+r \notin x+y$}}
	\step{b}{\assume{for a contradiction $q + r \in x + y$}}
	\step{c}{\pick\ $q' \in x$ and $r' \in y$ such that $q + r = q' + r'$}
	\step{d}{$q' < q$ and $r' < r$}
	\step{e}{$q' + r' < q + r$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\step{4}{$x + y$ is closed downwards.}
\begin{proof}
	\step{a}{\pflet{$q \in x$ and $r \in y$}}
	\step{b}{\pflet{$s < q + r$} \prove{$s \in x + y$}}
	\step{c}{$s - r < q$}
	\step{d}{$s - r \in x$}
	\step{e}{$s = (s - r) + r \in x + y$}
\end{proof}
\step{5}{$x + y$ has no greatest element.}
\begin{proof}
	\step{a}{\pflet{$q \in x$ and $r \in y$} \prove{There exists $s \in x + y$ such that $q + r < s$}}
	\step{b}{\pick\ $q' \in x$ and $r' \in y$ such that $q < q'$ and $r < r'$}
	\step{c}{$q + r < q' + r' \in x + y$}
\end{proof}
\qed
\end{proof}

\begin{prop}
Addition on the reals agrees with addition on the rationals.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$q, r \in \mathbb{Q}$}}
\step{2}{$q \downarrow + r \downarrow \subseteq (q+r)\downarrow$}
\begin{proof}
	\pf\ If $s_1 < q$ and $s_2 < r$ then $s_1 + s_2 < q + r$.
\end{proof}
\step{3}{$(q+r) \downarrow \subseteq q \downarrow + r \downarrow$}
\begin{proof}
	\step{a}{\pflet{$s < q + r$}}
	\step{b}{$s - r < q$}
	\step{c}{\pick\ $t$ such that $s - r < t < q$}
	\step{d}{$s - t < r$}
	\step{e}{$s = t + (s - t) \in q\downarrow + r\downarrow$}
\end{proof}
\qed
\end{proof}

\begin{prop}
Addition is associative.
\end{prop}

\begin{proof}
\pf
\begin{align*}
x + (y + z) & = \{ q + r \mid q \in x, r \in y + z \} \\
& = \{ q + s_1 + s_2 \mid q \in x, s_1 \in y, s_2 \in z \} \\
& = \{ r + s_2 \mid r \in x + y, s_2 \in z \} \\
& = (x + y) + z & \qed
\end{align*}
\end{proof}

\begin{prop}
Addition is commutative.
\end{prop}

\begin{proof}
\pf
\begin{align*}
x + y & = \{ q + r \mid q \in x, r \in y \} \\
& = \{ r + q \mid r \in y, q \in x \} \\
& = y + x & \qed
\end{align*}
\end{proof}

\begin{prop}
For any $x \in \mathbb{R}$ we have $x + 0 = x$.
\end{prop}

\begin{proof}
\pf
\step{1}{$x + 0 \subseteq x$}
\begin{proof}
	\pf\ If $q \in x$ and $r < 0$ then $q + r < q$ so $q + r \in x$.
\end{proof}
\step{2}{$x \subseteq x + 0$}
\begin{proof}
	\step{a}{\pflet{$q \in x$}}
	\step{b}{\pick\ $r \in x$ such that $q < r$.}
	\begin{proof}
		\pf\ $x$ has no greatest element.
	\end{proof}
	\step{c}{$q - r < 0$}
	\step{d}{$q = r + (q-r) \in x + 0$}
\end{proof}
\qed
\end{proof}

\begin{df}
For $x \in \mathbb{R}$, define $-x := \{ q \in \mathbb{Q} \mid \exists r > q. -r \notin x \}$.
\end{df}

\begin{prop}
For all $x \in \mathbb{R}$ we have $-x \in \mathbb{R}$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x \in \mathbb{R}$}}
\step{2}{$-x \neq \emptyset$}
\begin{proof}
	\step{a}{\pick\ $s \notin x$}
	\step{b}{$-s-1 \in -x$}
\end{proof}
\step{3}{$-x \neq \mathbb{Q}$}
\begin{proof}
	\step{a}{\pick\ $s \in x$ \prove{$-s \notin -x$}}
	\step{b}{\assume{for a contradiction $-s \in -x$}}
	\step{c}{\pick\ $r > -s$ such that $-r \notin x$}
	\step{d}{$-r < s$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the fact that $x$ is closed downwards.
	\end{proof}
\end{proof}
\step{4}{$-x$ is closed downwards.}
\begin{proof}
	\pf\ Immediate from definition.
\end{proof}
\step{5}{$-x$ has no greatest element.}
\begin{proof}
	\step{a}{\pflet{$q \in -x$}}
	\step{b}{\pick\ $r > q$ such that $-r \notin x$}
	\step{c}{\pick\ $s$ such that $q < s < r$}
	\step{d}{$s \in -x$}
\end{proof}
\qed
\end{proof}

\begin{lm}
\label{lm:Rinv}
Let $p$ be a positive rational number. For any real number $x$, there exists a rational $q \in x$ such that $p + q \notin x$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pick\ $q_0 \in x$}
\step{2}{There exists $k \in \mathbb{N}$ such that $q_0 + kp \notin x$}
\begin{proof}
	\step{a}{\pick\ $q_1 \notin x$}
	\step{b}{\pick\ $k \in \mathbb{N}$ such that $q_1 - q_0 < p k$}
	\begin{proof}
		\pf\ Proposition \ref{prop:Qarchimedean}.
	\end{proof}
	\step{c}{$q_1 < q_0 + kp$}
	\step{d}{$q_0 + kp \notin x$}
\end{proof}
\step{3}{\pflet{$k$ be the least natural number such that $q_0 + kp \notin x$}}
\step{4}{$k \neq 0$}
\begin{proof}
	\pf\ \stepref{1}
\end{proof}
\step{5}{\pflet{$q = q_0 + (k-1)p$}}
\step{6}{$q \in x$ and $q + p \notin x$.}
\qed
\end{proof}

\begin{prop}
For every real $x$ we have $x + (-x) = 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x$ be a real number.}}
\step{2}{$x + (-x) \subseteq 0$}
\begin{proof}
	\step{a}{\pflet{$q_1 \in x$ and $q_2 \in -x$}}
	\step{b}{\pick\ $r > q_2$ such that $-r \notin x$}
	\step{c}{$q_1 < -r$}
	\step{d}{$r < - q_1$}
	\step{e}{$q_2 < - q_1$}
	\step{f}{$q_1 + q_2 < 0$}
\end{proof}
\step{3}{$0 \subseteq x + (-x)$}
\begin{proof}
	\step{a}{\pflet{$p < 0$}}
	\step{b}{$0 < -p$}
	\step{c}{\pick\ $q \in x$ such that $q-p/2 \notin x$}
	\begin{proof}
		\pf\ Lemma \ref{lm:Rinv}.
	\end{proof}
	\step{d}{\pflet{$s = p/2 - q$}}
	\step{e}{$-s \notin x$}
	\step{f}{$p-q < s$}
	\step{g}{$p-q \in -x$}
	\step{h}{$p \in x + (-x)$}
\end{proof}
\qed
\end{proof}

\begin{cor}
The reals form an Abelian group under addition.
\end{cor}

\begin{prop}
For any reals $x$, $y$ and $z$, we have $x < y$ if and only if $x + z < y + z$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\forall x,y,z \in \mathbb{R}. x \leq y \Rightarrow x + z \leq y + z$}
\begin{proof}
	\step{a}{\pflet{$x,y,z \in \mathbb{R}$}}
	\step{b}{\assume{$x \leq y$}}
	\step{c}{For all $q \in x$ and $r \in z$ we have $q + r \in y + z$}
\end{proof}
\step{2}{$\forall x,y,z \in \mathbb{R}. x + z = y + z \Leftrightarrow x = y$}
\begin{proof}
	\pf\ Proposition \ref{prop:groupcancel}.
\end{proof}
\step{3}{$\forall x,y,z \in \mathbb{R}. x < y \Rightarrow x + z < y + z$}
\qedstep
\begin{proof}
	\pf\ Proposition \ref{prop:strictmonotoneinv}.
\end{proof}
\qed
\end{proof}

\begin{df}[Absolute Value]
The \emph{absolute value} of a real number $x$ is defined to be
\[ |x| = \begin{cases}
x & \text{if } 0 \leq x \\
-x & \text{if } x < 0
\end{cases} \]
\end{df}

\begin{df}[Multiplication]
Define \emph{multiplication} $\cdot$ on $\mathbb{R}$ as follows:
\begin{itemize}
\item If $x$ and $y$ are non-negative then
\[ xy = 0 \cup \{ rs \mid 0 \leq r \in x \wedge 0 \leq s \in y \} \enspace . \]
\item If $x$ and $y$ are both negative then
\[ xy = (-x)(-y) \enspace . \]
\item If one of $x$ and $y$ is negative and one is non-negative then
\[ xy = -(|x||y|) \enspace .\]
\end{itemize}
We prove this is well-defined.
\end{df}

\begin{proof}
\pf
\step{1}{\pflet{$x$ and $y$ be non-negative reals.} \prove{$xy$ is real.}}
\step{2}{$xy \neq \emptyset$}
\begin{proof}
	\pf\ Since $-1 \in xy$.
\end{proof}
\step{3}{$xy \neq \mathbb{Q}$}
\begin{proof}
	\step{a}{\pick\ $r \notin x$ and $s \notin y$ \prove{$rs \notin xy$}}
	\step{b}{$0 \leq r$ and $0 \leq s$}
	\begin{proof}
		\pf\ Since $0 \subseteq x$ and $0 \subseteq y$.
	\end{proof}
	\step{c}{\assume{for a contradiction $rs \in xy$}}
	\step{d}{\pick\ $r'$ and $s'$ such that $0 \leq r' \in x$, $0 \leq s' \in y$ and $rs = r's'$}
	\step{e}{$r' < r$}
	\step{f}{$s' < s$}
	\step{g}{$r's' < rs$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\step{4}{$xy$ is closed downwards.}
\begin{proof}
	\step{a}{\pflet{$q \in xy$ and $r < q$}}
	\step{b}{\case{$q \in 0$}}
	\begin{proof}
		\pf\ Then $r < q < 0$ so $r \in xy$
	\end{proof}
	\step{c}{\case{$q = s_1 s_2$ where $0 \leq s_1 \in x$ and $0 \leq s_2 \in y$}}
	\begin{proof}
		\step{i}{\assume{w.l.o.g. $0 \leq r$}}
		\step{ii}{$0 < s_1$ and $0 < s_2$}
		\step{iii}{$r / s_2 < s_1$}
		\step{iv}{$r / s_2 \in x$}
		\step{v}{$r = (r/s_2)s_2 \in xy$}
	\end{proof}
\end{proof}
\step{5}{$xy$ has no greatest element.}
\begin{proof}
	\step{a}{\pflet{$q \in xy$}}
	\step{b}{\case{$q \in 0$}}
	\begin{proof}
		\pf\ $q < q/2 \in 0$
	\end{proof}
	\step{c}{\case{$q = rs$ where $0 \leq r \in x$ and $0 \leq s \in y$}}
	\begin{proof}
		\step{i}{\pick\ $r'$ and $s'$ with $r < r' \in x$ and $s < s' \in y$}
		\step{ii}{$q < r's' \in xy$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Multiplication is commutative.
\end{prop}

\begin{proof}
\pf\ Immediate from definition. \qed
\end{proof}

\begin{prop}
Multiplication is associative.
\end{prop}

\begin{proof}
\pf
\step{1}{For non-negative reals $x$, $y$ and $z$, we have $x(yz) = (xy)z$}
\begin{proof}
	\pf\ It computes to $0 \cup \{qrs \mid 0 \leq q \in x, 0 \leq r \in y, 0 \leq s \in z\}$.
\end{proof}
\step{2}{For all reals $x$, $y$ and $z$, we have $x(yz) = (xy)z$}
\begin{proof}
	\pf\ It is equal to $|x||y||z|$ if an even number of them are negative, and $-(|x||y||z|)$ otherwise.
\end{proof}
\qed
\end{proof}

\begin{prop}
Multiplication distributes over addition.
\end{prop}

\begin{proof}
\pf
\step{1}{For all non-negative reals $x$, $y$ and $z$, we have $x(y+z) = xy + xz$}
\begin{proof}
	\step{a}{\pflet{$x$, $y$ and $z$ be non-negative reals.}}
	\step{b}{$x(y+z) \subseteq xy+xz$}
	\begin{proof}
		\step{i}{\pflet{$q \in x(y+z)$}}
		\step{ii}{\case{$q < 0$}}
		\begin{proof}
			\pf\ Then we have $q/2 \in xy$ and $q/2 \in xz$ so $q \in xy+xz$.
		\end{proof}
		\step{iii}{\case{$q = rs$ where $0 \leq r \in x$ and $0 \leq s \in y+z$}}
		\begin{proof}
			\step{one}{\pick\ $s_1 \in y$ and $s_2 \in z$ such that $s = s_1 + s_2$}
			\step{two}{$rs_1 \in xy$}
			\begin{proof}
				\pf\ If $s_1 < 0$ then $rs_1 < 0$ so $rs_1 \in xy$. If $0 \leq s_1$ then we also have $rs_1 \in xy$.
			\end{proof}
			\step{three}{$rs_2 \in xz$}
			\begin{proof}
				\pf\ Similar.
			\end{proof}
			\step{four}{$q \in xy+xz$}
			\begin{proof}
				\pf\ Since $q = rs_1 + rs_2$.
			\end{proof}
		\end{proof}
	\end{proof}
	\step{c}{$xy+xz \subseteq x(y+z)$}
	\begin{proof}
		\step{i}{\pflet{$q \in xy$ and $r \in xz$.} \prove{$q+r \in x(y+z)$}}
		\step{ii}{\case{$q < 0$ and $r < 0$}}
		\begin{proof}
			\pf\ Then $q + r < 0$ so $q + r \in x(y+z)$.
		\end{proof}
		\step{iii}{\case{$q < 0$ and $r = r_1 r_2$ where $0 \leq r_1 \in x$ and $0 \leq r_2 \in z$}}
		\begin{proof}
			\step{one}{$q + r < r$}
			\step{two}{$q + r \in xz$}
			\step{three}{\assume{w.l.o.g. $0 \leq q + r$}}
			\begin{proof}
				\pf\ Otherwise $q + r \in x(y+z)$ immediately.
			\end{proof}
			\step{four}{\pick\ $s_1$, $s_2$ with $0 \leq s_1 \in x$, $0 \leq s_2 \in y$ and $q + r = s_1 s_2$}
			\step{five}{$s_2 \in y + z$}
			\begin{proof}
				\pf\ Since $0 \in z$ so $s_2 = s_2 + 0 \in y + z$.
			\end{proof}
			\step{six}{$q + r \in x(y+z)$}
		\end{proof}
		\step{iv}{\case{$q = q_1 q_2$ where $0 \leq q_1 \in x$ and $0 \leq q_2 \in y$ and $r < 0$}}
		\begin{proof}
			\pf\ Similar.
		\end{proof}
		\step{v}{\case{$q = q_1 q_2$ where $0 \leq q_1 \in x$ and $0 \leq q_2 \in y$ and $r = r_1 r_2$ where $0 \leq r_1 \in x$ and $0 \leq r_2 \in z$}}
		\begin{proof}
			\step{one}{\assume{w.l.o.g. $q_1 \leq r_1$}}
			\step{two}{$q + r \leq r_1(q_2 + r_2) \in x(y+z)$}
		\end{proof}
	\end{proof}
\end{proof}
\step{2}{For any negative real $x$ and non-negative reals $y$ and $z$, we have $x(y+z) = xy+xz$}
\begin{proof}
	\pf
	\begin{align*}
	x(y+z) = -(-x)(y+z)
	& = -((-x)y + (-x)z) & (\text{\stepref{1}}) \\
	& = -((-x)y) -((-x)z) \\
	& = xy + xz
	\end{align*}
\end{proof}
\step{3}{For any non-negative real $x$ and reals $y$ and $z$ with one negative and one non-negative, we have $x(y+z) = xy+xz$}
\begin{proof}
	\step{a}{\assume{w.l.o.g. $y$ is negative and $z$ is non-negative.}}
	\step{b}{\case{$0 \leq y + z$}}
	\begin{proof}
		\pf
		\begin{align*}
		xy + xz & = xy + x(-y + y + z) \\
		& = -(x(-y)) + x(-y + y + z) \\
		& = -(x(-y)) + x(-y) + x(y+z) & (\text{\stepref{1}}) \\
		& = x(y+z)
		\end{align*}
	\end{proof}
	\step{c}{\case{$y + z < 0$}}
	\begin{proof}
		\step{one}{$-y-z > 0$}
		\step{two}{$-y = z -y-z$}
		\step{three}{$xy + xz = x(y+z)$}
		\begin{proof}
			\pf
			\begin{align*}
				xy + xz & = -(x(-y)) + xz \\
				& = -(x(z -y-z)) + xz \\
				& = -(xz + x(-y-z)) + xz & (\text{\stepref{1}}) \\
				& = -xy -x(-y-z) + xz \\
				& = -x(-y-z) \\
				& = x(y+z)
			\end{align*}
		\end{proof}
	\end{proof}
\end{proof}
\step{4}{For any non-negative real $x$ and negative reals $y$ and $z$, we have $x(y+z) = xy+xz$}
\begin{proof}
	\pf
	\begin{align*}
		x(y+z) & = -x(-y-z) \\
		& = -(x(-y) + x(-z)) & (\text{\stepref{1}}) \\
		& = -x(-y) -x(-z) \\
		& = xy + xz
	\end{align*}
\end{proof}
\step{5}{For any negative real $x$ and reals $y$ and $z$ with one negative and one non-negative, we have $x(y+z) = xy+xz$}
\begin{proof}
	\step{a}{\assume{w.l.o.g. $y$ is negative and $z$ is non-negative.}}
	\step{b}{\case{$0 \leq y + z$}}
	\begin{proof}
		\pf
		\begin{align*}
			x(y+z) & = -((-x)(y+z)) \\
			& = -((-x)y + (-x)z) & (\text{\stepref{3}}) \\
			& = -((-x)y) -((-x)z) \\
			& = (-x)(-y) - ((-x)z) \\
			& = xy+xz
		\end{align*}
	\end{proof}
	\step{c}{\case{$y + z < 0$}}
	\begin{proof}
		\pf
		\begin{align*}
			x(y+z) & = (-x)(-y-z) \\
			& = (-x)(-y) + (-x)(-z) & (\text{\stepref{3}}) \\
			& = xy + xz
		\end{align*}
	\end{proof}
\end{proof}
\step{6}{For any negative reals $x$, $y$ and $z$, we have $x(y+z) = xy+xz$}
\begin{proof}
	\pf
	\begin{align*}
		x(y+z) & = (-x)(-y-z) \\
		& = (-x)(-y) + (-x)(-z) & (\text{\stepref{1}}) \\
		& = xy + xz
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any real $x$ we have $x1 = x$.
\end{prop}

\begin{proof}
\pf
\step{1}{\case{$0 \leq x$}}
\begin{proof}
	\step{a}{$x1 \subseteq x$}
	\begin{proof}
		\step{one}{\pflet{$q \in x1$}}
		\step{two}{\case{$q < 0$}}
		\begin{proof}
			\pf\ Then $q \in x$ because $0 \leq x$.
		\end{proof}
		\step{three}{$q = rs$ where $0 \leq r \in x$ and $0 \leq s < 1$}
		\begin{proof}
			\pf\ Then $q < r$ so $q \in x$.
		\end{proof}
	\end{proof}
	\step{b}{$x \subseteq x1$}
	\begin{proof}
		\step{one}{\pflet{$q \in x$}}
		\step{two}{\assume{w.l.o.g. $0 \leq q$}}
		\step{two}{\pick\ $r$ such that $q < r \in x$}
		\step{three}{$0 \leq q/r < 1$}
		\step{four}{$q = r(q/r) \in x1$}
	\end{proof}
\end{proof}
\step{2}{\case{$x < 0$}}
\begin{proof}
	\pf
	\begin{align*}
		x1 & = -((-x)1) \\
		& = -(-x) & (\text{\stepref{1}}) \\
		& = x
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{lm}
\label{lm:Rmultinv}
Let $x \in \mathbb{R}$ and $c$ be a positive rational. Then there exists $a \in x$ and a non-least rational upper bound $b$ for $x$ such that $b-a = c$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pick\ $a_1 \in x$ such that if $x$ has a rational supremum $s$ then $a_1 > s - c$}
\step{2}{There exists a natural number $n$ such that $a_1 + nc$ is an upper bound for $x$.}
\begin{proof}
\step{2}{\pick\ a non-least upper bound $b_1$ for $x$.}
\step{3}{\pick\ a natural number $n$ such that $nc > b_1 - a_1$}
\begin{proof}
	\pf\ Proposition \ref{prop:Qarchimedean}.
\end{proof}
\step{4}{$a_1 + nc > b_1$}
\step{5}{$a_1 + nc$ is an upper bound for $x$.}
\end{proof}
\step{6}{\pflet{$k$ be the least natural number such that $a_1 + kc$ is an upper bound for $x$.}}
\step{7}{$a_1 + (k-1)c \in x$}
\step{8}{$a_1 + kc$ is not the supremum of $x$.}
\begin{proof}
	\step{a}{\assume{for a contradiction $a_1 + kc$ is the supremum of $x$.}}
	\step{b}{$a_1 > a_1 + (k-1)c$}
	\begin{proof}
		\pf\ \stepref{1}
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\step{9}{\pflet{$a = a_1 + (k-1)c$}}
\step{10}{\pflet{$b = a_1 + kc$}}
\step{11}{$b - a = c$}
\qed
\end{proof}

\begin{prop}
For any non-zero real $x$, there exists a real $y$ such that $xy = 1$.
\end{prop}

\begin{proof}
\pf
\step{1}{\case{$0 < x$}}
\begin{proof}
	\step{a}{\pflet{$y = \{ q \in \mathbb{Q} \mid q \leq 0 \} \cup \{ u^{-1} \mid u \text{ is an upper bound for } x \text{ but not the supremum of } x \}$}}
	\step{b}{$y$ is a real number.}
	\begin{proof}
		\step{i}{$y \neq \emptyset$}
		\begin{proof}
			\pf\ Since $0 \in y$.
		\end{proof}
		\step{ii}{$y \neq \mathbb{Q}$}
		\begin{proof}
			\step{one}{\pick\ $q \in x$ such that $0 < q$}
			\step{two}{$q^{-1} \notin y$}
		\end{proof}
		\step{iii}{$y$ is closed downwards.}
		\begin{proof}
			\step{one}{\pflet{$q \in y$ and $r < q$} \prove{$r \in y$}}
			\step{two}{\assume{w.l.o.g. $0 < r$}}
			\step{three}{$q^{-1}$ is a non-least upper bound for $x$.}
			\step{four}{$q^{-1} < r^{-1}$}
			\step{five}{$r^{-1}$ is a non-least upper bound for $x$.}
			\step{six}{$r \in y$}
		\end{proof}
		\step{iv}{$y$ has no greatest element.}
		\begin{proof}
			\step{one}{\pflet{$q \in y$} \prove{There exists $r \in y$ such that $q < r$}}
			\step{two}{\case{$q \leq 0$}}
			\begin{proof}
				\step{A}{\pick\ a non-least upper bound $u$ for $x$.}
				\step{B}{$q < u^{-1} \in x$}
			\end{proof}
			\step{three}{\case{$q = u^{-1}$ where $u$ is a non-least upper bound for $x$.}}
			\begin{proof}
				\step{A}{\pick\ a non-least upper bound $v$ with $v < u$}
				\step{B}{$u^{-1} < v^{-1} \in y$}
			\end{proof}
		\end{proof}
	\end{proof}
	\step{c}{$0 < y$}
	\step{d}{$xy \subseteq 1$}
	\begin{proof}
		\step{i}{\pflet{$q \in xy$}}
		\step{ii}{\assume{w.l.o.g. $0 < q$}}
		\step{iii}{\pick\ $0 < r \in x$ and $0 < s \in y$ such that $q = rs$}
		\step{iv}{$s^{-1}$ is a non-least upper bound for $x$}
		\step{v}{$r < s^{-1}$}
		\step{vi}{$rs < 1$}
	\end{proof}
	\step{e}{$1 \subseteq xy$}
	\begin{proof}
		\step{i}{\pflet{$q < 1$} \prove{$q \in xy$}}
		\step{ii}{\assume{w.l.o.g. $0 < q$}}
		\step{iii}{\pick\ $a_1$ with $0 < a_1 \in x$}
		\step{iv}{$(1-q)a_1 > 0$}
		\step{v}{\pick\ $a \in x$ and a non-least upper bound $w$ of $x$ such that $w - a = (1-q)a_1$}
		\begin{proof}
			\pf\ Lemma \ref{lm:Rmultinv}.
		\end{proof}
		\step{vi}{$w - a < (1-q)w$}
		\step{vii}{$qw < a$}
		\step{viii}{$w < a / q$}
		\step{ix}{$a/q$ is a non-least upper bound for $x$}
		\step{xxx}{$q/a \in y$}
		\step{x}{$q \in xy$}
	\end{proof}
\end{proof}
\step{2}{\case{$x < 0$}}
\begin{proof}
	\step{a}{\pick\ $y$ such that $(-x)y = 1$}
	\begin{proof}
		\pf\ \stepref{1}
	\end{proof}
	\step{b}{$x(-y) = 1$}
\end{proof}
\qed
\end{proof}

\begin{prop}
For real numbers $x$, $y$ and $z$, if $0 < z$ then $x < y$ if and only if $xz < yz$.
\end{prop}

\begin{proof}
\pf
\step{1}{For any real numbers $x$, $y$ and $z$, if $0 < z$ and $x < y$ then $xz < yz$}
\begin{proof}
	\step{a}{\pflet{$x$, $y$ and $z$ be real numbers.}}
	\step{b}{\assume{$0 < z$ and $x < y$.}}
	\step{c}{$y = x + (y-x)$}
	\step{d}{$y-x > 0$}
	\step{e}{$(y-x)z > 0$}
	\step{f}{$yz > xz$}
	\begin{proof}
		\pf
		\begin{align*}
			yz & = (x+(y-x))z \\
			& = xz + (y-x)z \\
			& > xz
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{For any real numbers $x$, $y$ and $z$, if $0 < z$ and $xz < yz$ then $x < y$}
\begin{proof}
	\pf\ Proposition \ref{prop:strictmonotoneinv}.
\end{proof}
\qed
\end{proof}

\begin{cor}
The real numbers form a complete ordered field.
\end{cor}

\begin{prop}
\[ (0,1) \approx \mathbb{R} \]
\end{prop}

\begin{proof}
\pf\ The function $f(x) = (2x-1)/(x-x^2)$ is a bijection between $(0,1)$ and $\mathbb{R}$. \qed
\end{proof}

%TODO Define expansions in base n
\begin{prop}
\[ |\mathbb{R}| = 2^{\aleph_0} \]
\end{prop}

\begin{proof}
\pf
\step{1}{$(0,1) \preccurlyeq 2^\mathbb{N}$}
\begin{proof}
	\pf\ The function $H$ where $H(x)(n)$ is the $n$th binary digit of the binary expansion of $x$ is an injection.
\end{proof}
\step{2}{$2^\mathbb{N} \preccurlyeq \mathbb{R}$}
\begin{proof}
	\pf\ Map $f$ to the real number in $[0, 1/9]$ whose $n+1$st decimal digit is $f(n)$.
\end{proof}
\qed
\end{proof}

%TODO Define algebraic numbers
\begin{prop}
The set of algebraic numbers is countable.
\end{prop}

\begin{proof}
\pf\ There are countably many integer polynomials, each with finitely many roots. \qed
\end{proof}

\begin{cor}
There are uncountably many transcendental numbers.
\end{cor}

%TODO Define circles in the plane
\begin{prop}
Let $A$ be a set of disks in the plane, no two of which intersect. Then $A$ is countable.
\end{prop}

\begin{proof}
\pf\ Every circle includes a point with rational coordinates. Define $f : \{ q \in \mathbb{Q}^2 \mid \exists C \in A. q \in C \} \rightarrow A$ by $f(q) = C$ iff $q \in C$. Then $f$ is surjective. \qed
\end{proof}

\begin{prop}
There exists an uncountable set of circles in the plane that do not intersect.
\end{prop}

\begin{proof}
\pf\ The set of all circles with origin O is uncountable. \qed
\end{proof}
\chapter{Complex Analysis}

\begin{df}
For $p \geq 1$, let $l^p$ be the set of all sequences of complex numbers $(x_n)$ such that $\sum_{n=1}^\infty |x_n|^p < \infty$.
\end{df}

\begin{prop}
\label{prop:lp_closed_under_addition}
If $(x_n), (y_n) \in l^p$ then $(x_n + y_n) \in l^p$.
\end{prop}

\begin{proof}
\pf
\step{a}{\pflet{$(x_n), (y_n) \in l^p$}}
\step{b}{$\sum_{n=1}^\infty |x_n + y_n|^p \leq 2^p (\sum_{n=1}^\infty |x_n|^p + \sum_{n=1}^\infty |y_n|^p)$}
\begin{proof}
	\pf
	\step{i}{For all $n \in \mathbb{N}$ we have $|x_n + y_n|^p \leq 2^p (|x_n|^p + |y_n|^p)$.}
	\begin{proof}
		\pf
		\begin{align*}
			|x_n + y_n|^p & \leq (|x_n| + |y_n|)^p & (\text{Triangle Inequality}) \\
			& \leq (2 \max(|x_n|,|y_n|))^p \\
			& \leq 2^p (|x_n|^p + |y_n|^p)
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}[H\"{o}lder's Inequality]
Let $p$ and $q$ be reals such that $p > 1$, $q > 1$ and $1/p + 1/q = 1$. Let $(x_n) \in l^p$ and $(y_n) \in l^q$. Then
\[ \sum_n |x_n y_n| \leq \left( \sum_n |x_n|^p \right)^{1/p} \left( \sum_n |y_n|^q \right)^{1/q} \]
\end{thm}

\begin{proof}
\pf
\step{1}{\assume{w.l.o.g. neither $(x_n)$ nor $(y_n)$ are all zero.}}
\step{2}{For $0 \leq x \leq 1$ we have
\[ x^{1/p} \leq \frac{1}{p} x + \frac{1}{q} \enspace . \]}
\begin{proof}
	\step{a}{\pflet{$f(x) = x/p + 1/q - x^{1/p}$}}
	\step{b}{$f'(x) = 1/p(1 - x^{(1-p)/p})$}
	\step{bb}{$f'(x) \geq 0$ for all $x \in [0,1]$}
	\step{e}{$f$ is a monotonically decreasing function on $[0,1]$}
	\step{c}{$f(0) = 1/q$}
	\step{d}{$f(1) = 0$}
	\step{e}{$f(x) \geq 0$ for all $x \in [0,1]$}
\end{proof}
\step{3}{For any $a,b \geq 0$ we have
\[ ab \leq \frac{a^p}{p} + \frac{b^q}{q} \enspace . \]}
\begin{proof}
	\step{a}{\case{$a^p \leq b^q$}}
	\begin{proof}
		\step{i}{$ab^{-q/p} \leq \frac{1}{p} \frac{a^p}{b^q} + \frac{1}{q}$}
		\begin{proof}
			\pf\ Substituting $x = a^p / b^q$ in \stepref{2}.
		\end{proof}
		\step{ii}{$ab^{1-q} \leq \frac{1}{p} \frac{a^p}{b^q} + \frac{1}{q}$}
		\begin{proof}
			\pf\ From \stepref{i} since $1-q = -q/p$.
		\end{proof}
		\step{iii}{$ab \leq \frac{a^p}{p} + \frac{b^q}{q}$}
		\begin{proof}
			\pf\ Multiplying \stepref{ii} by $b^q$.
		\end{proof}
	\end{proof}
	\step{b}{\case{$b^q \leq a^p$}}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\step{4}{For any integers $1 \leq j \leq n$, we have
\[ \frac{|x_j|}{\left( \sum_{k=1}^n|x_k|^p\right)^{1/p}}
\frac{|y_j|}{\left( \sum_{k=1}^n |y_k|^q \right)^{1/q}}
\leq \frac{1}{p} \frac{|x_j|^p}{\sum_{k=1}^n |x_k|^p}
+ \frac{1}{q} \frac{|y_j|^q}{\sum_{k=1}^n |y_k|^q} \]}
\begin{proof}
	\pf\ From \stepref{3} substituting
	\[ a = \frac{|x_j|}{\left( \sum_{k=1}^n |x_k|^p \right)^{1/p}} \text{ and }
	b = \frac{|y_j|}{\left( \sum_{k=1}^n |y_k|^q \right)^{1/q}} \]
\end{proof}
\step{5}{For any positive integer $n$ we have
\[ \frac{\sum_{k=1}^n |x_k| |y_k|}{\left( \sum_{k=1}^n |x_k|^p \right)^{1/p}
\left( \sum_{k=1}^n |y_k|^q \right)^{1/q}}
\leq 1 \]}
\begin{proof}
	\pf
	\begin{align*}
		\frac{\sum_{j=1}^n |x_j| |y_j|}{\left( \sum_{k=1}^n |x_k|^p \right)^{1/p}
\left( \sum_{k=1}^n |y_k|^q \right)^{1/q}}
& \leq \frac{1}{p} + \frac{1}{q} & (\text{Summing \stepref{4} from } j = 1 \text{ to } n) \\
& = 1
	\end{align*}
\end{proof}
\step{6}{\[ \sum_n |x_n y_n| \leq \left( \sum_n |x_n|^p \right)^{1/p} \left( \sum_n |y_n|^q \right)^{1/q} \]}
\begin{proof}
	\pf\ Taking the limit $n \rightarrow \infty$ in \stepref{5}.
\end{proof}
\qed
\end{proof}

\begin{thm}[Minkowski's Inequality]
Let $p \geq 1$. Let $(x_n), (y_n) \in l^p$. Then
\[ \left( \sum_{n=1}^\infty |x_n + y_n|^p \right)^{1/p} \leq \left( \sum_{n=1}^\infty |x_n|^p \right)^{1/p} + \left( \sum_{n=1}^\infty |y_n|^p \right)^{1/p} \]
\end{thm}

\begin{proof}
\pf
\step{1}{\case{$p = 1$}}
\begin{proof}
	\pf\ This is just the Triangle Inequality.
\end{proof}
\step{2}{\case{$p > 1$}}
\begin{proof}
	\step{a}{\pflet{$q = p/(p-1)$}}
	\step{b}{\begin{align*}
	 \sum_{n=1}^\infty |x_n + y_n|^p & \leq \left( \sum_{n=1}^\infty |x_n|^p \right)^{1/p} \left( \sum_{n=1}^\infty |x_n + y_n|^{q(p-1)} \right)^{1/q} \\
	& + \left( \sum_{n=1}^\infty |y_n|^p \right)^{1/p} \left( \sum_{n=1}^\infty |x_n + y_n|^{q(p-1)} \right)^{1/q}
	\end{align*}}
	\begin{proof}
		\pf
		\step{i}{$(|x_n + y_n|^{p-1}) \in l^q$}
		\begin{proof}
			\pf
			\begin{align*}
				\sum_{n=1}^\infty |x_n + y_n|^{(p-1)q} & = \sum_{n=1}^\infty |x_n + y_n|^p & (\text{\stepref{b}}) \\
				& < \infty & (\text{Proposition \ref{prop:lp_closed_under_addition}})
			\end{align*}
		\end{proof}
		\qedstep
		\begin{proof}
		\pf
		\begin{align*}
			\sum_{n=1}^\infty |x_n + y_n|^p
			& = \sum_{n=1}^\infty |x_n + y_n| |x_n + y_n|^{p-1} \\
			& \leq \sum_{n=1}^\infty |x_n| |x_n + y_n|^{p-1} + \sum_{n=1}^\infty |y_n| |x_n + y_n|^{p-1} \\
			& \leq \left( \sum_{n=1}^\infty |x_n|^p \right)^{1/p} \left( \sum_{n=1}^\infty |x_n + y_n|^{q(p-1)} \right)^{1/q} \\
	& + \left( \sum_{n=1}^\infty |y_n|^p \right)^{1/p} \left( \sum_{n=1}^\infty |x_n + y_n|^{q(p-1)} \right)^{1/q} & (\text{H\"{o}lder's Inequality}, \text{\stepref{b}})
		\end{align*}
		\end{proof}
	\end{proof}
	\step{c}{\[ \sum_{n=1}^\infty |x_n + y_n|^p
	\leq \left\{ \left( \sum_{n=1}^\infty |x_n|^p \right)^{1/p} + \left(
	\sum_{n=1}^\infty |y_n|^p \right)^{1/p} \right\}
	\left( \sum_{n=1}^\infty |x_n + y_n|^p \right)^{1/q} \]}
	\begin{proof}
		\step{i}{$q(p-1)=p$}
		\begin{proof}
			\pf\ \stepref{b}
		\end{proof}
		\qedstep
		\begin{proof}
			\pf\ From \stepref{b}, \stepref{i}.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\part{Linear Algebra}

\chapter{Vector Spaces}

\section{Vector Spaces}

%TODO Define $\mathbb{C}$
\begin{df}[Vector Space]
Let $K$ be either $\mathbb{R}$ or $\mathbb{C}$. A \emph{vector space} over $K$ is a triple $(V,+,\cdot)$ such that:
\begin{itemize}
\item $V$ is a nonempty set, whose elemnts are called \emph{vectors};
\item $+ : V^2 \rightarrow V$
\item $\cdot : K \times V \rightarrow V$
\end{itemize}
such that the following hold for all $u,v,w \in V$ and $\alpha, \beta \in K$:
\begin{enumerate}
\item $u + v = v + u$
\item $u + (v + w) = (u + v) + w$
\item For every $u, v \in V$ there exists $w \in V$ such that $u + w = v$
\item $\alpha (\beta v) = (\alpha \beta) v$
\item $(\alpha + \beta) v = \alpha v + \beta v$
\item $\alpha (u + v) = \alpha u + \alpha v$
\item $1v = v$
\end{enumerate}
Elements of $K$ are called \emph{scalars}.

We write \emph{real vector space} for 'vector space over $\mathbb{R}$', and \emph{complex vector space} for 'vector space over $\mathbb{C}$'.
\end{df}

\begin{prop}
Let $K$ be either $\mathbb{R}$ and $\mathbb{C}$.
The set $\{0\}$ is a vector space over $K$ under the unique functions $+ : \{0\}^2 \rightarrow \{0\}$, $\cdot : K \times \{0\} \rightarrow \{0\}$.
\end{prop}

\begin{proof}
\pf\ Each axiom holds trivially because $x=y$ holds for all $x,y \in \{0\}$. \qed
\end{proof}

\begin{prop}
The set $\mathbb{R}$ is a real vector space under real addition and real multiplication.
\end{prop}

\begin{proof}
\pf\ TODO --- after we have proved these facts about $\mathbb{R}$. \qed
\end{proof}

\begin{prop}
The set $\mathbb{C}$ is a real vector space under complex addition and complex multiplication.
\end{prop}

\begin{proof}
\pf\ TODO
\end{proof}

\begin{prop}
The set $\mathbb{C}$ is a complex vector space under complex addition and complex multiplication.
\end{prop}

\begin{proof}
\pf\ TODO
\end{proof}

\begin{prop}
Let $K$ be either $\mathbb{R}$ or $\mathbb{C}$.
Let $\{ V_i \}_{i \in I}$ be a family of vector spaces over $K$. Then $\prod_{i \in I} V_i$ is a vector space over $K$ under the operations given by
\begin{align*}
\{x_i\}_{i \in I} + \{y_i\}_{i \in I} & = \{ x_i + y_i \}_{i \in I} \\
\alpha \{x_i\}_{i \in I} & = \{ \alpha x_i \}_{i \in I}
\end{align*}
\end{prop}

\begin{proof}
\pf\ Each axiom follows from the corresponding axiom in $V_i$. \qed
\qed
\end{proof}

\begin{cor}
Let $V$ be a vector space over $K$. For any set $I$, we have $V^I$ is a vector space over $K$.
\end{cor}

\begin{cor}
Let $n \in \mathbb{Z}_+$. Then $\mathbb{R}^n$ is a real vector space, and $\mathbb{C}^n$ is both a real and a complex vector space, under
\begin{align*}
(x_1, \ldots, x_n) + (y_1, \ldots, y_n) & = (x_1 + y_1, \ldots, x_n + y_n) \\
\lambda (x_1, \ldots, x_n) & = (\lambda x_1, \ldots, \lambda x_n)
\end{align*}
\end{cor}

\begin{prop}
\label{prop:zero}
Let $V$ be a vector space over $K$. Then there exists a unique $0 \in V$ such that, for all $v \in V$, we have $v + 0 = v$.
\end{prop}

\begin{proof}
\pf
\step{1}{There exists $0 \in V$ such that $\forall v \in V. v + 0 = v$}
\begin{proof}
	\step{a}{Pick $v \in V$}
	\step{b}{Pick $0 \in V$ such that $v + 0 = v$}
	\begin{proof}
		\pf\ Axiom 3.
	\end{proof}
	\step{c}{For all $u \in V$, we have $u + 0 = u$}
	\begin{proof}
		\step{i}{\pflet{$u \in V$}}
		\step{ii}{\pick\ $u' \in V$ such that $v + u' = u$}
		\begin{proof}
			\pf\ Axiom 3.
		\end{proof}
		\step{ii}{$u + 0 = u$}
		\begin{align*}
			u + 0 & = v + u' + 0 & (\text{\stepref{ii}}) \\
			& = v + u' & (\text{\stepref{b}}) \\
			& = u & (\text{\stepref{ii}}) 
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{If $0, 0' \in V$ are such that $\forall v \in V. v + 0 = v$ and $\forall v \in V. v + 0' = v$, then $0 = 0'$.}
\begin{proof}
	\step{a}{\pflet{$0,0' \in V$}}
	\step{b}{\assume{$\forall v \in V. v + 0 = v$}}
	\step{c}{\assume{$\forall v \in V. v + 0' = v$}}
	\step{d}{$0 = 0'$}
	\begin{align*}
		0 & = 0 + 0' & (\text{\stepref{b}}) \\
		& = 0' & (\text{\stepref{c}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:subtract}
Let $V$ be a vector space. For any $v \in V$, there exists a unique $-v \in V$ such that $v + (-v) = 0$.
\end{prop}

\begin{proof}
\pf
\step{0}{\pflet{$v \in V$}}
\step{1}{There exists $-v \in V$ such that $v + (-v) = u$}
\begin{proof}
	\pf\ Axiom 3.
\end{proof}
\step{2}{If $v + x = 0$ and $v + y = 0$ then $x = y$}
\begin{proof}
	\step{a}{\assume{$v + x = 0$}}
	\step{b}{\assume{$v + y = 0$}}
	\step{c}{$x = y$}
	\begin{proof}
	\pf
		\begin{align*}
			x & = x + 0 & (\text{Proposition \ref{prop:zero}}) \\
			& = x + v + y & (\text{\stepref{b}}) \\
			& = 0 + y & (\text{\stepref{a}}) \\
			& = y & (\text{Proposition \ref{prop:zero}})
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $V$ be a vector space. For any $u,v \in V$, there exists a unique $u-v \in V$ such that $v + (u-v) = u$, namely $u-v = u + (-v)$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$u,v \in V$}}
\step{2}{$v + (u + (-v)) = u$}
\begin{proof}
	\pf
	\begin{align*}
	v + u + (-v) & = u + 0 & (\text{Proposition \ref{prop:subtract}}) \\
	& = u & (\text{Proposition \ref{prop:zero}})
	\end{align*}
\end{proof}
\step{3}{For all $x \in V$, if $v + x = u$ then $x = u + (-v)$.}
\begin{proof}
	\step{a}{\pflet{$x \in V$}}
	\step{b}{\assume{$v + x = u$}}
	\step{c}{$x = u + (-v)$}
	\begin{proof}
		\pf
		\begin{align*}
			u + (-v) & = v + x + (-v) & (\text{\stepref{b}}) \\
			& = x + 0 & (\text{Proposition \ref{prop:subtract}}) \\
			& = x & (\text{Proposition \ref{prop:zero}})
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:cancel}
Let $V$ be a vector space over $K$. Let $u,v,w \in V$. If $u + v = u + w$ then $v = w$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$u + v = u + w$}}
\step{2}{$v = w$}
\begin{proof}
	\pf
	\begin{align*}
		v & = v + 0 & (\text{Proposition \ref{prop:zero}}) \\
		& = v + u + (-u) & (\text{Proposition \ref{prop:subtract}}) \\
		& = w + u + (-u) & (\text{\stepref{1}}) \\
		& = w + 0 & (\text{Proposition \ref{prop:subtract}}) \\
		& = w & (\text{Proposition \ref{prop:zero}})
	\end{align*}
\end{proof}
\end{proof}

\begin{prop}
Let $V$ be a vector space over $K$. Let $\lambda \in K$. Then $\lambda 0 = 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\lambda 0 + \lambda 0 = \lambda 0 + 0$}
\begin{proof}
	\pf
	\begin{align*}
		\lambda 0 + \lambda 0 & = \lambda (0 + 0) & (\text{Axiom 6}) \\
		& = \lambda 0 & (\text{Proposition \ref{prop:zero}})
	\end{align*}
\end{proof}
\step{2}{$\lambda 0 = 0$}
\begin{proof}
	\pf\ Proposition \ref{prop:cancel}.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $V$ be a vector space over $K$. Let $\lambda \in K$ and $v \in V$. If $\lambda v = 0$ then $\lambda = 0$ or $v = 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$\lambda \neq 0$}}
\step{2}{\assume{$\lambda v = 0$}}
\step{3}{$v = 0$}
\begin{proof}
	\pf
	\begin{align*}
		v & = 1 v & (\text{Axiom 7}) \\
		& = \lambda^{-1} \lambda v \\
		& = \lambda^{-1} 0 & (\text{\stepref{2}}) \\
		& = 0
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:zeromult}
Let $V$ be a vector space over $K$. For all $v \in V$ we have $0v = 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{$0v + 0 = 0v+0v$}
\begin{proof}
	\begin{align*}
	0v + 0 & = 0v & (\text{Proposition \ref{prop:zero}}) \\
	& = (0+0)v \\
	& = 0v + 0v & (\text{Axiom 5})
\end{align*}
\end{proof}
\step{2}{$0v = 0$}
\begin{proof}
	\pf\ Proposition \ref{prop:cancel}, \stepref{1}.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $V$ be a vector space over $K$. Let $v \in V$. Then $(-1)v = -v$.
\end{prop}

\begin{proof}
\pf
\step{1}{$v + (-1)v = 0$}
\begin{proof}
	\pf
	\begin{align*}
		v + (-1)v & = 1v + (-1)v & (\text{Axiom 7}) \\
		& = (1 + (-1))v & (\text{Axiom 5}) \\
		& = 0v \\
		& = 0 & (\text{Proposition \ref{prop:zeromult}})
	\end{align*}
\end{proof}
\qedstep
\begin{proof}
	\pf\ Proposition \ref{prop:subtract}.
\end{proof}
\qed
\end{proof}

\section{Subspaces}

\begin{df}[Subspace]
Let $V$ be a vector space over $K$ and $U \subseteq V$. Then $U$ is a \emph{subspace} of $V$ iff $\forall \alpha, \beta \in K. \forall u,v \in U. \alpha u + \beta v \in U$. It is a \emph{proper} subspace iff in addition $U \neq V$.
\end{df}

\begin{prop}
Let $V$ be a vector space over $K$ and $U$ a subspace of $V$. Then $U$ is a vector space over $K$ under the restrictions of the operations of $V$.
\end{prop}

\begin{proof}
\pf\ Each of the axioms follows from the corresponding axiom in $V$. For axiom 3, we have if $u,v \in U$ then $v-u = 1v + (-1)u \in U$. \qed
\end{proof}

\begin{prop}
Every vector space is a subspace of itself.
\end{prop}

\begin{proof}
\pf\ Trivial. \qed
\end{proof}

%TODO Define everything below
\begin{prop}
Let $\Omega$ be a subset of $\mathbb{R}^N$. Let $\mathcal{C}(\Omega)$ be the set of all continuous functions $\Omega \rightarrow \mathbb{C}$. Then $\mathcal{C}(\Omega)$ is a subspace of $\mathbb{C}^\Omega$.
\end{prop}

\begin{proof}
\pf\ If $f,g : \Omega \rightarrow \mathbb{C}$ are continuous then so is $\alpha f + \beta g$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be an open set in $\mathbb{R}^N$. Let $\mathcal{C}^k(\Omega)$ be the set of all continuous functions $\Omega \rightarrow \mathbb{C}$ with continuous partial derivatives of order $k$. Then $\mathcal{C}^k(\Omega)$ is a subspace of $\mathbb{C}^\Omega$.
\end{prop}

\begin{proof}
\pf\ If $f,g : \Omega \rightarrow \mathbb{C}$ have continuous partial derivatives of order $k$ then so does $\alpha f + \beta g$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be an open set in $\mathbb{R}^N$. Let $\mathcal{C}^\infty(\Omega)$ be the set of all infinitely differentiable functions $\Omega \rightarrow \mathbb{C}$. Then $\mathcal{C}^\infty(\Omega)$ is a subspace of $\mathbb{C}^\Omega$.
\end{prop}

\begin{proof}
\pf\ If $f,g : \Omega \rightarrow \mathbb{C}$ are infinitely differentiable then so is $\alpha f + \beta g$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be an open set in $\mathbb{R}^N$. Let $\mathcal{P}(\Omega)$ be the set of all polynomials in $N$ variables considered as functions $\Omega \rightarrow \mathbb{C}$. Then $\mathcal{P}(\Omega)$ is a subspace of $\mathbb{C}^\Omega$.
\end{prop}

\begin{proof}
\pf\ If $f,g : \Omega \rightarrow \mathbb{C}$ are polynomials in $N$ variables then so is $\alpha f + \beta g$. \qed
\end{proof}

\begin{prop}
Let $V$ be a vector space and $U_1$, $U_2$ subspaces of $V$. If $U_1 \subseteq U_2$ then $U_1$ is a subspace of $U_2$.
\end{prop}

\begin{proof}
\pf\ Trivial. \qed
\end{proof}

\begin{prop}
Let $V$ be a vector space over $K$ . The intersection of a set of subspaces of $V$ is a subspace of $V$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{U}$ be a set of subspaces of $V$.}}
\step{2}{\pflet{$u,v \in \bigcap \mathcal{U}$ and $\lambda, \mu \in K$}}
\step{3}{$\lambda u + \mu v \in \bigcap \mathcal{U}$}
\begin{proof}
	\step{a}{\pflet{$U \in \mathcal{U}$}}
	\step{b}{$u,v \in U$}
	\begin{proof}
		\pf\ \stepref{2}, \stepref{a}.
	\end{proof}
	\step{c}{$\lambda u + \beta v \in U$}
	\begin{proof}
		\pf\ \stepref{1}, \stepref{2}, \stepref{a}, \stepref{b}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
The set of all bounded complex sequences is a proper subspace of $\mathbb{C}^\mathbb{N}$.
\end{prop}

\begin{proof}
\pf\ If $(x_n)$ and $(y_n)$ are bounded then so is $(\lambda x_n + \mu y_n)$. \qed
\end{proof}

\begin{prop}
The set of all convergent complex sequences is a proper subspace of the space of all bounded complex sequences.
\end{prop}

\begin{proof}
\pf\ If $(x_n)$ and $(y_n)$ converge then so does $(\lambda x_n + \mu y_n)$. \qed
\end{proof}

\begin{prop}
The set $l^p$ of all sequences $(x_n)$ in $\mathbb{C}$ such that $\sum_n |x_n|^p < \infty$ is a subspace of $\mathbb{C}^\mathbb{N}$.
\end{prop}

\begin{proof}
\pf\ It is closed under addition by Proposition \ref{prop:lp_closed_under_addition}, and it is easy to see that it is closed under scalar multiplication. \qed
\end{proof}

\section{Linear Independence and Bases}

\begin{df}[Linear Combination]
Let $V$ be a vector space over $K$. Let $v, v_1, \ldots, v_n \in V$. Then $v$ is a \emph{linear combination} of $v_1$, \ldots, $v_n$ iff there exist scalars $\lambda_1, \ldots, \lambda_n \in K$ such that
\[ v = \lambda_1 v_1 + \cdots + \lambda_n v_n \enspace . \]
\end{df}

\begin{df}[Linearly Independent]
Let $V$ be a vector space over $K$. Let $A \subseteq V$. Then $A$ is \emph{linearly independent} iff, for all $\lambda_1, \ldots, \lambda_n \in K$ and $v_1, \ldots, v_n \in A$, if $\lambda_1 v_1 + \cdots + \lambda_n v_n = 0$ then $\lambda_1 = \cdots = \lambda_n = 0$.
\end{df}

\begin{df}[Span]
Let $V$ be a vector space over $K$ and $A \subseteq V$. The \emph{span} of $A$, or the subspace of $V$ \emph{spanned} by $A$, is the set of all linear combinations of vectors in $A$.
\end{df}

\begin{prop}
Let $V$ be a vector space over $K$ and $A \subseteq V$. Then $\spn A$ is a subspace of $V$.
\end{prop}

\begin{proof}
\pf\ Given $\alpha, \beta \in K$ and $\lambda_1 u_1 + \cdots + \lambda_m u_m, \mu_1 v_1 + \cdots + \mu_n v_n \in \spn A$, we have
\begin{align*}
& \alpha (\lambda_1 u_1 + \cdots + \lambda_m u_m) + \beta (\mu_1 v_1 + \cdots + \mu_n v_n) \\
& = \alpha \lambda_1 u_1 + \cdots + \alpha \lambda_m u_m + \beta \mu_1 v_1 + \cdots + \beta \mu_n v_n \\
& \in \spn A & \qed
\end{align*}
\end{proof}

\begin{df}[Basis]
Let $V$ be a vector space over $K$ and $B \subseteq V$. Then $B$ is a \emph{basis} for $V$ iff $B$ is linearly independent and $\spn B = V$.
\end{df}

\begin{df}[Finite Dimensional]
A vector space is \emph{finite dimensional} iff there exists a finite basis; otherwise it is \emph{infinite dimensional}.
\end{df}

\begin{prop}
In a finite dimensional space, any two bases have the same size.
\end{prop}

\begin{proof}
TODO
\end{proof}

\begin{df}[Dimension]
The \emph{dimension} of a finite dimensional vector space $V$, $\dim V$, is the number of vectors in any basis.
\end{df}

\begin{prop}
Let $K$ be either $\mathbb{R}$ or $\mathbb{C}$. Then $K^n$ as a vector space over $K$ has dimension $n$.
\end{prop}

\begin{proof}
\pf\ The vectors with one component 1 and all other components 0 form a basis. \qed
\end{proof}

\begin{prop}
As a real vector space, $\mathbb{C}^n$ has dimension $2n$.
\end{prop}

\begin{proof}
\pf\ The vectors with one component either 1 or $i$ and all other components 0 form a basis. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be a nonempty open set in $\mathbb{R}^n$. The space $\mathcal{C}(\Omega)$ is infinite dimensional.
\end{prop}

\begin{proof}
\pf\ Let $\pi_1 : \mathbb{R}^n \rightarrow \mathbb{R}$ be the first projection. The functions $1$, $\pi_1(x)$, $\pi_1(x)^2$, $\pi_1(x)^3$, \ldots form an infinite linearly independent set in $\mathcal{C}(\Omega)$. \qed
\end{proof}

\begin{prop}
The spaces $\mathcal{C}^k(\mathbb{R}^n)$ and $\mathcal{C}^\infty(\mathbb{R}^n)$ are infinite dimensional.
\end{prop}

\begin{proof}
\pf\ The monomials $1$, $x$, $x^2$, \ldots form an infinite linearly independent set. \qed
\end{proof}

\section{Linear Mappings}

\begin{df}[Kernel]
Let $U$ and $V$ be vector spaces and $T : U \rightarrow V$. The \emph{kernel} of $T$ is
\[ \ker T := \{ u \in U \mid T(u) = 0 \} \enspace . \]
\end{df}

\begin{df}[Linear Mapping]
Let $U$ and $V$ be vector spaces over $K$. A function $L : U \rightarrow V$ is a \emph{linear mapping} iff $\forall x,y \in U. \forall \alpha, \beta \in K. L(\alpha x + \beta y) = \alpha L(x) + \beta L(y)$.
\end{df}

\begin{prop}
Let $U$ and $V$ be vector spaces over $K$. The set of linear mappings from $U$ to $V$ is a subspace of $V^U$.
\end{prop}


\section{Eigenvalues and Eigenvectors}

\begin{df}[Eigenvalue and Eigenvector]
Let $V$ be a vector space over $K$. Let $A : V \rightarrow V$ be a linear transformation. Let $v \in V$ and $\lambda \in K$. Then $v$ is an \emph{eigenvector} of $A$ with \emph{eigenvalue} $\lambda$ iff $A(v) = \lambda v$.
\end{df}

\chapter{Normed Spaces}

\begin{df}[Norm]
Let $K$ be either $\mathbb{R}$ or $\mathbb{C}$. Let $V$ be a vector space over $K$. A \emph{norm} on $V$ is a function $\|\ \| : V \rightarrow \mathbb{R}$ such that, for all $u,v \in V$ and $\lambda \in K$:
\begin{enumerate}
\item If $\|v\| = 0$ then $v = 0$.
\item $\| \lambda v\| = |\lambda| \|v\|$
\item (\emph{Triangle Inequality}) $\|u + v\| \leq \|u\| + \|v\|$
\end{enumerate}
A \emph{normed space} over $K$ is a pair $(V, \|\ \|)$ where $V$ is a vector space over $K$ and $\|\ \|$ is a norm on $V$.
\end{df}

\begin{prop}
\label{prop:normzero}
In a normed space, $\|0\| = 0$.
\end{prop}

\begin{proof}
\pf\ $\|0\| = |0| \|0\| = 0$ by Axiom 2. \qed
\end{proof}

\begin{prop}
\label{prop:normnonnegative}
Let $V$ be a normed vector space over $K$. For all $v \in V$ we have $\| v \| \geq 0$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
0 & = \|0\| & (\text{Proposition \ref{prop:normzero}}) \\
& = \| v - v\| \\
& \leq \|v\| + \|-v\| & (\text{Triangle Inequality}) \\
& = 2\|v\| & (\text{Axiom 2})
\end{align*}
\end{proof}

\begin{prop}
\label{prop:diffnorms}
Let $V$ be a normed space. Let $u,v \in V$. Then
\[ |\|u\| - \|v\|| \leq \|u-v\| \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
\|u\| & \leq \|u-v\| + \|v\| & (\text{Triangle Inequality}) \\
\therefore \|u\| - \|v\| & \leq \|u-v\| \\
\|v\| & \leq \|v-u\| + \|u\| & (\text{Triangle Inequality}) \\
& = \|u-v\| + \|u\| & (\text{Axiom 2})\\
\therefore \|v\| - \|u\| & \leq \|u-v\|
\end{align*}
\end{proof}

\begin{df}[Euclidean Norm]
The \emph{Euclidean norm} on $K^n$ is defined by
\[ \| (x_1, \ldots, x_n) \| = \sqrt{|x_1|^2 + \cdots + |x_n|^2} \enspace . \]
\end{df}

\begin{prop}
The Euclidean norm on $K^n$ is a norm.
\end{prop}

\begin{proof}
\pf
\step{1}{If $\|\vec{x}\| = 0$ then $\vec{x} = \vec{0}$}
\begin{proof}
	\pf\ If $\sqrt{|x_1|^2 + \cdots + |x_n|^2} = 0$ then $x_1 = \cdots = x_n = 0$.
\end{proof}
\step{2}{$\| \lambda \vec{x} \| = |\lambda| \|\vec{x}\|$}
\begin{proof}
	\pf
	\begin{align*}
		\| \lambda \vec{x} \| & \sqrt{|\lambda x_1|^2 + \cdots + |\lambda x_n|^2} \\
		& = \sqrt{|\lambda|^2 |x_1|^2 + \cdots + |\lambda|^2 |x_n|^2} \\
		& = |\lambda| \sqrt{|x_1|^2 + \cdots + |x_n|^2} \\
		& = |\lambda| \|\vec{x}\|
	\end{align*}
\end{proof}
\step{3}{$\|\vec{u} + \vec{v}\| \leq \| \vec{u}\| + \|\vec{v}\|$}
\begin{proof}
	\pf
	\begin{align*}
		\|\vec{u} + \vec{v}\|^2 & = |u_1 + v_1|^2 + \cdots + |u_n + v_n|^2 \\
		& = |u_1|^2 + \cdots + |u_n|^2 + |v_1|^2 + \cdots + |v_n|^2 \\
		& +
		2|u_1||v_1| + \cdots + 2|u_n||v_n| \\
		& \leq \|\vec{u}\|^2 + \|\vec{v}\|^2 + 2 |u_1 v_1 + \cdots + u_n v_n| \\
		& \leq \|\vec{u}\|^2 + \|\vec{v}\|^2 + 2 \| \vec{u} \| \| \vec{v} \| & (\text{Cauchy-Schwarz}) \\
		& = (\| \vec{u}\| + \|\vec{v}\|)^2
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{cor}
The absolute value function $|\ |$ is a norm on $K$.
\end{cor}

\begin{prop}
The function $\| \vec{x} \| = |x_1| + \cdots + |x_n|$ is a norm on $\mathbb{C}^n$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $\|\vec{x}\| = 0$ then $\vec{x} = \vec{0}$}
\begin{proof}
	\pf\ If $|x_1| + \cdots + |x_n| = 0$ then $x_1 = \cdots = x_n = 0$.
\end{proof}
\step{2}{$\| \lambda \vec{x} \| = |\lambda| \|\vec{x}\|$}
\begin{proof}
	\pf
	\begin{align*}
		\| \lambda \vec{x} \| & |\lambda x_1| + \cdots + |\lambda x_n| \\\\
		& = |\lambda| (|x_1| + \cdots + |x_n|) \\
		& = |\lambda| \|\vec{x}\|
	\end{align*}
\end{proof}
\step{3}{$\|\vec{u} + \vec{v}\| \leq \| \vec{u}\| + \|\vec{v}\|$}
\begin{proof}
	\pf
	\begin{align*}
		\|\vec{u} + \vec{v}\|^2 & = |u_1 + v_1| + \cdots + |u_n + v_n| \\
		& \leq |u_1| + |v_1| + \cdots + |u_n| + |v_n| \\
		& = \|\vec{u}\| + \|\vec{v}\|
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
The function $\|\vec{x}\| = \max(|x_1|, \ldots, |x_n|)$ is a norm on $\mathbb{C}^n$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $\|\vec{x}\| = 0$ then $\vec{x} = \vec{0}$}
\begin{proof}
	\pf\ If $\max(|x_1|, \ldots, |x|n|) = 0$ then $x_1 = \cdots = x_n = 0$.
\end{proof}
\step{2}{$\| \lambda \vec{x} \| = |\lambda| \|\vec{x}\|$}
\begin{proof}
	\pf
	\begin{align*}
		\|\lambda \vec{x}\| & = \max(|\lambda x_1|, \ldots, |\lambda x_n|) \\
		& = |\lambda| \max(|x_1|, \ldots, |x_n|) \\
		& = |\lambda| \|\vec{x}\|
	\end{align*}
\end{proof}
\step{3}{$\|\vec{u} + \vec{v}\| \leq \| \vec{u}\| + \|\vec{v}\|$}
\begin{proof}
	\pf
	\begin{align*}
		\|\vec{u} + \vec{v}\| & = \max(|u_1 + v_1|, \ldots, |u_n + v_n|) \\
		& \leq \max(|u_1| + |v_1|, \ldots, |u_n| + |v_n|) \\
		& \leq \max(|u_1|, \ldots, |u_n|) + \max(|v_1|, \ldots, |v_n|)
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}[Uniform Convergence Norm]
Let $\Omega$ be a closed bounded subset of $\mathbb{R}^n$. The \emph{uniform convergence norm} on $\mathcal{C}(\Omega)$ is the function defined by $\| f \| = \max_{x \in \Omega} |f(x)|$.
\end{df}

\begin{prop}
Let $\Omega$ be a closed bounded subset of $\mathbb{R}^n$. The uniform convergence norm is a norm on $\mathcal{C}(\Omega)$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $\|f\| = 0$ then $f = 0$}
\begin{proof}
	\pf\ If $\max_x |f(x)| = 0$ then $f(x) = 0$ for all $x$.
\end{proof}
\step{2}{$\|\lambda f\| = |\lambda|\|f\|$}
\begin{proof}
	\pf
	\begin{align*}
		\|\lambda f\| & = \max_x |\lambda f(x)| \\
		& = |\lambda| \max_x |f(x)| \\
		& = |\lambda| \|f\|
	\end{align*}
\end{proof}
\step{3}{$\|f + g\| \leq \|f\| + \|g\|$}
\begin{proof}
	\pf
	\begin{align*}
		\|f+g\| & = \max_x |f(x) + g(x)| \\
		& \leq \max_x (|f(x)| + |g(x)|) \\
		& \leq \max_x |f(x)| + \max_x |g(x)| \\
		& = \| f \| + \| g \|
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $p \geq 1$.
The function $\|(z_n)\| = \left( \sum_{n=1}^\infty |z_n|^p \right)^{1/p}$ is a norm on $l^p$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $\|(z_n)\| = 0$ then $(z_n) = (0)$}
\begin{proof}
	\pf\ If $(\sum_n |z_n|^p)^{1/p} = 0$ then $\sum_n |z_n|^p = 0$ so $|z_n|^p = 0$ for all $n$, and so $z_n = 0$ for all $n$.
\end{proof}
\step{2}{$\|(\lambda z_n)\| = |\lambda| \|(z_n)\|$}
\begin{proof}
	\pf
	\begin{align*}
		\| (\lambda z_n) \| & = \left( \sum_n |\lambda z_n|^p \right)^{1/p} \\
		& = |\lambda| \left( \sum_n |z_n|^p \right)^{1/p} \\
		& = |\lambda| \left| (z_n) \right|
	\end{align*}
\end{proof}
\step{3}{The triangle inequality holds.}
	\pf\ This is Minkowski's Inequality.
\qed
\end{proof}

\begin{prop}
Let $V$ be a normed space and $U$ a vector subspace of $V$. Then $U$ is a normed space under the restriction of the norm to $U$.
\end{prop}

\begin{proof}
\pf\ Each axiom follows from the fact it holds in $V$. \qed
\end{proof}

\begin{prop}
\label{prop:lm1_3_12}
Let $V$ be a normed space over $K$. Let $x_1$, \ldots, $x_n$ be linearly independent elements of $V$. Then there exists a real number $c > 0$ such that, for all $\alpha_1, \ldots, \alpha_n \in K$, we have
\[ \| \alpha_1 x_1 + \cdots + \alpha_n x_n \| \geq c (|\alpha_1| + \cdots + |\alpha_n|) \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{Define $f : K^n \rightarrow \mathbb{R}$ by 
\[f(\alpha_1, \ldots, \alpha_n) = \| \alpha_1 x_1 + \cdots + \alpha_n x_n \| \]}
\step{2}{$f$ is continuous.}
\begin{proof}
	\step{a}{\pflet{$(\alpha_1, \ldots, \alpha_n) \in K^n$ and $\epsilon > 0$}}
	\step{b}{\pflet{$\delta = \epsilon / (\|x_1\| + \cdots + \|x_n\|)$}}
	\begin{proof}
		\pf\ $x_1$, \ldots, $x_n$ are not all zero because they are linearly independent.
	\end{proof}
	\step{c}{\pflet{$(\beta_1, \ldots, \beta_n)$ with $|\alpha_i - \beta_i| < \delta$ for all $i$}}
	\step{d}{$\| (\alpha_1 x_1 + \cdots + \alpha_n x_n) - (\beta_1 x_1 + \beta_n x_n)\| < \epsilon$}
	\begin{proof}
		\pf
		\begin{align*}
			& \| (\alpha_1 x_1 + \cdots + \alpha_n x_n) - (\beta_1 x_1 + \beta_n x_n)\| \\
			\leq & |\alpha_1 - \beta_1| \|x_1\| + \cdots + |\alpha_n - \beta_n| \|x_n\| & (\text{Axioms 2 and 3}) \\
			< & \delta (\|x_1\| + \cdots + \|x_n\|) & (\text{\stepref{c}}) \\
			= & \epsilon & (\text{\stepref{b}})
		\end{align*}
	\end{proof}
\end{proof}
\step{3}{\pick\ $(\beta_1, \ldots, \beta_n) \in \{ (\beta_1, \ldots, \beta_n) \in K^n \mid |\beta_1| + \cdots + |\beta_n| = 1 \}$ at which $f$ attains its minimum.}
\begin{proof}
	\pf\ Extreme Value Theorem.
\end{proof}
\step{4}{Let $c = f(\beta_1, \ldots, \beta_n)$}
\step{5}{$c > 0$}
\begin{proof}
	\pf\ Linear independence.
\end{proof}
\step{6}{\pflet{$\alpha_1, \ldots, \alpha_n \in K$}}
\step{7}{$\|\alpha_1 x_1 + \cdots + \alpha_n x_n\| \geq c (|\alpha_1| + \cdots + |\alpha_n|)$}
\begin{proof}
	\step{zero}{\assume{w.l.o.g. $\alpha_1$ \ldots, $\alpha_n$ are not all zero.}}
	\step{a}{\pflet{$\beta_i = \alpha_i / (|\alpha_1| + \cdots + |\alpha_n|)$ for $i=1, \ldots, n$}}
	\step{b}{$|\beta_1| + \cdots + |\beta_n| = 1$}
	\step{c}{$f(\beta_1, \ldots, \beta_n) \geq c$}
	\qedstep
	\begin{proof}
		\pf\ Multiply both sides by $|\alpha_1| + \cdots + |\alpha_n|$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $V$ be a normed space over $K$. Define $d : V^2 \rightarrow \mathbb{R}$ by $d(x,y) = \| x-y\|$. Then $d$ is a metric on $V$.
\end{prop}

\begin{proof}
\pf
\step{1}{For all $x,y \in V$ we have $d(x,y) \geq 0$}
\begin{proof}
	\pf\ Proposition \ref{prop:normnonnegative}.
\end{proof}
\step{2}{For all $x,y \in V$ we have $d(x,y) = 0$ iff $x=y$}
\begin{proof}
	\step{a}{If $d(x,y) = 0$ then $x = y$}
	\begin{proof}
		\pf\ Axiom 1.
	\end{proof}
	\step{b}{If $x=y$ then $d(x,y) = 0$}
	\begin{proof}
		\pf\ Proposition \ref{prop:normzero}.
	\end{proof}
\end{proof}
\step{3}{$\forall x,y \in V. d(x,y) = d(y,x)$}
\begin{proof}
	\pf\ By Axiom 2.
\end{proof}
\step{4}{$\forall x,y,z \in V. d(x,z) \leq d(x,y) + d(y,z)$}
\begin{proof}
	\pf\ By Axiom 3.
\end{proof}
\qed
\end{proof}

Henceforth we identify any normed space with this metric space.

\section{Convergence}

\begin{prop}
Let $V$ be a normed space over $K$. Let $(x_n)$ be a sequence in $V$ and $l \in V$. Then $x_n \rightarrow l$ as $n \rightarrow \infty$ in $V$ if and only if $\| x_n - l \| \rightarrow 0$ as $n \rightarrow \infty$ in $\mathbb{R}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
\label{prop:onelimit}
In a normed space, a sequence has at most one limit.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a vector space over $K$.}}
\step{2}{\assume{$x_n \rightarrow l$ and $x_n \rightarrow m$ as $n \rightarrow \infty$.}}
\step{3}{\assume{for a contradiction $l \neq m$}}
\step{4}{\pflet{$\epsilon = \|l-m\|/2$}}
\step{5}{\pick\ $N$ such that $\forall n \geq N. \| x_n - l \| < \epsilon$ and $\forall n \geq N. \| x_n - m \| < \epsilon$}
\begin{proof}
	\pf\ \stepref{2}, \stepref{4}
\end{proof}
\step{6}{$\| l - m \| < \| l - m \|$}
\begin{proof}
	\pf
	\begin{align*}
		\|l - m\| & \leq \| x_N - l \| + \| x_N - m \| & (\text{Triangle Inequality}) \\
		& < 2 \epsilon & (\text{\stepref{5}}) \\
		& = \| l - m \| & (\text{\stepref{4}}
	\end{align*}
\end{proof}
\qedstep
\begin{proof}
	\pf\ This is a contradiction.
\end{proof}
\qed
\end{proof}

\begin{df}[Bounded]
Let $V$ be a normed space over $K$. A sequence $(x_n)$ in $V$ is \emph{bounded} iff there exists $B$ such that $\forall n \leq N. \|x_n\| < B$.
\end{df}

\begin{prop}
Every convergent sequence is bounded.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x_n \rightarrow l$ as $n \rightarrow \infty$}}
\step{2}{\pick\ $N$ such that $\forall n \geq N. \| x_n - l \| < 1$}
\step{3}{\pflet{$B = \max(\|x_1\|, \|x_2\|, \ldots, \|x_{N-1}\|, \|l\| + 1)$}}
\step{4}{\pflet{$n \in \mathbb{N}$}}
\step{5}{$\| x_n \| \leq B$}
\begin{proof}
	\step{a}{\case{$n < N$}}
	\begin{proof}
		\pf\ $\| x_n \| \leq B$ from \stepref{3}.
	\end{proof}
	\step{b}{\case{$n \geq N$}}
	\begin{proof}
		\pf
		\begin{align*}
			\|x_n\| & \leq \|l\| + \|x_n - l\| & (\text{Triangle Inequality}) \\
			& < \|l\| + 1 & (\text{\stepref{2}}) \\
			& \leq B & (\text{\stepref{3}})
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $V$ be a normed space over $K$. If $x_n \rightarrow l$ as $n \rightarrow \infty$ in $V$, and $\lambda_n \rightarrow \lambda$ as $n \rightarrow \infty$ in $K$, then $\lambda_n x_n \rightarrow \lambda l$ as $n \rightarrow \infty$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{\pflet{$x_n \rightarrow l$ as $n \rightarrow \infty$}}
\step{3}{\pflet{$\lambda_n \rightarrow \lambda$ as $n \rightarrow \infty$}}
\step{4}{\pflet{$\epsilon > 0$}}
\step{5}{\pick\ $N$ such that, for all $n \geq N$, we have $\| x_n - l \| < \epsilon / 2|\lambda|$ and $|\lambda_n - \lambda| < \sqrt{\epsilon/2}$ and $\|x_n\| < \sqrt{\epsilon/2}$}
\step{6}{\pflet{$n \geq N$}}
\step{7}{$\| \lambda_n x_n - \lambda l \| < \epsilon$}
\begin{proof}
	\pf
	\begin{align*}
		\|\lambda_n x_n - \lambda l\| & \leq \| \lambda_n x_n - \lambda x_n \| + \| \lambda x_n - \lambda l \| & (\text{Triangle Inequality}) \\
		& = |\lambda_n - \lambda| \| x_n \| + |\lambda| \| x_n - l \|  & (\text{Axiom 2}) \\
		& < \sqrt{\epsilon/2} \sqrt{\epsilon/2} + |\lambda| \epsilon/2|\lambda| & (\text{\stepref{5}}) \\
		& = \epsilon
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $V$ be a normed space over $K$. If $x_n \rightarrow l$ and $y_n \rightarrow m$ as $n \rightarrow \infty$, then $x_n + y_n \rightarrow l + m$ as $n \rightarrow \infty$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\epsilon > 0$}}
\step{2}{\pick\ $N$ such that, for all $n \geq N$, we have $\| x_n - l\| < \epsilon / 2$ and $\| y_n - m \| < \epsilon / 2$}
\step{3}{\pflet{$n \geq N$}}
\step{4}{$\|(x_n + y_n) - (l + m)\| < \epsilon$}
\begin{proof}
	\pf
	\begin{align*}
		\|(x_n + y_n) - (l + m)\| & \leq \|x_n - l\| + \|y_n - m\| & (\text{Triangle Inequality}) \\
		& < \epsilon / 2 + \epsilon / 2 & (\text{\stepref{2}}) \\
		& = \epsilon
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}[Uniform Convergence]
Let $\Omega$ be a closed bounded subset of $\mathbb{R}^n$. Let $(f_n)$ be a sequence in $\mathcal{C}(\Omega)$ and $f \in \mathcal{C}(\Omega)$. Then $(f_n)$ \emph{converges uniformly} to $f$ iff, for every $\epsilon > 0$, there exists $N$ such that $\forall x \in \Omega. \forall n \geq N. |f_n(x) - f(x)| < \epsilon$.
\end{df}

\begin{prop}
Let $\Omega$ be a closed bounded subset of $\mathbb{R}^n$. Let $(f_n)$ be a sequence in $\mathcal{C}(\Omega)$ and $f \in \mathcal{C}(\Omega)$. Then $(f_n)$ \emph{converges uniformly} to $f$ iff $f_n$ converges to $f$ under the uniform convergence norm.
\end{prop}

\begin{proof}
\pf
\begin{align*}
& (f_n) \text{ converges to } f \text{ under the uniform convergence norm} \\
\Leftrightarrow & \forall \epsilon > 0. \exists N. \forall n \geq N. \| f_n - f \| < \epsilon \\
\Leftrightarrow & \forall \epsilon > 0. \exists N. \forall n \geq N. \forall x \in X. |f_n(x) - f(x)| < \epsilon & \qed
\end{align*}
\end{proof}

\begin{df}[Pointwise Convergence]
Let $(f_n)$ be a sequence in $\mathcal{C}([0,1])$ and $f \in \mathcal{C}([0,1])$. Then $(f_n)$ \emph{converges pointwise} to $f$ iff, for all $t \in [0,1]$, we have $|f_n(t) - f(t)| \rightarrow 0$ as $n \rightarrow \infty$.
\end{df}

\begin{prop}
There is no norm $n$ on $\mathcal{C}([0,1])$ such that, for every sequence $(f_n)$ and function $f$ in $\mathcal{C}([0,1])$, we have $(f_n)$ converges pointwise to $f$ if and only if $(f_n)$ converges to $f$ under $n$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $\|\ \|$ is a norm on $\mathcal{C}([0,1])$ such that, for every sequence $(f_n)$ and function $f$ in $\mathcal{C}([0,1])$, we have $(f_n)$ converges pointwise to $f$ if and only if $(f_n)$ converges to $f$ under $\|\ \|$.}}
\step{2}{For $n \in \mathbb{Z}_+$, define $g_n \in \mathcal{C}([0,1])$ by
\[ g_n(t) = \begin{cases}
2^n t & \text{if } 0 \leq t \leq 2^{-n} \\
2 - 2^n t & \text{if } 2^{-n} \leq t \leq 2^{1-n} \\
0 & \text{if } 2^{1-n} \leq t \leq 1
\end{cases} \]}
\step{3}{For all $n$, $\|g_n\| \neq 0$}
\begin{proof}
	\pf\ Axiom 1.
\end{proof}
\step{4}{For $n \in \mathbb{Z}_+$, define $f_n \in \mathcal{C}([0,1])$ by $f_n = g_n / \| g_n \|$}
\step{5}{For all $n$, $\|f_n\| = 1$}
\begin{proof}
	\pf\ Axiom 2.
\end{proof}
\step{6}{$(f_n)$ does not converge under $\|\ \|$}
\step{7}{$(f_n)$ converges pointwise to 0.}
\step{8}{This is a contradiction.}
\qed
\end{proof}

\begin{df}[Equivalence of Norms]
Let $\|\ \|_1$ and $\|\ \|_2$ be two norms on the same vector space $V$. Then the norms are \emph{equivalent} if and only if, for any sequence $(x_n)$ in $V$ and $l \in V$, we have that $(x_n)$ converges to $l$ under $\|\ \|_1$ if and only if $(x_n)$ converges to $l$ under $\|\ \|_2$.
\end{df}

\begin{thm}
\label{thm:equivalent_norms}
Let $\|\ \|_1$ and $\|\ \|_2$ be two norms on the same vector space $E$ over $K$. Then $\|\ \|_1$ and $\|\ \|_2$ are equivalent if and only if there exist positive real numbers $\alpha$ and $\beta$ such that, for all $x \in E$,
\[ \alpha \| x \|_1 \leq \| x \|_2 \leq \beta \| x \|_1 \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{If $\|\ \|_1$ and $\|\ \|_2$ are equivalent then there exist positive real numbers $\alpha$ and $\beta$ such that, for all $x \in E$,
$ \alpha \| x \|_1 \leq \| x \|_2 \leq \beta \| x \|_1$.}
\begin{proof}
	\step{a}{\assume{$\|\ \|_1$ and $\|\ \|_2$ are equivalent.}}
	\step{b}{There exists $\alpha > 0$ such that, for all $x \in E$, we have $\alpha \|x\|_1 \leq \|x\|_2$}
	\begin{proof}
		\step{i}{\assume{for a contradiction there is no $\alpha > 0$ such that, for all $x \in E$, we have $\alpha \|x\|_1 \leq \|x\|_2$.}}
		\step{2}{For all $n \in \mathbb{Z}_+$, \pick\ $x_n \in E$ such that $1/n \|x_n\|_1 > \|x\|_2$}
		\step{3}{For all $n \in \mathbb{Z}_+$, \pflet{\[y_n = \frac{1}{\sqrt{n}} \frac{x_n}{\|x_n\|_2}\]}}
		\step{4}{$(y_n)$ converges to 0 under $\|\ \|_2$}
		\step{5}{$(y_n)$ converges to 0 under $\|\ \|_1$}
		\step{6}{For all $n \in \mathbb{Z}_+$, we have $\|y_n\| > \sqrt{n}$}
		\step{7}{This is a contradiction.}
	\end{proof}
	\step{c}{There exists $\beta > 0$ such that, for all $x \in E$, we have $\|x\|_2 \leq \beta \|x\|_1$}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\step{2}{If there exist positive real numbers $\alpha$ and $\beta$ such that, for all $x \in E$,
$ \alpha \| x \|_1 \leq \| x \|_2 \leq \beta \| x \|_1$. then $\|\ \|_1$ and $\|\ \|_2$ are equivalent.}
\begin{proof}
	\step{a}{\assume{$\alpha$ and $\beta$ are positive reals with $\forall x \in E. \alpha \|x\|_1 \leq \|x\|_2 \leq \beta \|x\|_1$.}}
	\step{b}{Let $(x_n)$ be a sequence in $E$ and $l \in E$}
	\step{c}{If $(x_n)$ converges to $l$ under $\|\ \|_1$ then $(x_n)$ converges to $l$ under $\|\ \|_2$.}
	\begin{proof}
		\step{i}{\assume{$(x_n)$ converges to $l$ under $\|\ \|_1$}}
		\step{2}{\pflet{$\epsilon > 0$}}
		\step{3}{\pick\ $N$ such that $\forall n \geq N. \|x_n - l\|_1 < \epsilon / \beta$}
		\step{4}{$\forall n \geq N. \|x_n - l\|_2 < \epsilon$}
	\end{proof}
	\step{d}{If $(x_n)$ converges to $l$ under $\|\ \|_2$ then $(x_n)$ converges to $l$ under $\|\ \|_1$.}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}
\label{thm:findimeqnorm}
Any two norms on a finite dimensional vector space are equivalent.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a finite dimensional vector space over $K$.}}
\step{1a}{\assume{w.l.o.g. $\dim V > 0$}}
\step{2}{\pick\ a basis $\{e_1, \ldots, e_n\}$ for $V$.}
\step{3}{\pflet{$\|\ \|_0 : V \rightarrow \mathbb{R}$ be the function: $\| \alpha_1 e_1 + \cdots + \alpha_n e_n \|_0 = |\alpha_1| + \cdots + |\alpha_n|$.}}
\step{4}{$\|\ \|_0$ is a norm.}
\begin{proof}
	\step{a}{If $\| v \|_0 = 0$ then $v = 0$}
	\begin{proof}
		\pf\ If $|\alpha_1| + \cdots + |\alpha_n| = 0$ then $\alpha_1 = \cdots = \alpha_n = 0$ so $\alpha_1 e_1 + \cdots + \alpha_n e_n = 0$.
	\end{proof}
	\step{b}{$\|\lambda v\|_0 = |\lambda| \|v\|_0$}
	\begin{proof}
		\pf
		\begin{align*}
			\|\lambda (\alpha_1 e_1 + \cdots + \alpha_n e_n)\|_0
			& = \|\lambda \alpha_1 e_1 + \cdots + \lambda \alpha_n e_n\|_0 \\
			& = |\lambda \alpha_1| + \cdots + |\lambda \alpha_n| & (\text{\stepref{3}}) \\
			& = |\lambda| (|\alpha_1| + \cdots + |\alpha_n|) \\
			& = |\lambda| \|\alpha_1 e_1 + \cdots + \alpha_n e_n\|_0 & (\text{\stepref{3}})
		\end{align*}
	\end{proof}
	\step{c}{$\|u + v\|_0 \leq \|u\|_0 + \|v\|_0$}
	\begin{proof}
		\pf
		\begin{align*}
			\|(\alpha_1 e_1 + \cdots + \alpha_n e_n) + (\beta_1 e_1 + \cdots + \beta_n e_n)\|
			& = |\alpha_1 + \beta_1| + \cdots + |\alpha_n + \beta_n| \\
			& \leq |\alpha_1| + \cdots + |\alpha_n| + |\beta_1| + \cdots + |\beta_n| \\
			& = \|\alpha_1 e_1 + \cdots + \alpha_n e_n\|_0 + \|\beta_1 e_1 + \cdots + \beta_n e_n\|_0
		\end{align*}
	\end{proof}
\end{proof}
\step{5}{Any norm on $V$ is equivalent to $\|\ \|_0$.}
\begin{proof}
	\step{a}{\pflet{$\|\ \|$ be any norm on $V$.}}
	\step{b}{\pick\ $\alpha > 0$ such that, for all $\alpha_1, \ldots, \alpha_n \in K$, we have $\|\alpha_1 e_1 + \cdots + \alpha_n e_n\| \geq \alpha (|\alpha_1| + \cdots + |\alpha_n|)$}
	\begin{proof}
		\pf\ Proposition \ref{prop:lm1_3_12}, \stepref{a}, \stepref{2}.
	\end{proof}
	\step{c}{\pflet{$\beta = \max(\|e_1\|, \ldots, \|e_n\|)$}}
	\step{d}{$\beta > 0$}
	\begin{proof}
		\pf\ $e_1$, \ldots, $e_n$ cannot all be zero by \stepref{2}.
	\end{proof}
	\step{e}{For all $x \in V$ we have $\alpha \|x\|_0 \leq \|x\| \leq \beta \|x\|_0$}
	\begin{proof}
		\step{i}{\pflet{$x \in V$}}
		\step{ii}{$\alpha \|x\|_0 \leq \|x\|$}
		\begin{proof}
			\pf\ \stepref{2}, \stepref{3}, \stepref{b}.
		\end{proof}
		\step{iii}{$\|x\| \leq \beta \|x\|_0$}
		\begin{proof}
			\step{one}{\pflet{$x = \alpha_1 e_1 + \cdots + \alpha_n e_n$}}
			\qedstep
			\begin{proof}
				\pf
				\begin{align*}
					\|x\| & = \|\alpha_1 e_1 + \cdots + \alpha_n e_n\| & (\text{\stepref{one}}) \\
					& \leq |\alpha_1| \|e_1\| + \cdots + |\alpha_n| \|e_n\| & (\text{\stepref{a}}) \\
					& \leq \beta (|\alpha_1| + \cdots + |\alpha_n|) & (\text{\stepref{c}}) \\
					& = \beta \|x\|_0 & (\text{\stepref{3}})
				\end{align*}
			\end{proof}
		\end{proof}
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ Theorem \ref{thm:equivalent_norms}, \stepref{4}, \stepref{a}, \stepref{b}, \stepref{d}, \stepref{e}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Open Ball]
Let $V$ be a normed space over $K$. Let $x \in V$. Let $r > 0$. The \emph{open ball} with \emph{centre} $x$ and \emph{radius} $r$ is
\[ B(x,r) := \{ y \in V \mid \| y-x\| < r \} \enspace . \]
\end{df}

\begin{df}[Closed Ball]
Let $V$ be a normed space over $K$. Let $x \in V$. Let $r > 0$. The \emph{closed ball} with \emph{centre} $x$ and \emph{radius} $r$ is
\[ \overline{B}(x,r) := \{ y \in V \mid \| y-x\| \leq r \} \enspace . \]
\end{df}

\begin{df}[Sphere]
Let $V$ be a normed space over $K$. Let $x \in V$. Let $r > 0$. The \emph{sphere} with \emph{centre} $x$ and \emph{radius} $r$ is
\[ S(x,r) := \{ y \in V \mid \| y-x\| = r \} \enspace . \]
\end{df}

\begin{df}[Open Set]
Let $V$ be a normed space over $K$. A set $S \subseteq V$ is \emph{open} iff, for all $x \in S$, there exists $\epsilon > 0$ such that $B(x,\epsilon) \subseteq S$.
\end{df}

\begin{prop}
Equivalent norms define the same set of open sets.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{\pflet{$\|\ \|_1$ and $\|\ \|_2$ be equivalent norms on $V$.}}
\step{3}{\pick\ reals $\alpha, \beta > 0$ such that, for all $x \in V$, we have $\alpha \|x\|_1 \leq \|x\|_2 \leq \beta \|x\|_1$}
\step{4}{\pflet{$S \subseteq V$}}
\step{5}{If $S$ is open under $\|\ \|_1$ then $S$ is open under $\|\ \|_2$.}
\begin{proof}
	\step{a}{\assume{$S$ is open under $\|\ \|_1$.}}
	\step{b}{\pflet{$x \in S$}}
	\step{c}{\pick\ $\epsilon > 0$ such that $\{ y \in V \mid \|x-y\|_1 < \epsilon \} \subseteq S$.}
	\step{d}{\pflet{$\delta = \alpha \epsilon$}}
	\step{e}{$\{ y \in V \mid \|x-y\|_2 < \delta \} \subseteq S$}
\end{proof}
\step{6}{If $S$ is open under $\|\ \|_2$ then $S$ is open under $\|\ \|_1$.}
\begin{proof}
	\pf\ Similar.
\end{proof}
\qed
\end{proof}

\begin{prop}
Every open ball is open.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{\pflet{$c \in V$ and $r > 0$} \prove{$B(c,r)$ is open.}}
\step{3}{\pflet{$x \in B(c,r)$}}
\step{4}{\pflet{$\epsilon = r - \|x-c\|$} \prove{$B(x,\epsilon) \subseteq B(c,r)$}}
\step{5}{\pflet{$y \in B(x, \epsilon)$} \prove{$y \in B(c,r)$}}
\step{6}{$\|y-c\| < r$}
\begin{proof}
	\pf
	\begin{align*}
		\|y-c\| & \leq \|y-x\| + \|x-c\| & (\text{Triangle Inequality}) \\
		& < \epsilon + \|x-c\| & (\text{\stepref{5}}) \\
		& = r & (\text{\stepref{4}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $f \in \mathcal{C}(\Omega)$. Then $U = \{ g \in \mathcal{C}(\Omega) \mid \forall x \in \Omega. g(x) < f(x) \}$ is open.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$g \in U$}}
\step{2}{\pflet{$\epsilon = \max_{x \in \Omega} (f(x) - g(x))$} \prove{$B(g,\epsilon) \subseteq S$}}
\step{3}{$\epsilon > 0$}
\step{4}{\pflet{$h \in B(g,\epsilon/2)$} \prove{$h \in S$}}
\step{5}{\pflet{$x \in \Omega$}}
\step{6}{$h(x) < f(x)$}
\begin{proof}
	\pf
	\begin{align*}
		h(x) & \leq g(x) + \epsilon/2 & (\text{\stepref{4}}) \\
		& < g(x) + \epsilon & (\text{\stepref{3}}) \\
		& \leq f(x) & (\text{\stepref{2}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $f \in \mathcal{C}(\Omega)$. Then $U = \{ g \in \mathcal{C}(\Omega) \mid \forall x \in \Omega. g(x) > f(x) \}$ is open.
\end{prop}

\begin{proof}
\pf\ Given $g \in U$, let $\epsilon = \max_x (g(x) - f(x))/2$. Then $B(g,\epsilon) \subseteq U$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $f \in \mathcal{C}(\Omega)$ be such that $f(x) > 0$ for all $x \in \Omega$. Then $U = \{ g \in \mathcal{C}(\Omega) \mid \forall x \in \Omega. |g(x)| < f(x) \}$ is open.
\end{prop}

\begin{proof}
\pf\ Given $g \in U$, let $\epsilon = \max_x (f(x) - |g(x)|)/2$. Then $B(g,\epsilon) \subseteq U$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $f \in \mathcal{C}(\Omega)$ be such that $f(x) > 0$ for all $x \in \Omega$. Then $U = \{ g \in \mathcal{C}(\Omega) \mid \forall x \in \Omega. |g(x)| > f(x) \}$ is open.
\end{prop}

\begin{proof}
\pf\ Given $g \in U$, let $\epsilon = \max_x (|g(x)| - f(x))/2$. Then $B(g,\epsilon) \subseteq U$. \qed
\end{proof}

\begin{prop}
\label{prop:unionopen}
The union of a set of open sets is open.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{\pflet{$\mathcal{U}$ be a set of open sets in $V$.}}
\step{3}{\pflet{$x \in \bigcup \mathcal{U}$}}
\step{4}{\pick\ $U \in \mathcal{U}$ such that $x \in U$.}
\step{5}{\pick\ $\epsilon > 0$ such that $B(x,\epsilon) \subseteq U$}
\step{6}{$B(x,\epsilon) \subseteq \bigcup \mathcal{U}$}
\qed
\end{proof}

\begin{prop}
\label{prop:openint}
The intersection of two open sets is open.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{\pflet{$U_1$ and $U_2$ be open sets in $V$.}}
\step{3}{\pflet{$x \in U_1 \cap U_2$}}
\step{4}{\pick\ $\epsilon_1 > 0$ such that $B(x, \epsilon_1) \subseteq U_1$}
\step{5}{\pick\ $\epsilon_2 > 0$ such that $B(x, \epsilon_2) \subseteq U_2$}
\step{6}{\pflet{$\epsilon = \min(\epsilon_1, \epsilon_2)$}}
\step{7}{$B(x, \epsilon) \subseteq U_1 \cap U_2$}
\qed
\end{proof}

\begin{prop}
In any normed space, $\emptyset$ is open.
\end{prop}

\begin{proof}
\pf\ Vacuous. \qed
\end{proof}

\begin{prop}
In any normed space $V$, the whole space $V$ is open.
\end{prop}

\begin{proof}
\pf\ For any $x \in V$ we have $B(x,1) \subseteq V$. \qed
\end{proof}

\begin{df}[Closed Set]
Let $V$ be a normed space over $K$. A set $S \subseteq V$ is \emph{closed} iff $V - S$ is open.
\end{df}

\begin{prop}
Every closed ball is closed.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{\pflet{$c \in V$ and $r > 0$} \prove{$\overline{B}(c,r)$ is closed.}}
\step{3}{\pflet{$x \in V - \overline{B}(c,r)$}}
\step{4}{\pflet{$\epsilon = \|x-c\| - r$} \prove{$B(x,\epsilon) \subseteq V - \overline{B}(c,r)$}}
\step{5}{$\epsilon > 0$}
\begin{proof}
	\pf\ Since $\|x-c\| > r$ by \stepref{3}.
\end{proof}
\step{6}{\pflet{$y \in B(x, \epsilon)$}}
\step{7}{$\|y - c\| > r$}
\begin{proof}
	\pf
	\begin{align*}
	\|y-c\| & \geq \|x-c\| - \|x-y\| & (\text{Triangle Inequality}) \\
	& > \|x-c\| - \epsilon & (\text{\stepref{6}}) \\
	& = r & (\text{\stepref{4}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:closedint}
The intersection of a set of closed sets is closed.
\end{prop}

\begin{proof}
\pf\ From Proposition \ref{prop:unionopen}. \qed
\end{proof}

\begin{prop}
The union of two closed sets is closed.
\end{prop}

\begin{proof}
\pf\ From Proposition \ref{prop:openint}. \qed
\end{proof}

\begin{prop}
Every sphere is closed.
\end{prop}

\begin{proof}
\pf\ $S(c,r) = \overline{B}(c,r) - B(c,r)$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $f \in \mathcal{C}(\Omega)$. Then $\{ g \in \mathcal{C}(\Omega) \mid \forall x \in \Omega. g(x) \leq f(x) \}$ is closed.
\end{prop}

\begin{proof}
\pf\ It is $\mathcal{C}(\Omega) - \{ g \mid \forall x \in \Omega. g(x) > f(x) \}$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $f \in \mathcal{C}(\Omega)$. Then $\{ g \in \mathcal{C}(\Omega) \mid \forall x \in \Omega. g(x) \geq f(x) \}$ is closed.
\end{prop}

\begin{proof}
\pf\ It is $\mathcal{C}(\Omega) - \{ g \mid \forall x \in \Omega. g(x) < f(x) \}$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $f \in \mathcal{C}(\Omega)$. Then $\{ g \in \mathcal{C}(\Omega) \mid \forall x \in \Omega. |g(x)| \leq f(x) \}$ is closed.
\end{prop}

\begin{proof}
\pf\ It is $\mathcal{C}(\Omega) - \{ g \mid \forall x \in \Omega. |g(x)| > f(x) \}$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $f \in \mathcal{C}(\Omega)$. Then $\{ g \in \mathcal{C}(\Omega) \mid \forall x \in \Omega. |g(x)| \geq f(x) \}$ is closed.
\end{prop}

\begin{proof}
\pf\ It is $\mathcal{C}(\Omega) - \{ g \mid \forall x \in \Omega. |g(x)| < f(x) \}$. \qed
\end{proof}

\begin{prop}
Let $\Omega$ be a closed bounded set in $\mathbb{R}^n$. Let $x_0 \in \Omega$ and $\lambda \in \mathbb{C}$. Then $C = \{ g \in \mathcal{C}(\Omega) \mid g(x_0) = \lambda \}$ is closed.
\end{prop}

\begin{proof}
\pf\ Given $g \in \mathcal{C}(\Omega) - C$, let $\epsilon = |g(x_0) - \lambda|/2$. Then $B(g,\epsilon) \subseteq \mathcal{C}(\Omega) - C$. \qed
\end{proof}

\begin{prop}
In any normed space $V$, we have $\emptyset$ is closed.
\end{prop}

\begin{proof}
\pf\ Since $V - \emptyset = V$ is open. \qed
\end{proof}

\begin{prop}
In any normed space $V$, the whole space $V$ is closed.
\end{prop}

\begin{proof}
\pf\ Since $V - V = \emptyset$ is open. \qed
\end{proof}

\begin{thm}
\label{thm:closedconverge}
Let $V$ be a normed space over $K$. Let $S$ be a subset of $V$. Then $S$ is closed if and only if, for any sequence $(x_n)$ in $S$, if $x_n \rightarrow l$ as $n \rightarrow \infty$ then $l \in S$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $S$ is closed then, for any sequence $(x_n)$ in $S$, if $x_n \rightarrow l$ as $n \rightarrow \infty$ then $l \in S$.}
\begin{proof}
	\step{a}{\assume{$S$ is closed.}}
	\step{b}{\pflet{$(x_n)$ be a sequence in $S$.}}
	\step{c}{\assume{$x_n \rightarrow l$ as $n \rightarrow \infty$.}}
	\step{d}{\assume{for a contradiction $l \notin S$.}}
	\step{e}{\pick\ $\epsilon > 0$ such that $B(l,\epsilon) \subseteq V - S$}
	\step{f}{\pick\ $N$ such that $\forall n \geq N. x_n \in B(l,\epsilon)$}
	\step{g}{$x_N \in V - S$}
	\step{h}{This contradicts \stepref{b}.}
\end{proof}
\step{2}{If, for any sequence $(x_n)$ in $S$, if $x_n \rightarrow l$ as $n \rightarrow \infty$ then $l \in S$, then $S$ is closed.}
\begin{proof}
	\step{a}{\assume{for any sequence $(x_n)$ in $S$, if $x_n \rightarrow l$ as $n \rightarrow \infty$ then $l \in S$.}}
	\step{b}{\pflet{$x \in V - S$}}
	\step{c}{\assume{for a contradiction there is no $\epsilon > 0$ such that $B(x, \epsilon) \subseteq V - S$.}}
	\step{d}{For $n \in \mathbb{Z}_+$, \pick\ $x_n \in B(x, 1/n) \cap S$}
	\step{e}{$x_n \rightarrow x$ as $n \rightarrow \infty$}
	\step{f}{$x \in S$}
	\step{g}{This contradicts \stepref{b}.}
\end{proof}
\qed
\end{proof}

\begin{df}[Closure]
Let $V$ be a normed space over $K$. Let $S$ be a subset of $V$. The \emph{closure} of $S$, $\cl S$, is the intersection of the set of closed sets that include $S$.
\end{df}

\begin{prop}
Let $V$ be a normed space over $K$. Let $S$ be a subset of $V$. Then the closure of $S$ is the smallest closed set that includes $S$.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:closedint}. \qed
\end{proof}

\begin{thm}
\label{thm:closureconverge}
Let $V$ be a normed space over $K$. Let $S$ be a subset of $V$. Then
\[ \cl S = \{l \in V \mid \exists \text{ a sequence } (x_n) \text{ in } S. x_n \rightarrow l \text{ as } n \rightarrow \infty \} \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{For all $l \in \cl S$, there exists a sequence $(x_n)$ in $S$ such that $x_n \rightarrow l$ as $n \rightarrow \infty$.}
\begin{proof}
	\step{a}{\pflet{$l \in \cl S$}}
	\step{b}{For $n \in \mathbb{Z}_+$, pick $x_n \in B(l,1/n) \cap S$}
	\begin{proof}
		\pf\ There must be such an $x_n$ otherwise $S - B(l,1/n)$ would be a smaller closed set that includes $S$.
	\end{proof}
	\step{c}{$x_n \rightarrow l$ as $n \rightarrow \infty$}
\end{proof}
\step{2}{For any sequence $(x_n)$ in $S$, if $x_n \rightarrow l$ as $n \rightarrow \infty$ then $l \in \cl S$.}
\begin{proof}
	\pf\ Theorem \ref{thm:closedconverge}.
\end{proof}
\qed
\end{proof}

\begin{df}[Dense]
Let $V$ be a normed space over $K$. Let $S \subseteq V$. Then $S$ is \emph{dense} if and only if $\cl S = V$.
\end{df}

\begin{thm}[Weierstrass Approximation Theorem]
Let $a$ and $b$ be real numbers with $a < b$.
In $\mathcal{C}([a,b])$, the set of polynomials is dense.
\end{thm}

\begin{proof}
\pf TODO
\end{proof}

\begin{prop}
Let $p \geq 1$. The set of all sequences that have only finitely many non-zero terms is dense in $l^p$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$(z_n) \in l^p$}}
\step{2}{\pflet{$\epsilon > 0$} \prove{There exists a sequence $(x_n)$ with only finitely many non-zero terms such that $\left( \sum_{n=1}^\infty |z_n - x_n|^p \right)^{1/p} < \epsilon$}}
\step{3}{\pick\ $N$ such that $|\sum_{n=1}^\infty |z_n|^p - \sum_{n=1}^N |z_n|^p| < \epsilon^p$}
\step{4}{\pflet{$(x_n)$ be the sequence that agrees with $(z_n)$ up to term $N$, and then zeros after that.}}
\step{5}{$\left( \sum_{n=1}^\infty |z_n - x_n|^p \right)^{1/p} < \epsilon$}
\begin{proof}
	\pf
	\begin{align*}
		\left( \sum_{n=1}^\infty |z_n - x_n|^p \right)^{1/p} & = \left( \sum_{n=N+1}^\infty |z_n|^p \right)^{1/p} & (\text{\stepref{4}}) \\
		& < \epsilon & (\text{\stepref{2}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $V$ be a normed space over $K$. Let $S \subseteq V$. Then the following are equivalent.
\begin{enumerate}
\item $S$ is dense.
\item For all $l \in V$, there exists a sequence $(x_n)$ in $S$ such that $x_n \rightarrow l$ as $n \rightarrow \infty$.
\item Every nonempty open subset of $V$ intersects $S$.
\end{enumerate}
\end{thm}

\begin{proof}
\pf
\step{1}{$1 \Leftrightarrow 2$}
\begin{proof}
	\pf\ Theorem \ref{thm:closureconverge}.
\end{proof}
\step{2}{$1 \Rightarrow 3$}
\begin{proof}
	\step{a}{\assume{$S$ is dense.}}
	\step{b}{\pflet{$U$ be a nonempty open subset of $V$.}}
	\step{c}{$X - U$ does not include $S$.}
	\begin{proof}
		\pf\ Lest we have $\cl S \subseteq X - U$.
	\end{proof}
	\step{d}{$U$ intersects $S$.}
\end{proof}
\step{3}{$3 \Rightarrow 1$}
\begin{proof}
	\step{a}{\assume{Every nonempty subset of $V$ intersects $S$.}}
	\step{b}{Every closed proper subset of $V$ does not include $S$.}
	\step{c}{$\cl S = V$}
\end{proof}
\qed
\end{proof}

\begin{df}[Compact]
Let $V$ be a normed space over $K$ and $S \subseteq V$. Then $S$ is \emph{compact} if and only if every sequence in $S$ has a convergent subsequence whose limit is in $S$.
\end{df}

\begin{prop}
In $K^n$, a set is compact if and only if it is bounded and closed.
\end{prop}

\begin{proof}
\pf\ TODO
\end{proof}

\begin{df}[Bounded]
Let $V$ be a normed space over $K$ and $S \subseteq V$. Then $S$ is \emph{bounded} iff there exists $r > 0$ such that $V \subseteq B(0,r)$.
\end{df}

\begin{thm}
Every compact set is closed and bounded.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{\pflet{$S \subseteq V$ be compact.}}
\step{3}{$S$ is closed.}
\begin{proof}
	\step{a}{\pflet{$(x_n)$ be a sequence in $S$ that converges to $l$}}
	\step{b}{\pick\ a sequence $(x_{n_r})$ that converges to $x \in S$}
	\begin{proof}
		\pf\ \stepref{2}, \stepref{a}
	\end{proof}
	\step{c}{$x_{n_r} \rightarrow l$ as $n \rightarrow \infty$}
	\begin{proof}
		\pf\ \stepref{a}, \stepref{b}
	\end{proof}
	\step{d}{$l = x$}
	\begin{proof}
		\pf\ Proposition \ref{prop:onelimit}.
	\end{proof}
	\step{e}{$l \in S$}
	\begin{proof}
		\pf\ \stepref{b}, \stepref{d}
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ Theorem \ref{thm:closedconverge}.
	\end{proof}
\end{proof}
\step{4}{$S$ is bounded.}
\begin{proof}
	\step{a}{\assume{for a contradiction $S$ is unbounded.}}
	\step{b}{For $n \in \mathbb{Z}_+$, \pick\ $x_n \in S - B(0,n)$}
	\step{c}{\pick\ a convergent subsequence $(x_{n_r})$ that converges to $l$, say.}
	\step{d}{\pick\ $N \in \mathbb{Z}_+$ such that $\|l\| < N$}
	\step{e}{\pick\ $r$ such that $n_r > N$ and $\|x_{n_r} - l\| < N - \|l\|$}
	\step{f}{$\|x_{n_r}\| < N < n_r$}
	\step{g}{This contradicts \stepref{b}.}
\end{proof}
\qed
\end{proof}

\begin{prop}
In $\mathcal{C}([0,1])$, the closed ball $\overline{B}(0,1)$ is closed and bounded but not compact.
\end{prop}

\begin{proof}
\pf\ The sequence of functions $(x^n)$ is in $\overline{B}(0,1)$ but has no convergent subsequence. \qed
\end{proof}

\begin{thm}[Riesz's Lemma]
Let $V$ be a normed vector space over $K$. Let $X$ be a closed proper subspace of $V$. Let $0 < \epsilon < 1$. Then there exists $x \in V$ such that $\| x \| = 1$ and $\forall y \in X. \|x-y\| \geq \epsilon$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ $z \in V - X$}
\step{2}{\pflet{$d = \inf_{x \in X} \| z - x \|$}}
\step{3}{$d > 0$}
\begin{proof}
	\pf\ Since $X$ is closed, there exists $e > 0$ such that $B(z,d) \subseteq V - X$ and hence $\|z-x\| \geq d$ for all $x \in X$.
\end{proof}
\step{4}{\pick\ $x_0 \in X$ such that $d \leq \| z - x_0 \| \leq d / \epsilon$}
\begin{proof}
	\pf\ One exists since $d / \epsilon$ is not a lower bound for $\{ \| z - x \| \mid x \in X \}$.
\end{proof}
\step{5}{\pflet{$x = (z-x_0)/\|z-x_0\|$}}
\step{6}{\pflet{$y \in X$}}
\step{7}{$\|x-y\| \geq \epsilon$}
\begin{proof}
	\pf
	\begin{align*}
		\|x-y\| & = \left\| \frac{z-x_0}{\|z-x_0\|} - y \right\| & (\text{\stepref{5}}) \\
		& = \frac{1}{\|z - x_0\|} \| z - (x_0 + \|z - x_0\|y) \| \\
		& \geq \frac{1}{\|z - x_0\|} d & (\text{\stepref{2}}) \\
		& \geq \epsilon & (\text{\stepref{4}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $V$ be a normed space over $K$. Then $V$ is finite dimensional if and only if $\overline{B}(0,1)$ is compact.
\end{thm}

\begin{proof}
\pf
\step{1}{If $V$ is finite dimensional then $\overline{B}(0,1)$ is compact.}
\begin{proof}
	\step{a}{\assume{$V$ is finite dimensional.}}
	\step{b}{\pick\ a basis $\{e_1, \ldots, e_n\}$}
	\step{c}{\assume{w.l.o.g. $\| \alpha_1 e_1 + \cdots + \alpha_n e_n\| = |\alpha_1| + \cdots + |\alpha_n|$}}
	\step{d}{\pflet{$(\alpha_{k1} e_1 + \cdots + \alpha_{kn} e_n)$ be a sequence in $\overline{B}(0,1)$}}
	\step{e}{\pick\ a convergent subsequence $(\alpha_{k_r1})$ of $(\alpha_{k1})$, a convergent subsequence $(\alpha_{k'_r}2)$ of $(\alpha_{k_r2})$, \ldots, a convergent subsequence $(\alpha_{k''_r}n)$.}
	\step{f}{$(\alpha_{k''_r1} e_1 + \cdots + \alpha_{k''_rn})$ converges.}
\end{proof}
\step{2}{If $V$ is infinite dimensional then $\overline{B}(0,1)$ is not compact.}
\begin{proof}
	\step{a}{\assume{$V$ is infinite dimensional.}}
	\step{b}{Choose a sequence $(x_n)$ with $\|x_n\| = 1$ and $\|x_m - x_n\| \geq 1/2$ for $m \neq n$}
	\begin{proof}
		\step{i}{\assume{$x_1$, \ldots, $x_n$ satisfy $\|x_i\| = 1$ and $\|x_i - x_j\| \geq 1/2$ for $i \neq j$}}
		\step{ii}{\pick\ $x_{n+1} \in V$ such that $\|x_{n+1}\| = 1$ and for all $y \in \spn \{x_1, \ldots, x_n\}$ we have $\| x_{n+1} - y \| \geq 1/2$}
		\begin{proof}
			\step{one}{$\spn \{x_1, \ldots, x_n\}$ is closed.}
			\begin{proof}
			%TODO
				\step{A}{\pflet{$S = \spn \{x_1, \ldots, x_n\}$}}
				\step{B}{\pflet{$(a_n)$ be a sequence in $S$ that converges to $a \in V$} \prove{$a \in S$}}
				\step{C}{$(a_n)$ is a Cauchy sequence in $V$.}
				\step{D}{$(a_n)$ is a Cauchy sequence in $S$.}
				\step{E}{A finite dimensional normed space is a Banach space.}
				\step{F}{$S$ is complete.}
				\step{G}{$a \in S$}
			\end{proof}
			\step{two}{$\spn \{x_1, \ldots, x_n\}$ is a proper subspace of $V$.}
			\begin{proof}
				\pf\ \stepref{a}
			\end{proof}
			\qedstep
			\begin{proof}
				\pf\ Riesz's Lemma.
			\end{proof}
		\end{proof}
	\end{proof}
	\step{c}{\assume{for a contradiction $(x_{n_r})$ is a subsequence that converges to $l$}}
	\step{d}{For all $r \in \mathbb{N}$, we have $\|x_{n_r} - l\|  + \|x_{n_{r+1}} - l\| \geq 1/2$}
	\step{e}{This is a contradiction.}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $V$ be a normed space. The closure of a subspace of $V$ is a subspace.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$U$ be a subspace of $V$}}
\step{2}{\pflet{$x,y \in \cl U$ and $\alpha, \beta \in K$}}
\step{3}{\pick\ sequences $(x_n)$, $(y_n)$ in $U$ that converge to $x$ and $y$ respectively.}
\step{4}{$\alpha x_n + \beta y_n \rightarrow \alpha x + \beta y$ as $n \rightarrow \infty$}
\step{5}{$\alpha x + \beta y \in \cl U$}
\qed
\end{proof}

\section{Continuous Linear Mappings}

\begin{df}[Continuous]
Let $U$ and $V$ be normed spaces. Let $f : U \rightarrow V$ and $x \in U$. Then $f$ is \emph{continuous at $x$} iff, for any sequence $(x_n)$ in $U$, if $x_n \rightarrow x$ as $n \rightarrow \infty$ then $f(x_n) \rightarrow f(x)$ as $n \rightarrow \infty$. The function $f$ is \emph{continuous} iff $f$ is continuous at every point.
\end{df}

\begin{prop}
Let $V$ be a normed space. Then the norm is a continuous function $V \rightarrow \mathbb{R}$.
\end{prop}

\begin{proof}
\pf\ From Proposition \ref{prop:diffnorms}. \qed
\end{proof}

\begin{prop}
Let $U$ and $V$ be normed space. Let $f : U \rightarrow V$. Then the following are equivalent.
\begin{enumerate}
\item $f$ is continuous.
\item For any open set $S$ in $V$, we have $f^{-1}(S)$ is open in $U$.
\item For any closed set $C$ in $V$, we have $f^{-1}(C)$ is closed in $U$.
\end{enumerate}
\end{prop}

\begin{prop}
\label{prop:continuousonepoint}
Let $U$ and $V$ be normed spaces over $K$. Let $T : U \rightarrow V$ be a linear transformation. If $T$ is continuous at some point, then it is continuous.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$T$ is continuous at $u_0$}}
\step{2}{\pflet{$x_n \rightarrow l$ as $n \rightarrow \infty$ in $U$}}
\step{3}{$x_n - l + u_0 \rightarrow u_0$ as $n \rightarrow \infty$.}
\step{4}{$T(x_n - l + u_0) \rightarrow T(u_0)$ as $n \rightarrow \infty$.}
\step{5}{$T(x_n) - T(l) + T(u_0) \rightarrow T(u_0)$ as $n \rightarrow \infty$.}
\step{6}{$T(x_n) \rightarrow T(l)$ as $n \rightarrow \infty$.}
\qed
\end{proof}

\begin{df}[Bounded]
Let $U$ and $V$ be normed spaces over $K$. Let $T : U \rightarrow V$ be a linear transformation. Then $T$ is \emph{bounded} iff there exists $\alpha > 0$ such that, for all $x \in U$, we have $\|T(x)\| \leq \alpha \|x\|$.
\end{df}

\begin{thm}
Let $U$ and $V$ be normed spaces over $K$. Let $T : U \rightarrow V$ be a linear transformation. Then $T$ is continuous if and only if it is bounded.
\end{thm}

\begin{proof}
\pf
\step{1}{If $T$ is continuous then $T$ is bounded.}
\begin{proof}
	\step{a}{\assume{$T$ is not bounded.}}
	\step{b}{For $n \in \mathbb{Z}_+$, \pick\ $x_n \in U$ such that $\|T(x_n)\| > n \|x_n\|$.}
	\step{c}{For $n \in \mathbb{Z}_+$, \pflet{\[ y_n = \frac{x_n}{n\|x_n\|} \]}}
	\step{d}{$y_n \rightarrow 0$ as $n \rightarrow \infty$}
	\step{e}{$T(y_n) \not\rightarrow 0$ as $n \rightarrow \infty$}
	\step{f}{$T$ is not continuous.}
\end{proof}
\step{2}{If $T$ is bounded then $T$ is continuous.}
\begin{proof}
	\step{a}{\assume{$T$ is bounded.}}
	\step{aa}{\pick\ $\alpha > 0$ such that $\forall x \in U. \| T(x) \| \leq \alpha \|x\|$.}
	\step{b}{$T$ is continuous at $0$.}
	\begin{proof}
		\step{i}{\pflet{$(x_n)$ be a sequence that converges to 0 in $U$}}
		\step{ii}{$T(x_n) \rightarrow 0$ as $n \rightarrow \infty$}
		\begin{proof}
			\pf
			\begin{align*}
				\| T(x_n) \| & \leq \alpha \| x_n \| & (\text{\stepref{aa}}) \\
				& \rightarrow 0 & \text{as } n \rightarrow \infty
			\end{align*}
		\end{proof}
	\end{proof}
	\step{c}{$T$ is continuous.}
	\begin{proof}
		\pf\ Proposition \ref{prop:continuousonepoint}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $U$ and $V$ be normed spaces over $K$ where $U$ is finite dimensional. Let $T : U \rightarrow V$ be a linear transformation. Then $T$ is bounded.
\end{prop}

\begin{proof}
\pf
\step{1}{\pick\ a basis $\{e_1, \ldots, e_n\}$ of unit vectors for $U$.}
\step{2}{\pflet{$M = \max(\|T(e_1)\|, \ldots, \|T(e_n)\|)$}}
\step{3}{\pick\ $C > 0$ such that, for all $\alpha_1, \ldots, \alpha_n \in K$, we have $|\alpha_1| + \cdots + |\alpha_n| \leq C \|\alpha_1 e_1 + \cdots + \alpha_n e_n\|$}
\begin{proof}
	\pf\ Theorem \ref{thm:findimeqnorm}.
\end{proof}
\step{4}{\pflet{$x \in U$} \prove{$\|T(x)\| \leq CM\|x\|$}}
\step{5}{\pflet{$x = \alpha_1 e_1 + \cdots + \alpha_n e_n$}}
\step{6}{$\|T(x)\| \leq CM\|x\|$}
\begin{proof}
	\pf
	\begin{align*}
		\|T(x)\| & = \|\alpha_1 T(e_1) + \cdots + \alpha_n T(e_n)\| & (T \text{ linear}) \\
		& \leq |\alpha_1| \|T(e_1)\| + \cdots + |\alpha_n| \|T(e_n)\| & (\text{Triangle inequality}) \\
		& \leq M(|\alpha_1| + \cdots + |\alpha_n|) & (\text{\stepref{2}}) \\
		& \leq CM\|x\| & (\text{\stepref{3}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{cor}
Let $U$ and $V$ be normed spaces over $K$ where $U$ is finite dimensional. Let $T : U \rightarrow V$ be a linear transformation. Then $T$ is continuous.
\end{cor}

\begin{prop}
Let $U$ and $V$ be normed spaces over $K$. Let $T : U \rightarrow V$ be a linear transformation. If $T$ is continuous, then $T$ is uniformly continuous.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$T$ is continuous}}
\step{2}{\pick\ $B > 0$ such that $\forall x \in U. \|T(x)\| \leq B\|x\|$}
\step{3}{\pflet{$\epsilon > 0$}}
\step{3a}{\pflet{$\delta = \epsilon / B$}}
\step{4}{\pflet{$x,y \in U$}}
\step{5}{\assume{$\|x-y\| < \delta$}}
\step{6}{$\|T(x)-T(y)\| < \epsilon$}
\begin{proof}
	\pf
	\begin{align*}
		\|T(x) - T(y)\| & = \|T(x-y)\| & (T \text{ linear}) \\
		& \leq B\|x-y\| & (\text{\stepref{2}}) \\
		& < B \delta & (\text{\stepref{5}}) \\
		& = \epsilon & (\text{\stepref{3a}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $U$ and $V$ be normed spaces over $K$. The set $\mathcal{B}(U,V)$ of all bounded linear maps from $U$ to $V$ forms a subspace of the space of all linear maps from $U$ to $V$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$S,T : U \rightarrow V$ be bounded linear maps and $\alpha, \beta \in K$.} \prove{$\alpha S + \beta T$ is bounded.}}
\step{2}{\pick\ $B, C > 0$ such that $\forall x \in U. \| S(x)\| \leq B \|x\|$ and $\|T(x)\| \leq C\|x\|$}
\step{3}{$\forall x \in U. \|(\alpha S + \beta T)(x)\| \leq (|\alpha| B + |\beta| C)\|x\|$}
\qed
\end{proof}

\begin{prop}
Let $U$ and $V$ be normed spaces over $K$. Define the \emph{operator norm} $\|\ \|$ on $\mathcal{B}(U,V)$ by $\|T\| := \sup \{ \|T(x)\| \mid x \in U, \|x\| = 1 \}$. Then $\|\ \|$ is a norm on $\mathcal{B}(U,V)$.
\end{prop}

\begin{proof}
\pf
\step{1}{For all $T \in \mathcal{B}(U,V)$, the set $\{ \|T(x)\| \mid x \in U, \|x\| = 1\}$ is bounded above.}
\begin{proof}
	\step{a}{\pflet{$T \in \mathcal{B}(U,V)$}}
	\step{b}{\pick\ $B$ such that $\forall x \in U. \|T(x)\| \leq B \|x\|$.}
	\step{c}{$B$ is an upper bound for $\{ \|T(x)\| \mid x \in U, \|x\| = 1 \}$.}
\end{proof}
\step{2}{If $\|T\| = 0$ then $T = 0$.}
\begin{proof}
	\step{a}{\assume{$\|T\| = 0$}}
	\step{b}{\pflet{$x \in U$} \prove{$T(x) = 0$}}
	\step{c}{\assume{w.l.o.g. $\|x\| \neq 0$}}
	\step{d}{\pflet{$y = x / \|x\|$}}
	\step{e}{$\|y\| = 1$}
	\step{f}{$\|T(y)\| = 0$}
	\step{g}{$T(y) = 0$}
	\step{h}{$T(x) = 0$}
\end{proof}
\step{3}{For all $\lambda \in K$ and $T \in \mathcal{B}(U,V)$, we have $\|\lambda T\| = |\lambda| \|T\|$}
\begin{proof}
	\step{a}{\pflet{$\lambda \in K$ and $T \in \mathcal{B}(U,V)$}}
	\step{b}{$\| \lambda T \| = |\lambda| \|T\|$}
	\begin{proof}
		\pf
		\begin{align*}
			\| \lambda T \| & = \sup \{ \| \lambda T(x) \| \mid x \in U, \|x\| = 1 \} \\
			& = \sup \{ |\lambda| \|T(x)\| \mid x \in U, \|x\| = 1 \} \\
			& = |\lambda| \sup \{ \|T(x)\| \mid x \in U, \|x\| = 1 \} \\
			& = |\lambda| \|T\|
		\end{align*}
	\end{proof}
\end{proof}
\step{4}{For all $S, T \in \mathcal{B}(U,V)$, we have $\|S+T\| \leq \|S\| + \|T\|$.}
\begin{proof}
	\step{a}{\pflet{$S, T \in \mathcal{B}(U,V)$}}
	\step{b}{$\|S+T\| \leq \|S\| + \|T\|$}
	\begin{proof}
		\pf
		\begin{align*}
			\|S+T\| & = \sup \{ \|S(x) + T(x)\| \mid x \in U, \|x\| = 1 \} \\
			& \leq \sup \{ \|S(x)\| + \|T(x)\| \mid x \in U, \|x\| = 1 \} \\
			& \leq \sup \{ \|S(x)\| \mid x \in U, \|x\| = 1 \} + \sup \{ \|T(x)\| \mid x \in U, \|x\| = 1 \} \\
			& = \|S\| + \|T\|
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:normmult}
Let $U$ and $V$ be normed spaces. Let $T \in \mathcal{B}(U,V)$. Then $\|T\|$ is the least number such that $\forall u \in U. \|T(u)\| \leq \|T\| \|u\|$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\forall u \in U. \|T(u)\| \leq \|T\| \|u\|$}
\begin{proof}
	\step{a}{\pflet{$u \in U$}}
	\step{b}{\pflet{$v = u / \|u\|$}}
	\step{c}{$\|T(v)\| \leq \|T\|$}
	\step{d}{$\|T(u)\| \leq \|T\|\|u\|$}
\end{proof}
\step{2}{If $\alpha$ satisfies $\forall u \in U. \|T(u)\| \leq \alpha \|u\|$, then $\|T\| \leq \alpha$}
\begin{proof}
	\step{a}{\assume{$\forall u \in U. \|T(u)\| \leq \alpha \|u\|$}}
	\step{b}{For all $x \in U$, if $\|x\| = 1$ then $\|T(x)\| \leq \alpha$}
	\step{c}{$\|T\| \leq \alpha$}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $V$ be a normed space. Then $\mathrm{id}_V$ is a bounded linear function $V \rightarrow V$, and $\| \mathrm{id}_V \| = 1$.
\end{prop}

\begin{prop}
Let $U$ and $V$ be normed spaces. The constant zero function $U \rightarrow V$ is a bounded linear transformation with norm 0.
\end{prop}

\begin{prop}
Let $N \in \mathbb{N}$. Let $T : \mathbb{C}^N \rightarrow \mathbb{C}^N$ be a linear transformation with matrix $A = (a_{ij})$. Then $T$ is bounded and
\[ \| T \| \leq \sqrt{\sum_{i=1}^N \sum_{j=1}^N |a_{ij}|^2} \enspace . \]
\end{prop}

\begin{df}[Uniform Convergence]
Let $U$ and $V$ be normed spaces. Let $(T_n)$ be a sequence in $\mathcal{B}(U,V)$ and $T \in \mathcal{B}(U,V)$. Then $(T_n)$ \emph{converges uniformly} to $T$ iff $(T_n)$ converges to $T$ under the standard norm defined above.
\end{df}

\begin{thm}
Let $U$ and $V$ be normed spaces. Let $T : U \rightarrow V$ be a continuous linear function. Then $\ker T$ is a closed subspace of $U$.
\end{thm}

\begin{proof}
\pf
\step{1}{$\ker T$ is a subspace of $U$}
\begin{proof}
	\pf\ If $x,y \in \ker T$ and $\alpha, \beta \in K$ then $T(\alpha x + \beta y) = \alpha T(x) + \beta T(y) = 0$.
\end{proof}
\step{2}{$\ker T$ is closed.}
\begin{proof}
	\pf\ Let $(x_n)$ be a sequence in $\ker T$ and $x_n \rightarrow l$. Then $T(l) = \lim_{n \rightarrow \infty} T(x_n) = 0$.
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $U$ and $V$ be normed spaces. Let $W$ be a closed subspace of $U$ and $T : W \rightarrow V$ be a continuous linear mapping. Then the graph $G = \{(x,T(x)) \mid x \in W \}$ is closed in $U \times V$.
\end{thm}

\begin{proof}
\pf
\step{0}{\assume{w.l.o.g. $T \neq 0$}}
\step{1}{\pflet{$(x,y) \in (U \times V) - G$, i.e. $y \neq T(x)$}}
\step{11}{\pflet{$\epsilon = \|y-T(x)\| > 0$}}
\step{2}{\pflet{$x' \in W$ with $\|x - x'\| < \epsilon / 3\|T\|$}}
\step{3}{\pflet{$y' \in V$ with $\|y - y'\| < \epsilon / 3$}}
\step{4}{$y' \neq T(x')$}
\begin{proof}
	\pf
	\begin{align*}
		\| y' - T(x')\| & \geq \| y - T(x) \| - \| y - y' \| - \|T(x) - T(x')\| \\
		& > \epsilon /3 \\
		& > 0
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{thm}[Diagonal Theorem]
Let $E$ be a normed space over $K$. Let $(x_{ij})$ be an infinite matrix of elements of $V$. If:
\begin{enumerate}
\item For all $j \in \mathbb{Z}_+$, we have $x_{ij} \rightarrow 0$ as $i \rightarrow \infty$;
\item Every increasing sequence of positive integers $(p_j)$ has a subsequence $(p_{j_r})$ such that 
\[ \sum_{s=1}^\infty x_{p_{j_r}p_{j_s}} \rightarrow 0 \text{ as } r \rightarrow \infty \]
\end{enumerate}
then $x_{ii} \rightarrow 0$ as $i \rightarrow \infty$.
\end{thm}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $x_{ii} \not\rightarrow 0$ as $i \rightarrow \infty$}}
\step{2}{\pick\ $\epsilon > 0$ such that, for all $N$, there exists $n \geq N$ such that $\|x_{nn}\| \geq \epsilon$}
\step{3}{\pick\ an increasing sequence of integers $(p_j)$ such that $\|x_{p_jp_j}\| \geq \epsilon$ for all $j$.}
\step{4}{\pick\ a subsequence $(q_i)$ such that $\sum_{j=1}^\infty x_{q_i q_j} \rightarrow 0$ as $i \rightarrow \infty$}
\step{5}{For all $i$, we have $x_{q_i q_j} \rightarrow 0$ as $j \rightarrow \infty$}
\step{6}{For all $j$, we have $x_{q_i q_j} \rightarrow 0$ as $i \rightarrow \infty$}
\step{7}{Define a subsequence $(r_n)$ of $(q_i)$ by $r_1 = q_1$ and, for all $n$, $r_{n+1}$ is the first entry such that $r_{n+1} > r_n$, $\|x_{q_ir_n}\| < \epsilon / 2^{n+1}$ for all $q_i \geq r_{n+1}$, and $\|x_{r_jr_{n+1}}\| < \epsilon / 2^{n+2}$ for $j = 1, \ldots, n$.}
\step{8}{$\|x_{r_ir_j}\| < \epsilon / 2^{j+1}$ for all $i$, $j$ such that $i \neq j$}
\step{9}{\pick\ a subsequence $(s_j)$ of $(r_j)$ such that $\sum_{j=1}^\infty x_{s_is_j} \rightarrow 0$ as $i \rightarrow \infty$}
\step{10}{For all $i$ we have $\| \sum_{j=1}^\infty x_{s_is_j} \| \geq \epsilon / 2$}
\begin{proof}
	\pf
	\begin{align*}
		\left\| \sum_{j=1}^\infty x_{s_is_j} \right\| & = \left\| x_{s_i s_i} + \sum_{i \neq j} x_{s_is_j} \right\| \\
		& \geq \left| \| x_{s_i s_i} \| - \left\| \sum_{i \neq j} x_{s_is_j} \right\| \right| & (\text{Proposition \ref{prop:diffnorms}}) \\
		& \geq \left| \| x_{s_i s_i} \| - \sum_{i \neq j} \| x_{s_is_j} \| \right| \\
		& \geq \epsilon / 2 & (\text{\stepref{2}, \stepref{8}})
	\end{align*}
\end{proof}
\qedstep
\begin{proof}
	\pf\ \stepref{9} and \stepref{10} form a contradiction.
\end{proof}
\qed
\end{proof}

\section{Banach Spaces}

\begin{df}[Cauchy Sequence]
Let $V$ be a normed space over $K$. A \emph{Cauchy sequence} is a sequence of points $(x_n)$ such that, for every $\epsilon > 0$, there exists $N$ such that $\forall m,n \geq N. \| x_m - x_n \| < \epsilon$.
\end{df}

\begin{thm}
Let $V$ be a normed space over $K$. Let $(x_n)$ be a sequence in $V$. The following are equivalent.
\begin{enumerate}
\item $(x_n)$ is Cauchy.
\item For every pair of increasing sequences of positive integers $(p_n)$ and $(q_n)$, we have $\| x_{p_n} - x_{q_n} \| \rightarrow 0$ as $n \rightarrow \infty$.
\item For every increasing sequence of positive integers $(p_n)$, we have $\| x_{p_n} - x_n \| \rightarrow 0$ as $n \rightarrow \infty$.
\end{enumerate}
\end{thm}

\begin{proof}
\pf
\step{1}{$1 \Rightarrow 2$}
\begin{proof}
	\step{a}{\assume{$(x_n)$ is Cauchy.}}
	\step{b}{\pflet{$(p_n)$ and $(q_n)$ are increasing sequences of positive integers.}}
	\step{c}{\pflet{$\epsilon > 0$}}
	\step{d}{\pick\ $N$ such that $\forall m,n \geq N. \| x_m - x_n \| < \epsilon$}
	\step{e}{$\forall n \geq N. \|x_{p_n} - x_{q_n}\| < \epsilon$}
	\begin{proof}
		\pf\ Since $p_n, q_n \geq n \geq N$.
	\end{proof}
\end{proof}
\step{2}{$2 \Rightarrow 3$}
\begin{proof}
	\pf\ Trivial.
\end{proof}
\step{3}{$2 \Rightarrow 1$}
\begin{proof}
	\step{a}{\assume{$(x_n)$ is not Cauchy}}
	\step{b}{Pick $\epsilon > 0$ such that, for every $N \in \mathbb{Z}_+$, there exist $m_N, n_N \geq N$ such that $\|x_{m_N} - x_{n_N}\| \geq \epsilon$}
	\step{c}{\assume{w.l.o.g. $(m_N)$ and $(n_N)$ are increasing sequences.}}
	\step{d}{$\|x_{m_N} - x_{n_N}\| \not\rightarrow 0$ as $N \rightarrow \infty$.}
\end{proof}
\step{4}{$3 \Rightarrow 2$}
\begin{proof}
	\step{a}{\assume{3}}
	\step{b}{\pflet{$(p_n)$ and $(q_n)$ be increasing sequences of positive integers.}}
	\step{c}{\pflet{$\epsilon > 0$}}
	\step{d}{\pick\ $N$ such that $\forall n \geq N. \| x_{p_n} - x_n \| < \epsilon / 2$ and $\forall n \geq N. \| x_{q_n} - x_n \| < \epsilon / 2$}
	\step{e}{$\forall n \geq N. \| x_{p_n} - x_{q_n} \| < \epsilon$}
\end{proof}
\qed
\end{proof}

\begin{prop}
Every convergent sequence is Cauchy.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x_n \rightarrow l$ as $n \rightarrow \infty$.}}
\step{2}{\pflet{$\epsilon > 0$}}
\step{3}{\pick\ $N$ such that $\forall n \geq N. \| x_n - l \| < \epsilon / 2$}
\step{4}{For all $m,n \geq N$ we have $\| x_m - x_n \| < \epsilon$.}
\qed
\end{proof}

\begin{prop}
\label{prop:P01example}
In $\mathcal{P}([0,1])$, let
\[ P_n(x) = 1 + x + \frac{x^2}{2} + \cdots + \frac{x^n}{n!} \enspace . \]
Then $(P_n)$ is Cauchy but does not converge.
\end{prop}

\begin{proof}
\pf\ It converges to $e^x$ in $\mathcal{C}([0,1])$, therefore it is Cauchy in $\mathcal{C}([0,1])$, hence Cauchy in $\mathcal{P}([0,1])$. Since $e^x \notin \mathcal{P}([0,1])$, it does not converge in that space. \qed
\end{proof}

\begin{prop}
Let $V$ be a normed space over $K$. Let $(x_n)$ be a Cauchy sequence in $V$. Then $(\|x_n\|)$ converges in $\mathbb{R}$.
\end{prop}

\begin{proof}
\pf
\step{1}{$(\|x_n\|)$ is Cauchy.}
\begin{proof}
	\step{a}{\pflet{$\epsilon > 0$}}
	\step{b}{\pick\ $N$ such that $\forall m,n \geq N. \| x_m - x_n \| < \epsilon$}
	\step{c}{$\forall m,n \geq N. | \|x_m\| - \|x_n\| | < \epsilon$}
	\begin{proof}
		\pf\ Proposition \ref{prop:diffnorms}.
	\end{proof}
\end{proof}
\qedstep
\begin{proof}
	\pf\ Since every Cauchy sequence in $\mathbb{R}$ converges.
\end{proof}
\qed
\end{proof}

\begin{prop}
Every Cauchy sequence is bounded.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{\pflet{$(x_n)$ be a Cauchy sequence in $V$.}}
\step{3}{\pick\ $N$ such that $\forall m,n \geq N. \| x_m - x_n \| < 1$.}
\step{4}{\pflet{$B = \max(\|x_1\|, \ldots, \|x_{N-1}\|, \|x_N\| + 1$}}
\step{5}{$\forall n. \|x_n\| \leq B$}
\qed
\end{proof}

\begin{df}[Banach Space]
A normed space $V$ over $K$ is \emph{complete} or a \emph{Banach space} iff every Cauchy sequence converges.
\end{df}

\begin{prop}
$l^2$ is complete.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$(a_n)$ be a Cauchy sequence in $l^2$ where $a_n = (\alpha_{n1}, \alpha_{n2}, \ldots)$.}}
\step{2}{For all $\epsilon > 0$, there exists $n_0 \in \mathbb{Z}_+$ such that $\forall m,n \geq n_0. \sum_{k=1}^\infty |\alpha_{mk} - \alpha_{nk}|^2 < \epsilon^2$.}
\step{3}{For every $k \in \mathbb{Z}_+$ and $\epsilon > 0$, there exists $n_0 \in \mathbb{Z}_+$ such that $\forall m,n \geq n_0. |\alpha_{mk} - \alpha_{nk}| < \epsilon$.}
\step{4}{For every $k \in \mathbb{Z}_+$, $(\alpha_{nk})$ is Cauchy in $\mathbb{C}$.}
\step{5}{For every $k \in \mathbb{Z}_+$, $(\alpha_{nk})$ converges in $\mathbb{C}$.}
\step{6}{For $k \in \mathbb{Z}_+$, \pflet{$\alpha_k = \lim_{n \rightarrow \infty} \alpha_{nk}$}}
\step{7}{Let $a$ be the sequence $(\alpha_k)$}
\step{111}{For all $\epsilon > 0$, there exists $n_0$ such that $\forall n \geq n_0. \sum_{k=1}^\infty |\alpha_k - \alpha_{nk}|^2 \leq \epsilon^2$.}
\begin{proof}
	\pf\ Letting $m \rightarrow \infty$ in \stepref{2}.
\end{proof}
\step{8}{$a \in l^2$}
\begin{proof}
	\step{a}{\pick\ $n_0$ such that $\forall n \geq n_0. \sum_{k=1}^\infty |\alpha_k - \alpha_{nk}|^2 \leq 1$}
	\begin{proof}
		\pf\ \stepref{111}
	\end{proof}
	\step{b}{$(\alpha_k - \alpha_{n_0k}) \in l^2$}
	\step{c}{$(\alpha_{n_0k}) \in l^2$}
	\begin{proof}
		\pf\ By \stepref{1} since the sequence is $a_{n_0}$.
	\end{proof}
	\step{d}{$(\alpha_k) \in l^2$}
	\begin{proof}
		\pf\ Proposition \ref{prop:lp_closed_under_addition}.
	\end{proof}
\end{proof}
\step{9}{$a_n \rightarrow a$ as $n \rightarrow \infty$}
\begin{proof}
	\pf\ By \stepref{111} since $\| a - a_n \| = \sqrt{\sum_{k=1}^\infty |\alpha_k - \alpha_{nk}|^2}$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $a$ and $b$ be real numbers with $a < b$. The space $\mathcal{C}([a,b])$ is complete.
\end{prop}

\begin{proof}
\pf
\step{0}{\pflet{$X = [a,b]$}}
\step{1}{\pflet{$(f_n)$ be a Cauchy sequence in $\mathcal{C}([a,b])$.}}
\step{2}{For all $\epsilon > 0$, there exists $n_0$ such that $\forall n,m \geq n_0. \| f_n - f_m \| < \epsilon$.}
\step{3}{For all $\epsilon > 0$, there exists $n_0$ such that $\forall n,m \geq n_0. \forall x \in X. | f_n(x) - f_m(x) | < \epsilon$.}
\step{4}{For all $x \in [a,b]$, $(f_n(x))$ is Cauchy.}
\step{5}{Define $f : [a,b] \rightarrow \mathbb{C}$ by $f(x) = \lim_{n \rightarrow \infty} f_n(x)$.}
\step{6}{For all $\epsilon > 0$, there exists $n_0$ such that $\forall n \geq n_0. \forall x \in X. |f_n(x) - f(x)| < \epsilon$}
\begin{proof}
	\pf\ Letting $m \rightarrow \infty$ in \stepref{3}.
\end{proof}
\step{7}{$f$ is continuous}
\begin{proof}
	\step{a}{\pflet{$x_0 \in X$}}
	\step{b}{\pflet{$\epsilon > 0$}}
	\step{c}{\pick\ $n_0$ such that $\forall n \geq n_0. \forall x \in X. |f_n(x) - f(x)| < \epsilon/3$}
	\begin{proof}
		\pf\ By \stepref{6}.
	\end{proof}
	\step{d}{\pick\ $\delta > 0$ such that $\forall x \in X. |x-x_0| < \delta \Rightarrow |f_{n_0}(x)-f_{n_0}(x_0)| < \epsilon/3$}
	\begin{proof}
		\pf\ Since $f_{n_0}$ is continuous.
	\end{proof}
	\step{e}{\pflet{$x \in X$}}
	\step{f}{\assume{$|x-x_0|<\delta$}}
	\step{g}{$|f(x)-f(x_0)| < \epsilon$}
	\begin{proof}
		\pf
		\begin{align*}
			|f(x) - f(x_0)| & \leq |f(x) - f_{n_0}(x)| + |f_{n_0}(x) - f_{n_0}(x_0)| + |f_{n_0}(x_0) - f(x_0)| & (\text{Triangle Inequality}) \\
			& < \epsilon / 3 + \epsilon / 3 + \epsilon / 3 & (\text{\stepref{c}, \stepref{d}}) \\
			& = \epsilon
		\end{align*}
	\end{proof}
\end{proof}
\step{8}{$(f_n)$ converges to $f$ uniformly.}
\begin{proof}
	\pf\ From \stepref{6}
\end{proof}
\qed
\end{proof}

\begin{df}[Series]
Let $V$ be a normed space over $K$.
A \emph{convergent series} in $V$ is a sequence $(x_n)$ in $V$ such that $(x_1 + \cdots + x_n)$ is a convergent sequence, in which case we write $\sum_{n=1}^\infty x_n$ for its limit.
\end{df}

\begin{df}[Absolutely Convergent Series]
Let $V$ be a normed space over $K$. An \emph{absolutely convergent series} in $V$ is a sequence $(x_n)$ such that $\sum_{n=1}^\infty \| x_n\| < \infty$.
\end{df}

\begin{prop}
In $\mathcal{P}([0,1])$, the series $\sum_{n=0}^\infty x^n/n!$ is absolutely convergent but not convergent.
\end{prop}

\begin{proof}
\pf\ Proposition \ref{prop:P01example}. \qed
\end{proof}

\begin{thm}
\label{thm:absconvconv}
A normed space is complete if and only if every absolutely convergent series is convergent.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{If $V$ is complete then every absolutely convergent series is convergent.}
\begin{proof}
	\step{a}{\assume{$V$ is complete.}}
	\step{b}{\pflet{$\sum_{n=1}^\infty a_n$ be absolutely convergent in $V$.}}
	\step{c}{For $n \in \mathbb{Z}_+$, \pflet{$s_n = \sum_{k=1}^n a_k$}.}
	\step{d}{$(s_n)$ is Cauchy.}
	\begin{proof}
		\step{i}{\pflet{$\epsilon > 0$}}
		\step{ii}{\pick\ $k$ such that $\sum_{n=k+1}^\infty \| a_n \| < \epsilon$}
		\step{iii}{\pflet{$m > n > k$}}
		\step{iv}{$\| s_m - s_n \| < \epsilon$}
		\begin{proof}
			\pf
			\begin{align*}
			\| s_m - s_n \| & = \left\| \sum_{i=n+1}^m a_i \right\| & (\text{\stepref{c}, \stepref{iii}}) \\
			& \leq \sum_{i=s+1}^m \| a_i \| & (\text{Triangle inequality}) \\
			& \leq \sum_{i=k+1}^\infty \| a_i \| \\
			& < \epsilon & (\text{\stepref{ii}, \stepref{iii}}) 
			\end{align*}
		\end{proof}
	\end{proof}
	\step{e}{$(s_n)$ converges.}
\end{proof}
\step{3}{If every absolutely convergent series is convergent then $V$ is complete.}
\begin{proof}
	\step{a}{\assume{Every absolutely convergent series in $V$ is convergent.}}
	\step{b}{\pflet{$(a_n)$ be a Cauchy sequence in $V$.}}
	\step{c}{\pick\ a strictly increasing sequence of positive integers $(p_n)$ such that $\forall k. \forall m,n \geq p_k. \| x_m - x_n \| < 2^{-k}$.}
	\step{d}{$\sum_{k=1}^\infty (x_{p_{k+1}} - x_{p_k})$ is absolutely convergent.}
	\begin{proof}
		\pf
		\begin{align*}
			\sum_{k=1}^\infty \|x_{p_{k+1}} - x_{p_k}\| & < \sum_{k=1}^\infty 2^{-k} & (\text{\stepref{c}}) \\
			& < \infty
		\end{align*}
	\end{proof}
	\step{e}{$\sum_{k=1}^\infty (x_{p_{k+1}} - x_{p_k})$ is convergent.}
	\begin{proof}
		\pf\ \stepref{a}, \stepref{e}
	\end{proof}
	\step{f}{\pflet{$s = \sum_{k=1}^\infty (x_{p_{k+1}} - x_{p_k})$}}
	\step{g}{$x_{p_k} \rightarrow s + x_{p_1}$ as $k \rightarrow \infty$.}
	\begin{proof}
		\step{i}{$\sum_{i=1}^k (x_{p_{i+1}} - x_{p_i}) \rightarrow s$ as $k \rightarrow \infty$}
		\begin{proof}
			\pf\ \stepref{f}
		\end{proof}
		\step{ii}{$x_{p_{k+1}} - x_{p_1} \rightarrow s$ as $k \rightarrow \infty$}
	\end{proof}
	\step{h}{$x_n \rightarrow s + x_{p_1}$ as $k \rightarrow \infty$.}
	\begin{proof}
		\pf
		\step{i}{\pflet{$\epsilon > 0$}}
		\step{ii}{\pick\ $N$ such that $\forall k \geq N. \|x_{p_k} - (s + x_{p_1})\| < \epsilon / 2$ and $\forall m,n \geq N. \| x_m - x_n \| < \epsilon / 2$}
		\begin{proof}
			\pf\ \stepref{b}, \stepref{g}
		\end{proof}
		\step{iii}{$\forall n \geq N. \| x_n - (s + x_{p_1}) \| < \epsilon$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}
A closed vector subspace of a Banach space is a Banach space.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a Banach space over $K$.}}
\step{2}{\pflet{$U$ be a closed vector subspace of $V$.}}
\step{3}{\pflet{$(a_n)$ be a Cauchy sequence in $U$.}}
\step{4}{$(a_n)$ is a Cauchy sequence in $V$.}
\step{5}{\pflet{$l = \lim_{n \rightarrow \infty} a_n$}}
\step{6}{$l \in U$}
\begin{proof}
	\pf\ Theorem \ref{thm:closedconverge}.
\end{proof}
\step{7}{$a_n \rightarrow l$ as $n \rightarrow \infty$ in $U$.}
\qed
\end{proof}

\begin{df}[Completion]
Let $V$ be a normed space over $K$. A \emph{completion} of $V$ consists of a normed space $W$ over $K$ and an injection $\phi : V \rightarrow W$ such that:
\begin{enumerate}
\item $\forall x,y \in V. \forall \alpha, \beta \in K. \phi(\alpha x + \beta y) = \alpha \phi(x) + \beta \phi(y)$
\item $\forall x \in V. \|\phi(x)\| = \|x\|$
\item $\phi(V)$ is dense in $W$.
\item $W$ is complete.
\end{enumerate}
\end{df}

\begin{prop}
Every normed space has a completion.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a normed space over $K$.}}
\step{2}{Let us say two Cauchy sequences $(x_n)$, $(y_n)$ ore \emph{equivalent} iff $x_n - y_n \rightarrow 0$ as $n \rightarrow \infty$.}
\step{2a}{Equivalence is an equivalence relation on the set of Cauchy sequences.}
\step{3}{\pflet{$W$ be the set of Cauchy sequences in $V$ quotiented by equivalence.}}
\step{4}{Define addition and multiplication on $W$ by
\begin{align*}
[(x_n)] + [(y_n)] & = [(x_n + y_n)] \\
\lambda [(x_n)] & = [(\lambda x_n)]
\end{align*}}
\step{5}{Define a norm on $W$ by $\| [(x_n)] \| = \lim_{n \rightarrow \infty} \|x_n\|$}
\step{6}{Define $\phi : V \rightarrow W$ by $\phi(v) = [(v)]$.}
\step{7}{$\phi$ is injective.}
\step{8}{$\forall x,y \in V. \forall \alpha,\beta \in K. \phi(\alpha x + \beta y) = \alpha \phi(x) + \beta \phi(y)$}
\step{9}{$\forall x \in V. \| \phi(x) \| = \| x \|$}
\step{10}{$\phi(V)$ is dense in $W$.}
\begin{proof}
	\step{a}{\pflet{$[(a_n)] \in W$ and $\epsilon > 0$.} \prove{$B([(a_n)],\epsilon)$ intersects $\phi(V)$.}}
	\step{b}{\pick\ $N$ such that $\forall m,n \geq N. \| a_m - a_n \| < \epsilon / 2$}
	\step{c}{$\phi(a_N) \in B([(a_n)], \epsilon)$}
	\begin{proof}
		\pf
		\begin{align*}
			\| [(a_n)] - \phi(a_N) \| & = \lim_{n \rightarrow \infty} \| a_n - a_N \| \\
			& \leq \epsilon / 2 & (\text{\stepref{b}}) \\
			& < \epsilon
		\end{align*}
	\end{proof}	
\end{proof}	 
\step{11}{$W$ is complete.}
\begin{proof}
	\step{a}{\pflet{$(X_n)$ be a Cauchy sequence in $W$.}}
	\step{b}{For $n \in \mathbb{Z}_+$, \pick\ $x_n \in V$ such that
	\[ \| \phi(x_n) - X_n \| < 1/n \enspace . \]}
	\step{c}{$(x_n)$ is Cauchy in $V$.}
	\begin{proof}
		\step{i}{\pflet{$\epsilon > 0$}}
		\step{2}{\pick\ $N$ such that $\forall m,n \geq N. \|X_n - X_m\| < \epsilon /3$ and $1/N < \epsilon / 3$}
		\step{3}{\pflet{$m,n \geq N$}}
		\step{4}{$\|x_m - x_n\| < \epsilon$}
		\begin{proof}
			\pf
			\begin{align*}
				\|x_m - x_n\| & = \| \phi(x_m) - \phi(x_n) \| \\
				& \leq \| \phi(x_m) - X_m \| + \| X_m - X_n \| + \| X_n - \phi(x_n)\| \\
				& < \|X_m - X_n\| + 1/m + 1/n \\
				& < \epsilon
			\end{align*}
		\end{proof}
	\end{proof}
	\step{d}{\pflet{$X = [(x_n)]$}}
	\step{e}{$X_n \rightarrow X$ as $n \rightarrow \infty$}
	\begin{proof}
		\pf
		\begin{align*}
			\|X_n - X\| & \leq \| X_n - \phi(x_n) \| + \| \phi(x_n) - X \| \\
			& < \| \phi(x_n) - X \| + 1/n \\
			& \rightarrow 0 & \text{as } n \rightarrow \infty
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $U$ be a normed space and $V$ a Banach space. Then $\mathcal{B}(U,V)$ is a Banach space.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$(T_n)$ be a Cauchy sequence in $\mathcal{B}(U,V)$}}
\step{2}{For all $u \in U$, $(T_n(u))$ is a Cauchy sequence in $V$.}
\begin{proof}
	\step{a}{\pflet{$u \in U$}}
	\step{b}{\pflet{$\epsilon > 0$} \prove{$\exists N. \forall m,n \geq N. \|T_m(u) - T_n(u)\| < \epsilon$}}
	\step{bb}{\assume{w.l.o.g. $u \neq 0$}}
	\step{c}{\pick\ $N$ such that $\forall m,n \geq N. \|T_m - T_n\| < \epsilon / \|u\|$}
	\step{d}{\pflet{$m,n \geq N$}}
	\step{e}{$\|T_m(u) - T_n(u)\| < \epsilon$}
	\begin{proof}
		\pf
		\begin{align*}
			\|T_m(u) - T_n(u)\| & \leq \|T_m - T_n\| \|u\| & (\text{Proposition \ref{prop:normmult}}) \\
			& < \epsilon 
		\end{align*}
	\end{proof}
\end{proof}
\step{3}{Define $T : U \rightarrow V$ by $T(u) = \lim_{n \rightarrow \infty} T_n(u)$}
\step{4}{$T \in \mathcal{B}(U,V)$}
\begin{proof}
	\step{a}{For all $x,y \in U$ and $\alpha, \beta \in K$ we have $T(\alpha x + \beta y) = \alpha T(x) + \beta T(y)$}
	\begin{proof}
		\step{i}{\pflet{$x,y \in U$}}
		\step{ii}{\pflet{$\alpha, \beta \in K$}}
		\step{iii}{$T(\alpha x + \beta y) = \alpha T(x) + \beta T(y)$}
		\begin{proof}
			\pf
			\begin{align*}
				T(\alpha x + \beta y) & = \lim_{n \rightarrow \infty} T_n(\alpha x + \beta y) \\
				& = \lim_{n \rightarrow \infty} (\alpha T_n(x) + \beta T_n(y)) \\
				& = \alpha T(x) + \beta T(y)
			\end{align*}
		\end{proof}
	\end{proof}
	\step{b}{$T$ is bounded.}
	\begin{proof}
		\step{i}{\pick\ $N$ such that $\forall n \geq N. \|T_n - T\| < 1$}
		\step{ii}{\pick\ $B > 0$ such that $\forall x \in U. \|T_N(x)\| \leq B \|x\|$}
		\step{iii}{\pflet{$x \in U$}}
		\step{iv}{$\|T(x)\| \leq (B+1)\|x\|$}
		\begin{proof}
			\pf
			\begin{align*}
				\|T(x)\| & \leq \|T_N(x) - T(x)\| + \|T(x)\| & (\text{Triangle inequality}) \\
				& \leq \|T_N - T\|\|x\| + \|T\| \|x\| & (\text{Proposition \ref{prop:normmult}}) \\
				& < \|x\| + B \|x\| & (\text{\stepref{i}, \stepref{ii}}) \\
				& = (B + 1) \|x\|
			\end{align*}
		\end{proof}
	\end{proof}
\end{proof}
\step{5}{$T_n \rightarrow T$ as $n \rightarrow \infty$}
\begin{proof}
	\step{a}{\pflet{$\epsilon > 0$}}
	\step{b}{\pick\ $N$ such that $\forall m,n \geq N. \|T_m - T_n\| < \epsilon / 2$}
	\step{c}{\pflet{$n \geq N$} \prove{$\|T_n - T\| < \epsilon$}}
	\step{d}{\pflet{$x \in U$ with $\|x\| = 1$}}
	\step{e}{$\|T_n(x) - T(x)\| \leq \epsilon / 2$}
	\begin{proof}
		\pf\ Let $n \rightarrow \infty$ in \stepref{b}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
For any normed space $V$ over $K$, the space $\mathcal{B}(V,K)$ is a Banach space.
\end{cor}

\begin{thm}
Let $U$ be a normed space and $V$ a Banach space. Let $W$ be a subspace of $U$. Let $T : W \rightarrow V$ be a continuous linear transformation. Then $T$ has a unique extension to a continuous linear transformation $\cl W \rightarrow V$.
\end{thm}

\begin{proof}
\pf
\step{1}{Define $S : \cl W \rightarrow V$ by: $S(x) = \lim_{n \rightarrow \infty} T(x_n)$, where $(x_n)$ is any sequence in $W$ that converges to $x$.}
\begin{proof}
	\step{a}{For all $x \in \cl W$, there exists a sequence $(x_n)$ in $W$ that converges to $x$.}
	\begin{proof}
		\pf\ Theorem \ref{thm:closureconverge}.
	\end{proof}
	\step{b}{If $(x_n)$ is a Cauchy sequence in $W$ then $(T(x_n))$ is Cauchy in $V$.}
	\begin{proof}
		\step{x}{\assume{w.l.o.g. $T \neq 0$}}
		\step{i}{\pflet{$(x_n)$ be a Cauchy sequence in $W$.}}
		\step{ii}{\pick\ $B > 0$ such that $\forall x \in W. \|T(x)\| \leq B \|x\|$}
		\step{iii}{\pflet{$\epsilon > 0$}}
		\step{iv}{\pick\ $N$ such that $\forall m,n \geq N. \|x_m - x_n\| < \epsilon / \|T\|$}
		\step{v}{\pflet{$m,n \geq N$}}
		\step{vi}{$\|T(x_m) - T(x_n)\| < \epsilon$}
	\end{proof}
	\step{c}{If $(x_n)$ and $(y_n)$ are sequences in $W$ that converge to the same element in $\cl W$ then $(T(x_n))$ and $(T(y_n))$ have the same limit in $V$.}
	\begin{proof}
		\step{0}{\assume{w.l.o.g. $T \neq 0$}}
		\step{i}{\assume{$x_n \rightarrow l$ and $y_n \rightarrow l$ as $n \rightarrow \infty$}}
		\step{2}{\pflet{$T(x_n) \rightarrow a$ and $T(y_n) \rightarrow b$ as $n \rightarrow \infty$}}
		\step{3}{\assume{for a contradiction $a \neq b$}}
		\step{4}{\pflet{$\epsilon = \|a-b\|$}}
		\step{5}{\pick\ $N$ such that $\forall n \geq N. \|x_n - l\| < \epsilon / 3\|T\|$ and $\forall n \geq N. \|y_n - l\| < \epsilon / 3\|T\|$}
		\step{6}{$\forall n \geq N. \|T(x_n) - T(y_n)\| < 2 \epsilon / 3$}
		\step{7}{$\|a - b \| \leq 2 \epsilon/ 3$}
		\step{8}{This contradicts \stepref{4}.}
	\end{proof}
\end{proof}
\step{2}{$S$ extends $T$}
\begin{proof}
	\step{a}{\pflet{$w \in W$}}
	\step{b}{$w \rightarrow w$ as $n \rightarrow \infty$}
	\step{c}{$T(w) \rightarrow T(w)$ as $n \rightarrow \infty$}
	\step{d}{$S(w) = T(w)$}
\end{proof}
\step{3}{$S$ is bounded.}
\begin{proof}
	\step{a}{\pflet{$x \in \cl W$} \prove{$\|S(x)\| \leq \|T\|\|x\|$}}
	\step{b}{\pick\ a sequence $(x_n)$ in $W$ that converges to $x$.}
	\step{c}{$\|T(x_n)\| \leq \|T\|\|x_n\|$ for all $n$.}
	\step{d}{$\|S(x)\| \leq \|T\|\|x\|$}
	\begin{proof}
		\pf\ Taking the limit as $n \rightarrow \infty$.
	\end{proof}
\end{proof}
\step{4}{$S$ is linear.}
\begin{proof}
	\step{a}{\pflet{$x,y \in \cl W$ and $\alpha, \beta \in K$}}
	\step{b}{\pick\ sequences $(x_n)$ and $(y_n)$ in $W$ that converge to $x$ and $y$.}
	\step{c}{$T(\alpha x_n + \beta y_n) = \alpha T(x_n) + \beta T(y_n)$ for all $n$.}
	\step{d}{$S(\alpha x + \beta y) = \alpha S(x) + \beta S(y)$}
	\begin{proof}
		\pf\ Taking the limit as $n \rightarrow \infty$.
	\end{proof}
\end{proof}
\step{5}{$S$ is unique.}
\begin{proof}
	\step{a}{\pflet{$S'$ be a continuous linear extension of $S$ defined on $\cl W$.}}
	\step{b}{\pflet{$x \in W$} \prove{$S(x) = S'(x)$}}
	\step{c}{\pick\ a sequence $(x_n)$ in $W$ that converges to $x$.}
	\step{d}{$T(x_n) = S'(x_n) \rightarrow S'(x)$ as $n \rightarrow \infty$}
	\step{e}{$S'(x) = S(x)$}
\end{proof}
\qed
\end{proof}

\begin{cor}
Let $U$ be a normed space and $V$ a Banach space. Let $W$ be a dense subspace of $U$. Let $T : W \rightarrow V$ be a continuous linear transformation. Then $T$ has a unique extension to a continuous linear transformation $U \rightarrow V$.
\end{cor}

\begin{df}[Functional]
Let $V$ be a normed space over $K$. A \emph{functional} on $V$ is a bounded linear mapping $V \rightarrow K$. The \emph{dual space} of $V$ is the space $\mathcal{B}(V,K)$ of all functionals.
\end{df}

\begin{thm}[Banach-Steinhaus Theorem]
Let $\mathcal{T}$ be a family of bounded linear mappings from a Banach space $X$ into a normed space $Y$. If, for every $x \in X$, there exists a constant $M_x$ such that $\forall T \in \mathcal{T}. \| T(x) \| \leq M_x$, then there exists a constant $M > 0$ such that $\forall T \in \mathcal{T}. \|T\| \leq M$.
\end{thm}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction no such $M$ exists.}}
\step{2}{For $n \in \mathbb{Z}_+$, \pick\ $T_n \in \mathcal{T}$ such that $\|T_n\| > n2^n$.}
\step{3}{For $n \in \mathbb{Z}_+$, \pick\ $x_n \in X$ such that $\|x_n\| = 1$ and $\|T_n(x_n)\| > n2^n$.}
\step{4}{For $n \in \mathbb{Z}_+$,
\[ \left\| \frac{1}{n} T_n \left( \frac{x_n}{2^n} \right) \right\| > 1 \enspace . \]}
\step{5}{For $i,j \in \mathbb{Z}_+$, \pflet{$y_{ij} = \frac{1}{i} T_i(\frac{x_j}{2^j})$.}}
\step{6}{For all $j \in \mathbb{Z}_+$, $y_{ij} \rightarrow 0$ as $i \rightarrow \infty$}
\begin{proof}
	\step{a}{\pflet{$j \in \mathbb{Z}_+$}}
	\step{b}{\pick\ $M$ such that $\forall T \in \mathcal{T}. \|T(x_j/2^j)\| \leq M$}
	\step{c}{For all $i$, $\|y_{ij}\| \leq M/i$}
\end{proof}
\step{7}{For any increasing sequence of positive integers $(p_i)$, we have $\sum_{j=1}^\infty y_{p_ip_j} \rightarrow 0$ as $i \rightarrow \infty$}
\begin{proof}
	\step{a}{\pflet{$(p_i)$ be an increasing sequence of positive integers.}}
	\step{b}{\pflet{$z = \sum_{j=1}^\infty x_{p_j}/2^{p_j}$}}
	\begin{proof}
		\pf\ This converges by Theorem \ref{thm:absconvconv}.
	\end{proof}
	\step{c}{\pick\ $C$ such that $\forall T \in \mathcal{T}. \| T(z) \| \leq C$}
	\step{d}{For all $i$, $\| \sum_{j=1}^\infty y_{p_i p_j} \| \leq C/p_i$.}
	\begin{proof}
		\pf
		\begin{align*}
			\left\| \sum_{j=1}^\infty y_{p_i p_j} \right\|
			& = \left\| \sum_{j=1}^\infty \frac{1}{p_i} T_{p_i}\left( \frac{x_{p_j}}{2^{p_j}} \right) \right\| & (\text{\stepref{5}}) \\
			& = \frac{1}{p_i} \left\| T_{p_i} \left( \sum_{j=1}^\infty \frac{x_{p_j}}{2^{p_j}} \right) \right\| & (T_{p_i} \text{ continuous}) \\
			& = \frac{1}{p_i} \| T_{p_i}(z) \| & (\text{\stepref{b}}) \\
			& \leq \frac{C}{p_i}& (\text{\stepref{c}})
		\end{align*}
	\end{proof}
	\step{e}{$\sum_{j=1}^\infty y_{p_i p_j} \rightarrow 0$ as $i \rightarrow \infty$}
\end{proof}
\step{8}{$y_{ii} \rightarrow 0$ as $i \rightarrow \infty$}
\begin{proof}
	\pf\ Diagonal Theorem, \stepref{6}, \stepref{7}.
\end{proof}
\qedstep
\begin{proof}
	\pf\ \stepref{4} and \stepref{8} form a contradiction.
\end{proof}
\qed
\end{proof}

\section{Contraction Mappings}

\begin{df}[Contraction Mapping]
Let $E$ be a normed space over $K$. Let $A \subseteq E$. A function $f : A \rightarrow E$ is a \emph{contraction (mapping)} iff there exists a real $\alpha$ such that $0 < \alpha < 1$ and
\[ \forall x,y \in A. \| f(x) - f(y) \| \leq \alpha \|x-y\| \enspace . \]
\end{df}

\begin{prop}
\label{prop:contcont}
Contraction mappings are uniformly continuous.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E$ be a normed space over $K$.}}
\step{2}{\pflet{$A \subseteq E$}}
\step{3}{\pflet{$f : A \rightarrow E$ be a contraction mapping.}}
\step{4}{\pick\ $\alpha$ such that $0 < \alpha < 1$ and $\forall x,y \in A. \|f(x) - f(y)\| \leq \alpha \|x-y\|$.}
\step{5}{\pflet{$\epsilon > 0$}}
\step{6}{\pflet{$\delta = \epsilon / \alpha$}}
\step{7}{For all $x,y \in A$, if $\|x-y\| < \delta$ then $\|f(x) - f(y)\| < \epsilon$.}
\qed
\end{proof}

\begin{thm}[Banach Fixed Point Theorem]
Let $E$ be a Banach space over $K$. Let $F$ be a nonempty closed subset of $E$. Let $f : F \rightarrow F$ be a contraction mapping. Then there exists a unique $z \in F$ such that $f(z) = z$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ $\alpha$ such that $0 < \alpha < 1$ and
\[ \forall x,y \in F. \| f(x) - f(y) \| \leq \alpha \| x - y \| \enspace . \]}
\step{2}{\pick\ $x_0 \in F$}
\step{3}{For $n \in \mathbb{Z}_+$, \pflet{$x_n = f^n(x_0)$.}}
\step{4}{$(x_n)$ is a Cauchy sequence.}
\begin{proof}
	\step{a}{For all $n \in \mathbb{Z}_+$ we have $\|x_{n+1} - x_n\| \leq \alpha^n \|x_1 - x_0\|$.}
	\step{b}{For all $m,n \in \mathbb{Z}_+$ with $m < n$ we have $\| x_n - x_m \| < \alpha^m \|x_1 - x_0\| / (1-\alpha)$.}
	\begin{proof}
		\pf
		\begin{align*}
			\|x_n - x_m\| & \leq \|x_n - x_{n-1}\| + \| x_{n-1} - x_{n-2} \| + \cdots + \| x_{m+1} - x_m \| & (\text{Triangle inequality}) \\
			& \leq (\alpha^{n-1} + \alpha^{n-2} + \cdots + \alpha^m) \|x_1 - x_0\| & (\text{\stepref{a}}) \\
			& < \frac{\|x_1 - x_0\|}{1-\alpha} \alpha^m
		\end{align*}
	\end{proof}
	\step{c}{\pflet{$\epsilon > 0$}}
	\step{d}{\pick\ $N$ such that $\alpha^N \| x_1 - x_0 \| / (1 - \alpha) < \epsilon$}
	\step{e}{For all $m,n \geq N$, we have $\|x_n - x_m\| < \epsilon$}
\end{proof}
\step{5}{\pflet{$z = \lim_{n \rightarrow \infty} x_n$}}
\step{6}{$f(z) = z$}
\begin{proof}
	\pf
	\begin{align*}
		f(z) & = f \left( \lim_{n \rightarrow \infty} x_n \right) \\
		& = \lim_{n \rightarrow \infty} f(x_n) & (\text{Proposition \ref{prop:contcont}}) \\
		& = \lim_{n \rightarrow \infty} x_{n+1} \\
		& = z
	\end{align*}
\end{proof}
\step{7}{For any $w \in F$, if $f(w) = w$ then $w = z$.}
\begin{proof}
	\step{a}{\pflet{$w \in F$}}
	\step{b}{\assume{$f(w) = w$}}
	\step{c}{$\| z-w \| \leq \alpha \|z-w\|$}
	\begin{proof}
		\pf\ $\|z-w\| = \|f(z) - f(w)\| \leq \alpha \|z-w\|$
	\end{proof}
	\step{d}{$\|z-w\| = 0$}
	\step{e}{$z = w$}
\end{proof}
\qed
\end{proof}

\chapter{Inner Product Spaces}

\begin{df}[Inner Product Space]
Let $E$ be a complex vector space. An \emph{inner product} on $E$ is a function $\langle \ , \ \rangle : E^2 \rightarrow \mathbb{C}$ such that, for all $x,y,z \in E$ and $\alpha, \beta \in \mathbb{C}$, we have:
\begin{enumerate}
\item $\langle x,y \rangle = \overline{\langle y,x \rangle}$
\item $\langle \alpha x + \beta y, z \rangle = \alpha \langle x,z \rangle + \beta \langle y,z \rangle$
\item $\langle x,x \rangle \geq 0$
\item If $\langle x,x \rangle = 0$ then $x = 0$
\end{enumerate}
An \emph{inner product space} consists of a complex vector space $V$ and an inner product on $V$.
\end{df}

\begin{prop}
Let $E$ be an inner product space. For any $x \in E$, we have $\langle x,x \rangle$ is real.
\end{prop}

\begin{proof}
\pf\ Since $\langle x,x \rangle = \overline{\langle x,x \rangle}$. \qed
\end{proof}

\begin{prop}
\[ \langle x, \alpha y + \beta z \rangle = \overline{\alpha} \langle x,y \rangle + \overline{\beta} \langle x,z \rangle \]
\end{prop}

\begin{prop}
\[ \langle 0,y \rangle = \langle x,0 \rangle = 0 \]
\end{prop}

\begin{prop}
The function $\langle \vec{x}, \vec{y} \rangle = \sum_{i=1}^n x_i \overline{y_i}$ is an inner product on $\mathbb{C}^n$.
\end{prop}

\begin{prop}
The function $\langle (x_n), (y_n) \rangle = \sum_{i=1}^\infty x_i \overline{y_i}$ is an inner product on $l^2$.
\end{prop}

\begin{prop}
The function $\langle f, g \rangle = \int_a^b f(x) \overline{g(x)} dx$ is an inner product on $\mathcal{C}([a,b])$.
\end{prop}

\begin{prop}
Let $p > 1$ and $\Omega \subseteq \mathbb{R}^N$. Let $L^p(\Omega)$ be the set of all functions $f : \Omega \rightarrow \mathbb{C}$ such that $|f|^p$ is Lebesgue integrable.

The function $\langle f,g \rangle = \int_\Omega f(x) \overline{g(x)} dx$ is an inner product on $L^2(\Omega)$.
\end{prop}

\begin{prop}
Let $E_1$ and $E_2$ be inner product spaces. Then the function $\langle (e_1,e_2),(e_1',e_2') \rangle = \langle e_1, e_1' \rangle + \langle e_2, e_2' \rangle$ is an inner product on $E_1 \times E_2$.
\end{prop}

\begin{df}[Norm]
In an inner product space, define $\|x\| = \sqrt{\langle x,x \rangle}$.
\end{df}

\begin{prop}[Schwarz's Inequality]
In any inner product space,
\[ |\langle x,y \rangle| \leq \| x \| \| y \| \enspace . \]
Equality holds iff $x$ and $y$ are linearly dependent.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{w.l.o.g. $y \neq 0$}}
\step{1}{$|\langle x,y \rangle| \leq \|x\| \|y\|$}
\begin{proof}
	\step{2}{For all $\alpha \in \mathbb{C}$ we have $\langle x,x \rangle + \overline{\alpha}\langle x,y \rangle + \alpha \langle y,x \rangle + |\alpha|^2 \langle y,y \rangle$}
	\begin{proof}
		\pf\ The right-hand side is $\langle x + \alpha y, x + \alpha y \rangle$.
	\end{proof}
	\step{3}{$\langle x,x \rangle \langle y,y \rangle - |\langle x,y \rangle|^2 \geq 0$}
	\begin{proof}
		\pf\ Taking $\alpha = - \langle x,x \rangle / \langle y,y \rangle$ in \stepref{2}.
	\end{proof}
\end{proof}
\step{2}{If $|\langle x,y \rangle| = \|x\| \|y\|$ then $x$ and $y$ are linearly dependent.}
\begin{proof}
	\step{a}{\assume{$|\langle x,y \rangle| = \|x\|\|y\|$}}
	\step{b}{$\langle x,y \rangle \langle y,x \rangle = \langle x,x \rangle \langle y,y \rangle$}
	\step{c}{$\langle y,y \rangle x - \langle x,x \rangle y = 0$}
	\begin{proof}
		\pf
		\begin{align*}
			\langle \langle y,y \rangle x - \langle x,y \rangle y, \langle y,y \rangle x - \langle x,y \rangle y \rangle
			& = \langle y,y \rangle^2 \langle x,x \rangle - \langle y,y \rangle \langle y,x \rangle \langle x,y \rangle - \langle x,y \rangle \langle y,y \rangle \langle y,x \rangle + \langle x,y \rangle \langle y,x \rangle \langle y,y \rangle \\
			& = 0
		\end{align*}
	\end{proof}
\end{proof}
\step{3}{If $x$ and $y$ are linearly dependent then $|\langle x,y \rangle| = \|x\| \|y\|$}
\begin{proof}
	\step{a}{\assume{$x$ and $y$ are linearly dependent.}}
	\step{b}{\pflet{$y = \alpha x$}}
	\step{c}{$|\langle x,y \rangle| = \|x\|\|y\|$}
	\begin{proof}
		\pf
		\begin{align*}
			|\langle x,y \rangle| & = |\langle x, \alpha x \rangle| \\
			& = |\alpha| |\langle x,x \rangle| \\
			& = |\alpha| \|x\|^2 \\
			& = \|x\| \|\alpha x\| \\
			& = \|x\| \|y\|
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}[Triangle Inequality]
In any inner product space,
\[ \| x + y \| \leq \| x \| + \| y \| \]
\end{cor}

\begin{proof}
\pf
\begin{align*}
\|x+y\|^2 & = \langle x+y, x+y \rangle \\
& = \langle x,x \rangle + \langle x,y \rangle + \langle y,x \rangle + \langle y,y \rangle \\
& \leq \langle x,x \rangle + 2 |\langle x,y \rangle| + \langle y,y \rangle \\
& \leq \|x\|^2 + 2 \|x\| \|y\| + \|y\|^2 & (\text{Schwarz's Inequality}) \\
& = (\|x\| + \|y\|)^2 & \qed
\end{align*}
\end{proof}

\begin{cor}
The norm in an inner product space is a norm.
\end{cor}

\begin{thm}[Parallelogram Law]
In any inner product space,
\[ \|x+y\|^2 + \|x-y\|^2 = 2 (\|x\|^2 + \|y\|^2) \]
\end{thm}

\begin{proof}
\pf
\step{1}{$\|x+y\|^2 = \|x\|^2 + \langle x,y \rangle + \langle y,x \rangle + \|y\|^2$}
\step{2}{$\|x-y\|^2 = \|x\|^2 - \langle x,y \rangle - \langle y,x \rangle + \|y\|^2$}
\qedstep
\begin{proof}
	\pf\ Add \stepref{1} and \stepref{2}.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $E$ be a normed space over $\mathbb{C}$. Then there exists an inner product on $E$ that induces the norm of $E$ iff $E$ satisfies the Parallelogram Law.
\end{prop}

\begin{proof}
\pf\ If $E$ satisfies the parallelogram law, define \[ \langle x,y \rangle = \frac{1}{4}(\|x+y\|^2 - \|x-y\|^2 + i \|x+iy\|^2 -i\|x-iy\|^2) \enspace . \]
\end{proof}

\begin{df}[Orthogonal]
Vectors $x$ and $y$ in an inner product space are \emph{orthogonal}, $x \perp y$, iff $\langle x,y \rangle = 0$.
\end{df}

\begin{thm}[Pythagorean Formula]
If $x$ and $y$ are orthogonal then
\[ \| x + y \|^2 = \|x\|^2 + \|y\|^2 \enspace . \]
\end{thm}

\begin{df}[Weak Convergence]
Let $E$ be an inner product space. Let $(x_n)$ be a sequence in $E$ and $l \in E$. Then $(x_n)$ \emph{weakly converges} to $l$, $x_n \stackrel{w}{\rightarrow} l$ as $n \rightarrow \infty$, iff $\forall y \in E. \langle x_n, y \rangle \rightarrow \langle l,y \rangle$ as $n \rightarrow \infty$.
\end{df}

\begin{prop}
In any inner product space $E$, the inner product $\langle \ , \ \rangle : E^2 \rightarrow \mathbb{C}$ is continuous.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x_n \rightarrow x$ and $y_n \rightarrow y$ in $E$.}}
\step{2}{{$\langle x_n, y_n \rangle \rightarrow \langle x,y \rangle$}}
\begin{proof}
	\pf
	\begin{align*}
		|\langle x_n, y_n \rangle - \langle x,y \rangle| & \leq |\langle x_n, y_n \rangle - \langle x_n, y \rangle | + |\langle x_n, y \rangle - \langle x,y \rangle| \\
		& = |\langle x_n, y_n - y \rangle | + |\langle x_n - x, y \rangle| \\
		& \leq \| x_n \| \| y_n - y \| + \| x_n - x \| \| y \| & (\text{Schwarz's Inequality}) \\
		& \rightarrow 0
	\end{align*}
	using the fact that $(x_n)$ is bounded.
\end{proof}
\qed
\end{proof}

\begin{thm}
$x_n \rightarrow l$ if and only if $x_n \stackrel{w}{\rightarrow} l$ and $\|x_n\| \rightarrow \|x\|$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $x_n \rightarrow l$ then $x_n \stackrel{w}{\rightarrow} l$ and $\|x_n\| \rightarrow \|l\|$.}
\begin{proof}
	\pf\ Easy using the fact that the inner product is continuous.
\end{proof}
\step{2}{If $x_n \stackrel{w}{\rightarrow} l$ and $\|x_n\| \rightarrow \|l\|$ then $x_n \rightarrow l$.}
\begin{proof}
	\step{a}{\assume{$x_n \stackrel{w}{\rightarrow} l$ and $\|x_n\| \rightarrow \|l\|$}}
	\step{b}{$\langle x_n, l \rangle \rightarrow \|l\|^2$}
	\step{c}{$\|x_n - l\| \rightarrow 0$}
	\begin{proof}
		\pf
		\begin{align*}
			\|x_n - l\|^2 & = \langle x_n - l, x_n - l \rangle \\
			& = \langle x_n, x_n \rangle - \langle x_n, l \rangle - \langle l, x_n \rangle + \langle l,l \rangle \\
			& = \| x_n\|^2 - \langle x_n, l \rangle - \overline{\langle x_n, l \rangle} + \| l \|^2 \\
			& \rightarrow \|l\|^2 - 2 \|l\|^2 + \|l\|^2 \\
			& = 0
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $S$ be a subset of an inner product space $E$ such that $\spn S$ is dense in $E$. If $(x_n)$ is a bounded sequence in $E$ and, for all $y \in S$, we have $\langle x_n, y \rangle \rightarrow \langle x,y \rangle$ then $x_n \stackrel{w}{\rightarrow} x$.
\end{thm}

\begin{proof}
\pf
\step{1}{For all $y \in \spn S$, we have $\langle x_n, y \rangle \rightarrow \langle x, y \rangle$}
\step{2}{\pflet{$z \in E$} \prove{$\langle x_n, z \rangle \rightarrow \langle x,z \rangle$}}
\step{3}{\pflet{$\epsilon > 0$} \prove{There exists $n_0$ such that $\forall n \geq n_0. |\langle x_n, z \rangle - \langle x,z \rangle| < \epsilon$}}
\step{4}{\pick\ $M > 0$ such that $\|x\| \leq M$ and $\forall n \in \mathbb{Z}_+. \|x_n\| \leq M$.}
\step{5}{\pick\ $y_0 \in \spn S$ such that $\| z - y_0 \| < \epsilon / 3M$}
\step{6}{\pick\ $n_0 \in \mathbb{Z}_+$ such that, for all $n \geq n_0$, we have $|\langle x_n, y_0 \rangle - \langle x, y_0 \rangle| < \epsilon / 3$}
\step{7}{\pflet{$n \geq n_0$}}
\step{8}{$|\langle x_n, z \rangle - \langle x,z \rangle| < \epsilon$}
\begin{proof}
	\pf
	\begin{align*}
		|\langle x_n, z \rangle - \langle x,z \rangle| & \leq |\langle x_n, z \rangle - \langle x_n, y_0 \rangle| + |\langle x_n, y_0 \rangle - \langle x,y_0 \rangle| + |\langle x, y_0 \rangle - \langle x, z \rangle| \\
		& < \|x_n\| \|z-y_0\| + \epsilon / 3 + \|x\| \|y_0 - z\| \\
		& < M (\epsilon / 3M) + \epsilon / 3 + M (\epsilon / 3M) \\
		& = \epsilon
	\end{align*}
\end{proof}
\qed
\end{proof}

\section{Orthonormal Bases}

\begin{df}[Orthogonal]
Let $V$ be an inner product space and $S \subseteq V$. Then $S$ is \emph{orthogonal} iff any two distinct elements of $S$ are orthogonal.
\end{df}

\begin{df}[Orthonormal]
Let $V$ be an inner product space and $S \subseteq V$. Then $S$ is \emph{orthonormal} iff it is orthogonal and $\forall x \in S. \|x\| = 1$.
\end{df}

\begin{prop}
Orthonormal sets are linearly independent.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$S$ be orthonormal}}
\step{2}{\assume{$\alpha_1 e_1 + \cdots + \alpha_n e_n = 0$ where $e_1, \ldots, e_n \in S$}}
\step{3}{$|\alpha_1|^2 + \cdots | \alpha_n|^2 = 0$}
\begin{proof}
	\pf
	\begin{align*}
		0 & = \sum_{m=1}^n \langle 0, \alpha_m e_m \rangle \\
		& = \sum_{m=1}^n \langle \sum_{k=1}^n \alpha_k e_k, \alpha_m e_m \rangle \\
		& = \sum_{m=1}^n \sum_{k=1}^n \alpha_k \overline{\alpha_m} \langle e_k, e_m \rangle \\
		& = \sum_{k=1}^n |\alpha_k|^2
	\end{align*}
\end{proof}
\step{4}{$\alpha_1 = \cdots = \alpha_n = 0$}
\qed
\end{proof}

\begin{prop}
In $l^2$, let $e_n$ be the sequence whose $n$th element is 1 and whose other elements are 0. Then $\{ e_n \mid n \in \mathbb{Z}_+ \}$ is orthonormal.
\end{prop}

\begin{prop}
In $L^2([-\pi,\pi])$, let $\phi_n(x) = e^{inx}/\sqrt{2\pi}$ for $n \in \mathbb{Z}$. Then $\{ \phi_n \mid n \in \mathbb{Z} \}$ is orthonormal.
\end{prop}

\begin{df}[Legendre Polynomials]
The \emph{Legendre polynomials} $P_n \in \mathbb{Q}[x]$ for $n \in \mathbb{N}$ are defined by
\begin{align*}
P_0 & = 1 \\
P_n & = \frac{1}{2^n n!} \frac{d^n}{dx^n} (x^2-1)^n
\end{align*}
\end{df}

\begin{prop}
Let $P_n$ be the $n$th Legendre polynomial. Then $\{ P_n \mid n \in \mathbb{N} \}$ is orthogonal in $L^2([-1,1])$.
\end{prop}

\begin{df}[Hermite Polynomial]
The \emph{Hermite polynomials} $H_n \in \mathbb{R}[x]$ for $n \in \mathbb{N}$ are defined by
\[ H_n(x) = (-1)^n e^{x^2} \frac{d^n}{dx^n} e^{-x^2} \enspace . \]
\end{df}

\begin{prop}
Let $H_n$ be the $n$th Hermite polynomial. Then $\{ e^{-x^2/2}H_n(x) \mid n \in \mathbb{N} \}$ is orthogonal in $L^2(\mathbb{R})$.
\end{prop}

\begin{thm}
\label{thm:Pythagorean2}
Let $V$ be an inner product space.
If $x_1, \ldots, x_n \in V$ are orthogonal then
\[ \left\| \sum_{i=1}^n x_i \right\|^2 = \sum_{i=1}^n \| x_i \|^2 \enspace . \]
\end{thm}

\begin{thm}[Bessel's Equality]
Let $V$ be an inner product space. Let $x_1, \ldots, x_n \in V$ be orthonormal. Let $x \in V$. Then
\[ \left\| x - \sum_{k=1}^n \langle x, x_k \rangle x_k \right\|^2 = \|x\|^2 - \sum_{k=1}^n |\langle x, x_k \rangle|^2 \enspace . \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
\left\| x - \sum_{k=1}^n \langle x, x_k \rangle x_k \right\|^2
& = \left\langle x - \sum_{k=1}^n \langle x, x_k \rangle x_k, x - \sum_{k=1}^n \langle x, x_k \rangle x_k \right\rangle \\
& = \langle x,x \rangle - \left\langle x, \sum_{k=1}^n \langle x, x_k \rangle x_k \right\rangle
- \left\langle \sum_{k=1}^n \langle x, x_k \rangle x_k, x \right\rangle \\
& + \left\langle \sum_{k=1}^n \langle x, x_k \rangle x_k, \sum_{k=1}^n \langle x, x_k \rangle x_k \right\rangle \\
& = \langle x,x \rangle - 2 \sum_{k=1}^n \langle x,x_k \rangle \langle x_k, x \rangle + \sum_{i=1}^n \sum_{j=1}^n \langle x,x_i \rangle \langle x_j,x \rangle \langle x_i,x_j \rangle \\
& = \|x\|^2 - 2 \sum_{k=1}^n |\langle x,x_k \rangle|^2 + \sum_{i=1}^n \langle x,x_i \rangle \langle x_i,x \rangle \\
& = \| x \|^2 - \sum_{k=1}^n |\langle x, x_k \rangle|^2 & \qed
\end{align*}
\end{proof}

\begin{cor}[Bessel's Inequality]
Let $V$ be an inner product space. Let $x_1, \ldots, x_n \in V$ be orthonormal. Let $x \in E$. Then
\[ \sum_{k=1}^n |\langle x, x_k \rangle|^2 \leq \|x\|^2 \enspace . \]
\end{cor}

\begin{cor}
Orthonormal sequences are weakly convergent to 0.
\end{cor}

\begin{proof}
\pf\ Let $(x_n)$ be an orthonormal sequence.
Taking the limit in Bessel's inequality we have $\sum_{k=1}^\infty |\langle x, x_k \rangle|^2 \leq \|x\|^2 < \infty$ and so $\langle x, x_k \rangle \rightarrow 0$ as $k \rightarrow \infty$. \qed
\end{proof}

\begin{cor}[Generalized Fourier Series]
Let $V$ be an inner product space. Let $(e_n)$ be an orthonormal sequence in $V$. For any $x \in V$, the \emph{generalized Fourier series} of $x$ is
\[ \sum_{n=1}^\infty \langle x, e_n \rangle e_n \enspace , \]
and $\langle x, e_n \rangle$ is called the $n$th \emph{generalized Fourier coefficient} of $x$ with respect to $(e_n)$.
We have $(\langle x, e_n \rangle e_n)_n \in l^2$.
\end{cor}

\begin{df}[Complete Orthonormal Sequence]
Let $E$ be an inner product space. Let $(x_n)$ be an orthonormal sequence in $E$. Then $(x_n)$ is \emph{complete} iff, for all $x \in E$, we have
\[ \sum_{n=1}^\infty \langle x, x_n \rangle x_n = x \enspace . \]
\end{df}

\chapter{Hilbert Spaces}

\begin{df}[Hilbert Space]
A \emph{Hilbert space} is a complete inner product space.
\end{df}

\begin{prop}
For $n \in \mathbb{N}$, $\mathbb{C}^n$ is a Hilbert space.
\end{prop}

\begin{prop}
$l^2$ is a Hilbert space.
\end{prop}

\begin{prop}
$L^2(\mathbb{R})$ is a Hilbert space.
\end{prop}

\begin{prop}
$L^2([a,b])$ is a Hilbert space.
\end{prop}

\begin{prop}
Let $\rho$ be a measurable function on $[a,b]$ such that $\rho(x) > 0$ almost everywhere. Let $L^{2\rho}([a,b])$ be the set of all measurable functions $f : [a,b] \rightarrow \mathbb{C}$ such that
\[ \int_a^b |f(x)|^2 \rho(x) dx < \infty \enspace . \]
Define an inner product on $L^{2\rho}([a,b])$ by
\[ \langle f,g \rangle = \int_a^b f(x) \overline{g(x)} \rho(x) dx \enspace . \]
Then $L^{2\rho}([a,b])$ is a Hilbert space.
\end{prop}

\begin{prop}
Let $m$ and $N$ be positive integers.
Let $\Omega$ be an open set in $\mathbb{R}^N$. Let $\tilde{H}^m(\Omega)$ be the set of all $f \in \mathcal{C}^m(\Omega)$ such that, for every $\alpha = (\alpha_1, \ldots, \alpha_N) \in \mathbb{Z}_+^N$ with $|\alpha| := \alpha_1 + \cdots + \alpha_N \leq m$, we have 
\[ D^\alpha f := \frac{\partial^{|\alpha|} f}{\partial x_1^{\alpha_1} \partial x_2^{\alpha_2} \cdots \partial x_N^{\alpha_N}} \in L^2(\Omega) \enspace . \]
Define an inner product on $\tilde{H}^m(\Omega)$ by
\[ \langle f,g \rangle := \int_\Omega \sum_\alpha D^\alpha f \overline{D^\alpha g} \enspace . \]
Let $H^m(\Omega)$ be the completion of $\tilde{H}^m(\Omega)$. Then $H^m(\Omega)$ is a Hilbert space.
\end{prop}

\begin{thm}
Weakly convergent sequences in a Hilbert space are bounded.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$H$ be a Hilbert space.}}
\step{2}{\pflet{$(x_n)$ be a weakly convergent sequence in $H$.}}
\step{3}{For $n \in \mathbb{Z}_+$, \pflet{$f_n : H \rightarrow \mathbb{C}$, $f_n(x) = \langle x, x_n \rangle$}}
\step{4}{For $n \in \mathbb{Z}_+$, $f_n$ is a bounded linear functional.}
\step{5}{For every $x \in H$, the sequence $(f_n(x))$ is bounded.}
\begin{proof}
	\pf\ Since it converges.
\end{proof}
\step{6}{\pick\ $M > 0$ such that, for all $n \in \mathbb{Z}_+$, we have $\| f_n \| \leq M$.}
\begin{proof}
	\pf\ Banach-Steinhaus Theorem, \stepref{4}, \stepref{5}.
\end{proof}
\step{7}{$\forall n \in \mathbb{Z}_+. \| f_n \| = \| x_n \|$}
\begin{proof}
	\step{a}{\pflet{$n \in \mathbb{Z}_+$}}
	\step{b}{$\|f_n\| \leq \|x_n\|$}
	\begin{proof}
		\pf\ Since for all $x \in H$ we have $|f_n(x)| = |\langle x,x_n\rangle| \leq \|x\|\|x_n\|$ by Schwarz's Inequality.
	\end{proof}
	\step{c}{$\|x_n\| \leq \|f_n\|$}
	\begin{proof}
		\pf\ Since $\|x_n\|^2 = |\langle x_n, x_n\rangle| = |f_n(x_n)| \leq \|f_n\| \|x_n\|$.
	\end{proof}
\end{proof}
\step{8}{$\forall n \in \mathbb{Z}_+. \| x_n \| \leq M$}
\begin{proof}
	\pf\ \stepref{6}, \stepref{7}
\end{proof}
\qed
\end{proof}

\begin{thm}
\label{thm:infinite_Pythagoras}
Let $H$ be a Hilbert space. Let $(x_n)$ be an orthonormal sequence in $H$ and let $(\alpha_n)$ be a sequence of complex numbers. Then the series $\sum_{n=1}^\infty \alpha_n x_n$ converges in $H$ if and only if $\sum_{n=1}^\infty |\alpha_n|$ converges  in $\mathbb{R}$, in which case
\[ \left\| \sum_{n=1}^\infty \alpha_n x_n \right\|^2 = \sum_{n=1}^\infty |\alpha_n|^2 \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{For $m > k > 0$ we have
\[ \left\| \sum_{n=k}^m \alpha_n x_n \right\|^2 = \sum_{n=k}^m |\alpha_n|^2 \enspace . \]}
\begin{proof}
	\pf\ Theorem \ref{thm:Pythagorean2}.
\end{proof}
\step{2}{If $\sum_{n=1}^\infty |\alpha_n|^2 < \infty$ then $\sum_{n=1}^\infty \alpha_n x_n$ converges.}
\begin{proof}
	\step{a}{\assume{$\sum_{n=1}^\infty |\alpha_n|^2 < \infty$}}
	\step{b}{$\left( \sum_{n=1}^m \alpha_n x_n \right)_m$ is Cauchy.}
	\begin{proof}
		\pf\ From \stepref{1}.
	\end{proof}
	\step{c}{$\sum_{n=1}^\infty \alpha_n x_n$ converges.}
\end{proof}
\step{3}{If $\sum_{n=1}^\infty \alpha_n x_n$ converges then $\sum_{n=1}^\infty |\alpha_n|^2 < \infty$.}
\begin{proof}
	\pf\ From \stepref{1}.
\end{proof}
\step{4}{If $\sum_{n=1}^\infty |\alpha_n|^2 < \infty$ then
\[ \left\| \sum_{n=1}^\infty \alpha_n x_n \right\|^2 = \sum_{n=1}^\infty |\alpha_n|^2 \enspace . \]}
\begin{proof}
	\pf\ From \stepref{1}.
\end{proof}
\qed
\end{proof}

\begin{prop}
Every complete orthonormal sequence in a Hilbert space is a basis.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E$ be an inner product space.}}
\step{2}{\pflet{$(e_n)$ be a complete orthonormal sequence in $E$.}}
\step{3}{For all $x \in E$, there exists a sequence $(\alpha_n)$ in $\mathbb{C}$ such that $x = \sum_n \alpha_n e_n$.}
\begin{proof}
	\pf\ Immediate from \stepref{2}.
\end{proof}
\step{4}{If $\sum_n \alpha_n e_n = \sum_n \beta_n e_n$ then $\alpha_n = \beta_n$ for all $n$.}
\begin{proof}
	\step{a}{\pflet{$x = \sum_n \alpha_n e_n = \sum_n \beta_n e_n$}}
	\step{b}{$\sum_n |\alpha_n - \beta_n|^2 = 0$}
	\begin{proof}
		\pf
		\begin{align*}
			0 & = \|x - x\|^2 \\
			& = \left\| \sum_{n=1}^\infty \alpha_n e_n - \sum_{n=1}^\infty \beta_n e_n \right\|^2 & (\text{\stepref{a}}) \\
			& = \left\| \sum_{n=1}^\infty (\alpha_n - \beta_n) e_n \right\|^2 \\
			& = \sum_{n=1}^\infty |\alpha_n - \beta_n|^2 & (\text{Theorem \ref{thm:infinite_Pythagoras}})
		\end{align*}
	\end{proof}
	\step{c}{$\alpha_n = \beta_n$ for all $n$.}
\end{proof}
\qed
\end{proof}

\begin{thm}
An orthonormal sequence $(x_n)$ in a Hilbert space $H$ is complete if and only if, for all $x \in H$, if $\forall n. \langle x, x_n \rangle = 0$ then $x = 0$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $(x_n)$ is complete then, for all $x \in H$, if $\forall n. \langle x, x_n \rangle = 0$ then $x = 0$.}
\begin{proof}
	\step{a}{\assume{$(x_n)$ is complete.}}
	\step{b}{\pflet{$x \in H$}}
	\step{c}{\assume{$\forall n. \langle x, x_n \rangle = 0$}}
	\step{d}{$x = \sum_{n=1}^\infty \langle x, x_n \rangle x_n = 0$}
\end{proof}
\step{2}{If, for all $x \in H$, if $\forall n. \langle x, x_n \rangle = 0$ then $x = 0$, then $(x_n)$ is complete.}
\begin{proof}
	\step{a}{\assume{For all $x \in H$, if $\forall n. \langle x, x_n \rangle = 0$, then $x = 0$.}}
	\step{b}{\pflet{$y = x - \sum_{n=1}^\infty \langle x, x_n \rangle x_n$}}
	\step{c}{For all $n$, $\langle y, x_n \rangle = 0$}
	\begin{proof}
		\step{i}{\pflet{$n \in \mathbb{Z}_+$}}
		\step{ii}{$\langle y, x_n \rangle = 0$}
		\begin{proof}
			\pf
			\begin{align*}
				\langle y, x_n \rangle & = \left\langle x - \sum_{m=1}^\infty \langle x, x_m \rangle x_m , x_n \right\rangle \\
				& = \langle x, x_n \rangle - \sum_{m=1}^\infty \langle x, x_m \rangle \langle x_m, x_n \rangle \\
				& = \langle x, x_n \rangle - \langle x, x_n \rangle \\
				& = 0
			\end{align*}
		\end{proof}
	\end{proof}
	\step{d}{$y = 0$}
	\step{e}{$x = \sum_{n=1}^\infty \langle x, x_n \rangle x_n$}
\end{proof}
\qed
\end{proof}

\begin{thm}[Parseval's Formula]
Let $H$ be a Hilbert space. Let $(x_n)$ be an orthonormal sequence in $H$. Then $(x_n)$ is complete if and only if, for all $x \in H$,
\[ \| x \|^2 = \sum_{n=1}^\infty |\langle x, x_n \rangle|^2 \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{If $(x_n)$ is complete then for all $x \in H$ we have $\|x\|^2 = \sum_{n=1}^\infty |\langle x, x_n \rangle|^2$.}
\begin{proof}
	\step{a}{\assume{$(x_n)$ is complete.}}
	\step{b}{\pflet{$x \in H$}}
	\step{c}{$\|x\|^2 = \sum_{n=1}^\infty |\langle x, x_n \rangle|^2$}
	\begin{proof}
		\pf
		\begin{align*}
			\|x\|^2 & = \left\| \sum_{n=1}^\infty \langle x, x_n \rangle x_n \right\|^2 & (\text{\stepref{a}}) \\
			& = \sum_{n=1}^\infty |\langle x, x_n \rangle|^2 & (\text{Theorem \ref{thm:infinite_Pythagoras}})
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{If, for all $x \in H$, we have $\|x\|^2 = \sum_{n=1}^\infty |\langle x, x_n \rangle|^2$, then $(x_n)$ is complete.}	
\begin{proof}
	\step{a}{\assume{For all $x \in H$, we have $\|x\|^2 = \sum_{n=1}^\infty |\langle x, x_n \rangle|^2$}}
	\step{b}{\pflet{$x \in H$}}
	\step{c}{$x = \sum_{n=1}^\infty \langle x,x_n \rangle x_n$}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:Example3_4_16}
For $n \in \mathbb{Z}$, let $\pi_n(x) = e^{inx}/\sqrt{2 \pi}$. Then $\{ \pi_n \mid n \in \mathbb{Z} \}$ is a complete orthonormal set in $L^2([-\pi,\pi])$.
\end{prop}

\begin{proof}
TODO
\end{proof}

\begin{prop}
$B = \{ 1/\sqrt{2 \pi} \} \cup \{ \cos nx / \sqrt{\pi} \mid n \in \mathbb{Z}_+ \} \cup \{ \sin n x / \sqrt{\pi} \mid n \in \mathbb{Z}_+ \}$ is a complete orthonormal set in $L^2([-\pi, \pi])$.
\end{prop}

\begin{proof}
\pf
\step{1}{For all $f \in B$ we have $\|f\| = 1$}
\begin{proof}
	\step{a}{$\| 1/\sqrt{2 \pi} \| = 1$}
	\begin{proof}
		\pf
		\begin{align*}
			\| 1 / \sqrt{2 \pi} \| & = \int_{- \pi}^\pi dx / 2 \pi \\
			& = 1 
		\end{align*}
	\end{proof}
	\step{b}{For all $n \in \mathbb{Z}_+$ we have $\| \cos n x / \sqrt{\pi} \| = 1$}
	\begin{proof}
		\pf
		\begin{align*}
			\| \cos n x / \sqrt{\pi} \| & = 1 / \pi \int_{-\pi}^\pi \cos^2 n x \, d x \\
			& = 1/2\pi \int_{-\pi}^\pi (\cos 2 n x + 1) dx \\
			& = 1/2\pi \left[ 1/2n \sin 2nx + x \right]_{-\pi}^\pi \\
			& = (1/2\pi) (2 \pi) \\
			& = 1
		\end{align*}
	\end{proof}
	\step{c}{For all $n \in \mathbb{Z}_+$ we have $\| \sin n x / \sqrt{\pi} \| = 1$}
	\begin{proof}
		\pf
		\begin{align*}
			\| \sin n x / \sqrt{\pi} \| & = 1 / \pi \int_{-\pi}^\pi \sin^2 n x \, d x \\
			& = -1/2\pi \int_{-\pi}^\pi (\cos 2 n x - 1) dx \\
			& = -1/2\pi \left[ 1/2n \sin 2nx - x \right]_{-\pi}^\pi \\
			& = (-1/2\pi) (-2 \pi) \\
			& = 1
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{For all $f,g \in B$ with $f \neq g$ we have $\langle f,g \rangle = 0$}
\begin{proof}
	\step{a}{$\langle 1, \cos nx \rangle = 0$}
	\begin{proof}
		\pf
		\begin{align*}
			\int_{-\pi}^\pi \cos nx \, dx
			& = \left[ 1/n \sin nx \right]_{-\pi}^\pi \\
			& = 0
		\end{align*}
	\end{proof}
	\step{b}{$\langle 1, \sin nx \rangle = 0$}
	\begin{proof}
		\pf
		\begin{align*}
			\int_{-\pi}^\pi \sin nx \, dx
			& = \left[ -1/n \cos nx \right]_{-\pi}^\pi \\
			& = -1/n \cos n \pi + 1/n \cos n \pi \\
			& = 0
		\end{align*}
	\end{proof}
	\step{c}{If $m \neq n$ then $\langle \cos mx, \cos nx \rangle = 0$}
	\begin{proof}
		\pf
		\begin{align*}
			\int_{-\pi}^\pi \cos mx \cos nx \, dx
			& = 1/2 \int_{-\pi}^\pi (\cos(n+m)x - \cos (n-m) x) dx \\
			& = 1/2 \left[ \frac{1}{n+m} \sin (n+m) x - \frac{1}{n-m} \sin (n-m)x \right]_{-\pi}^\pi \\
			& = 0
		\end{align*}
	\end{proof}
	\step{d}{$\langle \cos mx, \sin nx \rangle = 0$}
	\begin{proof}
		\pf
		\begin{align*}
			\int_{-\pi}^\pi \cos mx \sin nx \, dx
			& = 1/2 \int_{-\pi}^\pi (\sin (n+m)x - \sin(n-m)x) dx \\
			& = 1/2 \left[ - \frac{1}{n+m} \cos (n+m)x + \frac{1}{n-m} \cos (n-m)x \right]_{-\pi}^\pi \\
			& = 0 & (\cos \text{ is odd})
		\end{align*}
	\end{proof}
	\step{e}{If $m \neq n$ then $\langle \sin mx, \sin nx \rangle = 0$}
	\begin{proof}
		\pf
		\begin{align*}
			\int_{-\pi}^\pi \sin mx \sin nx \, dx
			& = 1/2 \int_{-\pi}^\pi (\cos (n-m)x - \cos (n+m)x) dx \\
			& = 1/2 \left[\frac{1}{n-m} \sin(n-m)x - \frac{1}{n+m} \sin(n+m)x \right]_{-\pi}^\pi \\
			& = 0
		\end{align*}
	\end{proof}
\end{proof}
\step{3}{For all $f \in L^2([-\pi,\pi])$, if $\forall g \in B. \langle f,g \rangle = 0$ then $f = 0$}
\begin{proof}
	\step{a}{\pflet{$f \in L^2([-\pi,\pi])$}}
	\step{b}{\assume{$\forall g \in B. \langle f,g \rangle = 0$}}
	\step{c}{For all $n \in \mathbb{Z}$, $\langle f, e^{inx} \rangle = 0$}
	\begin{proof}
		\pf\ Since $e^{inx} = \cos nx + i \sin nx$.
	\end{proof}
	\step{d}{$f = 0$}
	\begin{proof}
		\pf\ From Proposition \ref{prop:Example3_4_16}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
$\{\frac{1}{\sqrt{\pi}}\} \cup \{\sqrt{\frac{2}{\pi}} \cos nx \mid n \in \mathbb{Z}_+ \}$ is a complete orthonormal set in $L^2([0,\pi])$.
\end{prop}

\begin{prop}
$\{\sqrt{\frac{2}{\pi}} \sin n x \mid n \in \mathbb{Z}_+ \}$ is a complete orthonormal set in $L^2([0,\pi])$.
\end{prop}

\begin{df}[Signum]
The \emph{signum} function $\sgn : \mathbb{R} \rightarrow \mathbb{R}$ is defined by
\[ \sgn x = \begin{cases}
1 & \text{if } x > 0 \\
0 & \text{if } x = 0 \\
-1 & \text{if } x < 0
\end{cases} \]
\end{df}

\begin{df}[Rademacher Functions]
The \emph{Rademarcher functions} $R : \mathbb{N} \times [0,1] \rightarrow \{-1,0,1\}$ are defined by
\[ R(m,x) = \sgn(\sin(2^m \pi x)) \enspace . \]
\end{df}

\begin{prop}
The Rademacher functios $\{ R(m,-) \mid m \in \mathbb{N} \}$ are orthonormal in $L^2([0,1])$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\forall m \in \mathbb{N}. \| R(m,-)\| = 1$}
\begin{proof}
	\pf\ $\int_0^1 \sgn(\sin(2^m \pi x))^2 dx = 1$ since the integrand is 1 except for finitely many points in $[0,1]$.
\end{proof}
\step{2}{Given natural numbers $m \neq n$, we have $\langle R(m,-), R(n,-) \rangle = 0$}
\begin{proof}
	\step{a}{Given reals $a$, $b$ and a natural number $m$, we have $\int_a^b R(m,x) dx = 0$ whenever $2^m(b-a)$ is an even integer.}
	\begin{proof}
		\pf\ If $m > 0$, or if $m = 0$ and $b-a$ is an even integer, then the regions where $R(m,x) = 1$ are isometric with the regions where $R(m,x) = -1$.
	\end{proof}
	\step{b}{\pflet{$m$ and $n$ be natural numbers with $n < m$.}}
	\step{c}{$\langle R(m,-), R(n,-) \rangle = 0$}
	\begin{proof}
		\pf
		\begin{align*}
			\int_0^1 R(m,x) R(n,x) dx
			& = \sum_{k=1}^{2^n} \int_{\frac{k-1}{2^n}}^{\frac{k}{2^n}} R(m,x) R(n,x) dx \\
			& = \sum_{k=1}^{2^n} (-i)^{k+1} \int_{\frac{k-1}{2^n}}^{\frac{k}{2^n}} R(m,x)dx \\
			& = 0 & (\text{\stepref{a}}, 2^m\left(\frac{k}{2^n} - \frac{k-1}{2^n}\right) = 2^{m-n} \text{ is an even integer})
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
The set of Rademacher functions is not complete.
\end{prop}

\begin{proof}
\pf
\step{1}{Define $f : [0,1] \rightarrow \mathbb{C}$ by $f(x) = 0$ if $0 \leq x < 1/4$, $f(x) = 1$ if $1/4 \leq x \leq 3/4$, $f(x) = 0$ if $3/4 < x \leq 1$.}
\step{2}{$f \in L^2([0,1])$}
\step{3}{$\langle R(0,-),f\rangle = 1/2$}
\step{4}{$\langle R(m,-),f \rangle = 0$ for $m \geq 1$}
\step{5}{$f \neq 1/2 R(0,-)$}
\qed
\end{proof}

\begin{df}[Walsh Functions]
Define the \emph{Walsh functions} $W : \mathbb{N} \times [0,1] \rightarrow \{-1,0,1\}$ as follows. Given $m \in \mathbb{N}$, let $m = \sum_{k=1}^n 2^{k-1} a_k$ where each $a_k$ is either 0 or 1. Then
\[ W(m,x) = \prod_{k=1}^n R(k,x)^{a_k} \enspace . \]
\end{df}

\begin{prop}
The set of Walsh functions $\{ W(m,-) \mid m \in \mathbb{N} \}$ is a compete orthonormal set.
\end{prop}

\begin{proof}
TODO
\end{proof}

\end{document}

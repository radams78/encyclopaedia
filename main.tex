\documentclass{book}
\title{Mathematics}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage{tikz-cd}

\newtheorem{ax}{Axiom}
\newtheorem{prop}{Proposition}[chapter]
\newtheorem{thm}[prop]{Theorem}
\newtheorem{cor}{Corollary}[prop]
\theoremstyle{definition}
\newtheorem{df}[prop]{Definition}
\newtheorem{ex}[prop]{Example}

\newcommand{\id}[1]{\ensuremath{\mathrm{id}_{#1}}}
\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}
\newcommand{\Set}{\ensuremath{\mathbf{Set}}}
\newcommand{\lcm}{\ensuremath{\operatorname{lcm}}}
\newcommand{\Aut}[2]{\ensuremath{\mathrm{Aut}_{#1} \left( {#2} \right)}}

\begin{document}

\maketitle
\tableofcontents

\part{Category Theory}

\chapter{Foundations}

This is a placeholder --- I am not sure what foundation I want to use for this project yet. I will try to work in a way which is foundation-independent. What I do could be formalized in ZFC, ETCS, or some other system. I will assume the usual set theoretic constructions as needed. Sets will be defined up to bijection only.

\chapter{Number Theory}

\section{Congruence}

\begin{df}[Congruence]
    Let $a$, $b$, $n$ be integers with $n > 0$. We say $a$ is \emph{congruent} to $b$ \emph{modulo} $n$, and write $a \equiv b \mod n$, iff $n \mid b - a$.
\end{df}

\begin{prop}
    For $n$ a positive integer, congruence modulo $n$ is an equivalence relation.
\end{prop}

\begin{proof}
    \pf
    \step{1}{For any integer $a$ we have $a \equiv a \mod n$.}
    \begin{proof}
        \pf\ Since $n \mid 0 = a - a$.
    \end{proof}
    \step{2}{If $a \equiv b \mod n$ then $b \equiv a \mod n$.}
    \begin{proof}
        \pf\ If $n \mid b - a$ then $n \mid a - b = -(b-a)$.
    \end{proof}
    \step{3}{If $a \equiv b \mod n$ and $b \equiv c \mod n$ then $a \equiv c \mod n$.}
    \begin{proof}
        \pf\ If $n \mid b - a$ and $n \mid c - b$ then $n \mid c - a = (c - b) + (b - a)$.
    \end{proof}
    \qed
\end{proof}

\begin{df}
    Let $\mathbb{Z} / n \mathbb{Z}$ be the quotient set of $\mathbb{Z}$ with respect to congruence modulo $n$.
\end{df}

\begin{prop}
    $\mathbb{Z} / n \mathbb{Z}$ has exactly $n$ elements.
\end{prop}

\begin{proof}
    \pf\ Every integer is congruent to one of 0, 1, \ldots, $n - 1$ by the division algorithm, and no two of them are conguent to one another, since if $0 \leq i < j < n$ then $0 < j - i < n$. \qed
\end{proof}

\begin{prop}
    If $a \equiv a' \mod n$ and $b \equiv b' \mod n$ then $a + b \equiv a' + b' \mod n$.
\end{prop}

\begin{proof}
    \pf\ If $n \mid a' - a$ and $n \mid b' - b$ then $n \mid (a' + b') - (a + b)$. \qed
\end{proof}

\begin{prop}
    If $a \equiv a' \mod n$ and $b \equiv b' \mod n$ then $ab \equiv a'b' \mod n$.
\end{prop}

\begin{proof}
    \pf\ If $n \mid a' - a$ and $n \mid b' - b$ then $n \mid a'b' - ab = a'(b'-b) + (a'-a)b$. \qed
\end{proof}

\section{Euler's $\phi$-function}

\begin{df}
For $n$ a positive integer, let $(\mathbb{Z} / n \mathbb{Z})^* = \{ m \in \mathbb{Z} / n \mathbb{Z} : \gcd(m,n) = 1 \}$.
\end{df}

\begin{proof}
    \pf\ We prove this is well-defined.
    \step{0}{If $m \equiv m' \mod n$ and $\gcd(m,n) = 1$ then $\gcd(m',n) = 1$.}
    \begin{proof}
        \step{a}{\pick\ integers $a$, $b$ such that $am+bn = 1$}
        \step{b}{\pick\ an integer $c$ such that $m' - m = cn$}
        \step{c}{$am' + (b-ac)n = 1$}
    \end{proof}
    \qed
\end{proof}

\begin{df}
    For $n$ a positive integer, let $\phi(n) = |(\mathbb{Z} / n \mathbb{Z})^*|$.
\end{df}

\begin{prop}
    If $n$ is an odd positive integer then $\phi(2n) = \phi(n)$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$n$ be an odd positive integer.}}
    \step{2}{For any integer $m$, if $\gcd(m,n) = 1$ then $\gcd(2m+n,2n) = 1$}
    \begin{proof}
        \pf\ For $p$ a prime, if $p \mid 2m+n$ and $p \mid 2n$ then $p \neq 2$ (since $2m+n$ is odd) so $p \mid n$ and hence $p \mid m$, which is a contradiction.
    \end{proof}
    \step{3}{For any integer $r$, if $\gcd(r,2n) = 1$ then $\gcd(\frac{r+n}{2},n) = 1$}
    \begin{proof}
        \pf\ If $p \mid n$ and $p \mid \frac{r + n}{2}$ then $p \mid r + n$ so $p \mid r$ which is a contradiction.
    \end{proof}
    \step{4}{The function that maps $m$ to $2m+n$ is a bijection between $(\mathbb{Z} / n\mathbb{Z})^*$
    and $(\mathbb{Z} / 2n\mathbb{Z})^*$.}
    \qed
\end{proof}

\chapter{Categories}

\begin{df}[Category]
    A \emph{category} $\mathcal{C}$ consists of:
    \begin{itemize}
        \item A class $|\mathcal{C}|$ of \emph{objects}. We write $A \in \mathcal{C}$ for $A \in |\mathcal{C}|$.
        \item For any objects $A$, $B$, a set $\mathcal{C}[A,B]$ of \emph{morphisms} from $A$ to $B$. We write $f : A \rightarrow B$ for $f \in \mathcal{C}[A,B]$.
        \item For any object $A$, a morphism $\id{A} : A \rightarrow A$, the \emph{identity} morphism on $A$.
        \item For any morphisms $f : A \rightarrow B$ and $g : B \rightarrow C$, a morphism $g \circ f : A \rightarrow C$, the \emph{composite} of $f$ and $g$.
    \end{itemize}
    such that:
    \begin{description}
        \item[Associativity] Given $f : A \rightarrow B$, $g : B \rightarrow C$ and $h : C \rightarrow D$, we have $h \circ (g \circ f) = (h \circ g) \circ f$
        \item[Left Unit Law] For any morphism $f : A \rightarrow B$, we have $\id{B} \circ f = f$.
        \item[Right Unit Law] For any morphism $f : A \rightarrow B$, we have $f \circ \id{A} = f$.
    \end{description}
\end{df}

\begin{prop}
\label{prop:id-morph-unique}
    The identity morphism on an object is unique.
\end{prop}

\begin{proof}
    \pf\ If $i$ and $j$ are identity morphisms on $A$ then $i = i \circ j = j$. \qed
\end{proof}

\begin{ex}[Category of Sets]
    The \emph{category of sets} $\Set$ has objects all sets and morphisms all functions.
\end{ex}

\begin{df}[Endomorphism]
    In a category $\mathcal{C}$, an \emph{endomorphism} on an object $A$ is a morphism $A \rightarrow A$. We write $\mathrm{End}_\mathcal{C}(A)$ for $\mathcal{C}[A,A]$.
\end{df}

\begin{df}[Opposite Category]
    For any category $\mathcal{C}$, the \emph{opposite} category $\mathcal{C}^\mathrm{op}$ is the category with the same objects as $\mathcal{C}$ and
    \[ \mathcal{C}^\mathrm{op}[A,B] = \mathcal{C}[B,A] \]
\end{df}

\section{Preorders}

\begin{df}[Preorder]
    A \emph{preorder} on a set $A$ is a relation $\leq$ on $A$ that is reflexive and transitive.

    A \emph{preordered set} is a pair $(A, \leq)$ such that $\leq$ is a preorder on $A$. We usually write $A$ for the preordered set $(A, \leq)$.

    We identify any preordered set $A$ with the category whose objects are the elements of $A$, with one morphism $a \rightarrow b$ iff $a \leq b$, and no morphism $a \rightarrow b$ otherwise.
\end{df}

\begin{ex}
    For any ordinal $\alpha$, let $\mathbf{\alpha}$ be the preorder $\{ \beta : \beta < \alpha \}$ under $\leq$.
\end{ex}

\begin{df}[Discrete Preorder]
    We identify any set $A$ with the \emph{discrete} preorder $(A, =)$.
\end{df}

\section{Monomorphisms and Epimorphisms}

\begin{df}[Monomorphism]
    In a category, let $f : A \rightarrow B$. Then $f$ is a \emph{monomorphism} or \emph{monic} iff, for every object $X$ and morphism $x,y : X \rightarrow A$, if $fx = fy$ then $x=y$.
\end{df}

\begin{df}[Epimorphism]
    In a category, let $f : A \rightarrow B$. Then $f$ is a \emph{epimorphism} or \emph{epi} iff, for every object $X$ and morphism $x,y : B \rightarrow X$, if $xf = yf$ then $x=y$.
\end{df}

\begin{prop}
    The composite of two monomorphism is monic.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : A \rightarrowtail B$ and $g : B \rightarrowtail C$ be monic.}}
    \step{2}{\pflet{$x,y : X \rightarrow A$}}
    \step{3}{\assume{$g \circ f \circ x = g \circ f \circ y$}}
    \step{4}{$f \circ x = f \circ y$}
    \step{5}{$x = y$}
    \qed
\end{proof}

\begin{prop}
    The composite of two epimorphisms is epi.
\end{prop}

\begin{proof}
    \pf\ Dual. \qed
\end{proof}

\begin{prop}
    Let $f : A \rightarrow B$ and $g : B \rightarrow C$. If $g \circ f$ is monic then $f$ is monic.
\end{prop}

\begin{proof}
    \pf\ If $f \circ x = f \circ y$ then $gfx = gfy$ and so $x = y$. \qed
\end{proof}

\begin{prop}
    Let $f : A \rightarrow B$ and $g : B \rightarrow C$. If $g \circ f$ is epi then $g$ is epi.
\end{prop}

\begin{proof}
    \pf\ Dual. \qed
\end{proof}

\begin{prop}
    A function is a monomorphism in $\Set$ iff it is injective.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : A \rightarrow B$}}
    \step{2}{If $f$ is monic then $f$ is injective.}
    \begin{proof}
        \step{a}{\assume{$f$ is monic.}}
        \step{b}{\pflet{$x,y \in A$}}
        \step{c}{\assume{$f(x) = f(y)$}}
        \step{d}{\pflet{$\overline{x}, \overline{y} : 1 \rightarrow A$ be the functions such that $\overline{x}(*) = x$ and $\overline{y}(*) = y$}}
        \step{e}{$f \circ \overline{x} = f \circ \overline{y}$}
        \step{f}{$\overline{x} = \overline{y}$}
        \begin{proof}
            \pf\ By \stepref{a}.
        \end{proof}
        \step{g}{$x = y$}
    \end{proof}
    \step{3}{If $f$ is injective then $f$ is monic.}
    \begin{proof}
        \step{a}{\assume{$f$ is injective.}}
        \step{b}{\pflet{$X$ be a set and $x,y : X \rightarrow A$.}}
        \step{c}{\assume{$f \circ x = f \circ y$} \prove{$x = y$}}
        \step{d}{\pflet{$t \in X$} \prove{$x(t) = y(t)$}}
        \step{e}{$f(x(t)) = f(y(t))$}
        \step{f}{$x(t) = y(t)$}
        \begin{proof}
            \pf\ By \stepref{a}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    A function is an epimorphism in $\Set$ iff it is surjective.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : A \rightarrow B$}}
    \step{2}{If $f$ is an epimorphism then $f$ is surjective.}
    \begin{proof}
        \step{a}{\assume{$f$ is an epimorphism.}}
        \step{b}{\pflet{$b \in B$}}
        \step{d}{\pflet{$x,y : B \rightarrow 2$ be defined by $x(b) = 1$ and $x(t) = 0$ for all other $t \in B$, $y(t) = 0$ for all $t \in B$.}}
        \step{f}{$x \neq y$}
        \step{e}{$x \circ f \neq y \circ f$}
        \step{g}{There exists $a \in A$ such that $f(a) = b$.}
    \end{proof}
    \step{3}{If $f$ is surjective then $f$ is an epimorphism.}
    \begin{proof}
        \step{a}{\assume{$f$ is surjective.}}
        \step{b}{\pflet{$x,y : B \rightarrow X$}}
        \step{c}{\assume{$x \circ f = y \circ f$} \prove{$x = y$}}
        \step{d}{\pflet{$b \in B$} \prove{$x(b) = y(b)$}}
        \step{e}{\pick\ $a \in A$ such that $f(a) = b$}
        \step{f}{$x(f(a)) = y(f(a))$}
        \step{g}{$x(b) = y(b)$}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    In a preorder, every morphism is monic and epi.
\end{prop}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\section{Sections and Retractions}

\begin{df}[Section, Retraction]
    In a category, let $r : A \rightarrow B$ and $s : B \rightarrow A$. Then $r$ is a \emph{retraction} of $s$, and $s$ is a \emph{section} of $r$, iff $r \circ s = \id{B}$.
\end{df}

\begin{prop}
    Every identity morphism is a section and retraction of itself.
\end{prop}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
    \label{prop:retraction-is-section}
    Let $r,r' : A \rightarrow B$ and $s : B \rightarrow A$.
    If $r$ is a retraction of $s$ and $r'$ is a section of $s$ then $r = r'$.
\end{prop}

\begin{proof}
    \pf
    \begin{align*}
        r & = r \circ \id{A} \\
        & = r \circ s \circ r' \\
        & = \id{B} \circ r' \\
        & = r' & \qed
    \end{align*}
\end{proof}

\begin{prop}
    \label{prop:retraction-comp}
    Let $r_1 : A \rightarrow B$, $r_2 : B \rightarrow C$, $s_1 : B \rightarrow A$ and $s_2 : C \rightarrow B$. If $r_1$ is a retraction of $s_1$ and $r_2$ is a retraction of $s_2$ then $r_2 \circ r_1$ is a retraction of $s_1 \circ s_2$.
\end{prop}

\begin{proof}
    \pf
    \begin{align*}
        r_2 \circ r_1 \circ s_1 \circ s_2 & = r_2 \circ \id{B} \circ s_2 \\
        & = r_2 \circ s_2 \\
        & = \id{C} & \qed
    \end{align*}
\end{proof}

\begin{prop}
    Every section is monic.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$s : A \rightarrow B$ be a section of $r : B \rightarrow A$.}}
    \step{2}{\pflet{$x,y : X \rightarrow A$ satisfy $sx = sy$.}}
    \step{3}{$rsx = rsy$}
    \step{4}{$x = y$}
    \qed
\end{proof}

\begin{prop}
    Every retraction is epi.
\end{prop}

\begin{proof}
    \pf\ Dual. \qed
\end{proof}

\begin{prop}
    In $\Set$, every epimorphism has a retraction.
\end{prop}

\begin{proof}
    \pf\ By the Axiom of Choice. \qed
\end{proof}

\begin{ex}
    It is not true in general that every monomorphism in any category has a section. nor that every epimorphism in any category has a retraction.

    In the category $\mathbf{2}$, the morphism $0 \leq 1$ is monic and epi but has no retraction or section.
\end{ex}

%TODO This is not true in Grp

\section{Isomorphisms}

\begin{df}[Isomorphism]
    In a category $\mathcal{C}$, a morphism $f : A \rightarrow B$ is an \emph{isomorphism}, denoted $f : A \cong B$, iff there exists a morphism $f^{-1} : B \rightarrow A$, the \emph{inverse} of $f$, such that $f^{-1} \circ f = \id{A}$ and $f \circ f^{-1} = \id{B}$.

    An \emph{automorphism} on an object $A$ is an isomorphism between $A$ and itself. We write $\mathrm{Aut}_\mathcal{C}(A)$ for the set of all automorphisms on $A$.

    Objects $A$ and $B$ are \emph{isomorphic}, $A \cong B$, iff there exists an isomorphism between them.
\end{df}

\begin{prop}
    \label{prop:inv-unique}
The inverse of an isomorphism is unique.
\end{prop}

\begin{proof}
    \pf\ Proposition \ref{prop:retraction-is-section}. \qed
\end{proof}

\begin{prop}
    For any object $A$ we have $\id{A} : A \cong A$ and $\id{A}^{-1} = \id{A}$.
\end{prop}

\begin{proof}
    \pf\ Since $\id{A} \circ \id{A} = \id{A}$ by the Unit Laws. \qed
\end{proof}

\begin{prop}
    If $f : A \cong B$ then $f^{-1} : B \cong A$ and $(f^{-1})^{-1} = f$.
\end{prop}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
    If $f : A \cong B$ and $g : B \cong C$ then $g \circ f : A \cong C$ and $\inv{(g \circ f)} = \inv{f} \circ \inv{g}$.
\end{prop}

\begin{proof}
    \pf\ From Proposition \ref{prop:retraction-comp}. \qed
\end{proof}

\begin{df}[Groupoid]
    A \emph{groupoid} is a category in which every morphism is an isomorphism.
\end{df}

\section{Initial and Terminal Objects}

\begin{df}[Initial Object]
    An object $I$ in a category is \emph{initial} iff, for any object $X$, there is exactly one morphism $I \rightarrow X$.
\end{df}

\begin{ex}
    The empty set is the initial object in $\Set$.
\end{ex}

\begin{df}[Terminal Object]
    An object $T$ in a category is \emph{terminal} iff, for any object $X$, there is exactly one morphism $X \rightarrow T$.
\end{df}

\begin{ex}
    Every singleton is terminal in $\Set$.
\end{ex}

\begin{prop}
    If $I$ and $J$ are initial in a category, then there exists a unique isomorphism $I \cong J$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$i$ be the unique morphism $I \rightarrow J$.}}
    \step{2}{\pflet{$\inv{i}$ be the unique morphism $J \rightarrow I$.}}
    \step{3}{$i \circ \inv{i} = \id{J}$}
    \begin{proof}
        \pf\ Since there is only one morphism $J \rightarrow J$.
    \end{proof}
    \step{4}{$\inv{i} \circ i = \id{I}$}
    \begin{proof}
        \pf\ Since there is only one morphism $I \rightarrow I$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    If $S$ and $T$ are terminal in a category, then there exists a unique isomorphism $S \cong T$.
\end{prop}

\begin{proof}
    \pf\ Dual. \qed
\end{proof}

\chapter{Functors}

\begin{df}[Functor]
    Let $\mathcal{C}$ and $\mathcal{D}$ be categories. A \emph{functor} $F : \mathcal{C} \rightarrow \mathcal{D}$ consists of:
    \begin{itemize}
        \item for every object $A \in \mathcal{C}$, an object $FA \in \mathcal{D}$
        \item for any morphism $f : A \rightarrow B : \mathcal{C}$, a morphism $Ff : FA \rightarrow FB : \mathcal{D}$
    \end{itemize}
    such that:
    \begin{itemize}
        \item $F \id{A} = \id{FA}$
        \item $F(g \circ f) = Fg \circ Ff$
    \end{itemize}
\end{df}

\begin{df}[Identity Functor]
    For any category $\mathcal{C}$, the \emph{identity functor} $1_\mathcal{C} : \mathcal{C} \rightarrow \mathcal{C}$ is defined by
    \begin{align*}
        1_\mathcal{C} A & = A \\
        1_\mathcal{C} f & = f
    \end{align*}
\end{df}

\begin{df}[Constant Functor]
    Given categories $\mathcal{C}$, $\mathcal{D}$ and an object $D \in \mathcal{D}$, the \emph{constant functor} $K^\mathcal{C} D : \mathcal{C} \rightarrow \mathcal{D}$ is the functor defined by
    \begin{align*}
        K^\mathcal{C} D C & = D \\
        K^\mathcal{C} D f & = \id{D}
    \end{align*}
\end{df}

\section{Comma Categories}

\begin{df}[Comma Category]
    Let $F : \mathcal{C} \rightarrow \mathcal{E}$ and $G : \mathcal{D} \rightarrow \mathcal{E}$ be functors. The \emph{comma category} $F \downarrow G$ is the category with:
    \begin{itemize}
        \item objects all pairs $(C,D,f)$ where $C \in \mathcal{C}$, $D \in \mathcal{D}$ and $f : FC \rightarrow GD : \mathcal{E}$
        \item morphisms $(u,v) : (C,D,f) \rightarrow (C',D',g)$ all pairs $u : C \rightarrow C' : \mathcal{C}$ and $v : D \rightarrow D' : \mathcal{D}$ such that the following diagram commutes:

        \begin{tikzcd}
            FC \arrow[r,"f"] \arrow[d,"Fu"] & GD \arrow[d,"Gv"] \\
            FC' \arrow[r,"g"] & GD'
        \end{tikzcd}
    \end{itemize}
\end{df}

\begin{df}[Slice Category]
    Let $\mathcal{C}$ be a category and $A \in \mathcal{C}$. The \emph{slice category} over $A$, denoted $\mathcal{C} / A$, is the comma category $1_\mathcal{C} \downarrow K^{\mathbf{1}} A$.
\end{df}

\begin{df}[Coslice Category]
    Let $\mathcal{C}$ be a category and $A \in \mathcal{C}$. The \emph{coslice category} over $A$, denoted $\mathcal{C} \backslash A$, is the comma category $K^{\mathbf{1}} A \downarrow 1_\mathcal{C}$.
\end{df}

\begin{df}[Pointed Sets]
    The \emph{category of pointed sets} $\Set_*$ is the coslice category $\Set \backslash 1$.
\end{df}

\part{Group Theory}

\chapter{Groups}

\begin{df}[Group]
    A \emph{group} $G$ consists of a set $G$ and a binary operation $\cdot : G^2 \rightarrow G$ such that $\cdot$ is associative, and there exists $e \in G$, the \emph{identity} element of the group, such that:
    \begin{itemize}
        \item For all $x \in G$ we have $xe = ex = x$
        \item For all $x \in G$, there exists $\inv{x} \in G$, the \emph{inverse} of $x$, such that $x \inv{x} = \inv{x} x = e$.
    \end{itemize}

    We identify a group $G$ with the category $G$ with one object and morphisms the elements of $G$, with composition given by $\cdot$.

    The \emph{order} of a group $G$, denoted $|G|$, is the number of elements in $G$ if $G$ is finite; otherwise we write $|G| = \infty$.
\end{df}

\begin{prop}
    The identity in a group is unique.
\end{prop}

\begin{proof}
    \pf\ Proposition \ref{prop:id-morph-unique}.
\end{proof}

\begin{prop}
    \label{prop:inv-unique}
    The inverse of an element is unique.
\end{prop}

\begin{proof}
    \pf\ If $i$ and $j$ are inverses of $x$ then $i = ixj = j$. \qed
\end{proof}

\begin{ex}
    \begin{itemize}
        \item
    The \emph{trivial} group is $\{e\}$ under $ee = e$.
    \item $\mathbb{Z}$ is a group under addition %TODO Define this
    \item $\mathbb{Q}$ is a group under addition %TODO Define this
    \item $\mathbb{Q} - \{0\}$ is a group under multiplication
    \item $\mathbb{R}$ is a group under addition %TODO Define this
    \item $\mathbb{R} - \{0\}$ is a group under multiplication
    \item $\mathbb{C}$ is a group under addition %TODO Define this
    \item $\mathbb{C} - \{0\}$ is a group under multiplication
    \item $\{-1,1\}$ is a group under multiplication
    \item The set of $2 \times 2$ real matrices with non-zero determinant is a group under matrix multiplication.
    \item For any positive integer $n$, the set $\mathbb{Z} / n \mathbb{Z}$ of integers modulo $n$ under addition is a group. We call this set the \emph{cyclic} group of order $n$, denoted $C_n$.
    \item For any category $\mathcal{C}$ and object $A \in \mathcal{C}$, we have $\Aut{\mathcal{C}}{A}$ is a group under $gf = f \circ g$.

    For $A$ a set, we call $S_A = \Aut{\Set}{A}$ the \emph{symmetric group} or \emph{group of permutations} of $A$.

    \item For $n \geq 3$, the \emph{dihedral group} $D_{2n}$ consists of the set of rigid motions that map the regular $n$-gon onto itself under composition.
    \end{itemize}
\end{ex}

\begin{ex}
    \begin{itemize}
        \item The only group of order 1 is the trivial group.
        \item The only group of order 2 is $\mathbb{Z}_2$.
        \item The only group of order 3 is $\mathbb{Z}_3$.
        \item There are exactly two groups of order 4: $\mathbb{Z}_4$ and $\mathbb{Z}_2 \times \mathbb{Z}_2$ under $(a,b) (c,d) = (ac,bd)$.
    \end{itemize}
\end{ex}

\begin{ex}
    For any positive integer $n$, the set
    \[ (\mathbb{Z} / n \mathbb{Z})^* = \{ m \in \mathbb{Z} / n \mathbb{Z} : \gcd(m,n) = 1 \} \]
    is a group under multiplication.
\end{ex}

\begin{proof}
    \pf
    \step{00}{If $\gcd(m_1,n) = \gcd(m_2,n) = 1$ then $\gcd(m_1m_2,n) = 1$}
    \begin{proof}
        \step{a}{\pick\ integers $a$, $b$, $c$, $d$ such that $am_1 + bn = cm_2 + dn = 1$}
        \step{b}{$acm_1m_2 + (bcm_2 + d)n = !$}
    \end{proof}
    \step{1}{Multiplication is associative.}
    \step{2}{1 is the identity element.}
    \step{3}{Every element has an inverse.}
    \begin{proof}
        \step{a}{\pflet{$a \in (\mathbb{Z} / n \mathbb{Z})^*$}}
        \step{b}{\pick\ integers $b$, $c$ such that $ab + cn = 1$}
        \step{c}{$ab = 1$ in $(\mathbb{Z} / n \mathbb{Z})^*$}
    \end{proof}
    \qed
\end{proof}

\begin{prop}[Cancellation]
    Let $G$ be a group. Let $a,g,h \in G$. If $ag = ah$ or $ga = ha$ then $g = h$.
\end{prop}

\begin{proof}
    \pf\ If $ag = ah$ then $g = \inv{a} a g = \inv{a} a h = h$. Similarly if $ga = ha$. \qed
\end{proof}

\begin{prop}
    Let $G$ be a group and $g,h \in G$. Then $(gh)^{-1} = h^{-1}g^{-1}$.
\end{prop}

\begin{proof}
    \pf\ Since $ghh^{-1}g^{-1} = e$. \qed
\end{proof}

\begin{df}
    Let $G$ be a group. Let $g \in G$. We define $g^n \in G$ for all $n \in \mathbb{Z}$ as follows:
    \begin{align*}
        g^0 & = e \\
        g^{n+1} & = g^n g & (n \geq 0) \\
        g^{-n} & = (g^{-1})^n & (n > 0)
    \end{align*}
\end{df}

\begin{prop}
    \label{prop:power-add}
    Let $G$ be a group. Let $g \in G$ and $m,n \in \mathbb{Z}$. Then
    \[ g^{m+n} = g^m g^n \enspace . \]
\end{prop}

\begin{proof}
    \pf
    \step{1}{For all $k \in \mathbb{Z}$ we have $g^{k+1} = g^k g$}
    \begin{proof}
        \step{a}{For all $k \geq 0$ we have $g^{k+1} = g^k g$}
        \begin{proof}
            \pf\ Immediate from definition.
        \end{proof}
        \step{b}{$g^{-1+1} = g^{-1} g$}
        \begin{proof}
            \pf\ Both are equal to $e$.
        \end{proof}
        \step{c}{For all $k > 1$ we have $g^{-k+1} = g^{-k} g$}
        \begin{proof}
            \pf
            \begin{align*}
                g^{-k+1} & = (g^{-1})^{k-1} \\
                & = (g^{-1})^{k-1} g^{-1} g \\
                & = (g^{-1})^k g \\
                & = g^{-k} g
            \end{align*}
        \end{proof}
    \end{proof}
    \step{2}{For all $k \in \mathbb{Z}$ we have $g^{k-1} = g^k g^{-1}$}
    \begin{proof}
        \pf\ Substitute $k = k-1$ above and multiply by $g^{-1}$.
    \end{proof}
    \step{3}{$g^{m+0} = g^m g^0$}
    \begin{proof}
        \pf\ Since $g^m g^0 = g^m e = g^m$.
    \end{proof}
    \step{4}{If $g^{m+n} = g^m g^n$ then $g^{m+n+1} = g^m g^{n+1}$}
    \begin{proof}
        \pf
        \begin{align*}
            g^{m+n+1} & = g^{m+n} g & (\text{\stepref{1}}) \\
            & = g^m g^n g \\
            & = g^m g^{n+1} & (\text{\stepref{1}})
        \end{align*}
    \end{proof}
    \step{5}{If $g^{m+n} = g^m g^n$ then $g^{m+n-1} = g^m g^{n-1}$}
    \begin{proof}
        \pf
        \begin{align*}
            g^{m+n-1} g & = g^{m+n} & (\text{\stepref{1}})\\
            & = g^m g^n \\
            \therefore g^{m+n-1} & = g^m g^n g^{-1} \\
            & = g^m g^{n-1} & (\text{\stepref{2}})
        \end{align*}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    \label{prop:power-mult}
    Let $G$ be a group. Let $g \in G$ and $m,n \in \mathbb{Z}$. Then
    \[ (g^m)^n = g^{mn} \enspace . \]
\end{prop}

\begin{proof}
    \pf
    \step{1}{$(g^m)^0 = g^0$}
    \begin{proof}
        \pf\ Both sides are equal to $e$.
    \end{proof}
    \step{2}{If $(g^m)^n = g^{mn}$ then $(g^m)^{n+1} = g^{m(n+1)}$.}
    \begin{proof}
        \pf
        \begin{align*}
            (g^m)^{n+1} & = (g^m)^n g^m & (\text{Proposition \ref{prop:power-add}}) \\
            & = g^{mn} g^m \\
            & = g^{mn + m} & (\text{Proposition \ref{prop:power-add}})
        \end{align*}
    \end{proof}
    \step{3}{If $(g^m)^n = g^{mn}$ then $(g^m)^{n-1} = g^{m(n-1)}$.}
    \begin{proof}
        \pf
        \begin{align*}
            (g^m)^n & = g^{mn} \\
            \therefore (g^m)^{n-1} g^m & = g^{mn-m} g^m & (\text{Proposition \ref{prop:power-add}})\\
            \therefore (g^m)^{n-1} & = g^{mn-m} & (\text{Cancellation})
        \end{align*}
    \end{proof}
    \qed
\end{proof}

\begin{df}[Commute]
    Let $G$ be a group and $g,h \in G$. We say $g$ and $h$ \emph{commute} iff $gh = hg$.
\end{df}

\section{Order of an Element}

\begin{df}[Order]
    Let $G$ be a group. Let $g \in G$. Then $g$ has \emph{finite order} iff there exists a positive integer $n$ such that $g^n = e$. In this case, the \emph{order} of $g$, denoted $|g|$, is the least positive integer $n$ such that $g^n = e$.

    If $g$ does not have finite order, we write $|g| = \infty$.
\end{df}

\begin{prop}
    Let $G$ be a group. Let $g \in G$ and $n$ be a positive integer. If $g^n = e$ then $|g| \mid n$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$n = q |g| + d$ where $0 \leq d < |g|$}}
    \begin{proof}
        \pf\ Division Algorithm.
    \end{proof}
    \step{2}{$g^d = e$}
    \begin{proof}
        \pf
        \begin{align*}
            e & = g^n \\
            & = g^{q|g| + d} \\
            & = (g^{|g|})^q g^d & (\text{Propositions \ref{prop:power-add}, \ref{prop:power-mult}}) \\
            & = e^q g^d \\
            & = g^d
        \end{align*}
    \end{proof}
    \step{3}{$d = 0$}
    \begin{proof}
        \pf\ By minimality of $|g|$.
    \end{proof}
    \step{4}{$n = q|g|$}
    \qed
\end{proof}

\begin{cor}
    \label{cor:order-divides}
    Let $G$ be a group. Let $g \in G$ have finite order and $n \in \mathbb{Z}$. Then $g^n = e$ if and only if $|g| \mid n$.
\end{cor}

%TODO: In fact |g| \mid |G|
\begin{prop}
    Let $G$ be a group and $g \in G$. Then $|g| \leq |G|$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\assume{w.l.o.g. $G$ is finite.}}
    \step{2}{\pick\ $i$, $j$ with $0 \leq i < j \leq |G|$ such that $g^i = g^j$.}
    \begin{proof}
        \pf\ Otherwise $g^0$, $g^1$, \ldots, $g^{|G|}$ would be $|G| + 1$ distinct elements of $G$.
    \end{proof}
    \step{3}{$g^{j-i} = e$}
    \step{4}{$g$ has finite order and $|g| \leq |G|$}
    \begin{proof}
            \pf\ Since $|g| \leq j - i \leq j \leq |G|$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    Let $G$ be a group. Let $g \in G$ have finite order. Let $m \in \mathbb{N}$. Then
    \[ |g^m| = \frac{\lcm(m,|g|)}{m} = \frac{|g|}{\gcd(m,|g|)}\]
\end{prop}

\begin{proof}
    \pf\ Since for any integer $d$ we have
    \begin{align*}
        g^{md} = e & \Leftrightarrow |g| \mid md & (\text{Corollary \ref{cor:order-divides}})\\
        & \Leftrightarrow \lcm(m,|g|) \mid md \\
        & \Leftrightarrow \frac{\lcm(m,|g|)}{m} \mid d & \qed
    \end{align*}
    and so $|g^m| = \frac{\lcm(m,|g|)}{m}$ by Corollary \ref{cor:order-divides}. \qed
\end{proof}

\begin{cor}
    If $g$ has odd order then $|g^2| = |g|$.
\end{cor}

\begin{cor}
    \label{cor:order-of-m-in-ZnZ}
    Let $m$ and $n$ be integers with $n > 0$. The order of $m$ in $\mathbb{Z} / n \mathbb{Z}$ is $\frac{n}{\gcd(m,n)}$.
\end{cor}

\begin{proof}
    \pf\ Since the order of 1 is $n$. \qed
\end{proof}

\begin{prop}
    \label{prop:order-gh}
    Let $G$ be a group. Let $g,h \in G$ have finite order. Assume $gh = hg$. Then $|gh|$ has finite order and 
    \[ |gh| \mid \lcm(|g|,|h|)\]
\end{prop}

\begin{proof}
    \pf\ Since $(gh)^{\lcm(|g|,|h|)} = g^{\lcm(|g|,|h|)}h^{\lcm(|g|,|h|)} = e$. \qed
\end{proof}

\begin{ex}
    This example shows that we cannot remove the hypothesis that $gh = hg$.

    In $\mathrm{GL}_2(\mathbb{R})$, take
    \[ g = \left( \begin{array}{cc} 0 & -1 \\ 1 & 0 \end{array} \right), \qquad
        h = \left( \begin{array}{cc} 0 & 1 \\ -1 & -1 \end{array} \right) \enspace . \]
    Then $|g| = 4$, $|h| = 3$ and $|gh| = \infty$.
\end{ex}

\begin{prop}
    \label{prop:order-gh-if-gcd-one}
    Let $G$ be a group and $g,h \in G$ have finite order. If $gh=hg$ and $\gcd(|g|,|h|) = 1$ then $|gh| = |g||h|$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$N = |gh|$}}
    \step{2}{$g^N = (\inv{h})^N$}
    \step{3}{$g^{N|g|} = e$}
    \step{4}{$|g^N| \mid |g|$}
    \step{5}{$h^{-N|h|} = e$}
    \step{5}{$|g^N| \mid |h|$}
    \step{6}{$|g^N| = 1$}
    \begin{proof}
        \pf\ Since $\gcd(|g|,|h|) = 1$.
    \end{proof}
    \step{7}{$g^N = e$}
    \step{8}{$|g| \mid N$}
    \step{9}{$h^{-N} = e$}
    \step{10}{$|h| \mid N$}
    \step{11}{$N = |g||h|$}
    \begin{proof}
        \pf\ Using Proposition \ref{prop:order-gh}.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    Let $G$ be a finite group. Assume there is exactly one element $f \in G$ of order 2. Then the product of all the elements of $G$ is $f$.
\end{prop}

\begin{proof}
    \pf\ Let the elements of $G$ be $g_1$, $g_2$, \ldots, $g_n$. Apart from $e$ and $f$, every element and its inverse are distinct elements of the list. Hence the product of the list is $ef = f$. \qed
\end{proof}

\begin{prop}
    Let $G$ be a finite group of order $n$. Let $m$ be the number of elements of $G$ of order 2. Then $n-m$ is odd.
\end{prop}

\begin{proof}
    \pf\ In the list of all elements that are not of order 2, every element and its inverse are distinct except for $e$. Hence the list has odd length. \qed
\end{proof}

\begin{cor}
    If a finite group has even order, then it contains an element of order 2.
\end{cor}

\begin{prop}
    Let $G$ be a group and $a,g \in G$. Then $|ag\inv{a}| = |g|$.
\end{prop}

\begin{proof}
    \pf\ Since
    \begin{align*}
        (ag\inv{a})^n = e & \Leftrightarrow a g^n \inv{a} = e \\
        & \Leftrightarrow g^n = e & \qed
    \end{align*}
\end{proof}

\begin{prop}
    Let $G$ be a group and $g,h \in G$. Then $|gh| = |hg|$.
\end{prop}

\begin{proof}
    \pf\ Since $|gh| = |ghg\inv{g}| = |hg|$. \qed
\end{proof}

\section{Generators}

\begin{df}[Generator]
    Let $G$ be a group and $a \in G$. We say $a$ \emph{generates} the group iff, for all $x \in G$, there exists an integer $n$ such that $x^n = a$.
\end{df}

\begin{prop}
    The integer $m$ generates $\mathbb{Z} / n \mathbb{Z}$ if and only if $\gcd(m,n) = 1$.
\end{prop}

\begin{proof}
    \pf\ By Corollary \ref{cor:order-of-m-in-ZnZ}. \qed
\end{proof}

\begin{cor}
    If $p$ is prime then every non-zero element in $\mathbb{Z} / p \mathbb{Z}$ is a generator.
\end{cor}

\chapter{Group Homomorphisms}

\begin{df}[Homomorphism]
    Let $G$ and $H$ be groups. A \emph{(group) homomorphism} $\phi : G \rightarrow H$ is a function such that, for all $x,y \in G$,
    \[ \phi(xy) = \phi(x) \phi(y) \enspace . \]
\end{df}

\begin{prop}
    Let $G$ and $H$ be groups with identities $e_G$ and $e_H$.
    Let $\phi : G \rightarrow H$ be a group homomorphism. Then $\phi(e_G) = e_H$.
\end{prop}

\begin{proof}
    \pf\ Since $\phi(e_G) = \phi(e_G e_G) = \phi(e_G) \phi(e_G)$ and so $\phi(e_G) = e_H$ by Cancellation. \qed
\end{proof}

\begin{prop}
    Let $\phi : G \rightarrow H$ be a group homomorphism. For all $x \in G$ we have $\phi(x^{-1}) = \phi(x)^{-1}$.
\end{prop}

\begin{proof}
    \pf\ Since $\phi(x) \phi(x^{-1}) = \phi(xx^{-1}) = \phi(e_G) = e_H$. \qed
\end{proof}

\begin{prop}
    Let $G$, $H$ and $K$ be groups. If $\phi : G \rightarrow H$ and $\psi : H \rightarrow K$ are homomorphisms then $\psi \circ \phi : G \rightarrow K$ is a homomorphism.
\end{prop}

\begin{proof}
    \pf\ For $x,y \in G$ we have
    \[ \psi(\phi(xy)) = \psi(\phi(x) \phi(y)) = \psi(\phi(x)) \psi(\phi(y)) \enspace . \]
\end{proof}

\begin{prop}
    Let $G$ be a group. Then $\id{G} : G \rightarrow G$ is a group homomorphism.
\end{prop}

\begin{proof}
    \pf\ For $x,y \in G$ we have $\id{G}(xy) = xy = \id{G}(x) \id{G}(y)$. \qed
\end{proof}

\begin{df}[Category of Groups]
    Let $\mathbf{Grp}$ be the category of groups and group homomorphisms.
\end{df}

\chapter{Abelian Groups}

\begin{df}[Abelian Group]
    A group is \emph{Abelian} iff any two elements commute.
\end{df}

In an Abelian group $G$, we often denote the group operation by $+$, the identity element by $0$ and the inverse of an element $g$ by $-g$. We write $ng$ for $g^n$ ($g \in G$, $n \in \mathbb{Z}$).

\begin{ex}
    Every group of order $\leq 4$ is Abelian.
\end{ex}

\begin{ex}
    For any positive integer $n$, we have $\mathbb{Z} / n \mathbb{Z}$ is an Abelian group under addition.
\end{ex}

\begin{ex}
    $S_n$ is not Abelian for $n \geq 3$. If $x = \left( \begin{array}{cc} 1 & 2 \end{array} \right)$ and $y = \left( \begin{array}{ccc} 1 & 3 & 2 \end{array} \right)$ then $xy = \left( \begin{array}{cc} 2 & 3 \end{array} \right)$ and $yx = \left( \begin{array}{cc} 1 & 3 \end{array} \right)$.
\end{ex}

\begin{prop}
    Let $G$ be a group. If $g^2 = e$ for all $g \in G$ then $G$ is Abelian.
\end{prop}

\begin{proof}
    \pf\ For any $g,h \in G$ we have
    \begin{align*}
        ghgh & = e \\
        \therefore hgh & = g & (\text{multiplying on the left by }g) \\
        \therefore hg & = gh & (\text{multiplying on the right by } h) & \qed
    \end{align*}
\end{proof}

\begin{prop}
    Let $G$ be an Abelian group. Let $g,h \in G$. If $g$ has maximal finite order in $G$, and $h$ has finite order, then $|h| \mid |g|$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\assume{for a contradiction $|h| \nmid |g|$.}}
    \step{2}{\pick\ a prime $p$ such that $|g| = p^mr$, $|h| = p^n s$ where $p \nmid r$, $p \nmid s$ and $m < n$.}
    \step{3}{$|g^{p^m}h^s| = p^n r$}
    \begin{proof}
        \pf\ Proposition \ref{prop:order-gh-if-gcd-one}.
    \end{proof}
    \step{4}{$|g| < |g^{p^m}h^s|$}
    \qedstep
    \begin{proof}
        \pf\ This contradicts the maximality of $|g|$.
    \end{proof}
    \qed
\end{proof}

\part{Linear Algebra}

\begin{df}
    Let $\mathrm{GL}_n(\mathbb{R})$ be the group of invertible $n \times n$ real matrices.
\end{df}
\end{document}
\documentclass{book}
\title{Mathematics}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage{tikz-cd}

\newtheorem{ax}{Axiom}
\newtheorem{prop}{Proposition}[chapter]
\newtheorem{thm}[prop]{Theorem}
\newtheorem{cor}{Corollary}[prop]
\theoremstyle{definition}
\newtheorem{df}[prop]{Definition}
\newtheorem{ex}[prop]{Example}

\renewcommand{\mod}{\ensuremath{\operatorname{mod}}}
\newcommand{\id}[1]{\ensuremath{\mathrm{id}_{#1}}}
\newcommand{\im}{\ensuremath{\operatorname{im}}}
\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}
\newcommand{\Set}{\ensuremath{\mathbf{Set}}}
\newcommand{\lcm}{\ensuremath{\operatorname{lcm}}}
\newcommand{\Aut}[2]{\ensuremath{\mathrm{Aut}_{#1} \left( {#2} \right)}}
\newcommand{\Grp}{\ensuremath{\mathbf{Grp}}}
\newcommand{\Fab}[1]{\ensuremath{F^{\mathrm{ab}} \left( {#1} \right)}}
\newcommand{\SL}[2]{\ensuremath{\mathrm{SL}_{#1} \left( {#2} \right)}}
\newcommand{\coker}{\ensuremath{\operatorname{coker}}}

\begin{document}

\maketitle
\tableofcontents

\part{Category Theory}

\chapter{Foundations}

This is a placeholder --- I am not sure what foundation I want to use for this
project yet. I will try to work in a way which is foundation-independent. What
I do could be formalized in ZFC, ETCS, or some other system. I will assume the
usual set theoretic constructions as needed. Sets will be defined up to
bijection only.

\chapter{Categories}

\begin{df}[Category]
    A \emph{category} $\mathcal{C}$ consists of:
    \begin{itemize}
        \item A class $|\mathcal{C}|$ of \emph{objects}. We write $A \in \mathcal{C}$ for $A
                  \in |\mathcal{C}|$.
        \item For any objects $A$, $B$, a set $\mathcal{C}[A,B]$ of \emph{morphisms} from $A$
              to $B$. We write $f : A \rightarrow B$ for $f \in \mathcal{C}[A,B]$.
        \item For any object $A$, a morphism $\id{A} : A \rightarrow A$, the \emph{identity}
              morphism on $A$.
        \item For any morphisms $f : A \rightarrow B$ and $g : B \rightarrow C$, a morphism
              $g \circ f : A \rightarrow C$, the \emph{composite} of $f$ and $g$.
    \end{itemize}
    such that:
    \begin{description}
        \item[Associativity] Given $f : A \rightarrow B$, $g : B \rightarrow C$ and $h : C
                \rightarrow D$, we have $h \circ (g \circ f) = (h \circ g) \circ f$
        \item[Left Unit Law] For any morphism $f : A \rightarrow B$, we have $\id{B} \circ f
                = f$.
        \item[Right Unit Law] For any morphism $f : A \rightarrow B$, we have $f \circ \id{A}
                = f$.
    \end{description}
\end{df}

\begin{prop}
    \label{prop:id-morph-unique}
    The identity morphism on an object is unique.
\end{prop}

\begin{proof}
    \pf\ If $i$ and $j$ are identity morphisms on $A$ then $i = i \circ j = j$. \qed
\end{proof}

\begin{ex}[Category of Sets]
    The \emph{category of sets} $\Set$ has objects all sets and morphisms all functions.
\end{ex}

\begin{df}[Endomorphism]
    In a category $\mathcal{C}$, an \emph{endomorphism} on an object $A$ is a morphism $A \rightarrow A$. We write $\mathrm{End}_\mathcal{C}(A)$ for $\mathcal{C}[A,A]$.
\end{df}

\begin{df}[Opposite Category]
    For any category $\mathcal{C}$, the \emph{opposite} category $\mathcal{C}^\mathrm{op}$ is the category with the same objects as $\mathcal{C}$ and
    \[ \mathcal{C}^\mathrm{op}[A,B] = \mathcal{C}[B,A] \]
\end{df}

\section{Preorders}

\begin{df}[Preorder]
    A \emph{preorder} on a set $A$ is a relation $\leq$ on $A$ that is reflexive and transitive.

    A \emph{preordered set} is a pair $(A, \leq)$ such that $\leq$ is a preorder on
    $A$. We usually write $A$ for the preordered set $(A, \leq)$.

    We identify any preordered set $A$ with the category whose objects are the
    elements of $A$, with one morphism $a \rightarrow b$ iff $a \leq b$, and no
    morphism $a \rightarrow b$ otherwise.
\end{df}

\begin{ex}
    For any ordinal $\alpha$, let $\mathbf{\alpha}$ be the preorder $\{ \beta : \beta < \alpha \}$ under $\leq$.
\end{ex}

\begin{df}[Discrete Preorder]
    We identify any set $A$ with the \emph{discrete} preorder $(A, =)$.
\end{df}

\section{Monomorphisms and Epimorphisms}

\begin{df}[Monomorphism]
    In a category, let $f : A \rightarrow B$. Then $f$ is a \emph{monomorphism} or \emph{monic} iff, for every object $X$ and morphism $x,y : X \rightarrow A$, if $fx = fy$ then $x=y$.
\end{df}

\begin{df}[Epimorphism]
    In a category, let $f : A \rightarrow B$. Then $f$ is a \emph{epimorphism} or \emph{epi} iff, for every object $X$ and morphism $x,y : B \rightarrow X$, if $xf = yf$ then $x=y$.
\end{df}

\begin{prop}
    The composite of two monomorphism is monic.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : A \rightarrowtail B$ and $g : B \rightarrowtail C$ be monic.}}
    \step{2}{\pflet{$x,y : X \rightarrow A$}}
    \step{3}{\assume{$g \circ f \circ x = g \circ f \circ y$}}
    \step{4}{$f \circ x = f \circ y$}
    \step{5}{$x = y$}
    \qed
\end{proof}

\begin{prop}
    The composite of two epimorphisms is epi.
\end{prop}

\begin{proof}
    \pf\ Dual. \qed
\end{proof}

\begin{prop}
    Let $f : A \rightarrow B$ and $g : B \rightarrow C$. If $g \circ f$ is monic then $f$ is monic.
\end{prop}

\begin{proof}
    \pf\ If $f \circ x = f \circ y$ then $gfx = gfy$ and so $x = y$. \qed
\end{proof}

\begin{prop}
    Let $f : A \rightarrow B$ and $g : B \rightarrow C$. If $g \circ f$ is epi then $g$ is epi.
\end{prop}

\begin{proof}
    \pf\ Dual. \qed
\end{proof}

\begin{prop}
    A function is a monomorphism in $\Set$ iff it is injective.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : A \rightarrow B$}}
    \step{2}{If $f$ is monic then $f$ is injective.}
    \begin{proof}
        \step{a}{\assume{$f$ is monic.}}
        \step{b}{\pflet{$x,y \in A$}}
        \step{c}{\assume{$f(x) = f(y)$}}
        \step{d}{\pflet{$\overline{x}, \overline{y} : 1 \rightarrow A$ be the functions such that $\overline{x}(*) = x$ and $\overline{y}(*) = y$}}
        \step{e}{$f \circ \overline{x} = f \circ \overline{y}$}
        \step{f}{$\overline{x} = \overline{y}$}
        \begin{proof}
            \pf\ By \stepref{a}.
        \end{proof}
        \step{g}{$x = y$}
    \end{proof}
    \step{3}{If $f$ is injective then $f$ is monic.}
    \begin{proof}
        \step{a}{\assume{$f$ is injective.}}
        \step{b}{\pflet{$X$ be a set and $x,y : X \rightarrow A$.}}
        \step{c}{\assume{$f \circ x = f \circ y$} \prove{$x = y$}}
        \step{d}{\pflet{$t \in X$} \prove{$x(t) = y(t)$}}
        \step{e}{$f(x(t)) = f(y(t))$}
        \step{f}{$x(t) = y(t)$}
        \begin{proof}
            \pf\ By \stepref{a}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    A function is an epimorphism in $\Set$ iff it is surjective.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : A \rightarrow B$}}
    \step{2}{If $f$ is an epimorphism then $f$ is surjective.}
    \begin{proof}
        \step{a}{\assume{$f$ is an epimorphism.}}
        \step{b}{\pflet{$b \in B$}}
        \step{d}{\pflet{$x,y : B \rightarrow 2$ be defined by $x(b) = 1$ and $x(t) = 0$ for all other $t \in B$, $y(t) = 0$ for all $t \in B$.}}
        \step{f}{$x \neq y$}
        \step{e}{$x \circ f \neq y \circ f$}
        \step{g}{There exists $a \in A$ such that $f(a) = b$.}
    \end{proof}
    \step{3}{If $f$ is surjective then $f$ is an epimorphism.}
    \begin{proof}
        \step{a}{\assume{$f$ is surjective.}}
        \step{b}{\pflet{$x,y : B \rightarrow X$}}
        \step{c}{\assume{$x \circ f = y \circ f$} \prove{$x = y$}}
        \step{d}{\pflet{$b \in B$} \prove{$x(b) = y(b)$}}
        \step{e}{\pick\ $a \in A$ such that $f(a) = b$}
        \step{f}{$x(f(a)) = y(f(a))$}
        \step{g}{$x(b) = y(b)$}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    In a preorder, every morphism is monic and epi.
\end{prop}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\section{Sections and Retractions}

\begin{df}[Section, Retraction]
    In a category, let $r : A \rightarrow B$ and $s : B \rightarrow A$. Then $r$ is a \emph{retraction} of $s$, and $s$ is a \emph{section} of $r$, iff $r \circ s = \id{B}$.
\end{df}

\begin{prop}
    Every identity morphism is a section and retraction of itself.
\end{prop}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
    \label{prop:retraction-is-section}
    Let $r,r' : A \rightarrow B$ and $s : B \rightarrow A$.
    If $r$ is a retraction of $s$ and $r'$ is a section of $s$ then $r = r'$.
\end{prop}

\begin{proof}
    \pf
    \begin{align*}
        r & = r \circ \id{A}            \\
          & = r \circ s \circ r'        \\
          & = \id{B} \circ r'           \\
          & = r'                 & \qed
    \end{align*}
\end{proof}

\begin{prop}
    \label{prop:retraction-comp}
    Let $r_1 : A \rightarrow B$, $r_2 : B \rightarrow C$, $s_1 : B \rightarrow A$ and $s_2 : C \rightarrow B$. If $r_1$ is a retraction of $s_1$ and $r_2$ is a retraction of $s_2$ then $r_2 \circ r_1$ is a retraction of $s_1 \circ s_2$.
\end{prop}

\begin{proof}
    \pf
    \begin{align*}
        r_2 \circ r_1 \circ s_1 \circ s_2 & = r_2 \circ \id{B} \circ s_2        \\
                                          & = r_2 \circ s_2                     \\
                                          & = \id{C}                     & \qed
    \end{align*}
\end{proof}

\begin{prop}
    Every section is monic.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$s : A \rightarrow B$ be a section of $r : B \rightarrow A$.}}
    \step{2}{\pflet{$x,y : X \rightarrow A$ satisfy $sx = sy$.}}
    \step{3}{$rsx = rsy$}
    \step{4}{$x = y$}
    \qed
\end{proof}

\begin{prop}
    Every retraction is epi.
\end{prop}

\begin{proof}
    \pf\ Dual. \qed
\end{proof}

\begin{prop}
    In $\Set$, every epimorphism has a retraction.
\end{prop}

\begin{proof}
    \pf\ By the Axiom of Choice. \qed
\end{proof}

\begin{ex}
    It is not true in general that every monomorphism in any category has a section. nor that every epimorphism in any category has a retraction.

    In the category $\mathbf{2}$, the morphism $0 \leq 1$ is monic and epi but has
    no retraction or section.
\end{ex}

%TODO This is not true in Grp

\section{Isomorphisms}

\begin{df}[Isomorphism]
    In a category $\mathcal{C}$, a morphism $f : A \rightarrow B$ is an \emph{isomorphism}, denoted $f : A \cong B$, iff there exists a morphism $f^{-1} : B \rightarrow A$, the \emph{inverse} of $f$, such that $f^{-1} \circ f = \id{A}$ and $f \circ f^{-1} = \id{B}$.

    An \emph{automorphism} on an object $A$ is an isomorphism between $A$ and
    itself. We write $\mathrm{Aut}_\mathcal{C}(A)$ for the set of all automorphisms
    on $A$.

    Objects $A$ and $B$ are \emph{isomorphic}, $A \cong B$, iff there exists an
    isomorphism between them.
\end{df}

\begin{prop}
    \label{prop:inv-unique}
    The inverse of an isomorphism is unique.
\end{prop}

\begin{proof}
    \pf\ Proposition \ref{prop:retraction-is-section}. \qed
\end{proof}

\begin{prop}
    For any object $A$ we have $\id{A} : A \cong A$ and $\id{A}^{-1} = \id{A}$.
\end{prop}

\begin{proof}
    \pf\ Since $\id{A} \circ \id{A} = \id{A}$ by the Unit Laws. \qed
\end{proof}

\begin{prop}
    If $f : A \cong B$ then $f^{-1} : B \cong A$ and $(f^{-1})^{-1} = f$.
\end{prop}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
    If $f : A \cong B$ and $g : B \cong C$ then $g \circ f : A \cong C$ and $\inv{(g \circ f)} = \inv{f} \circ \inv{g}$.
\end{prop}

\begin{proof}
    \pf\ From Proposition \ref{prop:retraction-comp}. \qed
\end{proof}

\begin{df}[Groupoid]
    A \emph{groupoid} is a category in which every morphism is an isomorphism.
\end{df}

\section{Initial and Terminal Objects}

\begin{df}[Initial Object]
    An object $I$ in a category is \emph{initial} iff, for any object $X$, there is exactly one morphism $I \rightarrow X$.
\end{df}

\begin{ex}
    The empty set is the initial object in $\Set$.
\end{ex}

\begin{df}[Terminal Object]
    An object $T$ in a category is \emph{terminal} iff, for any object $X$, there is exactly one morphism $X \rightarrow T$.
\end{df}

\begin{ex}
    Every singleton is terminal in $\Set$.
\end{ex}

\begin{prop}
    If $I$ and $J$ are initial in a category, then there exists a unique isomorphism $I \cong J$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$i$ be the unique morphism $I \rightarrow J$.}}
    \step{2}{\pflet{$\inv{i}$ be the unique morphism $J \rightarrow I$.}}
    \step{3}{$i \circ \inv{i} = \id{J}$}
    \begin{proof}
        \pf\ Since there is only one morphism $J \rightarrow J$.
    \end{proof}
    \step{4}{$\inv{i} \circ i = \id{I}$}
    \begin{proof}
        \pf\ Since there is only one morphism $I \rightarrow I$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    If $S$ and $T$ are terminal in a category, then there exists a unique isomorphism $S \cong T$.
\end{prop}

\begin{proof}
    \pf\ Dual. \qed
\end{proof}

\chapter{Functors}

\begin{df}[Functor]
    Let $\mathcal{C}$ and $\mathcal{D}$ be categories. A \emph{functor} $F : \mathcal{C} \rightarrow \mathcal{D}$ consists of:
    \begin{itemize}
        \item for every object $A \in \mathcal{C}$, an object $FA \in \mathcal{D}$
        \item for any morphism $f : A \rightarrow B : \mathcal{C}$, a morphism $Ff : FA
                  \rightarrow FB : \mathcal{D}$
    \end{itemize}
    such that:
    \begin{itemize}
        \item $F \id{A} = \id{FA}$
        \item $F(g \circ f) = Fg \circ Ff$
    \end{itemize}
\end{df}

\begin{df}[Identity Functor]
    For any category $\mathcal{C}$, the \emph{identity functor} $1_\mathcal{C} : \mathcal{C} \rightarrow \mathcal{C}$ is defined by
    \begin{align*}
        1_\mathcal{C} A & = A \\
        1_\mathcal{C} f & = f
    \end{align*}
\end{df}

\begin{df}[Constant Functor]
    Given categories $\mathcal{C}$, $\mathcal{D}$ and an object $D \in \mathcal{D}$, the \emph{constant functor} $K^\mathcal{C} D : \mathcal{C} \rightarrow \mathcal{D}$ is the functor defined by
    \begin{align*}
        K^\mathcal{C} D C & = D      \\
        K^\mathcal{C} D f & = \id{D}
    \end{align*}
\end{df}

\section{Comma Categories}

\begin{df}[Comma Category]
    Let $F : \mathcal{C} \rightarrow \mathcal{E}$ and $G : \mathcal{D} \rightarrow \mathcal{E}$ be functors. The \emph{comma category} $F \downarrow G$ is the category with:
    \begin{itemize}
        \item objects all pairs $(C,D,f)$ where $C \in \mathcal{C}$, $D \in \mathcal{D}$ and
              $f : FC \rightarrow GD : \mathcal{E}$
        \item morphisms $(u,v) : (C,D,f) \rightarrow (C',D',g)$ all pairs $u : C \rightarrow
                  C' : \mathcal{C}$ and $v : D \rightarrow D' : \mathcal{D}$ such that the
              following diagram commutes:

              \begin{tikzcd}
                  FC \arrow[r,"f"] \arrow[d,"Fu"] & GD \arrow[d,"Gv"] \\
                  FC' \arrow[r,"g"] & GD'
              \end{tikzcd}
    \end{itemize}
\end{df}

\begin{df}[Slice Category]
    Let $\mathcal{C}$ be a category and $A \in \mathcal{C}$. The \emph{slice category} over $A$, denoted $\mathcal{C} / A$, is the comma category $1_\mathcal{C} \downarrow K^{\mathbf{1}} A$.
\end{df}

\begin{df}[Coslice Category]
    Let $\mathcal{C}$ be a category and $A \in \mathcal{C}$. The \emph{coslice category} over $A$, denoted $\mathcal{C} \backslash A$, is the comma category $K^{\mathbf{1}} A \downarrow 1_\mathcal{C}$.
\end{df}

\begin{df}[Pointed Sets]
    The \emph{category of pointed sets} $\Set_*$ is the coslice category $\Set \backslash 1$.
\end{df}

\part{Group Theory}

\chapter{Groups}

\begin{df}[Group]
    A \emph{group} $G$ consists of a set $G$ and a binary operation $\cdot : G^2 \rightarrow G$ such that $\cdot$ is associative, and there exists $e \in G$, the \emph{identity} element of the group, such that:
    \begin{itemize}
        \item For all $x \in G$ we have $xe = ex = x$
        \item For all $x \in G$, there exists $\inv{x} \in G$, the \emph{inverse} of $x$,
              such that $x \inv{x} = \inv{x} x = e$.
    \end{itemize}

    We identify a group $G$ with the category $G$ with one object and morphisms the
    elements of $G$, with composition given by $\cdot$.

    The \emph{order} of a group $G$, denoted $|G|$, is the number of elements in
    $G$ if $G$ is finite; otherwise we write $|G| = \infty$.
\end{df}

\begin{prop}
    The identity in a group is unique.
\end{prop}

\begin{proof}
    \pf\ Proposition \ref{prop:id-morph-unique}.
\end{proof}

\begin{prop}
    \label{prop:grp-inv-unique}
    The inverse of an element is unique.
\end{prop}

\begin{proof}
    \pf\ If $i$ and $j$ are inverses of $x$ then $i = ixj = j$. \qed
\end{proof}

\begin{ex}
    \begin{itemize}
        \item
              The \emph{trivial} group is $\{e\}$ under $ee = e$.
        \item $\mathbb{Z}$ is a group under addition %TODO Define this
        \item $\mathbb{Q}$ is a group under addition %TODO Define this
        \item $\mathbb{Q} - \{0\}$ is a group under multiplication
        \item $\mathbb{R}$ is a group under addition %TODO Define this
        \item $\mathbb{R} - \{0\}$ is a group under multiplication
        \item $\mathbb{C}$ is a group under addition %TODO Define this
        \item $\mathbb{C} - \{0\}$ is a group under multiplication
        \item $\{-1,1\}$ is a group under multiplication
        \item The set of $2 \times 2$ real matrices with non-zero determinant is a group
              under matrix multiplication.
        \item For any category $\mathcal{C}$ and object $A \in \mathcal{C}$, we have
              $\Aut{\mathcal{C}}{A}$ is a group under $gf = f \circ g$.

              For $A$ a set, we call $S_A = \Aut{\Set}{A}$ the \emph{symmetric group} or
              \emph{group of permutations} of $A$.

        \item For $n \geq 3$, the \emph{dihedral group} $D_{2n}$ consists of the set of rigid
              motions that map the regular $n$-gon onto itself under composition.
              \item Let $SL_2(\mathbb{Z}) = \left\{ \left( \begin{array}{cc}
              a & b \\
              c & d \end{array} \right)
              : a,b,c,d \in \mathbb{Z}, ad - bc = 1 \right\}$ under matrix multiplication.
    \end{itemize}
\end{ex}

\begin{ex}
    \begin{itemize}
        \item The only group of order 1 is the trivial group.
        \item The only group of order 2 is $\mathbb{Z}_2$.
        \item The only group of order 3 is $\mathbb{Z}_3$.
        \item There are exactly two groups of order 4: $\mathbb{Z}_4$ and $\mathbb{Z}_2
                  \times \mathbb{Z}_2$ under $(a,b) (c,d) = (ac,bd)$.
    \end{itemize}
\end{ex}

\begin{prop}[Cancellation]
    Let $G$ be a group. Let $a,g,h \in G$. If $ag = ah$ or $ga = ha$ then $g = h$.
\end{prop}

\begin{proof}
    \pf\ If $ag = ah$ then $g = \inv{a} a g = \inv{a} a h = h$. Similarly if $ga = ha$. \qed
\end{proof}

\begin{prop}
    Let $G$ be a group and $g,h \in G$. Then $(gh)^{-1} = h^{-1}g^{-1}$.
\end{prop}

\begin{proof}
    \pf\ Since $ghh^{-1}g^{-1} = e$. \qed
\end{proof}

\begin{df}
    Let $G$ be a group. Let $g \in G$. We define $g^n \in G$ for all $n \in \mathbb{Z}$ as follows:
    \begin{align*}
        g^0     & = e                       \\
        g^{n+1} & = g^n g      & (n \geq 0) \\
        g^{-n}  & = (g^{-1})^n & (n > 0)
    \end{align*}
\end{df}

\begin{prop}
    \label{prop:power-add}
    Let $G$ be a group. Let $g \in G$ and $m,n \in \mathbb{Z}$. Then
    \[ g^{m+n} = g^m g^n \enspace . \]
\end{prop}

\begin{proof}
    \pf
    \step{1}{For all $k \in \mathbb{Z}$ we have $g^{k+1} = g^k g$}
    \begin{proof}
        \step{a}{For all $k \geq 0$ we have $g^{k+1} = g^k g$}
        \begin{proof}
            \pf\ Immediate from definition.
        \end{proof}
        \step{b}{$g^{-1+1} = g^{-1} g$}
        \begin{proof}
            \pf\ Both are equal to $e$.
        \end{proof}
        \step{c}{For all $k > 1$ we have $g^{-k+1} = g^{-k} g$}
        \begin{proof}
            \pf
            \begin{align*}
                g^{-k+1} & = (g^{-1})^{k-1}          \\
                         & = (g^{-1})^{k-1} g^{-1} g \\
                         & = (g^{-1})^k g            \\
                         & = g^{-k} g
            \end{align*}
        \end{proof}
    \end{proof}
    \step{2}{For all $k \in \mathbb{Z}$ we have $g^{k-1} = g^k g^{-1}$}
    \begin{proof}
        \pf\ Substitute $k = k-1$ above and multiply by $g^{-1}$.
    \end{proof}
    \step{3}{$g^{m+0} = g^m g^0$}
    \begin{proof}
        \pf\ Since $g^m g^0 = g^m e = g^m$.
    \end{proof}
    \step{4}{If $g^{m+n} = g^m g^n$ then $g^{m+n+1} = g^m g^{n+1}$}
    \begin{proof}
        \pf
        \begin{align*}
            g^{m+n+1} & = g^{m+n} g   & (\text{\stepref{1}}) \\
                      & = g^m g^n g                          \\
                      & = g^m g^{n+1} & (\text{\stepref{1}})
        \end{align*}
    \end{proof}
    \step{5}{If $g^{m+n} = g^m g^n$ then $g^{m+n-1} = g^m g^{n-1}$}
    \begin{proof}
        \pf
        \begin{align*}
            g^{m+n-1} g          & = g^{m+n}        & (\text{\stepref{1}}) \\
                                 & = g^m g^n                               \\
            \therefore g^{m+n-1} & = g^m g^n g^{-1}                        \\
                                 & = g^m g^{n-1}    & (\text{\stepref{2}})
        \end{align*}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    \label{prop:power-mult}
    Let $G$ be a group. Let $g \in G$ and $m,n \in \mathbb{Z}$. Then
    \[ (g^m)^n = g^{mn} \enspace . \]
\end{prop}

\begin{proof}
    \pf
    \step{1}{$(g^m)^0 = g^0$}
    \begin{proof}
        \pf\ Both sides are equal to $e$.
    \end{proof}
    \step{2}{If $(g^m)^n = g^{mn}$ then $(g^m)^{n+1} = g^{m(n+1)}$.}
    \begin{proof}
        \pf
        \begin{align*}
            (g^m)^{n+1} & = (g^m)^n g^m & (\text{Proposition \ref{prop:power-add}}) \\
                        & = g^{mn} g^m                                              \\
                        & = g^{mn + m}  & (\text{Proposition \ref{prop:power-add}})
        \end{align*}
    \end{proof}
    \step{3}{If $(g^m)^n = g^{mn}$ then $(g^m)^{n-1} = g^{m(n-1)}$.}
    \begin{proof}
        \pf
        \begin{align*}
            (g^m)^n                    & = g^{mn}                                                   \\
            \therefore (g^m)^{n-1} g^m & = g^{mn-m} g^m & (\text{Proposition \ref{prop:power-add}}) \\
            \therefore (g^m)^{n-1}     & = g^{mn-m}     & (\text{Cancellation})
        \end{align*}
    \end{proof}
    \qed
\end{proof}

\begin{df}[Commute]
    Let $G$ be a group and $g,h \in G$. We say $g$ and $h$ \emph{commute} iff $gh = hg$.
\end{df}

\begin{df}
Let $G$ be a group. Given $g \in G$ and $A \subseteq G$, we define
\[ gA = \{ ga : a \in A \}, \qquad Ag = \{ ag : a \in A \} \enspace . \]
Given sets $A,B \subseteq G$, we define
\[ AB = \{ ab : a \in A, b \in B \} \enspace . \]
\end{df}

\section{Order of an Element}

\begin{df}[Order]
    Let $G$ be a group. Let $g \in G$. Then $g$ has \emph{finite order} iff there exists a positive integer $n$ such that $g^n = e$. In this case, the \emph{order} of $g$, denoted $|g|$, is the least positive integer $n$ such that $g^n = e$.

    If $g$ does not have finite order, we write $|g| = \infty$.
\end{df}

\begin{prop}
    Let $G$ be a group. Let $g \in G$ and $n$ be a positive integer. If $g^n = e$ then $|g| \mid n$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$n = q |g| + d$ where $0 \leq d < |g|$}}
    \begin{proof}
        \pf\ Division Algorithm.
    \end{proof}
    \step{2}{$g^d = e$}
    \begin{proof}
        \pf
        \begin{align*}
            e & = g^n                                                                                 \\
              & = g^{q|g| + d}                                                                        \\
              & = (g^{|g|})^q g^d & (\text{Propositions \ref{prop:power-add}, \ref{prop:power-mult}}) \\
              & = e^q g^d                                                                             \\
              & = g^d
        \end{align*}
    \end{proof}
    \step{3}{$d = 0$}
    \begin{proof}
        \pf\ By minimality of $|g|$.
    \end{proof}
    \step{4}{$n = q|g|$}
    \qed
\end{proof}

\begin{cor}
    \label{cor:order-divides}
    Let $G$ be a group. Let $g \in G$ have finite order and $n \in \mathbb{Z}$. Then $g^n = e$ if and only if $|g| \mid n$.
\end{cor}

%TODO: In fact |g| \mid |G|
\begin{prop}
    Let $G$ be a group and $g \in G$. Then $|g| \leq |G|$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\assume{w.l.o.g. $G$ is finite.}}
    \step{2}{\pick\ $i$, $j$ with $0 \leq i < j \leq |G|$ such that $g^i = g^j$.}
    \begin{proof}
        \pf\ Otherwise $g^0$, $g^1$, \ldots, $g^{|G|}$ would be $|G| + 1$ distinct elements of $G$.
    \end{proof}
    \step{3}{$g^{j-i} = e$}
    \step{4}{$g$ has finite order and $|g| \leq |G|$}
    \begin{proof}
        \pf\ Since $|g| \leq j - i \leq j \leq |G|$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
\label{prop:order-of-g-to-the-m}
    Let $G$ be a group. Let $g \in G$ have finite order. Let $m \in \mathbb{N}$. Then
    \[ |g^m| = \frac{\lcm(m,|g|)}{m} = \frac{|g|}{\gcd(m,|g|)}\]
\end{prop}

\begin{proof}
    \pf\ Since for any integer $d$ we have
    \begin{align*}
        g^{md} = e & \Leftrightarrow |g| \mid md                  & (\text{Corollary \ref{cor:order-divides}}) \\
                   & \Leftrightarrow \lcm(m,|g|) \mid md                                                       \\
                   & \Leftrightarrow \frac{\lcm(m,|g|)}{m} \mid d & \qed
    \end{align*}
    and so $|g^m| = \frac{\lcm(m,|g|)}{m}$ by Corollary \ref{cor:order-divides}. \qed
\end{proof}

\begin{cor}
    If $g$ has odd order then $|g^2| = |g|$.
\end{cor}

\begin{prop}
    \label{prop:order-gh}
    Let $G$ be a group. Let $g,h \in G$ have finite order. Assume $gh = hg$. Then $|gh|$ has finite order and
    \[ |gh| \mid \lcm(|g|,|h|)\]
\end{prop}

\begin{proof}
    \pf\ Since $(gh)^{\lcm(|g|,|h|)} = g^{\lcm(|g|,|h|)}h^{\lcm(|g|,|h|)} = e$. \qed
\end{proof}

\begin{ex}
    This example shows that we cannot remove the hypothesis that $gh = hg$.

    In $\mathrm{GL}_2(\mathbb{R})$, take
    \[ g = \left( \begin{array}{cc} 0 & -1 \\ 1 & 0 \end{array} \right), \qquad
        h = \left( \begin{array}{cc} 0 & 1 \\ -1 & -1 \end{array} \right) \enspace . \]
    Then $|g| = 4$, $|h| = 3$ and $|gh| = \infty$.
\end{ex}

\begin{prop}
    \label{prop:order-gh-if-gcd-one}
    Let $G$ be a group and $g,h \in G$ have finite order. If $gh=hg$ and $\gcd(|g|,|h|) = 1$ then $|gh| = |g||h|$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$N = |gh|$}}
    \step{2}{$g^N = (\inv{h})^N$}
    \step{3}{$g^{N|g|} = e$}
    \step{4}{$|g^N| \mid |g|$}
    \step{5}{$h^{-N|h|} = e$}
    \step{5}{$|g^N| \mid |h|$}
    \step{6}{$|g^N| = 1$}
    \begin{proof}
        \pf\ Since $\gcd(|g|,|h|) = 1$.
    \end{proof}
    \step{7}{$g^N = e$}
    \step{8}{$|g| \mid N$}
    \step{9}{$h^{-N} = e$}
    \step{10}{$|h| \mid N$}
    \step{11}{$N = |g||h|$}
    \begin{proof}
        \pf\ Using Proposition \ref{prop:order-gh}.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    \label{prop:product-of-all-elements}
    Let $G$ be a finite group. Assume there is exactly one element $f \in G$ of order 2. Then the product of all the elements of $G$ is $f$.
\end{prop}

\begin{proof}
    \pf\ Let the elements of $G$ be $g_1$, $g_2$, \ldots, $g_n$. Apart from $e$ and $f$, every element and its inverse are distinct elements of the list. Hence the product of the list is $ef = f$. \qed
\end{proof}

\begin{prop}
    Let $G$ be a finite group of order $n$. Let $m$ be the number of elements of $G$ of order 2. Then $n-m$ is odd.
\end{prop}

\begin{proof}
    \pf\ In the list of all elements that are not of order 2, every element and its inverse are distinct except for $e$. Hence the list has odd length. \qed
\end{proof}

\begin{cor}
    If a finite group has even order, then it contains an element of order 2.
\end{cor}

\begin{prop}
    Let $G$ be a group and $a,g \in G$. Then $|ag\inv{a}| = |g|$.
\end{prop}

\begin{proof}
    \pf\ Since
    \begin{align*}
        (ag\inv{a})^n = e & \Leftrightarrow a g^n \inv{a} = e        \\
                          & \Leftrightarrow g^n = e           & \qed
    \end{align*}
\end{proof}

\begin{prop}
    Let $G$ be a group and $g,h \in G$. Then $|gh| = |hg|$.
\end{prop}

\begin{proof}
    \pf\ Since $|gh| = |ghg\inv{g}| = |hg|$. \qed
\end{proof}

\section{Generators}

\begin{df}[Generator]
    Let $G$ be a group and $a \in G$. We say $a$ \emph{generates} the group iff, for all $x \in G$, there exists an integer $n$ such that $x^n = a$.
\end{df}

\begin{ex}
\label{ex:SL2Z}
$\mathrm{SL}_2(\mathbb{Z})$ is generated by
\[ s = \left( \begin{array}{cc}
0 & -1 \\ 1 & 0
\end{array} \right), \qquad
t = \left( \begin{array}{cc}
1 & 1 \\
0 & 1
\end{array} \right) \]
\end{ex}

\begin{proof}
\pf
\step{1}{\pflet{$H = \langle s, t \rangle$}}
\step{2}{For all $q \in \mathbb{Z}$ we have $\left( \begin{array}{cc} 1 & q \\ 0 & 1 \end{array} \right) \in H$.}
\begin{proof}
	\pf\ It is $t^q$.
\end{proof}
\step{3}{For all $q \in \mathbb{Z}$ we have $\left( \begin{array}{cc} 1 & 0 \\ q & 1 \end{array} \right) \in H$.}
\begin{proof}
\pf
\begin{align*}
st^{-q}\inv{s} & = \left( \begin{array}{cc}
0 & -1 \\
1 & 0
\end{array} \right)
\left( \begin{array}{cc}
1 & -q \\ 0 & 1
\end{array} \right)
\left( \begin{array}{cc}
0 & 1 \\
-1 & 0
\end{array} \right) \\
& = \left( \begin{array}{cc}
0 & -1 \\
1 & -q
\end{array} \right)
\left( \begin{array}{cc}
0 & 1 \\
-1 & 0
\end{array} \right) \\
& = \left( \begin{array}{cc}
1 & 0 \\
q & 1
\end{array} \right)
\end{align*}
\end{proof}
\step{4}{\[ \left( \begin{array}{cc} a & b \\ c & d \end{array} \right) \left( \begin{array}{cc} 1 & q \\ 0 & 1 \end{array} \right) = \left( \begin{array}{cc} a & qa + b \\ c & qc + d \end{array} \right) \]}
\step{5}{\[ \left( \begin{array}{cc} a & b \\ c & d \end{array} \right) \left( \begin{array}{cc} 1 & 0 \\ q & 1 \end{array} \right) = \left( \begin{array}{cc} a+qb & b \\ c +qd & d \end{array} \right) \]}
\step{6}{For any $M = \left( \begin{array}{cc} a & b \\ c & d \end{array} \right) \in \mathrm{SL}_2(\mathbb{Z})$, if $c$ and $d$ are both nonzero, then there exists $N \in H$ such that the bottom row of $MN$ has one entry the same as $M$ and one entry with smaller absolute value.}
\begin{proof}
\pf\ From \stepref{4} and \stepref{5} taking $q = -1$.
\end{proof}
\step{7}{For any $M \in \mathrm{SL}_2(\mathbb{Z})$, there exists $N \in H$ such that $MN$ has a zero on the bottom row.}
\begin{proof}
\pf\ Apply \stepref{6} repeatedly.
\end{proof}
\step{8}{Any matrix in $\SL{2}{\mathbb{Z}}$ with a zero on the bottom row is in $H$.}
\begin{proof}
\step{a}{$\left( \begin{array}{cc}
1 & b \\
0 & 1
\end{array} \right) \in H$}
\begin{proof}
\pf\ \stepref{2}
\end{proof}
\step{b}{$\left( \begin{array}{cc}
-1 & b \\
0 & -1
\end{array} \right) \in H$}
\begin{proof}
\pf\ It is
$s^2 \left( \begin{array}{cc}
1 & b \\
0 & 1
\end{array} \right)$ since $s^2 = -I$.
\end{proof}
\step{c}{$\left( \begin{array}{cc}
a & 1 \\
-1 & 0
\end{array} \right) \in H$}
\begin{proof}
\pf\ It is $\left( \begin{array}{cc}
1 & -a \\ 0 & 1 \end{array} \right) s$.
\end{proof}
\step{d}{$\left( \begin{array}{cc}
a & -1 \\
1 & 0
\end{array} \right) \in H$}
\begin{proof}
\pf\ It is $s^2 \left( \begin{array}{cc}
1 & a \\ 0 & 1 \end{array} \right) s$.
\end{proof}
\end{proof}
\step{9}{Every matrix in $\SL{2}{\mathbb{Z}}$ is in $H$.}
\qed
\end{proof}

\chapter{Group Homomorphisms}

\begin{df}[Homomorphism]
    Let $G$ and $H$ be groups. A \emph{(group) homomorphism} $\phi : G \rightarrow H$ is a function such that, for all $x,y \in G$,
    \[ \phi(xy) = \phi(x) \phi(y) \enspace . \]
\end{df}

\begin{prop}
    Let $G$ and $H$ be groups with identities $e_G$ and $e_H$.
    Let $\phi : G \rightarrow H$ be a group homomorphism. Then $\phi(e_G) = e_H$.
\end{prop}

\begin{proof}
    \pf\ Since $\phi(e_G) = \phi(e_G e_G) = \phi(e_G) \phi(e_G)$ and so $\phi(e_G) = e_H$ by Cancellation. \qed
\end{proof}

\begin{prop}
    Let $\phi : G \rightarrow H$ be a group homomorphism. For all $x \in G$ we have $\phi(x^{-1}) = \phi(x)^{-1}$.
\end{prop}

\begin{proof}
    \pf\ Since $\phi(x) \phi(x^{-1}) = \phi(xx^{-1}) = \phi(e_G) = e_H$. \qed
\end{proof}

\begin{prop}
    Let $G$, $H$ and $K$ be groups. If $\phi : G \rightarrow H$ and $\psi : H \rightarrow K$ are homomorphisms then $\psi \circ \phi : G \rightarrow K$ is a homomorphism.
\end{prop}

\begin{proof}
    \pf\ For $x,y \in G$ we have
    \[ \psi(\phi(xy)) = \psi(\phi(x) \phi(y)) = \psi(\phi(x)) \psi(\phi(y)) \enspace . \]
\end{proof}

\begin{prop}
    Let $G$ be a group. Then $\id{G} : G \rightarrow G$ is a group homomorphism.
\end{prop}

\begin{proof}
    \pf\ For $x,y \in G$ we have $\id{G}(xy) = xy = \id{G}(x) \id{G}(y)$. \qed
\end{proof}

\begin{prop}
    Let $\phi : G \rightarrow H$ be a group homomorphism. Let $g \in G$ have finite order. Then $|\phi(g)|$ divides $|g|$.
\end{prop}

\begin{proof}
    \pf\ Since $\phi(g)^{|g|} = \phi(g^{|g|}) = e$. \qed
\end{proof}

\begin{df}[Category of Groups]
    Let $\mathbf{Grp}$ be the category of groups and group homomorphisms.
\end{df}

\begin{ex}
There are 49487365402 groups of order 1024 up to isomorphism. %TODO
\end{ex}

\begin{prop}
    A group homomorphism $\phi : G \rightarrow H$ is an isomorphism in $\mathbf{Grp}$ if and only if it is bijective.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\assume{$\phi$ is bijective.} \prove{$\inv{\phi}$ is a group homomorphism.}}
    \step{2}{\pflet{$h,h' \in H$}}
    \step{3}{$\phi(\inv{\phi}(hh')) = \phi(\inv{\phi}(h)\inv{\phi}(h'))$}
    \begin{proof}
        \pf\ Both are equal to $hh'$.
    \end{proof}
    \step{4}{$\inv{\phi}(hh') = \inv{\phi}(h) \inv{\phi}(h')$}
    \qed
\end{proof}

\begin{cor}
    \[ D_6 \cong C_3 \]
\end{cor}

\begin{proof}
    \pf\ The canonical homomorphism $D_6 \rightarrow C_3$ is bijective. \qed
\end{proof}

\begin{cor}
    \[ (\mathbb{R}, +) \cong (\{ x \in \mathbb{R} : x > 0 \}, \cdot) \]
\end{cor}

\begin{proof}
    \pf\ The function that maps $x$ to $e^x$ is a bijective homomorphism. \qed
\end{proof}

\begin{prop}
    The trivial group is the zero object in $\mathbf{Grp}$.
\end{prop}

\begin{proof}
    \pf\ For any group $G$, the unique function $G \rightarrow \{e\}$ is a group homomorphism, and the only group homomorphism $\{e\} \rightarrow G$ maps $e$ to $e_G$. \qed
\end{proof}

\begin{prop}
    For any groups $G$ and $H$, the set $G \times H$ under $(g,h)(g',h') = (gg',hh')$ is the product of $G$ and $H$ in $\mathbf{Grp}$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{$G \times H$ is a group.}
    \begin{proof}
        \step{a}{The multiplication is associative.}
        \begin{proof}
            \pf\ Since $(g_1,h_1)((g_2,h_2)(g_3,h_3)) = ((g_1,h_1)(g_2,h_2))(g_3,h_3) = (g_1 g_2 g_3, h_1 h_2 h_3)$.
        \end{proof}
        \step{b}{$(e_G,e_H)$ is the identity.}
        \begin{proof}
            \pf\ Since $(g,h)(e_G,e_H) = (e_G,e_H)(g,h) = (g,h)$.
        \end{proof}
        \step{c}{The inverse of $(g,h)$ is $(\inv{g},\inv{h})$.}
        \begin{proof}
            \pf\ Since $(g,h)(\inv{g},\inv{h}) = (\inv{g},\inv{h})(g,h) = (e_G,e_H)$.
        \end{proof}
    \end{proof}
    \step{2}{$\pi_1 : G \times H \rightarrow G$ is a group homomorphism.}
    \begin{proof}
        \pf\ Immediate from definitions.
    \end{proof}
    \step{3}{$\pi_2 : G \times H \rightarrow H$ is a group homomorphism.}
    \begin{proof}
        \pf\ Immediate from definitions.
    \end{proof}
    \step{4}{For any group homomorphism $\phi : K \rightarrow G$ and $\psi : K \rightarrow H$, the function $\langle \phi, \psi \rangle : K \rightarrow G \times H$ where $\langle \phi, \psi \rangle(k) = (\phi(k), \psi(k))$ is a group homomorphism.}
    \begin{proof}
        \pf
        \begin{align*}
            \langle \phi, \psi \rangle (kk') & = (\phi(kk'), \psi(kk'))                                     \\
                                             & = (\phi(k)\phi(k'), \psi(k)\psi(k'))                         \\
                                             & = (\phi(k),\psi(k)) (\phi(k'),\psi(k'))                      \\
                                             & = \langle \phi,\psi \rangle(k) \langle \phi,\psi \rangle(k')
        \end{align*}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    \[ |\Aut{\Grp}{C_n}| = \phi(n) \]
\end{prop}

\begin{proof}
    \pf\ An automorphism $\alpha$ is determined by $\alpha(1)$ which is any element of order $n$, and $g$ has order $n$ iff $\gcd(g,n) = 1$. \qed
\end{proof}

\begin{ex}
    \[ \Aut{\Grp}{\mathbb{Z}} \cong C_2 \]
\end{ex}

\begin{proof}
    \pf\ The only automorphisms are the identity and multiplication by -1. \qed
\end{proof}

\section{Subgroups}

\begin{df}[Subgroup]
Let $(G,\cdot)$ and $(H,*)$ be groups such that $H$ is a subset of $G$. Then $H$ is a \emph{subgroup} of $G$ iff the inclusion $i : H \hookrightarrow G$ is a group homomorphism.
\end{df}

\begin{prop}
If $(H,*)$ is a subgroup of $(G,\cdot)$ then $*$ is the restriction of $\cdot$ to $H$.
\end{prop}

\begin{proof}
\pf\ Given $x,y \in H$ we have
\[ x * y = i(x * y) = i(x) \cdot i(y) = x \cdot y \enspace .  \qquad \qed \]
\end{proof}

\begin{ex}
For any group $G$ we have $\{e\}$ is a subgroup of $G$.
\end{ex}

\begin{prop}
Let $G$ be a group. Let $H$ be a subset of $G$. Then $H$ is a subgroup of $G$ iff $H$ is nonempty and, for all $x,y \in H$, we have $x \inv{y} \in H$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $H$ is a subgroup of $G$ then $H$ is nonempty.}
\begin{proof}
\pf\ Since every group has an identity element and so is nonempty.
\end{proof}
\step{2}{If $H$ is a subgroup of $G$ then, for all $x,y \in H$, we have $x \inv{y} \in H$.}
\begin{proof}
\pf\ Easy.
\end{proof}
\step{3}{If $H$ is nonempty and, for all $x,y \in H$, we have $x \inv{y} \in H$, then $H$ is a subgroup of $G$.}
\begin{proof}
	\step{a}{\assume{$H$ is nonempty.}}
	\step{b}{\assume{$\forall x,y \in H. x \inv{y} \in H$}}
	\step{c}{$e \in H$}
	\begin{proof}
		\pf\ Pick $x \in H$. We have $e = x \inv{x} \in H$.
	\end{proof}
	\step{d}{$\forall x \in H. \inv{x} \in H$}
	\begin{proof}
		\pf\ Given $x \in H$ we have $\inv{x} = e \inv{x} \in H$.
	\end{proof}
	\step{c}{$H$ is closed under the restriction of $\cdot$}
	\begin{proof}
		\pf\ Given $x,y \in H$ we have $xy = x \inv{(\inv{y})} \in H$.
	\end{proof}
	\step{d}{$H$ is a group under the restriction of $\cdot$}
	\begin{proof}
		\pf\ Associativity is inherited from $G$ and the existence of an identity element and inverses follows from \stepref{c} and \stepref{d}.
	\end{proof}
	\step{e}{The inclusion $H \hookrightarrow G$ is a group homomorphism.}
	\begin{proof}
		\pf\ For $x,y \in H$ we have $i(xy) = i(x)i(y) = xy$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
The intersection of a set of subgroups of $G$ is a subgroup of $G$.
\end{cor}

\begin{cor}
\label{cor:inverse-image-subgroup}
Let $\phi : G \rightarrow H$ be a group homomorphism. Let $K$ be a subgroup of $H$. Then $\inv{\phi}(K)$ is a subgroup of $G$.
\end{cor}

\begin{proof}
\pf
\step{0}{$\inv{\phi}(K)$ is nonempty.}
\begin{proof}
\pf\ Since $e \in \inv{\phi}(K)$.
\end{proof}
\step{1}{\pflet{$x,y \in \inv{\phi}(K)$}}
\step{2}{$\phi(x),\phi(y) \in K$}
\step{3}{$\phi(x)\inv{\phi(y)} \in K$}
\step{4}{$\phi(x\inv{y}) \in K$}
\step{5}{$x\inv{y} \in \inv{\phi}(K)$}
\qed
\end{proof}

\begin{cor}
Let $\phi : G \rightarrow H$ be a group homomorphism. Let $K$ be a subgroup of $G$. Then $\phi(K)$ is a subgroup of $H$.
\end{cor}

\begin{proof}
\pf
\step{1}{\pflet{$x,y \in \phi(K)$}}
\step{2}{\pick\ $a,b \in K$ such that $x = \phi(a)$ and $y = \phi(b)$}
\step{3}{$x\inv{y} = \phi(a\inv{b})$}
\step{4}{$x\inv{y} \in \phi(K)$}
\qed
\end{proof}

\begin{prop}
Let $G$ be a subgroup of $\mathbb{Z}$. Then there exists $d \geq 0$ such that $G = d \mathbb{Z}$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{w.l.o.g. $G \neq \{0\}$}}
\begin{proof}
\pf\ Since $\{0\} = 0 \mathbb{Z}$.
\end{proof}
\step{2}{\pflet{$d$ be the least positive element of $G$.} \prove{$G = d \mathbb{Z}$}}
\begin{proof}
\pf\ If $n \in G$ then $-n \in G$ so $G$ must contain a positive element.
\end{proof}
\step{3}{$G \subseteq d \mathbb{Z}$}
\begin{proof}
	\step{a}{\pflet{$n \in G$}}
	\step{b}{\pflet{$q$ and $r$ be the integers such that $n = qd + r$ and $0 \leq r < d$.}}
	\step{c}{$r \in G$}
	\begin{proof}
		\pf\ Since $r = n - qd$.
	\end{proof}
	\step{d}{$r = 0$}
	\begin{proof}
		\pf\ By minimality of $d$.
	\end{proof}
	\step{e}{$n = qd \in d \mathbb{Z}$}
\end{proof}
\step{4}{$d \mathbb{Z} \subseteq G$}
\qed
\end{proof}

\section{Kernel}

\begin{df}[Kernel]
Let $\phi : G \rightarrow H$ be a group homomorphism. The \emph{kernel} of $\phi$ is
\[ \ker \phi = \{ g \in G : \phi(g) = e \} \enspace . \]
\end{df}

\begin{prop}
Let $\phi : G \rightarrow H$ be a group homomorphism. Then $\ker \phi$ is a subgroup of $G$.
\end{prop}

\begin{proof}
\pf\ Corollary \ref{cor:inverse-image-subgroup}. \qed
\end{proof}

\begin{prop}
Let $\phi : G \rightarrow H$ be a group homomorphism. Then the inclusion $i : \ker \phi \hookrightarrow G$ is terminal in the category of pairs $(K,\alpha : K \rightarrow G)$ such that $\phi \circ \alpha = 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\phi \circ i = 0$}
\step{2}{For any group $K$ and homomorphism $\alpha : K \rightarrow G$ such that $\phi \circ \alpha = 0$, there exists a unique homomorphism $\beta : K \rightarrow \ker \phi$ such that $i \circ \beta = \alpha$.}
\qed
\end{proof}

\begin{prop}
Let $\phi : G \rightarrow H$ be a group homomorphism. Then the following are equivalent:
\begin{enumerate}
\item $\phi$ is monic.
\item $\ker \phi = \{e\}$
\item $\phi$ is injective.
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{$1 \Rightarrow 2$}
\begin{proof}
	\step{a}{\assume{$\phi$ is monic.}}
	\step{b}{\pflet{$i : \ker \phi \hookrightarrow G$, $j : \{e\} \hookrightarrow \ker \phi \hookrightarrow G$ be the inclusions.}}
	\step{c}{$\phi \circ i = \phi \circ j$}
	\step{d}{$i = j$}
\end{proof}
\step{2}{$2 \Rightarrow 3$}
\begin{proof}
	\step{a}{\assume{$\ker \phi = \{e\}$}}
	\step{b}{\pflet{$x,y \in G$}}
	\step{c}{\assume{$\phi(x) = \phi(y)$}}
	\step{d}{$\phi(x\inv{y}) = e$}
	\step{e}{$x \inv{y} \in \ker \phi$}
	\step{f}{$x \inv{y} = e$}
	\step{g}{$x = y$}
\end{proof}
\step{3}{$3 \Rightarrow 1$}
\begin{proof}
	\pf\ Easy.
\end{proof}
\qed
\end{proof}

\begin{prop}
A group homomorphism is an epimorphism if and only if it is surjective.
\end{prop}

%TODO

\section{Inner Automorphisms}

\begin{prop}
    Let $G$ be a group and $g \in G$. The function $\gamma_g : G \rightarrow G$ defined by $\gamma_g(a) = ga\inv{g}$ is an automorphism on $G$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{$\gamma_g$ is a homomorphism.}
    \begin{proof}
        \pf
        \begin{align*}
            \gamma_g(ab) & = gab\inv{g}              \\
                         & = ga\inv{g} gb\inv{g}     \\
                         & = \gamma_g(a) \gamma_g(b)
        \end{align*}
    \end{proof}
    \step{2}{$\gamma_g$ is injective.}
    \begin{proof}
        \pf\ By Cancellation.
    \end{proof}
    \step{3}{$\gamma_g$ is surjective.}
    \begin{proof}
        \pf\ Given $b \in G$, we have $\gamma_g(\inv{g}bg) = b$.
    \end{proof}
    \qed
\end{proof}

\begin{df}[Inner Automorphism]
    Let $G$ be a group. An \emph{inner automorphism} on $G$ is a function of the form $\gamma_g(a) = ga\inv{g}$ for some $g \in G$.
    
    We write $\mathrm{Inn}(G)$ for the set of inner automorphisms of $G$.
\end{df}

\begin{prop}
    Let $G$ be a group.
    The function $\gamma : G \rightarrow \Aut{\Grp}{G}$ that maps $g$ to $\gamma_g$ is a group homomorphism.
\end{prop}

\begin{proof}
    \pf\ Since $\gamma_{gh}(a) = gha\inv{h}\inv{g} = \gamma_g(\gamma_h(a))$. \qed
\end{proof}

\begin{cor}
$\mathrm{Inn}(G)$ is a subgroup of $\Aut{\Grp}{G}$.
\end{cor}

\section{Direct Products}

\begin{df}[Direct Product]
    The \emph{direct product} of groups $G$ and $H$ is their product in $\mathbf{Grp}$.
\end{df}

\section{Free Groups}

\begin{prop}
    Let $A$ be a set. Let $\mathcal{F}^A$ be the category whose objects are pairs $(G,j)$ where $G$ is a group and $j$ is a function $A \rightarrow G$, with morphisms $f : (G,j) \rightarrow (H,k)$ the group homomorphisms $f : G \rightarrow H$ such that $f \circ j = k$. Then $\mathcal{F}^A$ has an initial object.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$W(A)$ be the set of words in the alphabet whose elements are the elements of $A$ together with $\{ \inv{a} : a \in A \}$.}}
    \step{2}{\pflet{$r : W(A) \rightarrow W(A)$ be the function that, given a word $w$, removes the first pair of letters of the form $a \inv{a}$ or $\inv{a}a$; if there is no such pair, then $r(w) = w$.}}
    \step{3}{Let us say that a word $w$ is a \emph{reduced word} iff $r(w) = w$.}
    \step{4}{For any word $w$ of length $n$, we have $r^{\ulcorner \frac{n}{2} \urcorner}(w)$ is a reduced word.}
    \begin{proof}
        \pf\ Since we cannot remove more than $n/2$ pairs of letters from $w$.
    \end{proof}
    \step{5}{\pflet{$R : W(A) \rightarrow W(A)$ be the function $R(w) = r^{\ulcorner \frac{n}{2} \urcorner}(w)$, where $n$ is the length of $w$.}}
    \step{5}{\pflet{$F(A)$ be the set of reduced words.}}
    \step{6}{Define $\cdot : F(A)^2 \rightarrow F(A)$ by $w \cdot w' = R(ww')$}
    \step{7}{$\cdot$ is associative.}
    \begin{proof}
        \pf\ Both $w_1 \cdot (w_2 \cdot w_3)$ and $(w_1 \cdot w_2) \cdot w_3$ are equal to $R(w_1 w_2 w_3)$.
    \end{proof}
    \step{8}{The empty word is the identity element in $F(A)$}
    \step{9}{The inverse of $a_1^{\pm 1} a_2^{\pm 1} \cdots a_n^{\pm 1}$ is $a_n^{\mp 1} \cdots a_2^{\mp 1} a_1^{\mp 1}$.}
    \step{10}{\pflet{$j : A \rightarrow F(A)$ be the function that maps $a$ to the word $a$ of length .}}
    \step{11}{\pflet{$G$ be any group and $k : A \rightarrow G$ any function.}}
    \step{12}{The only morphism $f : (F(A),j) \rightarrow (G,k)$ in $\mathcal{F}^A$ is $f(a_1^{\pm 1} a_2^{\pm 1} \cdots a_n^{\pm 1}) = k(a_1)^{\pm 1} k(a_2)^{\pm 1} \cdots k(a_n)^{\pm 1}$.}
    \qed
\end{proof}

\begin{df}[Free Group]
    For any set $A$, the \emph{free group} on $A$ is the initial object $(F(A),i)$ in $\mathcal{F}^A$.
\end{df}

\begin{prop}
    $i : A \rightarrow F(A)$ is injective.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$x,y \in A$}}
    \step{2}{\assume{$x \neq y$} \prove{$i(x) \neq i(y)$}}
    \step{3}{\pflet{$f : A \rightarrow C_2$ be the function that maps $x$ to $0$ and all other elements of $A$ to 1.}}
    \step{4}{\pflet{$\phi : F(A) \rightarrow C_2$ be the group homomorphism such that $f = \phi\circ i$.}}
    \step{5}{$f(x) \neq f(y)$}
    \step{6}{$\phi(i(x)) \neq \phi(i(y))$}
    \step{7}{$i(x) \neq i(y)$}
    \qed
\end{proof}

\begin{prop}
    \[ F(0) \cong \{e\} \]
\end{prop}

\begin{proof}
    \pf\ For any set $A$, the unique group homomorphism $\{e\} \rightarrow A$ makes the following diagram commute.
    \[ \begin{tikzcd}
            \{e\} \arrow[r] & A \\
            \emptyset \arrow[u] \arrow[ur]
        \end{tikzcd} \]
\end{proof}

\begin{prop}
    The free group on 1 is $\mathbb{Z}$ with the injection mapping 0 to $1$.
\end{prop}

\begin{proof}
    \pf\ Given any group $G$ and function $a : 1 \rightarrow G$, the required unique homomorphism $\phi : \mathbb{Z} \rightarrow G$ is defined by $\phi(n) = a(0)^n$. \qed
\end{proof}

\begin{prop}
    For any sets $A$ and $B$, we have that $F(A+B)$ is the coproduct of $F(A)$ and $F(B)$ in $\Grp$.
\end{prop}

\[ \begin{tikzcd}
        & G & \\
        F(A) \arrow[r,"\kappa_1"] \arrow[ur,"f"] & F(A+B) \arrow[u,"k"] & \arrow[l,"\kappa_2"] F(B) \arrow[ul,"g"] \\
        A \arrow[r,"k_1"] \arrow[u,"i_A"] & A+B \arrow[u,"j"] & \arrow[l,"k_2"] \arrow[u,"i_B"] B
    \end{tikzcd} \]

\begin{proof}
    \pf
    \step{1}{\pflet{$i_A : A \rightarrow F(A)$, $i_B : B \rightarrow F(B)$, $j : A + B \rightarrow F(A+B)$ be the canonical injections.}}
    \step{2}{\pflet{$\kappa_1$, $\kappa_2$ be the unique group homomorphisms that make the diagram above commute.}}
    \step{3}{\pflet{$G$ be any group and $f : F(A) \rightarrow G$, $g : F(B) \rightarrow G$ any group homomorphisms.}}
    \step{4}{\pflet{$h : A + B \rightarrow G$ be the unique function such that $h \circ k_1 = f \circ i_A$ and $h \circ k_2 = g \circ i_B$.}}
    \step{5}{\pflet{$k : F(A+B) \rightarrow G$ be the unique group homomorphism such that $k \circ j = h$.}}
    \step{6}{$k$ is the unique group homomorphism such that $k \circ \kappa_1 \circ i_A = f \circ i_A$ and $k \circ \kappa_2 \circ i_B = g \circ i_B$.}
    \step{7}{$k$ is the unique group homomorphism such that $k \circ \kappa_1 = f$ and $k \circ \kappa_2 = g$.}
    \qed
\end{proof}

\begin{df}[Subgroup Generated by a Group]
Let $G$ be a group and $A$ a subset of $G$. Let $\phi : F(A) \rightarrow G$ be the unique group homomorphism such that $\phi(a) = a$ for all $a \in A$. The subgroup \emph{generated} by $A$ is

\[ \langle A \rangle := \im \phi \]

\[ \begin{tikzcd}
F(A) \arrow[r,"\phi"] & G \\
A \arrow[u] \arrow[ur]
\end{tikzcd} \]
\end{df}

\begin{prop}
Let $G$ be a group and $A$ a subset of $G$. Then $\langle A \rangle$ is the set of all elements of the form $a_1^{\pm 1} a_2^{\pm 1} \cdots a_n^{\pm 1}$ (where $n \geq 0$) such that $a_1, \ldots, a_n \in A$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{cor}
Let $G$ be a group and $g \in G$. Then
\[ \langle g \rangle = \{ g^n : n \in \mathbb{Z} \} \enspace . \]
\end{cor}

\begin{prop}
Let $G$ be a group and $A$ a subset of $G$. Then $\langle A \rangle$ is the intersection of all the subgroups of $G$ that include $A$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Finitely Generated]
Let $G$ be a group. Then $G$ is \emph{finitely generated} iff there exists a finite subset $A$ of $G$ such that $G = \langle A \rangle$.
\end{df}

\begin{prop}
Every subgroup of a finitely generated free group is free.
\end{prop}

\begin{proof}
\pf\ TODO.
\end{proof}

\begin{prop}
$F(2)$ includes subgroups isomorphic to the free group on arbitrarily many generators.
\end{prop}

\begin{proof}
\pf\ TODO
\end{proof}

\begin{prop}
\[ [F(2),F(2)] \cong F(\mathbb{Z}) \]
\end{prop}

\begin{proof}
\pf\ TODO
\end{proof}

\section{Normal Subgroups}

\begin{df}[Normal Subgroup]
A subgroup $N$ of $G$ is \emph{normal} iff, for all $g \in G$ and $n \in N$, we have $gn\inv{g} \in N$.
\end{df}

\begin{prop}
Let $G$ be a group and $N$ a subgroup of $G$. Then the following are equivalent.
\begin{enumerate}
\item $N$ is normal.
\item $\forall g \in G. g N \inv{g} \subseteq N$
\item $\forall g \in G. g N \inv{g} = N$
\item $\forall g \in G. g N \subseteq N g$
\item $\forall g \in G. gN = Ng$
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{$1 \Leftrightarrow 2$}
\begin{proof}
\pf\ Immediate from definitions.
\end{proof}
\step{2}{$2 \Rightarrow 3$}
\begin{proof}
	\pf\ If 2 holds then we have $gN\inv{g} \subseteq N$ and $\inv{g}Ng \subseteq N$ hence $N = gN\inv{g}$.
\end{proof}
\step{2}{$3 \Rightarrow 2$}
\begin{proof}
\pf\ Trivial.
\end{proof}
\step{3}{$2 \Leftrightarrow 4$}
\begin{proof}
\pf\ Easy.
\end{proof}
\step{4}{$3 \Leftrightarrow 5$}
\begin{proof}
\pf\ Easy.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:kernel-normal}
Let $\phi : G \rightarrow H$ be a group homomorphism. Then $\ker \phi$ is a normal subgroup of $G$.
\end{prop}

\begin{proof}
\pf\ Given $g \in G$ and $n \in \ker \phi$ we have
\begin{align*}
\phi(gn\inv{g}) & = \phi(g) \phi(n) \inv{\phi(g)} \\
& = \phi(g) \inv{\phi(g)} \\
& = e
\end{align*}
and so $gn\inv{g} \in \ker \phi$. \qed
\end{proof}

\section{Quotient Groups}

\begin{df}
Let $G$ be a group. Let $\sim$ be an equivalence relation on $G$. Then we say that $\sim$ is \emph{compatible} with the group operation on $G$ iff, for all $a, a', g \in G$, if $a \sim a'$ then $ga \sim ga'$ and $ag \sim a'g$.
\end{df}

\begin{prop}
Let $G$ be a group. Let $\sim$ be an equivalence relation on $G$. Then there exists an operation $\cdot : (G/\sim)^2 \rightarrow G/sim$ such that
\[ \forall a,b \in G. [a][b] = [ab] \]
iff $\sim$ is compatible with the group operation on $G$. In this case, $G/\sim$ is a group under $\cdot$ and the canonical function $\pi : G \rightarrow G / \sim$ is a group homomorphism, and is universal with respect to group homomorphisms $\phi : G \rightarrow G'$ such that if $a \sim a'$ then $\phi(a) = \phi(a')$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{df}[Quotient Group]
Let $G$ be a group. Let $\sim$ be an equivalence relation on $G$ that is compatible with the group operation on $G$. Then $G/\sim$ is the \emph{quotient group} of $G$ by $\sim$ under $[a][b] = [ab]$.
\end{df}

\begin{prop}
Let $G$ be a group and $H$ a subgroup of $G$. Then $H$ is normal if and only if there exists a group $K$ and homomorphism $\phi : G \rightarrow K$ such that $H = \ker \phi$.
\end{prop}

\begin{proof}
\pf\ One direction is given by Proposition \ref{prop:kernel-normal}. For the other direction, take $K = G / H$ and $\phi$ to be the canonical map $G \rightarrow G / H$. \qed
\end{proof}

\begin{df}[Modular Group]
The \emph{modular group} $\mathrm{PSL}_2(\mathbb{Z})$ is $\mathrm{SL}_2(\mathbb{Z}) / \{ I, -I \}$.
\end{df}

\begin{prop}
$\mathrm{PSL}_2(\mathbb{Z})$ is generated by $\left( \begin{array}{cc} 0 & -1 \\ 1 & 0 \end{array} \right)$ and $\left( \begin{array}{cc} 1 & -1 \\ 1 & 0 \end{array} \right)$.
\end{prop}

\begin{proof}
\pf\ By Example \ref{ex:SL2Z}. 
\end{proof}

\begin{thm}
Every group homomorphism $\phi : G \rightarrow H$ may be decomposed as
\[ \begin{tikzcd}
G \arrow[r] & G / \ker \phi \arrow[r,"\cong"] & \im \phi \arrow[r] & H 
\end{tikzcd} \]
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{cor}[First Isomorphism Theorem]
Let $\phi : G \rightarrow H$ be a surjective group homomorphism. Then $H \cong G / \ker \phi$.
\end{cor}

\begin{prop}
Let $H_1$ be a normal subgroup of $G_1$ and $H_2$ a normal subgroup of $G_2$. Then $H_1 \times H_2$ is a normal subgroup of $G_1 \times G_2$, and
\[ \frac{G_1 \times G_2}{H_1 \times H_2} \cong \frac{G_1}{H_1} \times \frac{G_2}{H_2} \enspace . \]
\end{prop}

\begin{proof}
\pf\ $\pi \times \pi : G_1 \times G_2 \twoheadrightarrow G_1 / H_1 \times G_2 / H_2$ is a surjective homomorphism with kernel $H_1 \times H_2$. \qed
\end{proof}

\begin{ex}
\[ \mathbb{R} / \mathbb{Z} \cong S^1 \]
\end{ex}

\begin{proof}
\pf\ Map a real number $r$ to $(\cos r, \sin r)$. The result is a surjective group homomorphism with kernel $\mathbb{Z}$. \qed
\end{proof}

\begin{prop}
Let $H$ be a normal subgroup of a group $G$. For every subgroup $K$ of $G$ that includes $H$, we have $H$ is a normal subgroup of $K$, and $K/H$ is a subgroup of $G/H$. The mapping
\[ u : \{ \text{subgroups of } G \text{ including } H \} \rightarrow \{ \text{subgroups of } G / H \} \]
with $u(K) = K/H$ is a poset isomorphism.
\end{prop}

\begin{proof}
\pf
\step{1}{If $K$ is a subgroup of $G$ that includes $H$ then $H$ is normal in $K$.}
\step{2}{If $K$ is a subgroup of $G$ that includes $H$ then $K/H$ is a subgroup of $G/H$.}
\step{3}{If $H \subseteq K_1 \subseteq K_2$ then $K_1/H \subseteq K_2/H$.}
\step{4}{If $K_1/H = K_2/H$ then $K_1 = K_2$}
\begin{proof}
	\step{a}{\assume{$K_1 / H = K_2 / H$}}
	\step{b}{$K_1 \subseteq K_2$}
	\begin{proof}
		\step{i}{\pflet{$k \in K_1$}}
		\step{ii}{$kH \in K_2 / H$}
		\step{iii}{\pick\ $k' \in K_2$ such that $kH = k'H$}
		\step{iv}{$k\inv{k'} \in H$}
		\step{v}{$k \inv{k'} \in K_2$}
		\step{v}{$k \in K_2$}
	\end{proof}
	\step{c}{$K_2 \subseteq K_1$}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\step{5}{For any subgroup $L$ of $G/H$, there exists a subgroup $K$ of $G$ that includes $H$ such that $L = K / H$.}
\begin{proof}
	\step{a}{\pflet{$L$ be a subgroup of $G / H$.}}
	\step{b}{\pflet{$K = \{ k \in G : kH \in L \}$}}
	\step{c}{$K$ is a subgroup of $G$.}
	\begin{proof}
		\pf\ Given $k,k' \in K$ we have $kH,k'H \in L$ hence $k\inv{k'}H \in L$ and so $k\inv{k'} \in K$.
	\end{proof}
	\step{d}{$H \subseteq K$}
	\begin{proof}
		\pf\ For all $h \in H$ we have $hH = H \in L$.
	\end{proof}
	\step{e}{$L = K / H$}
	\begin{proof}
		\pf\ By definition.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}[Third Isomorphism Theorem]
Let $H$ be a normal subgroup of a group $G$. Let $N$ be a subgroup of $G$ that includes $H$. Then $N / H$ is normal in $G/H$ if and only if $N$ is normal in $G$, in which case
\[ \frac{G/H}{N/H} \cong \frac{G}{N} \]
\end{prop}

\begin{proof}
\pf
\step{1}{If $N/H$ is normal in $G/H$ then $N$ is normal in $G$.}
\begin{proof}
	\step{a}{\assume{$N/H$ is normal in $G/H$.}}
	\step{b}{\pflet{$g \in G$ and $n \in N$.}}
	\step{c}{$gn\inv{g}H \in N/H$}
	\step{d}{\pick\ $n' \in N$ such that $gn\inv{g}H = n'H$}
	\step{e}{$gn\inv{g}\inv{n'} \in H$}
	\step{f}{$gn\inv{g}\inv{n'} \in N$}
	\step{g}{$gn\inv{g} \in N$}
\end{proof}
\step{2}{If $N$ is normal in $G$ then $N/H$ is normal in $G/H$ and $(G/H)/(N/H) \cong G/N$.}
\begin{proof}
	\step{a}{\assume{$N$ is normal in $G$.}}
	\step{b}{\pflet{$\phi : G/H \rightarrow G/N$ be the homomorphism $\phi(gH) = gN$}}
	\begin{proof}
		\step{i}{If $gH = g'H$ then $gN = g'N$}
		\begin{proof}
			\pf\ If $g \inv{g'} \in H$ then $g \inv{g'} \in N$.
		\end{proof}
		\step{ii}{$\phi((gH)(g'H)) = \phi(gH)\phi(g'H)$}
		\begin{proof}
			\pf\ Both are $gg'N$.
		\end{proof}
	\end{proof}
	\step{c}{$\phi$ is surjective.}
	\step{d}{$\ker \phi = N/H$}
	\step{e}{$(G/H)/(N/H) \cong G/N$}
	\begin{proof}
		\pf\ By the First Isomorphism Theorem.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}[Second Isomorphism Theorem]
Let $H$ and $K$ be subgroups of a group $G$. Assume that $H$ is normal in $G$. Then:
\begin{enumerate}
\item $HK$ is a subgroup of $G$, and $H$ is normal in $HK$.
\item $H \cap K$ is normal in $K$, and
\[ \frac{HK}{H} \cong \frac{K}{H \cap K} \enspace . \]
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{$HK$ is a subgroup of $G$.}
\begin{proof}
	\pf\ Since $hkh'k' = hh'(\inv{h'}kh')k' \in HK$.
\end{proof}
\step{2}{$H$ is normal in $HK$.}
\step{3}{$H \cap K$ is normal in $K$ and $HK/H \cong K/(H \cap K)$}
\begin{proof}
\pf\ The function that maps $k$ to $kH$ is a surjective homomorphism $K \twoheadrightarrow HK/H$ with kernel $H \cap K$. Surjectivity follows because $hkH = hk\inv{h}H$.
\end{proof}
\qed
\end{proof}

See also Proposition \ref{prop:order-of-HK} for a result that holds even if $H$ is not normal.

\section{Cosets}

\begin{prop}
\label{prop:sim-gives-H}
Let $G$ be a group. Let $\sim$ be an equivalence relation on $G$ such that, for all $a,b,g \in G$, if $a \sim b$ then $ga \sim gb$. Let $H = \{ h \in G : h \sim e \}$. Then $H$ is a subgroup of $G$ and, for all $a,b \in G$, we have
\[ a \sim b \Leftrightarrow \inv{a} b \in H \Leftrightarrow aH = bH \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{0}{$e \in H$}
\step{1}{For all $x,y \in H$ we have $x \inv{y} \in H$.}
\begin{proof}
	\step{a}{\assume{$x \sim e$ and $y \sim e$.}}
	\step{b}{$e \sim \inv{y}$}
	\begin{proof}
		\pf\ Since $y \inv{y} \sim e \inv{y}$.
	\end{proof}
	\step{c}{$x \inv{y} \sim e$}
	\begin{proof}
		\pf\ Since $x \inv{y} \sim e \inv{y} \sim e$.
	\end{proof}
\end{proof}
\step{2}{If $a \sim b$ then $\inv{a} b \in H$.}
\begin{proof}
	\pf\ If $a \sim b$ then $\inv{a} b \sim \inv{a} a = e$.
\end{proof}
\step{3}{If $\inv{a}b \in H$ then $aH = bH$.}
\begin{proof}
	\step{a}{\assume{$\inv{a}b \in H$}}
	\step{c}{$bH \subseteq aH$}
	\begin{proof}
		\pf\ For any $h \in H$ we have $bh = a \inv{a} b h \in a H$.	
	\end{proof}
	\step{b}{$aH \subseteq bH$}
	\begin{proof}
		\pf\ Similar since $\inv{b}a \in H$.
	\end{proof}
\end{proof}
\step{4}{If $aH = bH$ then $a \sim b$.}
\begin{proof}
	\step{a}{\assume{$aH = bH$}}
	\step{b}{\pick\ $h \in H$ such that $a = bh$.}
	\step{c}{$\inv{b} a = h$}
	\step{d}{$\inv{b} a \in H$}
	\step{e}{$\inv{b} a \sim e$}
	\step{f}{$a \sim b$}
	\begin{proof}
		\pf\ $a = b \inv{b} a \sim b e = b$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Coset]
Let $G$ be a group and $H$ a subgroup of $G$. A \emph{left coset} of $H$ is a set of the form $aH$ for $a \in G$. A \emph{right coset} of $H$ is a set of the form $Ha$ for some $a \in G$.

We write $G / H$ for the set of all left cosets of $H$, and $G \backslash H$ for the set of all right cosets of $H$.
\end{df}

\begin{prop}
\[ G / H \cong G \backslash H \]
\end{prop}

\begin{proof}
\pf\ The function that maps $aH$ to $H \inv{a}$ is a bijection. \qed
\end{proof}

\begin{prop}
Let $G$ be a group and $H$ a subgroup of $G$. Define $\sim_H$ on $G$ by: $a\sim b$ iff $\inv{a} b \in H$. This defines a one-to-one correspondence between the subgroups of $G$ and the equivalence relations $\sim$ on $G$ such that, for all $a,b,g \in G$, if $a \sim b$, then $ga \sim gb$. The equivalence class of $a$ is $aH$.
\end{prop}

\begin{proof}
\pf
\step{1}{For any subgroup $H$, we have $\sim_H$ is an equivalence relation on $G$.}
\begin{proof}
	\step{1}{$\sim$ is reflexive.}
	\begin{proof}
		\pf\ For any $a \in G$ we have $\inv{a} a = e \in H$.
	\end{proof}
	\step{2}{$\sim$ is symmetric.}
	\begin{proof}
		\pf\ If $\inv{a} b \in H$ then $\inv{b} a \in H$.
	\end{proof}
	\step{3}{$\sim$ is transitive.}
	\begin{proof}
		\pf\ If $\inv{a} b \in H$ and $\inv{b} c \in H$ then $\inv{a} c = (\inv{a} b) (\inv{b} c) \in H$.
	\end{proof}
\end{proof}
\step{4}{If $a \sim_H b$ then $ga \sim_H gb$.}
\begin{proof}
	\pf\ If $\inv{a} b \in H$ then $\inv{(ga)}(gb) = \inv{a} \inv{g} g b = \inv{a} b \in H$.
\end{proof}
\step{5}{For any equivalence relation $\sim$ on $G$ such that, whenever $a \sim b$, then $ga \sim gb$, there exists a subgroup $H$ such that $\sim = \sim_H$.}
\begin{proof}
	\pf\ Proposition \ref{prop:sim-gives-H}.
\end{proof}
\step{6}{The $\sim_H$-equivalence class of $a$ is $aH$.}
\begin{proof}
	\pf
	\begin{align*}
		a \sim b & \Leftrightarrow \inv{a} b \in H \\
		& \Leftrightarrow \exists h \in H. \inv{a} b = h \\
		& \Leftrightarrow \exists h \in H. b = aH \\
		& \Leftrightarrow b \in aH
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $G$ be a group and $H$ a subgroup of $G$. Define $\sim_H$ on $G$ by: $a\sim b$ iff $a \inv{b} \in H$. This defines a one-to-one correspondence between the subgroups of $G$ and the equivalence relations $\sim$ on $G$ such that, for all $a,b,g \in G$, if $a \sim b$, then $ag \sim bg$. The equivalence class of $a$ is $Ha$.
\end{prop}

\begin{proof}
\pf\ Similar. \qed
\end{proof}

\begin{prop}
Let $G$ be a group and $H$ be a subgroup of $G$. Define $\sim_L$ and $\sim_R$ on $G$ by:
\[ a \sim_L b \Leftrightarrow \inv{a} b \in H, \qquad a \sim_R b \Leftrightarrow a \inv{b} \in H \enspace . \]
Then $\sim_L = \sim_R$ if and only if $H$ is normal.
\end{prop}

\begin{proof}
\pf
\step{1}{If $\sim_L = \sim_R$ then $H$ is normal.}
\begin{proof}
	\step{a}{\assume{$\sim_L = \sim_R$}}
	\step{b}{\pflet{$h \in H$ and $g \in G$}}
	\step{c}{$g \sim_L g\inv{h}$}
	\step{d}{$g \sim_R g \inv{h} h$}
	\step{e}{$gh\inv{g} \in H$}
\end{proof}
\step{2}{If $H$ is normal then $\sim_L = \sim_R$.}
\begin{proof}
	\step{a}{\assume{$H$ is normal.}}
	\step{b}{If $a \sim_L b$ then $a \sim_R b$.}
	\begin{proof}
		\step{i}{\assume{$a \sim_L b$}}
		\step{ii}{$\inv{a} b \in H$}
		\step{iii}{$a \inv{a} b \inv{a} \in H$}
		\step{iv}{$b \inv{a} \in H$}
		\step{v}{$a \sim_R b$}
	\end{proof}
	\step{c}{If $a \sim_R b$ then $a \sim_L b$.}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
Let $G$ be a group and $H$ be a normal subgroup of $G$. Define $\sim$ on $G$ by $a \sim b$ iff $\inv{a} b \in H$. Then $G / \sim$ is a group under $[a][b] = [ab]$.
\end{cor}

\begin{df}[Quotient Group]
Let $G$ be a group and $H$ be a normal subgroup of $G$. The \emph{quotient group} $G / H$ is $G / \sim$ where $a \sim b$ iff $\inv{a} b \in H$, under $[a][b] = [ab]$ or $(aH)(bH) = abH$.
\end{df}

\begin{cor}
Let $H$ be a normal subgroup of a group $G$. For every group homomorphism $\phi : G \rightarrow G'$ such that $H \subseteq \ker \phi$, there exists a unique group homomorphism $\overline{\phi} : G / H \rightarrow G'$ such that the following diagram commutes.
\[ \begin{tikzcd}
G \arrow[rr,"\phi"]  \arrow[dr,"\pi"] & & G' \\
& G/ H\arrow[ur,"\overline{\phi}"]
\end{tikzcd} \]
\end{cor}

\begin{prop}
    $\mathbb{Z} / n \mathbb{Z}$ has exactly $n$ elements.
\end{prop}

\begin{proof}
    \pf\ Every integer is congruent to one of 0, 1, \ldots, $n - 1$ by the division algorithm, and no two of them are conguent to one another, since if $0 \leq i < j < n$ then $0 < j - i < n$. \qed
\end{proof}

\begin{prop}
    \label{prop:order-of-m-in-ZnZ}
    Let $m$ and $n$ be integers with $n > 0$. The order of $m$ in $\mathbb{Z} / n \mathbb{Z}$ is $\frac{n}{\gcd(m,n)}$.
\end{prop}

\begin{proof}
    \pf\ By Proposition \ref{prop:order-of-g-to-the-m} since the order of 1 is $n$. \qed
\end{proof}

\begin{prop}
    The integer $m$ generates $\mathbb{Z} / n \mathbb{Z}$ if and only if $\gcd(m,n) = 1$.
\end{prop}

\begin{proof}
    \pf\ By Proposition \ref{prop:order-of-m-in-ZnZ}. \qed
\end{proof}

\begin{cor}
    If $p$ is prime then every non-zero element in $\mathbb{Z} / p \mathbb{Z}$ is a generator.
\end{cor}

\begin{prop}
    \[ \Aut{\Grp}{\mathbb{Z} / 2 \mathbb{Z} \times \mathbb{Z} / 2 \mathbb{Z}} \cong S_3 \]
\end{prop}

\begin{proof}
    \pf\ Every permutation of $\{ (1,0), (0,1), (1,1) \}$ gives an automorphism of $\mathbb{Z} / 2 \mathbb{Z} \times \mathbb{Z} / 2 \mathbb{Z}$. \qed
\end{proof}

\begin{ex}
Not all monomorphisms split in $\Grp$.

Define $\phi : \mathbb{Z} / 3 \mathbb{Z} \rightarrow S_3$ by
\[ \phi(0) = \id{3}, \qquad \phi(1) = (1 \ 3 \ 2), \qquad \phi(2) = (1 \ 2 \ 3) \enspace . \]
Then $\phi$ is monic but has no retraction.

For if $r : S_3 \rightarrow \mathbb{Z} / 3 \mathbb{Z}$ is a retraction, then we would have
\[ r(1\ 2) + r(2\ 3) = 1, \qquad r(2\ 3) + r(1\ 2) = 2 \]
which is impossible.
\end{ex}

\begin{prop}
Let $G$ be a group, $H$ a subgroup of $G$, and $g \in G$. The function that maps $h$ to $gh$ is a bijection $H \cong gH$.
\end{prop}

\begin{proof}
\pf\ By Cancellation. \qed
\end{proof}

\begin{prop}
Let $G$ be a group, $H$ a subgroup of $G$, and $g \in G$. The function that maps $h$ to $hg$ is a bijection $H \cong Hg$.
\end{prop}

\begin{proof}
\pf\ By Cancellation. \qed
\end{proof}

\begin{prop}
\label{prop:order-of-HK}
Let $H$ and $K$ be finite subgroups of a group $G$. Then
\[ |HK| = \frac{|H||K|}{|H \cap K|} \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f : \{ hK : h \in H \} \rightarrow H/(H \cap K)$ be the function $f(hK) = h(H \cap K)$}}
\begin{proof}
	\pf\ This is well-defined because if $hK = h'K$ then $\inv{h} h' \in H \cap K$ so $h(H \cap K) = h'(H \cap K)$.
\end{proof}
\step{2}{$f$ is injective.}
\begin{proof}
	\pf\ If $h(H \cap K) = h'(H \cap K)$ then $hK = h'K$.
\end{proof}
\step{3}{$f$ is surjective.}
\begin{proof}
	\pf\ Clear.
\end{proof}
\step{4}{\[ \frac{|HK|}{|K|} = \frac{|H|}{|H \cap K|} \]}
\qed
\end{proof}

\section{Congruence}

\begin{df}[Congruence]
Given integers $a$, $b$, $n$ with $n$ positive, we say $a$ is \emph{congruent} to $b$ \emph{modulo} $n$, and write $a \equiv b (\mod n)$, iff $a + n \mathbb{Z} = b + n \mathbb{Z}$ in $\mathbb{Z} / n \mathbb{Z}$.
\end{df}

\begin{prop}
Given integers $a$, $b$, $n$ with $n$ positive, we have $a \equiv b (\mod n)$ iff $n \mid a - b$.
\end{prop}

\begin{proof}
\pf\ By Proposition \ref{prop:sim-gives-H}. \qed
\end{proof}

\begin{prop}
    If $a \equiv a' \mod n$ and $b \equiv b' \mod n$ then $a + b \equiv a' + b' \mod n$.
\end{prop}

\begin{proof}
    \pf\ If $n \mid a' - a$ and $n \mid b' - b$ then $n \mid (a' + b') - (a + b)$. \qed
\end{proof}

\begin{prop}
    If $a \equiv a' \mod n$ and $b \equiv b' \mod n$ then $ab \equiv a'b' \mod n$.
\end{prop}

\begin{proof}
    \pf\ If $n \mid a' - a$ and $n \mid b' - b$ then $n \mid a'b' - ab = a'(b'-b) + (a'-a)b$. \qed
\end{proof}

\section{Cyclic Groups}

\begin{df}[Cyclic Group]
    The \emph{cyclic} groups are $\mathbb{Z}$ and $\mathbb{Z} / n \mathbb{Z}$ for positive integers $n$.
\end{df}

\begin{prop}
    If $m$ and $n$ are positive integers with $\gcd(m,n) = 1$ then $C_{mn} \cong C_m \times C_n$.
\end{prop}

\begin{proof}
    \pf\ The function that maps $x$ to $(x \mod m, x \mod n)$ is an isomorphism. \qed
\end{proof}

\begin{prop}
Let $G$ be a group and $g \in G$. Then $\langle g \rangle$ is cyclic.
\end{prop}

\begin{proof}
\pf\ If $g$ has finite order then $\langle g \rangle \cong C_{|g|}$, otherwise $\langle g \rangle \cong \mathbb{Z}$. \qed
\end{proof}

\begin{prop}
Every finitely generated subgroup of $\mathbb{Q}$ is cyclic.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$G = \langle a_1/b, \ldots, a_n/b \rangle$ where $a_1$, \ldots, $a_n$, $b$ are integers with $b > 0$}}
\step{2}{\pflet{$a = \gcd(a_1, \ldots, a_n)$}}
\step{3}{$G = \langle a/b \rangle$}
\qed
\end{proof}

\begin{cor}
$\mathbb{Q}$ is not finitely generated.
\end{cor}

\section{Euler's $\phi$-function}

\begin{df}
    For $n$ a positive integer, let $(\mathbb{Z} / n \mathbb{Z})^* = \{ m \in \mathbb{Z} / n \mathbb{Z} : \gcd(m,n) = 1 \}$.
\end{df}

\begin{proof}
    \pf\ We prove this is well-defined.
    \step{0}{If $m \equiv m' \mod n$ and $\gcd(m,n) = 1$ then $\gcd(m',n) = 1$.}
    \begin{proof}
        \step{a}{\pick\ integers $a$, $b$ such that $am+bn = 1$}
        \step{b}{\pick\ an integer $c$ such that $m' - m = cn$}
        \step{c}{$am' + (b-ac)n = 1$}
    \end{proof}
    \qed
\end{proof}

\begin{ex}
    For any positive integer $n$, the set
    \[ (\mathbb{Z} / n \mathbb{Z})^* = \{ m \in \mathbb{Z} / n \mathbb{Z} : \gcd(m,n) = 1 \} \]
    is a group under multiplication.
\end{ex}

\begin{proof}
    \pf
    \step{00}{If $\gcd(m_1,n) = \gcd(m_2,n) = 1$ then $\gcd(m_1m_2,n) = 1$}
    \begin{proof}
        \step{a}{\pick\ integers $a$, $b$, $c$, $d$ such that $am_1 + bn = cm_2 + dn = 1$}
        \step{b}{$acm_1m_2 + (bcm_2 + d)n = !$}
    \end{proof}
    \step{1}{Multiplication is associative.}
    \step{2}{1 is the identity element.}
    \step{3}{Every element has an inverse.}
    \begin{proof}
        \step{a}{\pflet{$a \in (\mathbb{Z} / n \mathbb{Z})^*$}}
        \step{b}{\pick\ integers $b$, $c$ such that $ab + cn = 1$}
        \step{c}{$ab = 1$ in $(\mathbb{Z} / n \mathbb{Z})^*$}
    \end{proof}
    \qed
\end{proof}

\begin{df}
    For $n$ a positive integer, let $\phi(n) = |(\mathbb{Z} / n \mathbb{Z})^*|$.
\end{df}

\begin{prop}
    If $n$ is an odd positive integer then $\phi(2n) = \phi(n)$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$n$ be an odd positive integer.}}
    \step{2}{For any integer $m$, if $\gcd(m,n) = 1$ then $\gcd(2m+n,2n) = 1$}
    \begin{proof}
        \pf\ For $p$ a prime, if $p \mid 2m+n$ and $p \mid 2n$ then $p \neq 2$ (since $2m+n$ is odd) so $p \mid n$ and hence $p \mid m$, which is a contradiction.
    \end{proof}
    \step{3}{For any integer $r$, if $\gcd(r,2n) = 1$ then $\gcd(\frac{r+n}{2},n) = 1$}
    \begin{proof}
        \pf\ If $p \mid n$ and $p \mid \frac{r + n}{2}$ then $p \mid r + n$ so $p \mid r$ which is a contradiction.
    \end{proof}
    \step{4}{The function that maps $m$ to $2m+n$ is a bijection between $(\mathbb{Z} / n\mathbb{Z})^*$
        and $(\mathbb{Z} / 2n\mathbb{Z})^*$.}
    \qed
\end{proof}

\begin{thm}
For any positive integer $n$ we have
\[ \sum_{m > 0, m \mid n} \phi(m) = n \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{Define $\chi : \{ 0, 1, \ldots, n-1 \} \rightarrow \{ (m,d) : m > 0, m \mid n, d \text{ generates } \langle n/m \rangle \}$ by: $\chi(x) = (\gcd(x,n), x)$.}
\step{2}{$\chi$ is injective.}
\step{3}{$\chi$ is surjective.}
\begin{proof}
\pf\ Given $(m,d)$ such that $d$ generates $\langle n/m \rangle$ we have $\chi(d) = (m,d)$.
\end{proof}
\step{4}{$n = \sum_{m > 0, m \mid n} \phi(m)$}
\begin{proof}
\pf\ Since $\langle n/m \rangle \cong C_m$ and so has $\phi(m)$ generators.
\end{proof}
\qed
\end{proof}

\section{Commutator Subgroup}

\begin{df}[Commutator Subgroup]
Let $G$ be a group. The \emph{commutator subgroup} $[G,G]$ is the subgroup generated by the elements of the form $ab\inv{a}\inv{b}$.
\end{df}

\begin{prop}
The commutator subgroup is normal.
\end{prop}

\begin{proof}
\pf\ Since
\begin{align*} 
& g a_1 b_1 \inv{a_1} \inv{b_1} a_2 b_2 \inv{a_2} \inv{b_2} \cdots a_n b_n \inv{a_n} \inv{b_n} \inv{g} \\
= & (g a_1 \inv{g}) (g b_1 \inv{g}) \inv{(g a_1 \inv{g})} \inv{(g b_1 \inv{g})} \cdots (g a_n \inv{g}) (g b_n \inv{g}) \inv{(g a_n \inv{g})} \inv{(g b_n \inv{g})} \enspace . \qquad \qed
\end{align*}
\end{proof}

\section{Presentations}

\begin{df}[Presentation]
A \emph{presentation} of a group $G$ is a pair $(A,R)$ where $A$ is a set and $R \subseteq F(A)$ is a set of words such that
\[ G \cong F(A) / N(R) \]
where $N(R)$ is the smallest normal subgroup of $F(A)$ that includes $R$.
\end{df}

\begin{ex}
The free group on a set $A$ is presented by $(A, \emptyset)$.
\end{ex}

\begin{ex}
$S_3$ is presented by $(x,y|x^2,y^3,xyxy)$.
\end{ex}

\begin{ex}
$(a,b \mid a^2, b^2, (ab)^n)$ is a presentation of $D_{2n}$.
\end{ex}

\begin{prop}[Word Problem]
Let $(A,R)$ be a presentation of the group $G$. Let $w_1, w_2 \in F(A)$ be two words. Then it is undecidable in general if $w_1N(R) = w_2N(R)$ in $G$.
\end{prop}

%TODO
\begin{df}[Finitely Presented]
A group is \emph{finitely presented} iff it has a presentation $(A,R)$ where both $A$ and $R$ are finite.
\end{df}

\begin{prop}
Let $(A|R)$ be a presentation of $G$ and $(A'|R')$ a presentation of $H$. Assume w.l.o.g. $A$ and $A'$ are disjoint. Then the group $G * G'$ presented by $(A \cup A' | R \cup R')$ is the coproduct of $G$ and $G'$ in $\mathbf{Grp}$.
\end{prop}

\[ \begin{tikzcd}
A \arrow[d] \arrow[r] & A \cup A' \arrow[d] & A' \arrow[l] \arrow[d] \\
 F(A) \arrow[d] \arrow[r] & F(A \cup A') \arrow[d] & F(A') \arrow[l] \arrow[d] \\
G \arrow[r, "\kappa_1"] & G * G' & G' \arrow[l, "\kappa_2"]
\end{tikzcd} \]

\begin{proof}
\pf
\step{1}{\pflet{$\kappa_1 : G \rightarrow G * G'$ and $\kappa_2 : G' \rightarrow G * G'$ be the unique homomorphisms that make the diagram above commute.}}
\step{2}{\pflet{$\phi : G \rightarrow H$ and $\psi : G' \rightarrow H$ be any homomorphisms.}}
\step{3}{\pflet{$[\phi, \psi] : F(A \cup A') \rightarrow H$ be the unique homomorphism such that \ldots}}
\step{4}{$R \cup R' \subseteq \ker [\phi, \psi]$}
\step{5}{$[\phi, \psi]$ factors uniquely through the morphism $F(A \cup A') \rightarrow G * G'$}
\qed
\end{proof}

\section{Index of a Subgroup}

\begin{df}[Index]
Let $G$ be a group and $H$ a subgroup of $G$. The \emph{index} of $H$ in $G$, denoted $|G:H|$, is the number of left cosets of $H$ in $G$ if this is finite, otherwise $\infty$.
\end{df}

\begin{thm}[Lagrange's Theorem]
Let $G$ be a finite group and $H$ a subgroup of $G$. Then
\[ |G| = |G : H| |H| \enspace . \]
\end{thm}

\begin{proof}
\pf\ $G/H$ is a partition of $G$ into $|G:H|$ subsets, each of size $|H|$. \qed
\end{proof}

\begin{cor}
For $p$ a prime number, the only group of order $p$ is $C_p$.
\end{cor}

\begin{proof}
\pf\ Let $G$ be a group of order $p$ and $g \in G$ with $g \neq e$. Then $|\langle g \rangle|$ divides $p$ and is not 1, hence is $p$, that is, $G = \langle g \rangle$. \qed
\end{proof}

\begin{cor}[Fermat's Little Theorem]
Let $p$ be a prime number and $a$ any integer. Then $a^p \equiv a (\mod p)$.
\end{cor}

\begin{proof}
\pf\ If $p \mid a$ then $a^p \equiv a \equiv 0 (\mod p)$. Otherwise, we have $a^{p-1} \equiv 1 (\mod p)$ by applying Lagrange's Theorem to $(\mathbb{Z} / p \mathbb{Z})^*$. \qed
\end{proof}

\begin{ex}
It is not true that, if $n \mid |G|$, then $G$ has a subgroup of order $n$. The group $A_4$ has order 12 but no subgroup of order 6.
\end{ex}

\begin{thm}[Cauchy's Theorem]
Let $G$ be a finite group. If $p$ is prime and $p \mid |G|$ then $G$ has a subgroup of order $p$.
\end{thm}

%TODO

\begin{prop}
Let $G$ be a group. Let $K$ be a subgroup of $G$ and $H$ a subgroup of $K$. If $|G:H|$, $|G:K|$ and $|K:H|$ are all finite then
\[ |G:H| = |G:K| |K:H| \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$G/K = \{ g_1 K, g_2 K, \ldots, g_m K \}$}}
\step{2}{\pflet{$K / H = \{ k_1 H, k_2 H, \ldots, k_n H \}$}}
\step{3}{$G/H = \{ g_i k_j H : 1 \leq i \leq m, 1 \leq j \leq n \}$}
\begin{proof}
	\step{a}{\pflet{$g \in G$}}
	\step{b}{\pick\ $i$ such that $gK = g_i K$}
	\step{c}{$\inv{g} g_i \in K$}
	\step{d}{\pick\ $j$ such that $\inv{g} g_i H = k_j H$}
	\step{e}{$\inv{g} g_i k_j \in H$}
	\step{f}{$gH = g_i k_j H$}
\end{proof}
\step{4}{If $g_i k_j H = g_{i'} k_{j'} H$ then $i = i'$ and $j = j'$.}
\begin{proof}
	\step{a}{\assume{$g_i k_j H = g_{i'} k_{j'} H$}}
	\step{b}{$g_i K = g_{i'} K$}
	\step{c}{$i = i'$}
	\step{d}{$k_j H = k_{j'} H$}
	\step{e}{$j = j'$}
\end{proof}
\qed
\end{proof}

\begin{prop}
A subgroup of index 2 is normal.
\end{prop}

\begin{proof}
\pf\ If $|G : H| = 2$ then, for all $g \in G$ we have $gH = Hg = H$ if $g \in H$ and $gH = Hg = G - H$ if $g \notin H$. \qed
\end{proof}

\section{Cokernels}

\begin{prop}
Let $\phi : G \rightarrow H$ be a homomorphism between groups. Then there exists a group $K$ and homomorphism $\pi : H \rightarrow K$ that is initial with respect to all homomorphism $\alpha : H \rightarrow L$ such that $\alpha \circ \phi = 0$.
\end{prop}

\begin{proof}
\pf
\step{0}{\pflet{$N$ be the intersection of all the normal subgroups of $H$ that include $\im \phi$.}}
\step{1}{\pflet{$K = H / N$ and $\pi$ be the canonical homomorphism.}}
\step{2}{\pflet{$\pi \circ \phi = 0$}}
\step{3}{\pflet{$\alpha : H \rightarrow L$ satisfy $\alpha \circ \phi = 0$}}
\step{4}{$\im \phi \subseteq \ker \alpha$}
\step{4a}{$N \subseteq \ker \alpha$}
\step{5}{There exists a unique $\overline{\alpha} : H / \im \phi \rightarrow L$ such that $\overline{\alpha} \circ \pi = \alpha$}
\qed
\end{proof}

\begin{df}[Cokernel]
For any homomorphism $\phi : G \rightarrow H$ in $\mathbf{Grp}$, the \emph{cokernel} of $\phi$ is the group $\coker \phi$ and homomorphism $\pi : H \rightarrow \coker \phi$ that is initial among homomorphisms $\alpha : H \rightarrow L$ such that $\alpha \circ \phi = 0$.
\end{df}

\begin{ex}
It is not true that a homomorphism with trivial cokernel is epi. The inclusion $\langle (1\ 2) \rangle \hookrightarrow S_3$ has trivial cokernel but is not epi.
\end{ex}

\section{Cayley Graphs}

\begin{df}[Cayley Graph]
Let $G$ be a finitely generated group. Let $A$ be a finite set of generators for $G$. The \emph{Cayley graph} of $G$ with respect to $A$ is the directed graph whose vertices are the elements of $G$, with an edge $g_1 \rightarrow g_2$ labelled by $a \in A$ iff $g_2 = g_1 a$.
\end{df}

\begin{prop}
$G$ is the free group on $A$ iff the Cayley graph with respect to $A$ is a tree.
\end{prop}

\begin{proof}
\pf\ Both are equivalent to saying that the product of two different strings of elements of $A$ and/or their inverses are not equal. \qed
\end{proof}

\chapter{Abelian Groups}

\begin{df}[Abelian Group]
    A group is \emph{Abelian} iff any two elements commute.
\end{df}

In an Abelian group $G$, we often denote the group operation by $+$, the
identity element by $0$ and the inverse of an element $g$ by $-g$. We write
$ng$ for $g^n$ ($g \in G$, $n \in \mathbb{Z}$).

\begin{ex}
    Every group of order $\leq 4$ is Abelian.
\end{ex}

\begin{ex}
    For any positive integer $n$, we have $\mathbb{Z} / n \mathbb{Z}$ is an Abelian group under addition.
\end{ex}

\begin{ex}
    $S_n$ is not Abelian for $n \geq 3$. If $x = \left( \begin{array}{cc} 1 & 2 \end{array} \right)$ and $y = \left( \begin{array}{ccc} 1 & 3 & 2 \end{array} \right)$ then $xy = \left( \begin{array}{cc} 2 & 3 \end{array} \right)$ and $yx = \left( \begin{array}{cc} 1 & 3 \end{array} \right)$.
\end{ex}

\begin{ex}
There are 42 Abelian groups of order 1024 up to isomorphism. %TODO
\end{ex}

\begin{prop}
    Let $G$ be a group. If $g^2 = e$ for all $g \in G$ then $G$ is Abelian.
\end{prop}

\begin{proof}
    \pf\ For any $g,h \in G$ we have
    \begin{align*}
        ghgh           & = e                                                   \\
        \therefore hgh & = g  & (\text{multiplying on the left by }g)          \\
        \therefore hg  & = gh & (\text{multiplying on the right by } h) & \qed
    \end{align*}
\end{proof}

\begin{prop}
    Let $G$ be a group. Then $G$ is Abelian if and only if the function that maps $g$ to $\inv{g}$ is a group homomorphism.
\end{prop}

\begin{proof}
    \pf
    \step{1}{If $G$ is Abelian then the function that maps $g$ to $\inv{g}$ is a group homomorphism.}
    \begin{proof}
        \pf\ Since $\inv{(gh)} = \inv{h} \inv{g} = \inv{g} \inv{h}$.
    \end{proof}
    \step{2}{If the function that maps $g$ to $\inv{g}$ is a group homomorphism then $G$ is Abelian.}
    \begin{proof}
        \pf\ Since $gh = \inv{(\inv{g})}\inv{(\inv{h})} = \inv{(\inv{g}\inv{h})} = hg$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    Let $G$ be a group. Then $G$ is Abelian if and only if the function that maps $g$ to $g^2$ is a group homomorphism.
\end{prop}

\begin{proof}
    \pf
    \step{1}{If $G$ is Abelian then the function that maps $g$ to $g^2$ is a group homomorphism.}
    \begin{proof}
        \pf\ Since $(gh)^2 = g^2h^2$.
    \end{proof}
    \step{2}{If the function that maps $g$ to $g^2$ is a group homomorphism then $G$ is Abelian.}
    \begin{proof}
        \pf\ Since we have $(gh)^2 = ghgh = g^2 h^2$ and so $hg = gh$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    Let $G$ be a group. Then $G$ is Abelian if and only if the homomorphism $\gamma : G \rightarrow \Aut{\Grp}{G}$ is the trivial homomorphism.
\end{prop}

\begin{proof}
    \pf
    \step{1}{If $G$ is Abelian then $\gamma$ is trivial.}
    \begin{proof}
        \pf\ Since $\gamma_g(a) = ga\inv{g} = a$.
    \end{proof}
    \step{2}{If $\gamma$ is trivial then $G$ is Abelian.}
    \begin{proof}
        \pf\ If $\gamma_g(a) = ga\inv{g} = a$ for all $g$ and $a$ then $ga = ag$ for all $g$, $a$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    \label{prop:maximal-finite-order}
    Let $G$ be an Abelian group. Let $g,h \in G$. If $g$ has maximal finite order in $G$, and $h$ has finite order, then $|h| \mid |g|$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\assume{for a contradiction $|h| \nmid |g|$.}}
    \step{2}{\pick\ a prime $p$ such that $|g| = p^mr$, $|h| = p^n s$ where $p \nmid r$, $p \nmid s$ and $m < n$.}
    \step{3}{$|g^{p^m}h^s| = p^n r$}
    \begin{proof}
        \pf\ Proposition \ref{prop:order-gh-if-gcd-one}.
    \end{proof}
    \step{4}{$|g| < |g^{p^m}h^s|$}
    \qedstep
    \begin{proof}
        \pf\ This contradicts the maximality of $|g|$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    If $p$ is prime then $(\mathbb{Z} / p \mathbb{Z})^*$ is cyclic.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$g$ be an element of maximal order in $(\mathbb{Z} / p \mathbb{Z})^*$.}}
    \step{2}{For all $h \in (\mathbb{Z} / p \mathbb{Z})^*$ we have $h^{|g|} = 1$.}
    \begin{proof}
        \pf\ Proposition \ref{prop:maximal-finite-order}.
    \end{proof}
    \step{3}{There are at most $|g|$ elements $x$ such that $x^{|g|} = 1$ in $\mathbb{Z} / p \mathbb{Z}$} %TODO
    \step{4}{$p-1 \leq |g|$}
    \step{5}{$|g| = p-1$}
    \step{6}{$g$ generates $(\mathbb{Z} / p \mathbb{Z})^*$.}
    \qed
\end{proof}

\begin{ex}
    $(\mathbb{Z} / 12 \mathbb{Z})^*$ is not cyclic. Its elements are 1, 5, 7 and 11 with orders 1, 2, 2 and 2.
\end{ex}

\begin{thm}[Wilson's Theorem]
    A positive integer $p$ is prime if and only if $(p-1)! \equiv 1 (\mod p)$.
\end{thm}

\begin{proof}
    \step{1}{If $p$ is prime then $(p-1)! \equiv 1 (\mod p)$.}
    \begin{proof}
        \step{a}{\assume{$p$ is prime.}}
        \step{b}{$(p-1)!$ is the product of all the elements of $(\mathbb{Z} / p \mathbb{Z})^*$}
        \step{c}{The only element of $(\mathbb{Z} / p \mathbb{Z})^*$ with order 2 is $-1$.}
        \step{d}{$(p-1)! \equiv -1 (\mod p)$}
        \begin{proof}
            \pf\ Proposition \ref{prop:product-of-all-elements}.
        \end{proof}
    \end{proof}
    \step{2}{If $(p-1)! \equiv -1 (\mod p)$ then $p$ is prime.}
    \begin{proof}
        \step{a}{\assume($(p-1)! \equiv -1 (\mod p)$)}
        \step{b}{\pflet{$d$ be a proper divisor of $p$.} \prove{$d = 1$}}
        \step{c}{$d \mid (p-1)!$}
        \step{d}{$d \mid 1$}
        \begin{proof}
            \pf\ Since $d \mid p \mid (p-1)! + 1$.
        \end{proof}
        \step{e}{$d = 1$}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
    If $p$ and $q$ are distinct odd primes then $(\mathbb{Z} / pq\mathbb{Z})^*$ is not cyclic.
\end{prop}

\begin{proof}
    \pf
    \step{1}{$|(\mathbb{Z} / pq \mathbb{Z})^*| = (p-1)(q-1)$}
    \step{2}{\pflet{$g \in (\mathbb{Z} / p q \mathbb{Z})^*$} \prove{$g$ does not have order $(p-1)(q-1)$}}
    \step{3}{$g^{(p-1)(q-1)/2} \equiv 1 (\mod p)$}
    \step{4}{$g^{(p-1)(q-1)/2} \equiv 1 (\mod q)$}
    \step{5}{$pq \mid g^{(p-1)(q-1)/2} - 1$}
    \step{6}{$g^{(p-1)(q-1)/2} \equiv 1 (\mod pq)$}
    \step{7}{$|g| \mid (p-1)(q-1)/2$}
    \qed
\end{proof}

\begin{prop}
    For any prime $p$, we have $\Aut{\Grp}{C_p} \cong C_{p-1}$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$\phi : \Aut{\Grp}{C_p} \rightarrow (\mathbb{Z} / p \mathbb{Z})^*$ be the function $\phi(\alpha) = \alpha(1)$.}}
    \begin{proof}
        \pf\ $\alpha(1)$ has order $p$ in $C_p$ and so is coprime with $p$.
    \end{proof}
    \step{2}{$\phi$ is a homomorphism.}
    \begin{proof}
        \pf\ $\phi(\alpha \circ \beta) = \alpha(\beta(1)) = \alpha(\beta(1) 1) = \beta(1) \alpha(1) = \phi(\alpha) \phi(\beta)$
    \end{proof}
    \step{3}{$\phi$ is injective.}
    \begin{proof}
        \pf\ If $\phi(\alpha) = \phi(\beta)$ then for any $n$ we have $\alpha(n) = n \alpha(1) = n \phi(\alpha) = n \phi(\beta) = n \beta(1) = \beta(n)$.
    \end{proof}
    \step{4}{$\phi$ is surjective.}
    \begin{proof}
        \pf\ For any $r \in (\mathbb{Z} / p \mathbb{Z})^*$ we have $r = \phi(\alpha)$ where $\alpha(n) = nr \mod p$.
    \end{proof}
    \step{5}{$(\mathbb{Z} / p \mathbb{Z})^* \cong C_{p-1}$}
    \qed
\end{proof}

\begin{prop}
    Given a set $A$ and an Abelian group $H$, the set $H^A$ is an Abelian group under
    \[ (\phi + \psi)(a) = \phi(a) + \psi(a) \qquad (\phi,\psi \in H^A, a \in A) \enspace . \]
\end{prop}

\begin{proof}
    \pf
    \step{2}{$\phi + (\psi + \chi) = (\phi + \psi) + \chi$}
    \step{2a}{$\phi + \psi = \psi + \phi$}
    \step{3}{\pflet{$0 : A \rightarrow H$ be the function $0(a) = 0$.}}
    \step{4}{$\phi + 0 = 0 + \phi = \phi$}
    \step{5}{Given $\phi : A \rightarrow H$, define $-\phi : A \rightarrow H$ by $(-\phi)(a) = -(\phi(a))$.}
    \step{6}{$\phi + (-\phi) = (-\phi) + \phi = 0$}
    \qed
\end{proof}

\begin{prop}
    Given a group $G$ and an Abelian group $H$, the set $\mathbf{Grp}[G,H]$ is a subgroup of $H^G$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{Given $\phi, \psi : G \rightarrow H$ group homomorphisms, we have $\phi - \psi$ is a group homomorphism.}
    \begin{proof}
        \pf
        \begin{align*}
            (\phi - \psi)(g + g') & = \phi(g + g') - \psi(g + g')             \\
                                  & = \phi(g) + \phi(g') - \psi(g) - \psi(g') \\
                                  & = \phi(g) - \psi(g) + \phi(g') - \psi(g') \\
                                  & = (\phi - \psi)(g) + (\phi - \psi)(g')
        \end{align*}
    \end{proof}
    \qed
\end{proof}

\begin{prop}
Let $G$ be a group. The following are equivalent.
\begin{enumerate}
\item $\mathrm{Inn}(G)$ is cyclic.
\item $\mathrm{Inn}(G)$ is trivial.
\item $G$ is Abelian.
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{$1 \Rightarrow 2$}
\begin{proof}
	\step{a}{\assume{$\mathrm{Inn}(G) = \langle \gamma_g \rangle$}}
	\step{b}{$g$ commutes with every element of $G$}
	\begin{proof}
		\step{b}{\pflet{$x \in G$}}
		\step{c}{\pick\ $n \in \mathbb{Z}$ such that $\gamma_x = \gamma_g^n$}
		\step{d}{$\forall y \in G. xy\inv{x} = g^nyg^{-n}$}
		\step{e}{$x g \inv{x} = g$}
	\end{proof}
	\step{c}{$\gamma_g = \id{G}$}
\end{proof}
\step{2}{$2 \Rightarrow 3$}
\begin{proof}
	\step{a}{\assume{$\forall g \in G. \gamma_g = \id{G}$}}
	\step{b}{\pflet{$x,y \in G$}}
	\step{c}{$\gamma_x(y) = y$}
	\step{d}{$xy\inv{x} = y$}
	\step{e}{$xy = yx$}
\end{proof}
\step{2}{$3 \Rightarrow 2$}
\begin{proof}
	\pf\ If $xy = yx$ for all $x,y$ then $\gamma_x(y) = y$ for all $x$, $y$.
\end{proof}
\step{3}{$2 \Rightarrow 1$}
\begin{proof}
	\pf\ Easy.
\end{proof}
\qed
\end{proof}

\begin{cor}
If $\Aut{\Grp}{G}$ is cyclic then $G$ is Abelian.
\end{cor}

\begin{prop}
Every subgroup of an Abelian group is normal.
\end{prop}

\begin{proof}
\pf\ Let $G$ be an Abelian group and $N$ a subgroup of $G$. Given $g \in G$ and $n \in N$ we have $gn\inv{g} = n \in N$. \qed
\end{proof}

\begin{prop}
For any group $G$, the group $G / [G,G]$ is Abelian.
\end{prop}

\begin{proof}
\pf\ For any $g,h \in G$ we have
\begin{align*}
gh\inv{(hg)} & \in [G,G] \\
\therefore gh[G,G] & = hg[G,G] & \qed
\end{align*}
\end{proof}

\section{The Category of Abelian Groups}

\begin{df}[Category of Abelian Groups]
    Let $\mathbf{Ab}$ be the full subcategory of $\mathbf{Grp}$ whose objects are the Abelian groups.
\end{df}

\begin{df}[Direct Sum]
    Given Abelian groups $G$ and $H$, we also call the direct product of $G$ and $H$ the \emph{direct sum} and denote it $G \oplus H$.
\end{df}

\begin{prop}
    Given Abelian groups $G$ and $H$, the direct sum $G \oplus H$ is the coproduct of $G$ and $H$ in $\mathbf{Ab}$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$\kappa_1 : G \rightarrow G \oplus H$ be the group homomorphism $\kappa_1(g) = (g,e_H)$.}}
    \step{2}{\pflet{$\kappa_2 : H \rightarrow G \oplus H$ be the group homomorphism $\kappa_2(h) = (e_G,h)$.}}
    \step{3}{Given group homomorphism $\phi : G \rightarrow K$ and $\psi : H \rightarrow K$, define $[\phi, \psi] : G \oplus H \rightarrow K$ by $[\phi,\psi](g,h) = \phi(g) + \psi(h)$.}
    \step{4}{$[\phi,\psi]$ is a group homomorphism.}
    \begin{proof}
        \pf
        \begin{align*}
            [\phi,\psi]((g,h) + (g',h')) & = [\phi,\psi](g + g', h + h')             \\
                                         & = \phi(g + g') + \psi(h + h')             \\
                                         & = \phi(g) + \phi(g') + \psi(h) + \psi(h') \\
                                         & = \phi(g) + \psi(h) + \phi(g') + \psi(h') \\
                                         & = [\phi,\psi](g,h) + [\phi,\psi](g',h')
        \end{align*}
    \end{proof}
    \step{5}{$[\phi,\psi] \circ \kappa_1 = \phi$}
    \begin{proof}
        \pf
        \begin{align*}
            [\phi,\psi](\kappa_1(g)) & = [\phi,\psi](g,e_h)  \\
                                     & = \phi(g) + \psi(e_H) \\
                                     & = \phi(g) + e_K       \\
                                     & = \phi(g)
        \end{align*}
    \end{proof}
    \step{6}{$[\phi,\psi] \circ \kappa_2 = \psi$}
    \begin{proof}
        \pf\ Similar.
    \end{proof}
    \step{7}{If $f : G \oplus H \rightarrow K$ is a group homomorphism with $f \circ \kappa_1 = \phi$ and $f \circ \kappa_2 = \psi$ then $f = [\phi,\psi]$.}
    \begin{proof}
        \pf
        \begin{align*}
            f(g,h) & = f((g,e_H) + (e_G,h))            \\
                   & = f(\kappa_1(g)) + f(\kappa_2(h)) \\
                   & = \phi(g) + \psi(h)
        \end{align*}
    \end{proof}
    \qed
\end{proof}

\begin{thm}
Every finitely generated Abelian group is a direct sum of cyclic groups.
\end{thm}

\begin{proof}
\pf\ TODO \qed
\end{proof}

\section{Free Abelian Groups}

\begin{prop}
    Let $A$ be a set. Let $\mathcal{F}^A$ be the category whose objects are pairs $(G,j)$ where $G$ is an Abelian group and $j$ is a function $A \rightarrow G$, with morphisms $f : (G,j) \rightarrow (H,k)$ the group homomorphisms $f : G \rightarrow H$ such that $f \circ j = k$. Then $\mathcal{F}^A$ has an initial object.
\end{prop}

\begin{proof}
    \pf
    \step{1}{\pflet{$\mathbb{Z}^{\oplus A}$ be the subgroup of $\mathbb{Z}^A$ consisting of all functions $\alpha : A \rightarrow \mathbb{Z}$ such that $\alpha(a) = 0$ for only finitely many $a \in A$.}}
    \step{2}{\pflet{$i : A \rightarrow \mathbb{Z}^{\oplus A}$ be the function such that $i(a)(b) = 1$ if $a = b$ and 0 if $a \neq b$.}}
    \step{3}{\pflet{$G$ be any Abelian group and $j : A \rightarrow G$ any function.}}
    \step{4}{The unique homomorphism $\phi : \mathbb{Z}^{\oplus A} \rightarrow G$ required is defined by $\phi(\alpha) = \sum_{a \in A} \alpha(a) j(a)$}
    \qed
\end{proof}

\begin{df}[Free Abelian Group]
    For any set $A$, the \emph{free Abelian group} on $A$ is the initial object $(F^{ab}(A),i)$ in $\mathcal{F}^A$.
\end{df}

\begin{prop}
    For any sets $A$ and $B$, we have that $F^{ab}(A+B)$ is the coproduct of $F^{ab}(A)$ and $F^{ab}(B)$ in $\Grp$.
\end{prop}

\[ \begin{tikzcd}
        & G & \\
        F^{ab}(A) \arrow[r,"\kappa_1"] \arrow[ur,"f"] & F^{ab}(A+B) \arrow[u,"k"] & \arrow[l,"\kappa_2"] F^{ab}(B) \arrow[ul,"g"] \\
        A \arrow[r,"k_1"] \arrow[u,"i_A"] & A+B \arrow[u,"j"] & \arrow[l,"k_2"] \arrow[u,"i_B"] B
    \end{tikzcd} \]

\begin{proof}
    \pf
    \step{1}{\pflet{$i_A : A \rightarrow F^{ab}(A)$, $i_B : B \rightarrow F^{ab}(B)$, $j : A + B \rightarrow F^{ab}(A+B)$ be the canonical injections.}}
    \step{2}{\pflet{$\kappa_1$, $\kappa_2$ be the unique group homomorphisms that make the diagram above commute.}}
    \step{3}{\pflet{$G$ be any group and $f : F^{ab}(A) \rightarrow G$, $g : F^{ab}(B) \rightarrow G$ any group homomorphisms.}}
    \step{4}{\pflet{$h : A + B \rightarrow G$ be the unique function such that $h \circ k_1 = f \circ i_A$ and $h \circ k_2 = g \circ i_B$.}}
    \step{5}{\pflet{$k : F^{ab}(A+B) \rightarrow G$ be the unique group homomorphism such that $k \circ j = h$.}}
    \step{6}{$k$ is the unique group homomorphism such that $k \circ \kappa_1 \circ i_A = f \circ i_A$ and $k \circ \kappa_2 \circ i_B = g \circ i_B$.}
    \step{7}{$k$ is the unique group homomorphism such that $k \circ \kappa_1 = f$ and $k \circ \kappa_2 = g$.}
    \qed
\end{proof}

\begin{prop}
\label{prop:Fab-reflects-cong}
    For $A$ and $B$ finite sets, if $\Fab{A} \cong \Fab{B}$ then $A \cong B$.
\end{prop}

\begin{proof}
    \pf
    \step{1}{For any set $C$, define $\sim$ on $\Fab{C}$ by: $f \sim f'$ iff there exists $g \in \Fab{C}$ such that $f - f' = 2g$.}
    \step{2}{For any set $C$, $\sim$ is an equivalence relation on $\Fab{C}$.}
    \step{3}{For any set $C$, we have $\Fab{C}/\sim$ is finite if and only if $C$ is finite, in which case $|\Fab{C}/\sim| = 2^{|C|}$.}
    \begin{proof}
        \pf\ There is a bijection between $\Fab{C}/\sim$ and the finite subsets of $C$, which maps $f$ to $\{ c \in C : f(c) \text{ is odd} \}$.
    \end{proof}
    \step{4}{If $\Fab{A} \cong \Fab{B}$ then $A \cong B$.}
    \begin{proof}
        \pf\ If $|\Fab{A}/\sim| = |\Fab{B} / \sim|$ then $2^{|A|} = 2^{|B|}$ and so $|A| = |B|$.
    \end{proof}
    \qed
\end{proof}

\begin{prop}
Let $G$ be an Abelian group. Then $G$ is finitely generated if and only if there exists a surjective homomorphism $\mathbb{Z}^{\oplus n} \twoheadrightarrow G$ for some $n$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $G$ is finitely generated then there exists a surjective homomorphism $\mathbb{Z}^{\oplus n} \twoheadrightarrow G$ for some $n$.}
\begin{proof}
	\pf\ Let $G = \langle a_1, \ldots, a_n \rangle$. Define $\phi : \mathbb{Z}^{\oplus n} \twoheadrightarrow G$ by $\phi(i_1, \ldots, i_n) = i_1 \cdot a_1 + \cdots + i_n \cdot a_n$.
\end{proof}
\step{2}{If there exists a surjective homomorphism $\phi : \mathbb{Z}^{\oplus n} \twoheadrightarrow G$ for some $n$ then $G$ is finitely generated.}
\begin{proof}
	\pf\ $G$ is generated by $\phi(1, 0, \ldots, 0)$, $\phi(0, 1, 0, \ldots, 0)$, \ldots, $\phi(0, \ldots, 0, 1)$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $A$ be a set. Let $i : A \hookrightarrow F(A)$ be the free group on $A$. Then $\pi \circ i : A \rightarrow F(A) / [F(A),F(A)]$ is the free Abelian group on $A$.
\end{prop}

\[ \begin{tikzcd}
F(A)/[F(A),F(A)] \arrow[dr,"h"] \\
F(A) \arrow[r,"g"] \arrow[u,"\pi"] & G \\
A \arrow[u,"i"] \arrow[ur,"f"]
\end{tikzcd} \]

\begin{proof}
\pf
\step{1}{\pflet{$G$ be an Abelian group and $f : A \rightarrow G$ a function.}}
\step{2}{\pflet{$g : F(A) \rightarrow G$ be the unique group homomorphism such that $g \circ i = f$.}}
\step{3}{$[F(A),F(A)] \subseteq \ker g$}
\begin{proof}
	\pf\ For all $x,y \in F(A)$ we have $g(xy\inv{x}\inv{y}) = g(x) + g(y) - g(x) - g(y) = 0$.
\end{proof}
\step{4}{\pflet{$h : F(A)/[F(A),F(A)]$ be the unique group homomorphism such that $h \circ \pi = g$.}}
\step{5}{$h$ is the unique group homomorphism such that $h \circ \pi \circ i = f$.}
\qed
\end{proof}

\begin{cor}
Let $A$ and $B$ be sets. Let $F(A)$ and $F(B)$ be the free groups on $A$ and $B$ respectively. If $F(A) \cong F(B)$ then $A \cong B$.
\end{cor}

\begin{proof}
\pf\ Proposition \ref{prop:Fab-reflects-cong}. \qed
\end{proof}

\section{Cokernels}

\begin{prop}
Let $\phi : G \rightarrow H$ be a homomorphism between Abelian groups. Then there exists an Abelian group $K$ and homomorphism $\pi : H \rightarrow K$ that is initial with respect to all homomorphism $\alpha : H \rightarrow L$ such that $\alpha \circ \phi = 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$K = H / \im \phi$ and $\pi$ be the canonical homomorphism.}}
\step{2}{\pflet{$\pi \circ \phi = 0$}}
\step{3}{\pflet{$\alpha : H \rightarrow L$ satisfy $\alpha \circ \phi = 0$}}
\step{4}{$\im \phi \subseteq \ker \alpha$}
\step{5}{There exists a unique $\overline{\alpha} : H / \im \phi \rightarrow L$ such that $\overline{\alpha} \circ \pi = \alpha$}
\qed
\end{proof}

\begin{df}[Cokernel]
For any homomorphism $\phi : G \rightarrow H$ in $\mathbf{Ab}$, the \emph{cokernel} of $\phi$ is the Abelian group $\coker \phi$ and homomorphism $\pi : H \rightarrow \coker \phi$ that is initial among homomorphisms $\alpha : H \rightarrow L$ such that $\alpha \circ \phi = 0$.
\end{df}

\begin{prop}
$\pi : H \rightarrow \coker \phi$ is initial among functions $f : H \rightarrow X$ such that, for all $x,y \in H$, if $x + \im \phi = y + \im \phi$ then $f(x) = f(y)$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
Let $\phi : G \rightarrow H$ be a homomorphism of Abelian groups. Then the following are equivalent.
\begin{itemize}
\item $\phi$ is an epimorphism.
\item $\coker \phi$ is trivial.
\item $\phi$ is surjective.
\end{itemize}
\end{prop}

\begin{proof}
\pf
\step{1}{$1 \Rightarrow 2$}
\begin{proof}
	\step{a}{\assume{$\phi$ is epi.}}
	\step{b}{\pflet{$\pi : H \rightarrow \coker \phi$ be the canonical homomorphism.}}
	\step{c}{$\pi \circ \phi = 0 \circ \phi$}
	\step{d}{$\pi = 0$}
	\step{e}{$\coker \phi = \im \pi$ is trivial.}
\end{proof}
\step{2}{$2 \Rightarrow 3$}
\begin{proof}
	\pf\ If $\coker \phi = H / \im \phi$ is trivial then $\im \phi = H$.
\end{proof}
\step{3}{$3 \Rightarrow 1$}
\begin{proof}
	\pf\ If it is surjective then it is epi in $\mathbf{Set}$.
\end{proof}
\qed
\end{proof}

\part{Linear Algebra}

\begin{df}
    Let $\mathrm{GL}_n(\mathbb{R})$ be the group of invertible $n \times n$ real matrices.
\end{df}

\begin{df}
    Let $\mathrm{GL}_n(\mathbb{C})$ be the group of invertible $n \times n$ complex matrices.
\end{df}

\begin{df}
Let $\mathrm{SL}_n(\mathbb{R}) = \{ M \in \mathrm{GL}_n(\mathbb{R}) : \det M = 1 \}$.
\end{df}

\begin{df}
Let $\mathrm{SL}_n(\mathbb{C}) = \{ M \in \mathrm{GL}_n(\mathbb{C}) : \det M = 1 \}$.
\end{df}

\begin{df}
Let $\mathrm{O}_n(\mathbb{R}) = \{ M \in \mathrm{GL}_n(\mathbb{R}) : M M^\mathrm{T} = M^\mathrm{T} M = I_n \}$.
\end{df}

\begin{df}
Let $\mathrm{SO}_n(\mathbb{R}) = \{ M \in \mathrm{O}_n(\mathbb{R}) : \det M = 1 \}$.
\end{df}

\begin{df}
Let $\mathrm{U}_n(\mathbb{C}) = \{ M \in \mathrm{GL}_n(\mathbb{C}) : M M^\dagger = M^\dagger M = I_n \}$.
\end{df}

\begin{df}
Let $\mathrm{SU}_n(\mathbb{C}) = \{ M \in U_n(\mathbb{C}) : \det M = 1 \}$.
\end{df}

\begin{prop}
Every matrix in $\mathrm{SU}_2(\mathbb{C})$ can be written in the form
\[ \left( \begin{array}{cc}
a + b i & c + d i \\
-c + di & a - bi
\end{array} \right) \]
for some $a,b,c,d \in \mathbb{R}$ with $a^2 + b^2 + c^2 + d^2 = 1$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$M = \left( \begin{array}{cc}
\alpha & \beta \\
\gamma & \delta
\end{array} \right) \in \mathrm{SU}_2(\mathbb{C})$}}
\step{2}{$\inv{M} = M^\dagger$}
\step{3}{$\left( \begin{array}{cc}
\delta & - \beta \\
- \gamma & \alpha
\end{array} \right) = \left( \begin{array}{cc}
\overline{\alpha} & \overline{\gamma} \\
\overline{\beta} & \overline{\delta}
\end{array} \right)$}
\step{4}{\pflet{$\alpha = a + bi$ and $\beta = c+di$.}}
\step{5}{$\delta = \overline{\alpha} = a-bi$}
\step{6}{$\gamma = - \overline{\beta} = -c+di$}
\step{7}{$\det M = a^2 + b^2 + c^2 + d^2 = 1$}
\qed
\end{proof}

\begin{cor}
$\mathrm{SU}_2(\mathbb{C})$ is simply connected.
\end{cor}

%TODO

\end{document}
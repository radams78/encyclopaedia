\documentclass{book}

\title{Encyclopaedia of Mathematics and Physics}
\author{Robin Adams}
\date{}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}

\newtheorem{prop}{Proposition}[chapter]
\newtheorem{cor}{Corollary}[prop]
\newtheorem{thm}[prop]{Theorem}
\newtheorem{lm}[prop]{Lemma}
\theoremstyle{definition}
\newtheorem{df}[prop]{Definition}
\newtheorem{ex}[prop]{Example}

\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}
\newcommand{\diam}{\ensuremath{\operatorname{diam}}}

\begin{document}

\maketitle
\tableofcontents

\chapter{Set Theory}

\begin{prop}
Every infinite subset of a countably infinite set is countable.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$i : A \hookrightarrow \mathbb{N}$ be an infinite subset of $\mathbb{N}$.}}
\step{2}{Define $j : \mathbb{N} \rightarrow A$ by: $j(k)$ is the element such that $i(j(k))$ is least such that $i(j(k)) \notin \{ i(j(0)), \ldots, i(j(k-1)) \}$.}
\step{3}{$j$ is a bijection.}
\qed
\end{proof}

\begin{prop}
A countable union of countable sets is countable.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$(A_n)$ be a sequence of countable sets.}}
\step{2}{For $n \in \mathbb{N}$, \pick\ an enumeration $(e_{nm})_m$ of $A_n$.}
\step{3}{\pflet{$(p_k)$ be the following enumeration of $\mathbb{N} \times \mathbb{N}$:
\[ (0,0), (1,0), (0,1), (2,0), (1,1), (0,2), \ldots \]}}
\step{4}{$(e_{\pi_1(p_k)\pi_2(p_k)})_k$ is an enumeration of $\bigcup_n A_n$.}
\qed
\end{proof}

\begin{thm}
$2^\mathbb{N}$ is uncountable.
\end{thm}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $f : \mathbb{N} \approx 2^\mathbb{N}$}}
\step{2}{\pflet{$S = \{ n \in \mathbb{N} : n \notin f(n) \}$}}
\step{3}{For all $n$, we have $n \in S \Leftrightarrow n \notin f(n)$}
\step{4}{For all $n$ we have $S \neq f(n)$.}
\qedstep
\begin{proof}
	\pf\ This contradicts \stepref{1}.
\end{proof}
\qed
\end{proof}

\chapter{Relations}

\begin{df}[Antisymmetric]
A relation $R$ on a set $A$ is \emph{antisymmetric} iff, whenever $xRy$ and $yRx$, then $x = y$.
\end{df}

\begin{df}[Transitive]
A relation $R$ on a type $A$ is \emph{transitive} iff, whenever $xRy$ and $yRz$, then $xRz$.
\end{df}

\chapter{Order Theory}

\begin{df}[Linear Order]
A \emph{linear order} on a set $A$ is a binary relation $\leq$ on $A$ that is transitive, antisymmetric and:
\[ \forall x,y \in A. x \leq y \vee y \leq x \enspace . \]

A \emph{linearly ordered set} is a pair $(A, \leq)$ where $A$ is a set and $\leq$ is a binary relation on $A$.

We write $x < y$ for $x \leq y$ and $x \neq y$.
\end{df}

\begin{df}[Upper Bound]
Let $S$ be a linearly ordered set, $u \in S$ and $E \subseteq S$. Then $u$ is an \emph{upper bound} in $E$ iff $\forall x \in E. x \leq u$. We say $E$ is \emph{bounded above} iff it has an upper bound.

The \emph{up-set} of $E$, denoted $E \uparrow$, is the set of upper bounds of $E$.
\end{df}

\begin{df}[Lower Bound]
Let $S$ be a linearly ordered set, $l \in S$ and $E \subseteq S$. Then $u$ is an \emph{lower bound} in $E$ iff $\forall x \in E. l \leq x$. We say $E$ is \emph{bounded below} iff it has a lower bound.

The \emph{down-set} of $E$, denoted $E \downarrow$, is the set of lower bounds of $E$.
\end{df}

\begin{df}[Supremum]
Let $S$ be a linearly ordered set, $u \in S$ and $E \subseteq S$. Then $u$ is the \emph{least upper bound} or \emph{supremum} of $E$ iff $u$ is an upper bound for $E$ and, for any upper bound $u'$ for $E$, we have $u \leq u'$.
\end{df}

\begin{df}[Infimum]
Let $S$ be a linearly ordered set, $l \in S$ and $E \subseteq S$. Then $l$ is the \emph{greatest lower bound} or \emph{infimum} of $E$ iff $l$ is a lower bound for $E$ and, for any lower bound $l'$ for $E$, we have $l' \leq l$.
\end{df}

\begin{df}[Least Upper Bound Property]
A linearly ordered set $S$ has the \emph{least upper bound property} iff every nonempty subset of $S$ that is bounded above has a least upper bound.
\end{df}

\begin{prop}
Let $S$ be a linearly ordered set and $E \subseteq S$.
\begin{enumerate}
\item If $E \downarrow$ has a supremum $l$, then $l$ is the infimum of $E$.
\item If $E \uparrow$ has an infimum $u$, then $U$ is the supremum of $E$.
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{If $E \downarrow$ has a supremum $l$, then $l$ is the infimum of $E$.}
\begin{proof}
	\step{1}{$l$ is a lower bound for $E$.}
	\begin{proof}
		\step{a}{\pflet{$x \in E$}}
		\step{b}{$x$ is an upper bound for $E \downarrow$.}
		\begin{proof}
			\pf\ For all $y \in E \downarrow$ we have $y \leq x$.
		\end{proof}
		\step{c}{$l \leq x$}
	\end{proof}
	\step{2}{For any lower bound $l'$ for $E$, we have $l' \leq l$.}
	\begin{proof}
		\pf\ Since $l$ is an upper bound for $E \downarrow$.
	\end{proof}
\end{proof}
\step{2}{If $E \uparrow$ has an infimum $u$, then $u$ is the supremum of $E$.}
\begin{proof}
	\pf\ Dual.
\end{proof}
\qed
\end{proof}

\begin{cor}
A linearly ordered set has the least upper bound property if and only if every nonempty set bounded below has an infimum.
\end{cor}

\begin{df}[Closed Downwards]
Let $S$ be a linearly ordered set and $E \subseteq S$. Then $E$ is \emph{closed downwards} iff, whenever $x \in E$ and $y < x$, then $y \in E$.
\end{df}

\begin{df}[Closed Upwards]
Let $S$ be a linearly ordered set and $E \subseteq S$. Then $E$ is \emph{closed upwards} iff, whenever $x \in E$ and $x < y$, then $y \in E$.
\end{df}

\begin{df}[Greatest]
Let $S$ be a linearly ordered set and $u \in S$. Then $u$ is \emph{greatest} in $S$ iff $\forall x \in S. x \leq u$.
\end{df}

\begin{df}[Least]
Let $S$ be a linearly ordered set and $l \in S$. Then $l$ is \emph{least} in $S$ iff $\forall x \in S. l \leq x$.
\end{df}

\begin{prop}
Let $\leq$ be a linear order on a set $S$ and $E \subseteq S$. Then $\leq \cap E^2$ is a linear order on $E$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

Given a linearly ordered set $(S, \leq)$ and $E \subseteq S$, we write just $E$ for the linearly ordered set $(E, \leq \cap E^2)$.

\begin{df}[Lexicographic Order]
Let $A$ and $B$ be linearly ordered sets. The \emph{lexicographic order} or \emph{dictionary order} on $A \times B$ is the order defined by
\[ (a,b) \leq (a',b') \Leftrightarrow a = a' \vee (a < a' \wedge b \leq b') \enspace . \]
\end{df}

\begin{prop}
The lexicographic order is a linear order.
\end{prop}

%TODO

\chapter{Field Theory}

\begin{df}[Field]
A \emph{field} $F$ consists of a set $F$, two operations $+, \cdot : F^2 \rightarrow F$ and an element $0 \in F$ such that:
\begin{itemize}
\item $+$ is commutative.
\item $+$ is associative.
\item $\forall x \in F. x + 0 = x$
\item $\forall x \in F. \exists y \in F. x + y = 0$
\item $\cdot$ is commutative.
\item $\cdot$ is associative.
\item There exists $1 \in F$ such that $1 \neq 0$ and $\forall x \in F. x1 = x$ and $\forall x \in F. x \neq 0 \Rightarrow \exists y \in F. xy = 1$
\item \emph{Distributive Law} $\forall x,y,z \in F. x(y+z) = xy+xz$
\end{itemize}
\end{df}

\begin{prop}
In any field $F$, the element 0 is the unique element such that $\forall x \in F. x + 0 = x$.
\end{prop}

\begin{proof}
\pf\ If $0$ and $0'$ both have this property then $0 = 0 + 0' = 0'$. \qed
\end{proof}

\begin{prop}
In any field $F$, given $x \in F$, there is a unique $y \in F$ such that $x + y = 0$.
\end{prop}

\begin{proof}
\pf\ If $x + y = x + y' = 0$ then
\begin{align*}
	y & = y + 0 \\
	& = y + x + y' \\
	& = 0 + y' \\
	& = y' & \qed
\end{align*}
\end{proof}

\begin{df}
Let $F$ be a field. Let $x \in F$. We denote by $-x$ the unique element of $F$ such that $x + (-x) = 0$. 

Given $x,y \in F$, we write $x - y$ for $x + (-y)$.
\end{df}

\begin{prop}
In any field $F$, if $x + y = x + z$ then $y = z$.
\end{prop}

\begin{proof}
\pf\ If $x + y = x + z$ we have
\begin{align*}
-x + x + y & = -x + x + z \\
\therefore 0 + y & = 0 + z \\
\therefore y & = z & \qed
\end{align*}
\end{proof}

\begin{prop}
\label{prop:minus_minus}
In any field $F$, we have $-(-x) = x$.
\end{prop}

\begin{proof}
\pf\ Since $x + (-x) = 0$. \qed
\end{proof}

\begin{prop}
In any field $F$, the element 1 such that $\forall x \in F. x1 = x$ is unique.
\end{prop}

\begin{proof}
\pf\ If 1 and $1'$ both have this property then $1 = 1 \cdot 1' = 1'$. \qed
\end{proof}

\begin{prop}
In any field $F$, given $x \in F$ with $x \neq 0$, the element $y$ such that $xy = 1$ is unique.
\end{prop}

\begin{proof}
\pf\ If $y$ and $y'$ both have this property then we have
\begin{align*}
y & = y1 \\
& = y x y' \\
& = 1 y' \\
& = y' & \qed
\end{align*}
\end{proof}

\begin{df}
In any field $F$, if $x \neq 0$, we write $x^{-1}$ for the unique element such that $x x^{-1} = 1$.

We write $x/y$ for $xy^{-1}$.
\end{df}

\begin{prop}
In any field $F$, if $xy = xz$ and $x \neq 0$ then $y = z$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
y & = 1y \\
& = x^{-1} x y \\
& = x^{-1} x z \\
& = 1z \\
& = z & \qed
\end{align*}
\end{proof}

\begin{prop}
In any field $F$, if $x \neq 0$ then $x^{-1} \neq 0$ and $(x^{-1})^{-1} = x$.
\end{prop}

\begin{proof}
\pf\ Since $x x^{-1} = 1$. \qed
\end{proof}

\begin{prop}
\label{prop:multiply_by_zero}
In any field $F$, we have $x0 = 0$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
x0 + 0 & = x0 \\
& = x(0+0) \\
& = x0 + x0 \\
\therefore 0 & = x0 & \qed
\end{align*}
\end{proof}

\begin{prop}
In any field $F$, if $xy = 0$ then $x = 0$ or $y = 0$.
\end{prop}

\begin{proof}
\pf\ If $xy = 0$ and $x \neq 0$ then we have $y = x^{-1} x y = x^{-1} 0 = 0$. \qed
\end{proof}

\begin{prop}
In any field $F$, we have $(-x) y = -(xy)$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
xy + (-x) y & = (x + (-x))y \\
& = 0y \\
& = 0 & (\text{Proposition \ref{prop:multiply_by_zero}}) \qed
\end{align*}
\end{proof}

\begin{cor}
In any field $F$, we have $(-x)(-y) = xy$.
\end{cor}

\begin{proof}
\pf
\begin{align*}
(-x)(-y) & = -(x(-y)) \\
& = -(-(xy)) \\
& = xy & (\text{Proposition \ref{prop:minus_minus}}) \qed
\end{align*}
\end{proof}

\begin{prop}
\label{prop:at_most_two_square_roots}
Let $K$ be a field. Let $a,b \in K$. If $a^2 = b^2$ then $a = b$ or $a = -b$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
a^2 - b^2 & = 0 \\
\therefore (a-b)(a+b) & = 0
\end{align*}
Hence either $a - b = 0$ or $a + b = 0$, and the conclusion follows. \qed
\end{proof}

\section{Ordered Fields}

\begin{df}[Ordered Field]
An \emph{ordered field} $F$ consists of a field $F$ and a linear order $\leq$ on $F$ such that:
\begin{itemize}
\item For all $x,y,z \in F$, if $y < z$ then $x + y < x + z$
\item For all $x,y \in F$, if $x > 0$ and $y > 0$ then $xy > 0$.
\end{itemize}
We call $x$ \emph{positive} iff $x > 0$ and \emph{negative} iff $x < 0$.
\end{df}

\begin{ex}
$\mathbb{Q}$ is an ordered field. %TODO
\end{ex}

\begin{prop}
In any ordered field, if $x$ is positive then $-x$ is negative.
\end{prop}

\begin{proof}
\pf\ If $x > 0$ then $0 = x + (-x) > 0 = (-x) = -x$. \qed
\end{proof}

\begin{prop}
\label{prop:multiply_positive}
In any ordered field, if $y < z$ and $x$ is positive then $xy < xz$.
\end{prop}

\begin{proof}
\pf\ If $y < z$ then we have
\begin{align*}
0 & < z - y \\
\therefore 0 & < x(z-y) \\
& = xz - xy \\
\therefore xy & < xz & \qed
\end{align*}
\end{proof}

\begin{prop}
\label{prop:multiply_negative}
In any ordered field, if $y < z$ and $x$ is negative then $xy > xz$.
\end{prop}

\begin{proof}
\pf
\step{1}{$-x$ is positive.}
\step{2}{$(-x)y < (-x)z$}
\step{3}{$-(xy) < -(xz)$}
\step{4}{$xz < xy$}
\qed
\end{proof}

\begin{prop}
In any ordered field, if $x \neq 0$ then $x^2 > 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $x > 0$ then $x^2 > 0$.}
\begin{proof}
	\pf\ Proposition \ref{prop:multiply_positive}.
\end{proof}
\step{2}{If $x < 0$ then $x^2 > 0$.}
\begin{proof}
	\pf\ Proposition \ref{prop:multiply_negative}.
\end{proof}
\qed
\end{proof}

\begin{cor}
\label{cor:one_positive}
In any ordered field, we have $1 > 0$.
\end{cor}

\begin{prop}
\label{prop:inverse_positive}
In any ordered field, if $x$ is positive then $x^{-1}$ is positive.
\end{prop}

\begin{proof}
\pf\ If $x^{-1} < 0$ then we would have $1 = xx^{-1} < x0 = 0$ contradicting Corollary \ref{cor:one_positive}. \qed
\end{proof}

\begin{prop}
In any ordered field, if $0 < x < y$ then $y^{-1} < x^{-1}$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$0 < x < y$}}
\step{2}{$x^{-1}$ and $y^{-1}$ are positive.}
\begin{proof}
	\pf\ Proposition \ref{prop:inverse_positive}.
\end{proof}
\step{3}{$xy^{-1} < yy^{-1} = 1$}
\step{4}{$y^{-1} = x^{-1}xy^{-1} < x^{-1}1 = x^{-1}$}
\qed
\end{proof}

\begin{lm}
\label{lm:b_to_the_n_minus_1}
Let $K$ be an ordered field. Let $b \in K$ with $b > 1$. Let $n$ be a positive integer. Then
\[ b^n - 1 \geq n(b-1) \]
\end{lm}

\begin{proof}
\pf
\begin{align*}
b^n - 1 & = (b-1) (b^{n-1} + b^{n-2} + \cdots + 1) \\
& \geq (b-1) (1 + 1 + \cdots + 1) \\
& = n(b-1) & \qed
\end{align*}
\end{proof}

\chapter{Real Analysis}

\section{Construction of the Real Numbers}

\begin{df}[Cut]
A \emph{cut} is a subset $\alpha$ of $\mathbb{Q}$ such that:
\begin{itemize}
\item $\emptyset \neq \alpha \neq \mathbb{Q}$
\item $\alpha$ is closed downwards.
\item $\alpha$ has no greatest element.
\end{itemize}
In this section, we write $R$ for the set of all cuts.
\end{df}

\begin{prop}
$R$ is linearly ordered by $\subseteq$.
\end{prop}

\begin{proof}
\pf\ The only difficult part is to prove that, for any cuts $\alpha$ and $\beta$, either $\alpha \subseteq \beta$ or $\beta \subseteq \alpha$.
\step{1}{\assume{$\alpha \nsubseteq \beta$} \prove{$\beta \subseteq \alpha$}}
\step{2}{\pick\ $q \in \alpha$ such that $q \notin \beta$}
\step{3}{\pflet{$r \in \beta$}}
\step{4}{$q \nless r$}
\step{5}{$r < q$}
\step{6}{$r \in \alpha$}
\qed
\end{proof}

\begin{prop}
$R$ has the least upper bound property.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E \subseteq R$ be nonempty and bounded above.}}
\step{2}{\pflet{$s = \bigcup E$} \prove{$s$ is a cut.}}
\step{3}{$\emptyset \neq s$}
\begin{proof}
	\pf\ Since $E$ is nonempty and every element of $E$ is nonempty.
\end{proof}
\step{4}{$s \neq \mathbb{Q}$}
\begin{proof}
	\step{a}{\pick\ an upper bound $u$ for $E$.}
	\step{b}{\pick\ $q \notin u$ \prove{$q \notin s$}}
	\step{c}{$\forall \alpha \in E. \alpha \subseteq u$}
	\step{d}{$s \subseteq u$}
	\step{e}{$q \notin s$} 
\end{proof}
\step{5}{$s$ is closed downwards.}
\begin{proof}
	\step{a}{\pflet{$q \in s$ and $r < q$.}}
	\step{b}{\pick\ $\alpha \in E$ such that $q \in \alpha$.}
	\step{c}{$r \in \alpha$}
	\step{d}{$r \in s$}
\end{proof}
\step{6}{$s$ has no greatest element.}
\begin{proof}
	\step{a}{\pflet{$q \in s$}}
	\step{b}{\pick\ $\alpha \in E$ such that $q \in \alpha$.}
	\step{c}{\pick\ $r \in \alpha$ such that $q < r$.}
	\step{d}{$r \in s$}
\end{proof}
\qed
\end{proof}

\begin{df}[Addition]
Given cuts $\alpha$ and $\beta$, we define
\[ \alpha + \beta = \{ q + r : q \in \alpha, r \in \beta \} \enspace . \]
\end{df}

\begin{prop}
Given cuts $\alpha$ and $\beta$, we have $\alpha + \beta$ is a cut.
\end{prop}

\begin{proof}
\pf
\step{1}{$\alpha + \beta$ is nonempty.}
\begin{proof}
	\pf\ Since $\alpha$ and $\beta$ are nonempty.
\end{proof}
\step{2}{$\alpha + \beta \neq \mathbb{Q}$}
\begin{proof}
	\step{a}{\pick\ $q \in \mathbb{Q} - \alpha$ and $r \in \mathbb{Q} - \beta$. \prove{$q + r \notin \alpha + \beta$}}
	\step{b}{\assume{for a contradiction $q + r \in \alpha + \beta$.}}
	\step{c}{\pick\ $x \in \alpha$ and $y \in \beta$ such that $q + r = x + y$}
	\step{d}{$x < q$}
	\step{e}{$y < r$}
	\step{f}{$x + y < q + r$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\step{3}{$\alpha + \beta$ is closed downwards.}
\begin{proof}
	\step{a}{\pflet{$q \in \alpha$, $r \in \beta$ and $x < q + r$}}
	\step{b}{$x - q < r$}
	\step{c}{$x - q \in \beta$}
	\step{d}{$x \in \alpha + \beta$}
\end{proof}
\step{4}{$\alpha + \beta$ has no greatest element.}
\begin{proof}
	\step{a}{\pflet{$q \in \alpha$ and $r \in \beta$.} \prove{$q + r$ is not greatest in $\alpha + \beta$.}}
	\step{b}{\pick\ $q' \in \alpha$ with $q < q'$ and $r' \in \beta$ with $r < r'$.}
	\step{c}{$q + r < q' + r' \in \alpha + \beta$}
\end{proof}
\qed
\end{proof}

\begin{prop}
Addition is commutative and associative on $R$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions and the fact that addition is commutative and associative on $\mathbb{Q}$. \qed
\end{proof}

\begin{df}
For any $q \in \mathbb{Q}$, let $q^* = \{ r \in \mathbb{Q} : r < q \}$.
\end{df}

\begin{prop}
For any $q \in \mathbb{Q}$, we have $q^*$ is a cut.
\end{prop}

\begin{proof}
\pf
\step{1}{$q^* \neq \emptyset$}
\begin{proof}
\pf\ Since $q - 1 \in q^*$.
\end{proof}
\step{2}{$q^* \neq \mathbb{Q}$}
\begin{proof}
\pf\ Since $q \notin q^*$.
\end{proof}
\step{3}{$q^*$ is closed downwards.}
\begin{proof}
\pf\ Immediate from definition.
\end{proof}
\step{4}{$q^*$ has no greatest element.}
\begin{proof}
\pf\ For all $r \in q^*$ we have $r < (q+r)/2 \in q^*$.
\end{proof}
\qed
\end{proof}

\begin{prop}
For any cut $\alpha$ we have $\alpha + 0^* = \alpha$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\alpha + 0^* \subseteq \alpha$}
\begin{proof}
	\step{a}{\pflet{$q \in \alpha$ and $r \in 0^*$} \prove{$q + r \in \alpha$}}
	\step{b}{$r < 0$}
	\step{c}{$q + r < q$}
	\step{d}{$q + r \in \alpha$}
\end{proof}
\step{2}{$\alpha \subseteq \alpha + 0^*$}
\begin{proof}
	\step{a}{\pflet{$q \in \alpha$}}
	\step{b}{\pick\ $r \in \alpha$ such that $q < r$}
	\step{c}{$q = r + (q - r) \in \alpha + 0^*$}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any cut $\alpha$, there exists a cut $\beta$ such that $\alpha + \beta = 0$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\beta = \{ p \in \mathbb{Q} : \exists r > 0. -p-r \notin \alpha \}$}}
\step{2}{$\beta$ is a cut.}
\begin{proof}
	\step{a}{$\beta \neq \emptyset$}
	\begin{proof}
		\step{i}{\pick\ $q \notin \alpha$}
		\step{ii}{$-q-1 \in \beta$}
	\end{proof}
	\step{b}{$\beta \neq \mathbb{Q}$}
	\begin{proof}
		\step{i}{\pick\ $q \in \alpha$ \prove{$-q \notin \beta$}}
		\step{ii}{\assume{for a contradiction $-q \in \beta$}}
		\step{iii}{\pick\ $r > 0$ such that $q-r \notin \alpha$}
		\step{iv}{$q-r < q$}
		\qedstep
		\begin{proof}
			\pf\ This contradicts the fact that $\alpha$ is closed downwards.
		\end{proof}
	\end{proof}
	\step{c}{$\beta$ is closed downwards.}
	\begin{proof}
		\step{i}{\pflet{$p \in \beta$ and $q < p$.}}
		\step{ii}{\pick\ $r > 0$ such that $-p-r \notin \alpha$}
		\step{iii}{$-p-r < -q-r$}
		\step{iv}{$-q-r \notin \alpha$}
		\step{v}{$q \in \beta$}
	\end{proof}
	\step{d}{$\beta$ has no greatest element.}
	\begin{proof}
		\step{i}{\pflet{$p \in \beta$}}
		\step{ii}{\pick\ $r > 0$ such that $-p-r \notin \alpha$}
		\step{iii}{$-(p+r/2)-r/2 \notin \alpha$}
		\step{iv}{$p+r/2 \in \beta$}
	\end{proof}
\end{proof}
\step{3}{$\alpha + \beta \subseteq 0^*$}
\begin{proof}
	\step{a}{\pflet{$p \in \alpha$ and $q \in \beta$.}}
	\step{b}{\pick\ $r > 0$ such that $-q-r \notin \alpha$.}
	\step{c}{$p < -q-r$}
	\step{d}{$p + q < -r$}
	\step{e}{$p + q < 0$}
	\step{f}{$p + q \in 0^*$}
\end{proof}
\step{4}{$0^* \subseteq \alpha + \beta$}
\begin{proof}
	\step{a}{\pflet{$v \in 0^*$}}
	\step{b}{\pflet{$w = -v/2$}}
	\step{c}{$w > 0$}
	\step{d}{\pick\ an integer $n$ such that $nw \in \alpha$ and $(n+1)w \notin \alpha$.} %TODO
	\step{e}{\pflet{$p = -(n+2)w$}}
	\step{f}{$p \in \beta$}
	\step{g}{$v = nw + p$}
	\step{h}{$v \in \alpha + \beta$}
\end{proof}
\qed
\end{proof}

\begin{prop}
Given $\alpha, \beta, \gamma \in R$, if $\beta < \gamma$, then $\alpha + \beta < \alpha + \gamma$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\alpha + \beta \subseteq \alpha + \gamma$}
\begin{proof}
	\pf\ Immediate from definitions.
\end{proof}
\step{2}{$\alpha + \beta \neq \alpha + \gamma$}
\begin{proof}
	\pf\ If $\alpha + \beta = \alpha + \gamma$ then $\beta = \gamma$ by cancellation.
\end{proof}
\qed
\end{proof}

\begin{df}
Given cuts $\alpha$ and $\beta$, define $\alpha \beta$ by:
\[ \alpha \beta = \begin{cases}
\{ p \in \mathbb{Q} : \exists r \in \alpha. \exists s \in \beta (p \leq rs \wedge r > 0 \wedge s > 0 \} & \text{if } \alpha > 0^* \text{ and } \beta > 0^* \\
(-\alpha)(-\beta) & \text{if } \alpha < 0^* \text{ and } \beta < 0^* \\
-((-\alpha)\beta) & \text{if } \alpha < 0^* \text{ and } \beta > 0^* \\
-(\alpha(-\beta)) & \text{if } \alpha > 0^* \text{ and } \beta < 0^* \\
0^* & \text{if } \alpha = 0^* \text{ or } \beta = 0^*
\end{cases} \]
\end{df}

\begin{prop}
For any cuts $\alpha$ and $\beta$, we have $\alpha \beta$ is a cut.
\end{prop}

\begin{proof}
\pf
\step{1}{If $\alpha > 0^*$ and $\beta > 0^*$ then $\alpha \beta$ is a cut.}
\begin{proof}
	\step{a}{$\alpha \beta \neq \emptyset$}
	\begin{proof}
		\step{i}{\pick\ $q \in \alpha$ and $r \in \beta$ such that $q,r \notin 0^*$}
		\step{ii}{\assume{w.l.o.g. $0 < q$ and $0 < r$.}}
		\begin{proof}
			\pf\ Since $\alpha$ and $\beta$ have no greatest element.
		\end{proof}
		\step{iii}{$qr \in \alpha \beta$}
	\end{proof}
	\step{b}{$\alpha \beta \neq \mathbb{Q}$}
	\begin{proof}
		\step{i}{\pick\ $r \notin \alpha$ and $s \notin \beta$ \prove{$rs \notin \alpha\beta$}}
		\step{ii}{\assume{for a contradiction $rs \in \alpha \beta$.}}
		\step{iii}{\pick\ $r' \in \alpha$ and $s' \in \beta$ such that $rs \leq r's'$ and $r' > 0$ and $s' > 0$.}
		\step{iv}{$r' < r$ and $s' < s$}
		\step{v}{$r's' < rs$}
		\qedstep
		\begin{proof}
			\pf\ This is a contradiction.
		\end{proof}
	\end{proof}
	\step{c}{$\alpha \beta$ is closed downwards.}
	\begin{proof}
		\step{i}{\pflet{$p \in \alpha \beta$ and $p' < p$}}
		\step{ii}{\pick\ $r \in \alpha$ and $s \in \beta$ such that $p \leq rs$, $r > 0$ and $s > 0$}
		\step{iii}{$p' \leq rs$}
		\step{iv}{$p' \in \alpha \beta$}
	\end{proof}
	\step{d}{$\alpha \beta$ has no greatest element.}
	\begin{proof}
		\step{i}{\pflet{$p \in \alpha \beta$}}
		\step{ii}{\pick\ $r \in \alpha$ and $s \in \beta$ such that $p \leq rs$, $r > 0$ and $s > 0$.}
		\step{iii}{\pick\ $r' \in \alpha$ and $s' \in \beta$ with $r < r'$ and $s < s'$.}
		\step{iv}{$p < r's' \in \alpha \beta$}
	\end{proof}
\end{proof}
\step{2}{For any cuts $\alpha$ and $\beta$, we have $\alpha \beta$ is a cut.}
\begin{proof}
	\pf\ Since if $\alpha$ is a cut then $-\alpha$ is a cut.
\end{proof}
\qed
\end{proof}

\begin{prop}
For any cuts $\alpha$ and $\beta$ we have $\alpha \beta = \beta \alpha$.
\end{prop}

\begin{proof}
\pf\ Easy from the definitions. \qed
\end{proof}

\begin{prop}
For any cuts $\alpha$, $\beta$ and $\gamma$ we have
\[ \alpha (\beta \gamma) = (\alpha \beta) \gamma \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{\case{$\alpha$, $\beta$ and $\gamma$ are all positive.}}
\begin{proof}
	\pf\ In this case $\alpha (\beta \gamma) = (\alpha \beta) \gamma = \{ p \in \mathbb{Q} : \exists r \in \alpha. \exists s \in \beta. \exists t \in \gamma. (p \leq rst \wedge r > 0 \wedge s > 0 \wedge t > 0) \}$.
\end{proof}
\step{2}{\case{One of $\alpha$, $\beta$ or $\gamma$ is $0^*$.}}
\begin{proof}
	\pf\ Then $\alpha (\beta \gamma) = (\alpha \beta) \gamma = 0^*$.
\end{proof}
\step{3}{\case{$\alpha$ and $\beta$ are positive, $\gamma$ is negative.}}
\begin{proof}
	\pf
	\begin{align*}
		\alpha (\beta \gamma) & = \alpha (-(\beta (-\gamma))) \\
		& = - (\alpha (\beta (-\gamma))) \\
		& = - ((\alpha \beta) (-\gamma)) & (\text{\stepref{1}}) \\
		& = (\alpha \beta) \gamma
	\end{align*}
\end{proof}
\step{4}{\case{$\alpha$ is positive, $\beta$ is negative, $\gamma$ is positive.}}
\begin{proof}
	\pf
	\begin{align*}
		\alpha (\beta \gamma) & = \alpha ( -((-\beta)\gamma)) \\
		& = -(\alpha ((-\beta) \gamma)) \\
		& = -((\alpha (-\beta)) \gamma) & (\text{\stepref{1}}) \\
		& = (-(\alpha (-\beta))) \gamma \\
		& = (\alpha \beta) \gamma
	\end{align*}
\end{proof}
\step{5}{\case{$\alpha$ is positive, $\beta$ and $\gamma$ are negative.}}
\begin{proof}
	\pf
	\begin{align*}
		\alpha (\beta \gamma) & = \alpha ((-\beta)(-\gamma)) \\
		& = (\alpha (-\beta)) (-\gamma) & (\text{\stepref{1}}) \\
		& = (-(\alpha \beta))(- \gamma) \\
		& = (\alpha \beta) \gamma
	\end{align*}
\end{proof}
\step{6}{\case{$\alpha$ is negative, $\beta$ and $\gamma$ are positive.}}
\begin{proof}
	\pf\ Similar to \stepref{3}.
\end{proof}
\step{7}{\case{$\alpha$ is negative, $\beta$ is positive, $\gamma$ is negative.}}
\begin{proof}
	\pf
	\begin{align*}
		\alpha (\beta \gamma) & = \alpha (-(\beta(-\gamma))) \\
		& = (-\alpha)(\beta(-\gamma)) \\
		& = ((-\alpha) \beta)(- \gamma) & (\text{\stepref{1}}) \\
		& = (-(\alpha \beta))(-\gamma) \\
		& = (\alpha \beta) \gamma
	\end{align*}
\end{proof}
\step{8}{\case{$\alpha$ and $\beta$ are negative, $\gamma$ is positive.}}
\begin{proof}
	\pf\ Similar to \stepref{5}.
\end{proof}
\step{9}{\case{$\alpha$, $\beta$ and $\gamma$ are all negative.}}
\begin{proof}
	\pf
	\begin{align*}
		\alpha (\beta \gamma) & = \alpha (-(-\beta)(-\gamma)) \\
		& = -((-\alpha)((-\beta)(-\gamma))) \\
		& = -(((- \alpha)(- \beta)) (-\gamma)) & (\text{\stepref{1}}) \\
		& = -((\alpha \beta) (-\gamma)) \\
		& = (\alpha \beta) \gamma
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
For any cut $\alpha$ we have $\alpha 1^* = \alpha$.
\end{prop}

\begin{proof} %TODO Finish these
\pf
\step{1}{\case{$\alpha$ is positive.}}
\begin{proof}
	\step{a}{$\alpha 1^* \subseteq \alpha$}
	\step{b}{$\alpha \subseteq \alpha 1^*$}
\end{proof}
\step{2}{\case{$\alpha = 0^*$}}
\step{3}{\case{$\alpha$ is negative.}}
\qed
\end{proof}

\begin{thm}
There exists an ordered field with the least upper bound property.
\end{thm}

\begin{prop}
There is no rational $p$ such that $p^2 = 2$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $p^2 = 2$.}}
\step{2}{\pick\ integers $m$, $n$ not both even such that $p = m / n$.} %TODO
\step{3}{$m^2 = 2n^2$}
\step{4}{$m$ is even.}
\step{5}{\pick\ an integer $k$ such that $m = 2k$.}
\step{6}{$4k^2 = 2n^2$}
\step{7}{$2k^2 = n^2$}
\step{8}{$n$ is even.}
\qedstep
\begin{proof}
	\pf\ \stepref{2}, \stepref{4} and \stepref{8} form a contradiction.
\end{proof}
\qed
\end{proof}

\begin{thm}
Any two complete ordered fields are isomorphic.
\end{thm}

%TODO

\begin{df}
Let $\mathbb{R}$ be the complete ordered field. We call its elements \emph{real numbers}.
\end{df}

\section{Properties of the Real Numbers}

\begin{thm}
$\mathbb{Q}$ is a subfield of $\mathbb{R}$.
\end{thm}

%TODO

\begin{thm}[Archimedean Property]
Let $x,y \in \mathbb{R}$ with $x > 0$. There exists a positive integer $n$ such that $nx > y$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$A = \{ nx : n \in \mathbb{Z}^+ \}$}}
\step{2}{\assume{for a contradiction there is no positive integer $n$ such that $nx > y$.}}
\step{3}{$y$ is an upper bound for $A$.}
\step{4}{\pflet{$\alpha = \sup A$}}
\step{5}{$\alpha - x$ is not an upper bound for $A$.}
\step{6}{\pick\ a positive integer $m$ such that $\alpha - x < mx$}
\step{7}{$\alpha < (m+1)x \in A$}
\qedstep
\begin{proof}
\pf\ This contradicts \stepref{4}.
\end{proof}
\qed
\end{proof}

\begin{thm}
$\mathbb{Q}$ is dense in $\mathbb{R}$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$x,y \in \mathbb{R}$ with $x < y$}}
\step{2}{\pick\ a positive integer $n$ such that
\[ n(y-x) > 1 \enspace . \]}
\begin{proof}
	\pf\ Archimedean property.
\end{proof}
\step{3}{\pick\ a positive integer $m_1$ such that $m_1 > nx$}
\begin{proof}
	\pf\ Archimedean property.
\end{proof}
\step{4}{\pick\ a positive integer $m_2$ such that $m_2 > -nx$}
\begin{proof}
	\pf\ Archimedean property.
\end{proof}
\step{5}{$-m_2 < nx < m_1$}
\step{6}{\pflet{$m$ be the integer such that
\[ m-1 \leq nx < m \enspace . \]}}
\step{7}{$nx < m \leq 1 + nx < ny$}
\step{8}{$x < m/n < y$}
\qed
\end{proof}

\begin{thm}
For every real number $x > 0$ and positive integer $n$, there exists a unique positive real number $y$ such that $y^n = x$.
\end{thm}

\begin{proof}
\pf
\step{1}{There exists a real $y > 0$ such that $y^n = x$.}
\begin{proof}
	\step{a}{\pflet{$E = \{ t \in \mathbb{R}^+ : t^n < x \}$}}
	\step{b}{\pflet{$y = \sup E$}}
	\begin{proof}
		\step{i}{$E \neq \emptyset$}
		\begin{proof}
			\step{one}{\pflet{$t = x / (x + 1)$}}
			\step{two}{$0 < t < 1$}
			\step{three}{$t^n < t < x$}
			\step{four}{$t \in E$}
		\end{proof}
		\step{ii}{$x + 1$ is an upper bound for $E$.}
		\begin{proof}
			\step{one}{\pflet{$t > x + 1$}}
			\step{two}{$t^n > t > x$}
			\step{three}{$t \notin E$}
		\end{proof}
	\end{proof}
	\step{c}{$y^n = x$}
	\begin{proof}
		\step{i}{$y^n \nless x$}
		\begin{proof}
			\step{one}{\assume{for a contradiction $y^n < x$.}}
			\step{two}{\pick\ $h$ such that $0 < h < 1$ and
			\[ h < \frac{x - y^n}{n(y+1)^{n-1}} \enspace . \]}
			\step{three}{$(y+h)^n - y^n < x - y^n$}
			\begin{proof}
				\pf
				\begin{align*}
					(y+h)^n - y^n & = ((y+h)-y) \sum_{i=0}^{n-1} (y+h)^{n-1-i}y^i \\
					& = h \sum_{i=0}^{n-1} (y+h)^{n-1-i}y^i \\
					& \leq hn(y+h)^{n-1} \\
					& \leq hn(y+1)^{n-1} \\
					& < x - y^n
				\end{align*}
			\end{proof}
			\step{four}{$(y+h)^n < x$}
			\step{five}{$y + h \in E$}
			\qedstep
			\begin{proof}
				\pf\ This contradicts the fact that $y$ is an upper bound for $E$.
			\end{proof}
		\end{proof}
		\step{ii}{$y^n \ngtr x$}
		\begin{proof}
			\step{one}{\assume{for a contradiction $y^n > x$}}
			\step{two}{\pflet{\[ k = \frac{y^n - x}{ny^{n-1}} \]}}
			\step{three}{$0 < k < y$}
			\step{four}{$y - k$ is an upper bound for $E$.}
			\begin{proof}
				\step{A}{\pflet{$t \geq y - k$}}
				\step{B}{$y^n - t^n \leq y^n - x$}
				\begin{proof}
					\pf
					\begin{align*}
						y^n - t^n & \leq y^n - (y-k)^n \\
						& = (y-(y-k)) \sum_{i=0}^{n-1} y^{n-i} (y-k)^i \\
						& = k \sum_{i=0}^{n-1} y^{n-i} (y-k)^i \\
						& \leq kn y^{n-1} \\
						& = y^n - x
					\end{align*}
				\end{proof}
				\step{C}{$t^n \geq x$}
				\step{D}{$t \notin E$}
			\end{proof}
			\qedstep
			\begin{proof}
				\pf\ This contradicts the fact that $y$ is the least upper bound of $E$.
			\end{proof}
		\end{proof}
	\end{proof}
\end{proof}
\step{2}{If $y$ and $y'$ are positive reals with $y^n = y'^n$ then $y = y'$.}
\begin{proof}
	\pf\ Since the function that sends $y$ to $y^n$ is strictly monotone.
\end{proof}
\qed
\end{proof}

\begin{df}[$n$th Root]
Given any real number $x > 0$ and positive integer $n$, the \emph{$n$th root} of $x$, denoted $x^{1/n}$, is the unique positive real such that
\[ (x^{1/n})^n = x \enspace . \]
We write $\sqrt{x}$ for $x^{1/2}$.
\end{df}

\begin{prop}
\label{prop:root_mult}
Let $a$ and $b$ be positive real numbers and $n$ a positive integer. Then
\[ (ab)^{1/n} = a^{1/n} b^{1/n} \enspace . \]
\end{prop}

\begin{proof}
\pf\ Since $(a^{1/n} b^{1/n})^n = ab$. \qed
\end{proof}

\begin{lm}
Let $b$ be a real number with $b > 1$. Let $n$ be a positive integer. Then
\[ b - 1 \geq n(b^{1/n} - 1) \enspace . \]
\end{lm}

\begin{proof}
\pf\ From Lemma \ref{lm:b_to_the_n_minus_1}. \qed
\end{proof}

\begin{lm}
\label{lm:Rudin_1_Exercise_7c}
Let $b$ and $t$ be real numbers with $b > 1$ and $t > 1$. For any positive integer $n$, if $n > \frac{b-1}{t-1}$ then $b^{1/n} < t$.
\end{lm}

\begin{proof}
\pf
\begin{align*}
b-1 & \geq n (b^{1/n} - 1) \\
\therefore \frac{b-1}{n} & \geq b^{1/n} - 1 \\
\therefore t-1 & > b^{1/n} - 1 \\
\therefore t & > b^{1/n} & \qed
\end{align*}
\end{proof}

\begin{lm}
Let $b$ be a real number with $b > 0$. Let $m$, $n$, $p$, $q$ be integers with $n > 0$ and $q > 0$. Assume $m/n = p/q$. Then
\[ (b^m)^{1/n} = (b^p)^{1/q} \enspace . \]
\end{lm}

\begin{proof}
\pf
\step{1}{$(b^m)^{1/n} = (b^{1/n})^m$}
\begin{proof}
	\pf
	\begin{align*}
		((b^{1/n})^m)^n & = ((b^{1/n})^n)^m \\
		& = b^m
	\end{align*}
\end{proof}
\step{2}{$((b^m)^{1/n})^q = b^p$}
\begin{proof}
	\pf
	\begin{align*}
		((b^m)^{1/n})^q & = (b^{1/n})^{mq} \\
		& = (b^{1/n})^{np} \\
		& = b^p
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}
For $a$ a positive real and $q$ a rational number, we may therefore define $a^q$ by
\[ a^{m/n} = (a^m)^{1/n} \]
for $m$ and $n$ integers with $n > 0$.
\end{df}

\begin{prop}
Let $a$ be a positive real and $r$, $s$ rational numbers. Then
\[ a^{r+s} = a^r a^s \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
a^{m/n + p/q} & = a^{(mq+np)/nq} \\
& = (a^{mq+np})^{1/nq} \\
& = (a^{mq})^{1/nq} (a^{np})^{1/nq} \\
& = a^{m/n} a^{p/q} & \qed
\end{align*}
\end{proof}

\begin{prop}
Let $b > 1$ be a real number and $q$ a rational number. Then
\[ b^q = \sup \{ b^t : t \in \mathbb{Q}, t \leq q \} \]
\end{prop}

\begin{proof}
\pf\ It is the greatest element of this set. \qed
\end{proof}

\begin{df}
Let $b > 1$ be a real number and $x$ a real number. Then
\[ b^x = \sup \{ b^t : t \in \mathbb{Q}, t \leq x \} \enspace . \]
\end{df}

\begin{lm}
Let $b$, $w$ and $y$ be real numbers with $b > 1$. Assume $b^w < y$. Then there exists a positive integer $n$ such that $b^{w + 1/n} < y$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pflet{$t = yb^{-w}$}}
\step{2}{\pick\ a positive integer $n$ such that $n > \frac{b-1}{t-1}$.}
\step{3}{$b^{1/n} < t$}
\begin{proof}
	\pf\ Lemma \ref{lm:Rudin_1_Exercise_7c}.
\end{proof}
\step{4}{$b^{w + 1/n} < y$}
\qed
\end{proof}

\begin{lm}
\label{lm:Rudin_1_Exercise_7e}
Let $b$, $w$ and $y$ be real numbers with $b > 1$. Assume $b^w > y$. Then there exists a positive integer $n$ such that $b^{w - 1/n} < y$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pflet{$t = b^w/y$}}
\step{2}{\pick\ a positive integer $n$ such that $n > \frac{b-1}{t-1}$}
\step{3}{$b^{1/n} < t$}
\begin{proof}
	\pf\ Lemma \ref{lm:Rudin_1_Exercise_7c}.
\end{proof}
\step{4}{$y < b^{w-1/n}$}
\qed
\end{proof}

\begin{prop}
For $b$ and $x$ real numbers with $b > 1$ we have
\[ b^x = \sup \{ b^t : t \in \mathbb{Q}, t < x \} \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{$b^x$ is an upper bound for $\{ b^t : t \in \mathbb{Q}, t < x \}$.}
\step{2}{\pflet{$u$ be any upper bound for $\{ b^t : t \in \mathbb{Q}, t < x \}$.} \prove{$b^x \leq u$}}
\step{3}{\pflet{$q$ be a rational number with $q \leq x$.} \prove{$b^q \leq u$}}
\step{4}{\assume{for a contradiction $b^q > u$.}}
\step{5}{\pick\ a positive integer $n$ such that $b^{q-1/n} > u$.}
\begin{proof}
	\pf\ Lemma \ref{lm:Rudin_1_Exercise_7e}.
\end{proof}
\step{6}{$b^{q-1/n} \leq u$}
\begin{proof}
	\pf\ \stepref{2}
\end{proof}
\qedstep
\begin{proof}
	\pf\ This contradicts \stepref{4}.
\end{proof}
\qed
\end{proof}

\begin{lm}
\label{lm:sup_prod}
Let $A$ be a set of positive real numbers with supremum $a > 0$ and $B$ a set of positive real numbers with supremum $b > 0$. Then $ab$ is the supremum of $\{ xy : x \in A, y \in B \}$.
\end{lm}

\begin{proof}
\pf
\step{1}{For all $x \in A$ and $y \in B$ we have $xy \leq ab$.}
\step{2}{If $u$ is any upper bound for $\{ xy : x \in A, y \in B \}$ then $ab \leq u$.}
\begin{proof}
	\step{a}{\pflet{$u$ be an upper bound for $\{ xy : x \in A, y \in B \}$.}}
	\step{b}{For all $x \in A$ we have $u/x$ is an upper bound for $B$.}
	\step{c}{For all $x \in A$ we have $b \leq u /x$}
	\step{d}{For all $x \in A$ we have $x \leq u /b$}
	\step{e}{$a \leq u / b$}
	\step{f}{$ab \leq u$}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $b,x,y \in \mathbb{R}$ with $b > 1$. Then
\[ b^{x+y} = b^x b^y \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{For any rational number $q < x + y$, there exist rational numbers $r < x$ and $s < y$ such that $q = r + s$.}
\begin{proof}
\step{a}{$q - x < y$}
\step{b}{\pick\ a rational $t$ such that $q - x < t < y$}
\step{c}{$q = t + (q-t)$ and $t < y$, $q-t < x$}
\end{proof}
\step{2}{$b^x b^y = b^{x+y}$}
\begin{proof}
\pf
\begin{align*}
b^x b^y & = \sup \{ b^q b^r : q,r \in \mathbb{Q}, q < x, r < y \} \\
& = \sup \{ b^{q+r} : q,r \in \mathbb{Q}, q < x, r < y \} \\
& = \sup \{ b^q : q \in \mathbb{Q}, q < x + y \} \\
& = b^{x+y}
\end{align*}
\end{proof}
\qed
\end{proof}

\subsection{Logarithms}

\begin{prop}
Let $b$ and $y$ be real numbers with $b > 1$ and $y > 0$. There exists a unique real $x$ such that $b^x = y$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$x = \sup \{ w : b^w < y \}$} \prove{$b^x = y$}}
\begin{proof}
	\step{a}{$\{ w : b^w < y \} \neq \emptyset$}
	\begin{proof}
		\pf\ It contains 0.
	\end{proof}
	\step{b}{$\{ w : b^w < y \}$ is bounded above.}
	\begin{proof}
		\step{i}{\pflet{$n$ be the least integer such that
		\[ n \geq \frac{y-1}{b-1} \]}}
		\begin{proof}
			\pf\ Archimedean property.
		\end{proof}
		\step{ii}{\pflet{$w$ be a real number with $b^w < y$} \prove{$w < n$}}
		\step{iii}{$b^w < n(b-1) + 1$}
		\step{iv}{$b^w < b^n$}
		\step{v}{$w < n$}
	\end{proof}
\end{proof}
\step{2}{$b^x \leq y$}
\begin{proof}
	\step{a}{\assume{for a contradiction $b^x > y$}}
	\step{b}{\pick\ a positive integer $n$ such that $b^{x-1/n} > y$}
	\begin{proof}
		\pf\ Lemma \ref{lm:Rudin_1_Exercise_7e}.
	\end{proof}
	\step{c}{\pick\ $w$ such that $x - 1/n < w$ and $b^w < y$}
	\begin{proof}
		\pf\ Since $x - 1/n$ is not an upper bound for $\{ w : b^w < y \}$.
	\end{proof}
	\step{d}{$b^{x-1/n} < y$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts \stepref{b}.
	\end{proof}
\end{proof}
\step{3}{$b^x \geq y$}
\begin{proof}
	\step{a}{\assume{for a contradiction $b^x < y$.}}
	\step{b}{\pick\ a positive integer $n$ such that $b^{x + 1/n} < y$.}
	\step{c}{$x + 1/n \leq x$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}[Logarithm]
Let $b$ and $y$ be real numbers with $b > 1$ and $y > 0$. The \emph{logarithm} of $y$ to \emph{base} $b$, denoted $\log_b y$, is the unique real number such that
\[ b^{\log_b y} = y \enspace . \]
\end{df}

\subsection{Intervals}

\begin{df}[Intervals]
Let $a, b \in \mathbb{R}$. 

The \emph{open interval} $(a,b)$ is $\{ x \in \mathbb{R} : a < x < b \}$.

The \emph{closed interval} $[a,b]$ is $\{ x \in \mathbb{R} : a \leq x \leq b \}$.

The \emph{half-open intervals} $[a,b)$ and $(a,b]$ are defined by
\begin{align*}
[a,b) & := \{ x \in \mathbb{R} : a \leq x < b \} \\
(a,b] & := \{ x \in \mathbb{R} : a < x \leq b \}
\end{align*}
\end{df}

\begin{prop}
Let $(I_n)$ be a sequence of closed intervals with $I_0 \supseteq I_1 \supseteq \cdots$. Then $\bigcap_{n=0}^\infty I_n$ is nonempty.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$I_n = [a_n,b_n]$}}
\step{2}{\pflet{$x = \sup_n a_n$}}
\begin{proof}
	\pf\ $\{ a_n : n \in \mathbb{N} \}$ is bounded above by $b_0$.
\end{proof}
\step{3}{$x \in \bigcap_{n=0}^\infty I_n$}
\begin{proof}
	\pf\ For all $n$ we have $a_n \leq x \leq b_n$ since $b_n$ is an upper bound for $\{ a_n : n \in \mathbb{N} \}$.
\end{proof}
\qed
\end{proof}

\begin{df}[$k$-cell]
Let $k$ be a positive integer. A \emph{$k$-cell} is a subset of $\mathbb{R}^k$ of the form
\[ \{ \vec{x} \in \mathbb{R}^k : \forall i = 1, \ldots, k. a_i \leq x_i \leq b_i \} \]
for some real numbers $a_1$, \ldots, $a_k$, $b_1$, \ldots, $b_k$ with $a_i \leq b_i$ for each $i$.
\end{df}

\begin{prop}
Let $(I_n)$ be a sequence of $k$-cells such that $I_0 \supseteq I_1 \supseteq \cdots$. Then $\bigcap_{n=0}^\infty I_n \neq \emptyset$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$I_n = J_{n1} \times \cdots \times J_{nk}$ where each $J_{ni}$ is a closed interval.}}
\step{2}{For $i = 1, \ldots, k$, \pick\ $a_i \in \bigcap_{n=0}^\infty J_{ni}$.}
\step{3}{$(a_1, \ldots, a_k) \in \bigcap_{n=0}^\infty I_n$}
\qed
\end{proof}

\subsection{The Cantor Set}

\begin{df}[Cantor Set]
Define a sequence $E_n$ of unions of intervals as follows:
\begin{itemize}
\item $E_0 = [0,1]$
\item $E_{n+1}$ is formed from $E_n$ by replacing every interval $[a,b]$ with $[a,(2a+b)/3]$ and $[(a+2b)/3,b]$.
\end{itemize}
The \emph{Cantor set} is $\bigcap_{n=0}^\infty E_n$.
\end{df}

\section{The Extended Real Number System}

\begin{df}[Extended Real Number System]
The \emph{extended real number system} is the set $\mathbb{R} \cup \{ + \infty, - \infty \}$.

We extend the ordering $\leq$ to the extended reals by defining
\[ - \infty < x < + \infty \]
for every $x \in \mathbb{R}$.

We extend $+$, $\cdot$ and $/$ to partial operations on the extended real by defining:
\begin{align*} 
x + (+\infty) & = + \infty & (x \in \mathbb{R}) \\
x + (- \infty) & = - \infty & (x \in \mathbb{R}) \\
(+ \infty) + x & = + \infty & (x \in \mathbb{R}) \\
(+ \infty) + (+ \infty) & \text{ is undefined} \\
(+ \infty) + (- \infty) & \text{ is undefined} \\
(- \infty) + x & = - \infty & (x \in \mathbb{R}) \\
(- \infty) + (+ \infty) & \text{ is undefined} \\
(- \infty) + (- \infty) & \text{ is undefined} \\
x \cdot (+ \infty) & = + \infty & (x \in \mathbb{R}) \\
x \cdot (- \infty) & = - \infty & (x \in \mathbb{R}) \\
(+ \infty) \cdot x & = + \infty & (x \in \mathbb{R}) \\
(+ \infty) \cdot (+ \infty) & \text{ is undefined} \\
(+ \infty) \cdot (- \infty) & \text{ is undefined} \\
(- \infty) \cdot x & = - \infty & (x \in \mathbb{R}) \\
(- \infty) \cdot (+ \infty) & \text{ is undefined} \\
(- \infty) \cdot (- \infty) & \text{ is undefined} \\
x / (+ \infty) & = 0 & (x \in \mathbb{R}) \\
x / (- \infty) & = 0 & (x \in \mathbb{R}) \\
(+ \infty) / x & \text{ is undefined} & (x \in \mathbb{R}) \\
(+ \infty) / (+ \infty) & \text{ is undefined} \\
(+ \infty) / (- \infty) & \text{ is undefined} \\
(- \infty) / x & \text{ is undefined} & (x \in \mathbb{R}) \\
(- \infty) / (+ \infty) & \text{ is undefined} \\
(- \infty) / (- \infty) & \text{ is undefined}
\end{align*}
\end{df}

\chapter{Complex Analysis}

\renewcommand{\Re}{\ensuremath{\operatorname{Re}}}
\renewcommand{\Im}{\ensuremath{\operatorname{Im}}}

\begin{df}[Complex Numbers]
A \emph{complex number} is a pair of real numbers. We write $\mathbb{C}$ for the set of complex numbers.

Define $+$ and $\cdot$ on $\mathbb{C}$ by:
\begin{align*}
(a,b) + (c,d) & = (a+c,b+d) \\
(a,b)(c,d) & = (ac-bd,ad+bc)
\end{align*}
\end{df}

\begin{thm}
The complex numbers form a field.
\end{thm}

%TODO

\begin{thm}
The function that maps $a$ to $(a,0)$ is an embedding of $\mathbb{R}$ in $\mathbb{C}$.
\end{thm}

%TODO

\begin{df}
\[ i = (0,1) \]
\end{df}

\begin{lm}
\[ (a,b) = a + ib \]
\end{lm}

\begin{proof}
\pf\ Since $(a,0) + (0,1)(b,0) = (a,b)$. \qed
\end{proof}

\begin{lm}
\[ i^2 = -1 \]
\end{lm}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{cor}
There is no linear order on $\mathbb{C}$ that makes $\mathbb{C}$ into an ordered field.
\end{cor}

\begin{df}[Complex Conjugate]
For any complex number $z$, the \emph{complex conjugate} $\overline{z}$ is defined by
\[ \overline{a + ib} = a - ib \qquad (a,b \in \mathbb{R}) \enspace . \]
\end{df}

\begin{df}[Real Part]
For any complex number $z$, the \emph{real part} of $z$, denoted $\Re(z)$, is defined by
\[ \Re(a + ib) = a \qquad (a,b \in \mathbb{R}) \enspace . \]
\end{df}

\begin{df}[Imaginary Part]
For any complex number $z$, the \emph{imaginar part} of $z$, denoted $\Im(z)$, is defined by
\[ \Im(a + ib) = b \qquad (a,b \in \mathbb{R}) \enspace . \]
\end{df}

\begin{thm}
For all $z,w \in \mathbb{C}$ we have
\[ \overline{z + w} = \overline{z} + \overline{w} \enspace . \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
\overline{(a + ib) + (c + id)} & = \overline{(a + c) + i (b + d)} \\
& = (a + c) - i(b+ d) \\
& = (a-ib) + (c-id) \\
& = \overline{a + ib} + \overline{c + id} & \qed
\end{align*}
\end{proof}

\begin{thm}
For all $z,w \in \mathbb{C}$ we have
\[ \overline{zw} = \overline{z} \cdot \overline{w} \enspace . \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
\overline{(a+ib)(c+id)} & = \overline{(ac-bd) + i(ad+bc)} \\
& = (ac-bd)-i(ad+bc) \\
& = (a-ib)(c-id) \\
& = \overline{a+ib} \cdot \overline{c+id} & \qed
\end{align*}
\end{proof}

\begin{thm}
\label{thm:Re_z_plus_zbar}
For all $z \in \mathbb{C}$ we have
\[ \Re(z) = \frac{1}{2} (z + \overline{z}) \enspace . \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
(a+ib) + \overline{a+ib} & = (a+ib) + (a-ib) \\
& = 2a \\
& = 2 \Re(a+ib) & \qed
\end{align*}
\end{proof}

\begin{thm}
For all $z \in \mathbb{C}$ we have
\[ \Im(z) = \frac{1}{2i} (z - \overline{z}) \enspace . \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
(a+ib) - \overline{a+ib} & = (a+ib) - (a-ib) \\
& = 2ib \\
& = 2 i\Im(a+ib) & \qed
\end{align*}
\end{proof}

\begin{thm}
For all $z \in \mathbb{C}$ we have $z \overline{z}$ is a non-negative real.
\end{thm}

\begin{proof}
\pf
\begin{align*}
(a+ib) (\overline{a+ib}) & = (a+ib)(a-ib) \\
& = a^2 + b^2 & \qed
\end{align*}
\end{proof}

\begin{thm}
\label{thm:zz_zero}
For any $z \in \mathbb{C}$, if $z \overline{z} = 0$ then $z = 0$.
\end{thm}

\begin{proof}
\pf\ Let $z = a + ib$. Then $z \overline{z} = a^2 + b^2 = 0$ iff $a = b = 0$. \qed
\end{proof}

\begin{df}[Absolute Value]
For $z \in \mathbb{C}$, the \emph{absolute value} of $z$ is
\[ |z| = (z \overline{z})^{1/2} \enspace . \]
\end{df}

\begin{prop}
For $x$ a non-negative real we have $|x| = x$.
\end{prop}

\begin{proof}
\pf\ Since $|x| = \sqrt{x^2} = x$. \qed
\end{proof}

\begin{prop}
For $x$ a negative real we have $|x| = -x$.
\end{prop}

\begin{proof}
\pf\ Since $|x| = \sqrt{x^2} = -x$. \qed
\end{proof}

\begin{thm}
For any complex number $z$ we have $|z| \geq 0$.
\end{thm}

\begin{proof}
\pf\ Immediate from definition. \qed
\end{proof}

\begin{thm}
For any complex number $z$, if $|z| = 0$ then $z = 0$.
\end{thm}

\begin{proof}
\pf\ From Theorem \ref{thm:zz_zero}. \qed
\end{proof}

\begin{thm}
For any complex number $z$ we have
\[ |\overline{z}| = |z| \enspace . \]
\end{thm}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{thm}
\label{thm:abs_mult}
For any complex numbers $z$ and $w$ we have
\[ |zw| = |z||w| \enspace . \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
|zw| & = \sqrt{zw \overline{z} \overline{w}} \\
& = \sqrt{z \overline{z}} \sqrt{w \overline{w}} & (\text{Proposition \ref{prop:root_mult}}) \\
& = |z||w| & \qed
\end{align*}
\end{proof}

\begin{thm}
\label{thm:Re_leq_abs}
For any complex number $z$ we have
\[ |\Re z| \leq |z| \]
\end{thm}

\begin{proof}
\pf\ Let $z = a + ib$. Then
\[ |\Re z| = \sqrt{a^2} \leq \sqrt{a^2 + b^2} \enspace .  \qed \]
\end{proof}

\begin{thm}
For any complex numbers $z$ and $w$ we have
\[ |z+w| \leq |z| + |w| \enspace . \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
|z+w|^2 & = (z+w)(\overline{z} + \overline{w}) \\
& = z \overline{z} + z \overline{w} + \overline{z} w + w \overline{w} \\
& = |z|^2 + 2 \Re(z \overline{w}) + |w|^2 & 
(\text{Theorem \ref{thm:Re_z_plus_zbar}}) \\
& \leq |z|^2 + 2 |z \overline{w}| + |w|^2 &
(\text{Theorem \ref{thm:Re_leq_abs}}) \\
& = |z|^2 + 2 |z||w| + |w|^2 &
(\text{Theorem \ref{thm:abs_mult}}) \\
& = (|z| + |w|)^2 & \qed
\end{align*}
\end{proof}

\begin{thm}[Schwarz Inequality]
Let $a_1$, \ldots, $a_n$, $b_1$, \ldots, $b_n$ be complex numbers. Then
\[ \left| \sum_{j=1}^n a_j \overline{b_j} \right|^2 \leq \sum_{j=1}^n |a_j|^2 \sum_{j=1}^n |b_j|^2 \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$A = \sum_{j=1}^n |a_j|^2$}}
\step{2}{\pflet{$B = \sum_{j=1}^n |b_j|^2$}}
\step{3}{\pflet{$C = \sum_{j=1}^n a_j \overline{b_j}$}}
\step{4}{\assume{w.l.o.g. $B > 0$}}
\begin{proof}
	\pf\ If $B = 0$ then $b_1 = \cdots = b_n = 0$ and both sides of the inequality are 0.
\end{proof}
\step{5}{$\sum_{j=1}^n |Ba_j - Cb_j|^2 = B(AB - |C|^2)$}
\begin{proof}
	\pf
	\begin{align*}
		\sum_{j=1}^n |Ba_j - Cb_j|^2 & = \sum_{j=1}^n (Ba_j - Cb_j)(B \overline{a_j} - \overline{C} \overline{b_j}) \\
		& = B^2 \sum_{j=1}^n |a_j|^2 - B \overline{C} \sum_{j=1}^n a_j \overline{b_j} - BC \sum_{j=1}^n \overline{a_j} b_j + |C|^2 \sum_{j=1}^n |b_j|^2 \\
		& = B^2 A - 2 B |C|^2 + B |C|^2 \\
		& = B(AB - |C|^2)
	\end{align*}
\end{proof}
\step{6}{$B(AB-|C|^2) \geq 0$}
\step{7}{$AB \geq |C|^2$}
\qed
\end{proof}

\begin{prop}
For any non-zero complex number $w$, there are exactly two complex numbers $z$ such that $z^2 = w$.
\end{prop}

\begin{proof}
\pf
\step{1}{There are at most two complex numbers $z$ such that $z^2 = w$.}
\begin{proof}
	\pf\ Proposition \ref{prop:at_most_two_square_roots}.
\end{proof}
\step{2}{There are at least two complex numbers $z$ such that $z^2 = w$.}
\begin{proof}
	\step{a}{\pflet{$w = u + iv$}}
	\step{b}{\pflet{$a = \sqrt{\frac{|w| + u}{2}}$}}
	\step{c}{\pflet{$b = \sqrt{\frac{|w| - u}{2}}$}}
	\step{d}{\case{$v \geq 0$}}
	\begin{proof}
		\step{i}{\pflet{$z = a + ib$}}
		\step{ii}{$z^2 = w$}
		\begin{proof}
			\pf
			\begin{align*}
				z^2 & = (a + ib)^2 \\
				& = a^2 - b^2 + 2iab \\
				& = u + i \sqrt{|w|^2-u^2} \\
				& = u + iv \\
				& = w
			\end{align*}
		\end{proof}
		\step{iii}{$(-z)^2 = w$}
	\end{proof}
	\step{e}{\case{$v \leq 0$}}
	\begin{proof}
		\step{i}{\pflet{$z = a - ib$}}
		\step{ii}{$z^2 = w$}
		\begin{proof}
			\pf
			\begin{align*}
				z^2 & = (a-ib)^2 \\
				& = a^2 - b^2 -2iab \\
				& = u - i \sqrt{|w|^2 - u^2} \\
				& = u - i |v| \\
				& = w
			\end{align*}
		\end{proof}
		\step{iii}{$(-z)^2 = w$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Algebraic Numbers}

\begin{df}[Algebraic]
A complex number $z$ is \emph{algebraic} iff there exist integers $a_0$, $a_1$, \ldots, $a_n$ not all zero such that
\[ a_0 z^n + a_1 z^{n-1} + \cdots + a_{n-1} z + a_n = 0 \enspace ; \]
otherwise, it is \emph{transcendental}.
\end{df}

\begin{prop}
The set of algebraic numbers is countable.
\end{prop}

\begin{proof}
\pf\ There are countably many finite sequences of integers $(a_0, a_1, \ldots, a_n)$, and for each one, there are only finitely many complex numbers $z$ such that $a_0 z^n + a_1 z^{n-1} + \cdots + a_n = 0$. \qed
\end{proof}

\part{Linear Algebra}

\newcommand{\tr}[1]{\ensuremath{\operatorname{tr}}}

\chapter{Vector Spaces}

\section{Convex Sets}

\begin{df}[Convex]
Let $E \subseteq \mathbb{R}^k$. Then $E$ is \emph{convex} iff, for all $\vec{x}, \vec{y} \in E$ and $\lambda \in (0,1)$,
\[ \lambda \vec{x} + (1 - \lambda) \vec{y} \in E \enspace . \]
\end{df}

\begin{prop}
Every $k$-cell is convex.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$C = \{ \vec{x} \in \mathbb{R}^k : \forall i. a_i \leq x_i \leq b_i \}$ be a $k$-cell.}}
\step{2}{\pflet{$\vec{x}, \vec{y} \in C$ and $\lambda \in (0,1)$.} \prove{$\lambda \vec{x} + (1-\lambda) \vec{y} \in C$}}
\step{3}{For each $i$ we have $a_i \leq \lambda x_i + (1-\lambda) y_i \leq b_i$}
\begin{proof}
\pf\ Since $\lambda a_1 + (1-\lambda) a_i \leq \lambda x_i + (1 - \lambda) y_i \leq \lambda b_i + (1 - \lambda) b_i$.
\end{proof}
\qed
\end{proof}

\chapter{Real Inner Product Spaces}

\begin{df}[Inner Product]
Given $\vec{x}, \vec{y} \in \mathbb{R}^k$, define the \emph{inner product} $\vec{x} \cdot \vec{y}$ by
\[ (x_1, \ldots, x_k) \cdot (y_1, \ldots, y_k) = x_1 y_1 + \cdots + x_k y_k \enspace . \]
\end{df}

\begin{df}[Norm]
Define the \emph{norm} of a vector $\vec{x} \in \mathbb{R}^k$ by
\[ \|\vec{x}\| = \sqrt{\vec{x} \cdot \vec{x}} \enspace . \]
\end{df}

\begin{prop}
\[ \|\vec{x}\| \geq 0 \]
\end{prop}

\begin{proof}
\pf\ Immediate from the definition. \qed
\end{proof}

\begin{prop}
If $\|\vec{x}\| = 0$ then $\vec{x} = \vec{0}$.
\end{prop}

\begin{proof}
\pf\ If $\|\vec{x}\| = 0$ then $x_1^2 + \cdots + x_n^2 = 0$ so $x_1 = \cdots = x_n = 0$. \qed
\end{proof}

\begin{prop}
For $\alpha \in \mathbb{R}$ and $\vec{x} \in \mathbb{R}^k$,
\[ \| \alpha \vec{x} \| = |\alpha| \| \vec{x} \| \enspace . \]
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{prop}
\label{prop:norm_x_dot_y}
For $\vec{x}, \vec{y} \in \mathbb{R}^k$, we have
\[ \| \vec{x} \cdot \vec{y} \| \leq \| \vec{x} \| \| \vec{y} \| \enspace . \]
\end{prop}

\begin{proof}
\pf\ By the Schwarz inequality. \qed
\end{proof}

\begin{prop}
For $\vec{x}, \vec{y} \in \mathbb{R}^k$ we have
\[ \| \vec{x} + \vec{y} \| \leq \| \vec{x} \| + \| \vec{y} \| \enspace . \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
\| \vec{x} + \vec{y} \|^2 & = (\vec{x} + \vec{y}) \cdot (\vec{x} + \vec{y}) \\
& = \vec{x} \cdot \vec{x} + 2 \vec{x} \cdot \vec{y} + \vec{y} \cdot \vec{y} \\
& \leq \| \vec{x} \|^2 + 2 \| \vec{x} \| \| \vec{y} \| + \| \vec{y} \|^2 & (\text{Proposition \ref{prop:norm_x_dot_y}}) \\
& = (\| \vec{x} \| + \| \vec{y} \|)^2 & \qed
\end{align*}
\end{proof}

\begin{cor}
\label{cor:triangle_inequality}
For $\vec{x}, \vec{y}, \vec{z} \in \mathbb{R}^k$ we have
\[ \| \vec{x} - \vec{z} \| \leq \| \vec{x} - \vec{y} \| + \| \vec{y} - \vec{z} \| \enspace . \]
\end{cor}

\section{Balls}

\begin{df}[Closed Ball]
Let $\vec{x} \in \mathbb{R}^k$ and $r > 0$. The \emph{closed ball} with \emph{centre} $\vec{x}$ and \emph{radius} $r$ is
\[ \{ y \in \mathbb{R}^k : \| y - x \| \leq r \} \enspace . \]
\end{df}

\begin{prop}
Every closed ball is convex.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$B$ be the closed ball with center $\vec{a}$ and radius $r$.}}
\step{2}{\pflet{$\vec{x}, \vec{y} \in B$}}
\step{3}{\pflet{$\lambda \in (0,1)$}}
\step{4}{$\lambda \vec{x} + (1-\lambda) \vec{y} \in B$}
\begin{proof}
\pf
\begin{align*}
\| \lambda \vec{x} + (1 - \lambda) \vec{y} - \vec{a} \|
& = \| \lambda (\vec{x} - \vec{a}) + (1 - \lambda) (\vec{y} - \vec{a}) \| \\
& = \lambda \| \vec{x} - \vec{a} \| + (1 - \lambda) \| \vec{y} - \vec{a} \| \\
& \leq \lambda r + (1 - \lambda) r \\
& = r & \qed
\end{align*}
\end{proof}
\qed
\end{proof}

\chapter{Complex Inner Product Spaces}

\newcommand{\ket}[1]{\ensuremath{\left| {#1} \right\rangle}}
\newcommand{\bra}[1]{\ensuremath{\left\langle {#1} \right|}}

\begin{df}[Inner Product]
Let $V$ be a complex vector space. An \emph{inner product} on $V$ is a function $\langle \ , \ \rangle :  V^2 \rightarrow \mathbb{C}$ such that, for all $x,y,z \in V$ and $\alpha \in \mathbb{C}$:
\begin{itemize}
\item $\langle y,x \rangle = \overline{\langle x,y \rangle}$
\item $\langle x+y,z \rangle = \langle x,z \rangle + \langle y,z \rangle$
\item $\langle \alpha x,y \rangle = \overline{\alpha} \langle x,y \rangle$
\item $\langle x,x \rangle \geq 0$
\item If $\langle x,x \rangle = 0$ then $x = 0$.
\end{itemize}
An \emph{inner product space} consists of a complex vector space $V$ and an inner product on $V$.
\end{df}

\begin{df}[Norm]
Let $V$ be an inner product space and $x \in V$. The \emph{norm} of $x$ is
\[ \| x \| = \sqrt{\langle x,x \rangle} \enspace . \]
\end{df}

\begin{prop}
An inner product space is a metric space under
\[ d(x,y) = \| x-y \| \enspace . \]
\end{prop}

%TODO

\begin{df}[Bounded]
Let $V_1$ and $V_2$ be inner product spaces and $T : V_1 \rightarrow V_2$ a linear transformation. Then $T$ is \emph{bounded} iff $\{ \| T(x) \| : \|x \| = 1 \}$ is bounded above.
\end{df}

\begin{prop}
Every linear transformation between finite dimensional inner product spaces is bounded.
\end{prop}

%TODO

\begin{df}[Outer Product]
Let $V$ be an inner product space and $\ket{\psi}, \ket{\phi} \in V$. The \emph{outer product} of $\ket{\psi}$ and $\ket{\phi}$ is
\[ \ket{\psi} \bra{\phi} : V \rightarrow V \enspace . \]
\end{df}

\section{Hilbert Spaces}

\begin{df}[Hilbert Space]
A \emph{Hilbert space} is a complete inner product space.
\end{df}

\begin{thm}[Completeness Relation]
Let $\mathcal{H}$ be a Hilbert space. Let $\{ \ket{e_n} \}_{n \in \mathbb{N}}$ be a countable orthonormal basis for $\mathcal{H}$. Then
\[ \sum_{n=0}^\infty \ket{e_n} \bra{e_n} = I \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\ket{\psi} \in \mathcal{H}$}}
\step{2}{\pflet{$\ket{\psi} = \sum_{n=0}^\infty \alpha_n \ket{e_n}$}}
\step{3}{$\sum_{n=0}^\infty \langle e_n | \phi \rangle \ket{e_n} = \ket{\psi}$}
\begin{proof}
	\pf
	\begin{align*}
		\sum_{n=0}^\infty \langle e_n | \phi \rangle \ket{e_n} & = \sum_{n=0}^\infty \sum_{m=0}^\infty \alpha_m \langle e_n | e_m \rangle \ket{e_n} \\
		& = \sum_{n=0}^\infty \alpha_n \ket{e_n} \\
		& = \ket{\psi} & \qed
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}[Separable]
A Hilbert space is \emph{separable} iff it has a countable dense orthonormal basis.
\end{df}

\chapter{Lie Algebras}

\begin{df}[Lie Algebra]
Let $K$ be a field.
A \emph{Lie algebra} $\mathcal{L}$ over $K$ consists of a vector space $\mathcal{L}$ over $K$ and an operation
\[ [\ ,\ ] : \mathcal{L}^2 \rightarrow \mathcal{L} \enspace , \]
the \emph{Lie bracket} or \emph{commutator}, such that, for all $x,y,z \in \mathcal{L}$ and $\alpha \in K$:
\begin{align*}
[x+y,z] & = [x,z] + [y,z] \\
[x,y+z] & = [x,y] + [x,z] \\
[\alpha x,y] & = \alpha [x,y] \\
[x,x] & = 0 \\
[x,[y,z]] + [y,[z,x]] + [z,[x,y]] & = 0 & (\text{Jacobi identity})
\end{align*}
\end{df}

\begin{lm}
If $K$ has characteristic 0 then the condition $[x,x] = 0$ can be replaced with $[x,y] = -[y,x]$.
\end{lm}

%TODO

\begin{prop}
The commutator is determind by its values on any basis for $\mathcal{L}$.
\end{prop}

%TODO

\begin{ex}
$\mathbb{R}^3$ with the cross product is a real Lie algebra.
\end{ex}

\begin{ex}
For any $n \geq 0$, we have $GL(n,K)$ is a Lie algebra over $K$ under
\[ [A,B] = AB - BA \enspace . \]
\end{ex}

\begin{df}[Linear Lie Algebra]
A \emph{linear Lie algebra} over $K$ is a Lie algebra over $K$ that is a subalgebra of $GL(n,K)$ for some $n$.
\end{df}

\begin{ex}[Special Linear Algebra]
The \emph{special Linear algebra}
$SL(n,\mathbb{R}) = \{ A \in GL(n,\mathbb{R}) : \tr A = 0 \}$ is a real linear Lie algebra.
\end{ex}

\begin{ex}[Orthogonal Lie Algebra]
The \emph{orthogonal Lie algebra}
$SO(n,\mathbb{R}) = \{ A \in GL(n,\mathbb{R}) : A \text{ is skew-symmetric} \}$ is a real linear Lie algebra.
\end{ex}

\begin{ex}
Let $u(n)$ be the set of all skew-Hermitian $n \times n$-matrices as a real Lie algebra.

Let $su(n) = u(n) \cap SL(n, \mathbb{R})$.
\end{ex}

\begin{prop}
$SU(2)$ is spanned by the \emph{Pauli matrices}
\[ \sigma_x = \frac{1}{2} \left( \begin{array}{cc}
0 & i \\
i & 0 \end{array} \right), \qquad
\sigma_y = \frac{1}{2} \left( \begin{array}{cc}
0 & -1 \\
1 & 0 \end{array} \right), \qquad
\sigma_z = \frac{1}{2} \left( \begin{array}{cc}
i & 0 \\
0 & -i
\end{array} \right) \]
which satisfy
\begin{align*}
[\sigma_x, \sigma_y] & = \sigma_z \\
[\sigma_y, \sigma_z] & = \sigma_x \\
[\sigma_z, \sigma_x] & = \sigma_y
\end{align*}
\end{prop}

%TODO

\section{Lie Algebar Homomorphisms}

\begin{df}[Homomorphism]
Let $L_1$ and $L_2$ be Lie algebras over the same field. A \emph{Lie algebra homomorphism} $\phi : L_1 \rightarrow L_2$ is a linear transformation such that
\[ \phi([x,y]) = [\phi(x), \phi(y)] \]
for all $x,y \in L_1$.
\end{df}

\begin{lm}
Every bijective Lie algebra homomorphism is an isomorphism.
\end{lm}

%TODO

\begin{df}[Representation]
Let $L$ be a real (complex) Lie algebra. A \emph{representation} of $L$ is a Lie algebra homomorphism $L \rightarrow GL(n, \mathbb{R})$ ($GL(n, \mathbb{C})$) for some $n$.
\end{df}

\begin{ex}
The linear transformation $\mathbb{R}^3 \rightarrow su(2)$ defined by
\[ i \mapsto \sigma_x, j \mapsto \sigma_y, k \mapsto \sigma_z \]
is a representation of $\mathbb{R}^3$.
\end{ex}

\part{Topology}

\chapter{Metric Spaces}

\begin{df}[Metric]
A \emph{metric} on a set $X$ is a function $d : X^2 \rightarrow \mathbb{R}$ such that, for all $x,y,z \in X$:
\begin{itemize}
\item $d(x,y) \geq 0$
\item $d(x,y) = 0$ iff $x = y$
\item $d(x,y) = d(y,x)$
\item \textbf{Triangle Inequality} $d(x,z) \leq d(x,y) + d(y,z)$
\end{itemize}

A \emph{metric space} $X$ consists of a set $X$ and a metric on $X$.
\end{df}

\begin{ex}
$\mathbb{R}^k$ is a metric space under $d(\vec{x},\vec{y}) = \| \vec{x} - \vec{y} \|$. The triangle inequality is Corollary \ref{cor:triangle_inequality}.
\end{ex}

\begin{ex}
For any set $X$, the \emph{discrete} metric on $X$ is defined by
\[ d(x,y) = \begin{cases}
1 & \text{if } x \neq y \\
0 & \text{if } x = y
\end{cases} \]
\end{ex}

\begin{prop}
Let $(X,d)$ be a metric space and $Y$ a subset of $X$. Then $d \restriction Y^2$ is a metric on $Y$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\section{Balls}

\begin{df}[Open Ball]
Let $\vec{x} \in \mathbb{R}^k$ and $r > 0$. The \emph{open ball} with \emph{centre} $\vec{x}$ and \emph{radius} $r$ is
\[ \{ y \in \mathbb{R}^k : \| y - x \| < r \} \enspace . \]
\end{df}

\begin{prop}
Every open ball in $\mathbb{R}^k$ is convex.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$B$ be the open ball with center $\vec{a}$ and radius $r$.}}
\step{2}{\pflet{$\vec{x}, \vec{y} \in B$}}
\step{3}{\pflet{$\lambda \in (0,1)$}}
\step{4}{$\lambda \vec{x} + (1-\lambda) \vec{y} \in B$}
\begin{proof}
\pf
\begin{align*}
\| \lambda \vec{x} + (1 - \lambda) \vec{y} - \vec{a} \|
& = \| \lambda (\vec{x} - \vec{a}) + (1 - \lambda) (\vec{y} - \vec{a}) \| \\
& = \lambda \| \vec{x} - \vec{a} \| + (1 - \lambda) \| \vec{y} - \vec{a} \| \\
& < \lambda r + (1 - \lambda) r \\
& = r & \qed
\end{align*}
\end{proof}
\qed
\end{proof}

\section{Limit Points}

\begin{df}[Limit Point]
Let $X$ be a metric space. Let $E \subseteq X$ and $p \in X$. Then $p$ is a \emph{limit point} of $E$ iff every open ball with centre $p$ contains a point of $E$ other than $p$.
\end{df}

\begin{prop}
\label{prop:limit_point_infinite_intersection}
Let $X$ be a metric space. Let $E \subseteq X$. Let $p$ be a limit point of $E$. Then every neighbourhood of $p$ contains infinitely many points of $E$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $N$ is a neighbourhood of $p$ that contains only finitely many points $q_1$, \ldots, $q_n$ of $E - \{p\}$.}}
\step{2}{\pflet{$r = \min(q_1, \ldots, q_n)$}}
\step{3}{\pflet{$B$ be the open ball with centre $p$ and radius $r$.}}
\step{4}{$B$ is a neighbourhood of $p$ that contains no points of $E$ other than $p$.}
\qed
\end{proof}

\begin{cor}
\label{cor:finite_no_limit_points}
A finite set has no limit points.
\end{cor}

\begin{df}[Isolated Point]
Let $X$ be a metric space. Let $E \subseteq X$ and $p \in X$. Then $p$ is an \emph{isolated point} of $E$ iff $p \in E$ and $p$ is not a limit point of $E$.
\end{df}

\section{Closed Sets}

\begin{df}[Closed Set]
Let $X$ be a metric space. Let $E \subseteq X$. Then $E$ is \emph{closed} iff every limit point of $E$ is a member of $E$.
\end{df}

\section{Interior Points}

\begin{df}[Interior Point]
Let $X$ be a metric space. Let $E \subseteq X$ and $p \in X$. Then $p$ is an \emph{interior point} of $E$ iff there exists an open ball $B$ with centre $p$ such that $B \subseteq E$.
\end{df}

\begin{df}[Interior]
The \emph{interior} of a set $E$, denoted $E^\circ$, is the set of all its interior points.
\end{df}

\begin{prop}
The interior of $E$ is the largest open set that is included in $E$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$I$ be the interior of $E$.}}
\step{2}{$I$ is open.}
\begin{proof}
	\step{a}{\pflet{$p \in I$}}
	\step{b}{\pick\ an open ball $B$ with centre $p$ such that $B \subseteq E$.}
	\step{c}{$B \subseteq I$}
	\begin{proof}
		\step{i}{\pflet{$q \in B$}}
		\step{ii}{There exists an open ball $B'$ with centre $q$ such that $B' \subseteq B$.}
		\step{iii}{There exists an open ball $B'$ with centre $q$ such that $B' \subseteq E$.}
		\step{iv}{$q \in I$}
	\end{proof}
\end{proof}
\step{3}{If $J$ is any open set and $J \subseteq E$ then $J \subseteq I$.}
\begin{proof}
	\step{a}{\pflet{$J$ be an open set.}}
	\step{b}{\assume{$J \subseteq E$}}
	\step{c}{For all $p \in J$, there exists an open ball $B$ with centre $p$ such that $B \subseteq J$.}
	\step{d}{For all $p \in J$, there exists an open ball $B$ with centre $p$ such that $B \subseteq E$.}
	\step{e}{$p \in I$}
\end{proof}
\qed
\end{proof}

\section{Open Sets}

\begin{df}[Open Sets]
Let $X$ be a metric space. Let $E \subseteq X$. Then $E$ is \emph{open} iff every point in $E$ is an interior point of $E$.
\end{df}

\begin{prop}
Every open ball is open.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$B$ be an open ball with centre $c$ and radius $r$.}}
\step{2}{\pflet{$x \in B$}}
\step{3}{\pflet{$\epsilon = r - d(x,c)$}}
\step{4}{\pflet{$B'$ be the open ball with centre $x$ and radius $\epsilon$.} \prove{$B' \subseteq B$}}
\step{5}{\pflet{$y \in B'$}}
\step{6}{$d(y,c) < r$}
\begin{proof}
	\pf
	\begin{align*}
		d(y,c) & \leq d(y,x) + d(x,c) & (\text{Triangle Inequality}) \\
		& < \epsilon + d(x,c) & (\text{\stepref{5}}) \\
		& = r & (\text{\stepref{3}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
A set is open if and only if its complement is closed.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E \subseteq X$}}
\step{2}{If $E$ is open then $X - E$ is closed.}
\begin{proof}
	\step{a}{\assume{$E$ is open.}}
	\step{b}{\pflet{$p$ be a limit point of $X - E$.} \prove{$p \in X - E$}}
	\step{c}{\assume{for a contradiction $p \in E$.}}
	\step{d}{\pick\ an open ball $B$ with centre $p$ such that $B \subseteq E$.}
	\step{e}{$B$ contains a point of $X - E$.}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ This contradicts \stepref{d}.
	\end{proof}
\end{proof}
\step{3}{If $X - E$ is closed then $E$ is open.}
\begin{proof}
	\step{a}{\assume{$X - E$ is closed.}}
	\step{b}{\pflet{$p \in E$}}
	\step{c}{\assume{for a contradiction no open ball with centre $p$ is a subset of $E$.}}
	\step{d}{Every open ball with centre $p$ intersects $X - E$.}
	\step{e}{$p$ is a limit point of $X - E$.}
	\step{f}{$p \in X - E$}
	\begin{proof}
		\pf\ \stepref{a}
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ This contradicts \stepref{b}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
A set is closed if and only if its complement is open.
\end{cor}

\begin{prop}
\label{prop:union_open}
The union of a set of open sets is open.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{U}$ be a set of open sets.}}
\step{2}{\pflet{$p \in \bigcup \mathcal{U}$}}
\step{3}{\pick\ $U \in \mathcal{U}$ such that $p \in U$.}
\step{4}{\pick\ an open ball $B$ with centre $p$ such that $B \subseteq U$.}
\step{5}{$B \subseteq \bigcup \mathcal{U}$}
\qed
\end{proof}

\begin{cor}
The intersection of a set of closed sets is closed.
\end{cor}

\begin{prop}
The intersection of two open sets is open.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$U$ and $V$ be open.}}
\step{2}{\pflet{$p \in U \cap V$}}
\step{3}{\pick\ open balls $B_1$ and $B_2$ with centre $p$ such that $B_1 \subseteq U$ and $B_2 \subseteq V$.}
\step{4}{\assume{w.l.o.g. the radius of $B_1$ is $\leq$ the radius of $B_2$.}}
\step{5}{$B_1 \subseteq U \cap V$}
\qed
\end{proof}

\begin{cor}
The union of two closed sets is closed.
\end{cor}

\begin{ex}
The intersection of a set of open sets is not necessarily open.

For every positive integer $n$, we have $(-1/n,1/n)$ is open in $\mathbb{R}$, but $\bigcap_{n=1}^\infty (-1/n,1/n) = \{0\}$ is not open.
\end{ex}

\begin{thm}
Let $X$ be a metric space. Let $Y \subseteq X$ and $E \subseteq Y$. Then $E$ is open in $Y$ if and only if there exists an open subset $G$ of $X$ such that $E = G \cap Y$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $E$ is open in $Y$ then there exists an open subset $G$ of $X$ such that $E = G \cap Y$.}
\begin{proof}
	\step{a}{\assume{$E$ is open in $Y$.}}
	\step{b}{For $p \in E$, \pick\ $r_p > 0$ such that the open ball in $Y$ with centre $p$ and radius $r_p$ is included in $E$.}
	\step{c}{For $p \in E$, \pflet{$V_p$ be the open ball in $X$ with centre $p$ and radius $r_p$.}}
	\step{d}{\pflet{$G = \bigcup_{p \in E} V_p$}}
	\step{e}{$G$ is open in $Y$.}
	\begin{proof}
		\pf\ Proposition \ref{prop:union_open}.
	\end{proof}
	\step{f}{$E = G \cap Y$}
	\begin{proof}
		\step{i}{$E \subseteq G \cap Y$}
		\begin{proof}
			\step{one}{\pflet{$p \in E$}}
			\step{two}{$p \in V_p$}
			\step{three}{$p \in G$}
		\end{proof}
		\step{ii}{$G \cap Y \subseteq E$}
		\begin{proof}
			\step{one}{\pflet{$x \in G \cap Y$}}
			\step{two}{\pick\ $p \in E$ such that $x \in V_p$}
			\step{three}{$d(x,p) < r_p$}
			\step{four}{$x \in E$}
		\end{proof}
	\end{proof}
\end{proof}
\step{2}{For any open subset $G$ of $X$, we have $G \cap Y$ is open in $Y$.}
\begin{proof}
	\step{a}{\pflet{$G$ be an open subset of $X$.}}
	\step{b}{\pflet{$p \in G \cap Y$}}
	\step{c}{\pick\ $r > 0$ such that the open ball in $X$ with centre $p$ and radius $r$ is included in $G$.}
	\step{d}{The open ball in $Y$ with centre $p$ and radius $r$ is included in $G \cap Y$.}
\end{proof}
\qed
\end{proof}

\section{Perfect Sets}

\begin{df}[Perfect Set]
Let $X$ be a metric space. Let $E \subseteq X$. Then $E$ is \emph{perfect} iff $E$ is closed and every point in $E$ is a limit point of $E$.
\end{df}

\section{Bounded Sets}

\begin{df}[Bounded Set]
Let $X$ be a metric space. Let $E \subseteq X$. Then $E$ is \emph{bounded} iff there exists a real number $M$ and $q \in X$ such that, for all $p \in E$, we have $d(p,q) < M$.
\end{df}

\begin{df}[Diameter]
Let $X$ be a metric space and $E \subseteq X$ be bounded. Then the \emph{diameter} of $E$ is $\sup \{ d(x,y) : x,y \in E \}$.
\end{df}

\begin{prop}
Let $X$ be a metric space. Let $E \subseteq X$ be bounded. Then $\overline{E}$ is bounded and
\[ \diam \overline{E} = \diam E \enspace . \]
\end{prop}

\begin{proof}
\pf
\step{1}{$\diam E$ is an upper bound for $\{ d(x,y) : x,y \in \overline{E} \}$.}
\begin{proof}
	\step{a}{\pflet{$x,y \in \overline{E}$}}
	\step{b}{For all $\epsilon > 0$ we have $d(x,y) < \diam E + \epsilon$.}
	\begin{proof}
		\step{i}{\pflet{$\epsilon > 0$}}
		\step{ii}{\pick\ $x',y' \in E$ such that $d(x',x) < \epsilon / 2$ and $d(y',y) < \epsilon / 2$}
		\step{iii}{$d(x',y') < \diam E$}
		\step{iv}{$d(x,y) < \diam E + \epsilon$}
	\end{proof}
	\step{c}{$d(x,y) \leq \diam E$}
\end{proof}
\step{2}{$\diam \overline{E}$ is an upper bound for $\{ d(x,y) : x,y \in E \}$.}
\begin{proof}
	\pf\ This follows since $E \subseteq \overline{E}$.
\end{proof}
\qed
\end{proof}

\section{Dense Sets}

\begin{df}[Dense Set]
Let $X$ be a metric space. Let $E \subseteq X$. Then $E$ is \emph{dense} iff every point of $X$ is either a limit point of $E$ or a point of $E$, or both.
\end{df}

\section{Closure}

\begin{df}[Closure]
Let $X$ be a metric space. Let $E \subseteq X$. Then the \emph{closure} of $E$, denoted $\overline{E}$, is the union of $E$ and the set of limit points of $E$.
\end{df}

\begin{prop}
$\overline{E}$ is the smallest closed set that includes $E$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\overline{E}$ is closed.}
\begin{proof}
	\step{a}{\pflet{$p$ be a limit point of $\overline{E}$.}}
	\step{aa}{\assume{$p \notin E$} \prove{$p$ is a limit point of $E$.}}
	\step{b}{\pflet{$B$ be the open ball with centre $p$ and radius $r$.} \prove{$B$ intersects $E$.}}
	\step{c}{\pick\ a point $q \in B \cap \overline{E}$.}
	\step{d}{\pick\ an open ball $B'$ with centre $q$ such that $B' \subseteq B$.}
	\step{e}{\pick\ a point $r \in E \cap B'$}
	\step{f}{$r \in E \cap B$}
\end{proof}
\step{2}{If $C$ is closed and $E \subseteq C$ then $\overline{E} \subseteq C$.}
\begin{proof}
	\step{a}{\assume{$C$ is closed.}}
	\step{b}{\assume{$E \subseteq C$}}
	\step{c}{\pflet{$p \in \overline{E}$}}
	\step{d}{\assume{for a contradiction $p \notin C$}}
	\step{e}{$p$ is a limit point of $C$.}
	\begin{proof}
		\step{i}{\pflet{$B$ be an open ball with centre $p$.}}
		\step{ii}{$B$ intersects $E$.}
		\step{iii}{$B$ intersects $C$.}
		\step{iv}{$B$ intersects $C$ in a point other than $p$.}
		\begin{proof}
			\pf\ \stepref{c}
		\end{proof}
	\end{proof}
	\qedstep
	\begin{proof}
		\pf\ This contradicts \stepref{a}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
$E$ is closed if and only if $E = \overline{E}$.
\end{cor}

\begin{thm}
Let $E$ be a nonempty set of real numbers bounded above. Then $\sup E \in \overline{E}$.
\end{thm}

\begin{proof}
\pf
\step{1}{\assume{$\sup E \notin E$} \prove{$\sup E$ is a limit point of $E$.}}
\step{2}{\pflet{$B$ be an open ball with centre $\sup E$ and radius $r$.}}
\step{3}{There exists $x \in E$ such that $x > \sup E - r$.}
\step{4}{$E$ intersects $B$ in a point other than $p$.}
\qed
\end{proof}

\begin{prop}
\[ \overline{A \cup B} = \overline{A} \cup \overline{B} \]
\end{prop}

\begin{proof}
\pf
\step{a}{$\overline{A} \cup \overline{B}$ is a closed set that includes $A \cup B$.}
\step{b}{If $C$ is a closed set that includes $A \cup B$ then $\overline{A} \cup \overline{B} \subseteq C$.}
\qed
\end{proof}

\begin{ex}
It is not true in general. that $\overline{\bigcup \mathcal{A}} = \bigcup_{A \in \mathcal{A}} \overline{A}$.

In $\mathbb{R}$, let $\mathcal{A} = \{ \{ 1/n \} : n \in \mathbb{Z}^+ \}$. Then
\begin{align*}
\overline{\bigcup \mathcal{A}} & = \{ 1/n : n \in \mathbb{Z}^+ \} \cup \{ 0 \} \\
\bigcup_{A \in \mathcal{A}} \overline{A} & = \{ 1/n : n \in \mathbb{Z}^+ \}
\end{align*}
\end{ex}

\begin{prop}
\[ X - E^\circ = \overline{X - E} \]
\end{prop}

\begin{proof}
\pf
\begin{align*}
p \in X - E^\circ & \Leftrightarrow p \notin E^\circ \\
& \Leftrightarrow \forall B \text{ an open ball with centre } p. B \nsubseteq E \\
& \Leftrightarrow \forall B \text{ an open ball with centre } p. B \text{ intersects} X - E \\
& \Leftrightarrow p \in \overline{X - E} & \qed
\end{align*}
\end{proof}

\section{Compact Sets}

\begin{df}[Open Cover]
Let $X$ be a metric space. Let $E \subseteq X$. An 
\emph{open cover} of $E$ is a set $\mathcal{U}$ of open sets such that $E \subseteq \bigcup \mathcal{U}$.
\end{df}

\begin{df}[Compact Set]
Let $X$ be a metric space. Let $K \subseteq X$. Then $K$ is \emph{compact} iff every open cover of $K$ includes a finite subcover.
\end{df}

\begin{prop}
Every finite set is compact.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{thm}
Let $X$ be a metric space. Let $Y \subseteq X$ and $K \subseteq Y$. Then $K$ is compact in $Y$ if and only if $K$ is compact in $X$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $K$ is compact in $Y$ then $K$ is compact in $X$.}
\begin{proof}
	\step{a}{\assume{$K$ is compact in $Y$.}}
	\step{b}{\pflet{$\mathcal{U}$ be an open cover of $K$ in $X$.}}
	\step{c}{$\{ U \cap Y : U \in \mathcal{U} \}$ is an open cover of $K$ in $Y$.}
	\step{d}{\pick\ a finite subcover $\{ U_1 \cap Y, \ldots, U_n \cap Y \}$}
	\step{e}{$\{ U_1, \ldots, U_n \}$ is a finite subset of $\mathcal{U}$ that is an open cover of $K$ is $X$.}
\end{proof}
\step{2}{If $K$ is compact in $X$ then $K$ is compact in $Y$.}
\begin{proof}
	\step{a}{\assume{$K$ is compact in $X$.}}
	\step{b}{\pflet{$\mathcal{U}$ be an open cover of $K$ in $Y$.}}
	\step{c}{$\{ U \text{ open in } X : U \cap Y \in \mathcal{U} \}$ is an open cover of $K$ in $X$.}
	\step{d}{\pick\ a finite subcover $\{U_1, \ldots, U_n\}$.}
	\step{e}{$\{ U_1 \cap Y, \ldots, U_n \cap Y \}$ is a subset of $\mathcal{U}$ that is an open cover of $E$ in $Y$.}
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:compact_closed}
Every compact set is closed.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E$ be compact.}}
\step{2}{\pflet{$p \in X - E$} \prove{There exists an open ball with centre $p$ that is a subset of $X - E$.}}
\step{3}{For all $q \in E$, there exist disjoint open balls $B$ with centre $q$ and $B'$ with centre $p$.}
\step{4}{The set of open balls $B$ such that there exists a disjoint open ball $B'$ with centre $p$ is an open cover of $E$.}
\step{5}{\pick\ a finite subcover $\{B_1, \ldots, B_n\}$.}
\step{6}{For $i = 1, \ldots, n$, \pick\ an open ball $B_i'$ with centre $p$ such that $B_i \cap B_i' = \emptyset$.}
\step{7}{$B_1' \cap \cdots \cap B_n'$ is an open ball with centre $p$ that is a subset of $X - E$.}
\qed
\end{proof}

\begin{prop}
\label{prop:closed_compact}
Every closed subset of a compact set is compact.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E$ be compact and $C \subseteq E$ be closed.}}
\step{2}{\pflet{$\mathcal{U}$ be an open cover of $C$.}}
\step{3}{$\mathcal{U} \cup \{ X - C \}$ is an open cover of $E$.}
\step{4}{\pick\ a finite subcover $\{ U_1, \ldots, U_n \}$ or $\{ U_1, \ldots, U_n, X - C \}$.}
\step{5}{$\{ U_1, \ldots, U_n\}$ covers $C$.}
\qed
\end{proof}

\begin{cor}
The intersection of a compact set and a closed set is compact.
\end{cor}

\begin{prop}
\label{prop:finite_intersection_property}
Let $\mathcal{K}$ be a nonempty set of compact sets. If every nonempty finite subset of $\mathcal{K}$ has nonempty intersection, then $\bigcap \mathcal{K}$ is nonempty.
\end{prop}

\begin{proof}
\pf
\step{1}{\pick\ $K \in \mathcal{K}$}
\step{2}{\assume{$\bigcap \mathcal{K} = \emptyset$}}
\step{3}{$\{ X - K' : K' \in \mathcal{K} \}$ is an open cover of $K$.}
\step{4}{\pick\ a finite subcover $\{ X - K_1, \ldots, X - K_n \}$.}
\step{5}{There exists $p \in K \cap K_1 \cap \cdots \cap K_n$}
\qedstep
\begin{proof}
	\pf\ \stepref{4} and \stepref{5} form a contradiction.
\end{proof}
\qed
\end{proof}

\begin{cor}
\label{cor:finite_intersection_property}
Let $(K_n)$ be a sequence of nonempty compact sets such that $K_0 \supseteq K_1 \supseteq \cdots$. Then $\bigcap_{n=0}^\infty K_n \neq \emptyset$.
\end{cor}

\begin{thm}
\label{thm:compact_infinite_set_limit_point}
Let $X$ be a metric space and $E \subseteq X$. Then $E$ is compact if and only if every infinite subset of $E$ has a limit point in $E$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $E$ is compact then every infinite subset of $E$ has a limit point in $E$.}
\begin{proof}
\step{a}{\assume{$E$ is compact.}}
\step{b}{\pflet{$A \subseteq E$ be infinite.}}
\step{2}{\assume{for a contradiction $E$ has no limit point in $K$.}}
\step{3}{For all $p \in K$, there exists an open ball $B$ with centre $p$ such that $B$ does not intersect $E$ outside $p$.}
\step{4}{The set of open balls that intersect $E$ in at most one point is an open cover for $K$.}
\step{5}{\pick\ a finite subcover $B_1$, \ldots, $B_n$.}
\step{6}{$E$ has at most $n$ points.}
\qedstep
\begin{proof}
	\pf\ This contradicts the fact that $E$ is finite.
\end{proof}
\end{proof}
\step{2}{If every infinite subset of $K$ has a limit point in $K$ then $K$ is compact.}
\begin{proof}
	\step{a}{\assume{Every infinite subset of $K$ has a limit point in $K$.}}
	\step{b}{\pflet{$\mathcal{U}$ be an open cover of $K$.}}
	\step{c}{\assume{w.l.o.g. $\mathcal{U}$ is countable.}}
	\begin{proof}
		\pf\ We may replace $\mathcal{U}$ with the set of all open balls $B$ with centres in $\mathbb{Q}^2$ and rational radius such that there exists $U \in \mathcal{U}$ such that $B \subseteq U$.
	\end{proof}
	\step{d}{\pick\ an enumeration $\mathcal{U} = \{ G_n : n \in \mathbb{N} \}$.}
	\step{e}{For $n \in \mathbb{N}$, \pflet{$F_n = \bigcup_{i=0}^n G_n$.}}
	\step{f}{For all $n \in \mathbb{N}$, we have $K - F_n \neq \emptyset$.}
	\begin{proof}
		\pf\ Since $\{ G_0, \ldots, G_n \}$ does not cover $K$.
	\end{proof}
	\step{g}{$\bigcap_{n=0}^\infty F_n = \emptyset$}
	\begin{proof}
		\pf\ Since $\{ G_n : n \in \mathbb{N} \}$ covers $K$.
	\end{proof}
	\step{h}{For $n \in \mathbb{N}$, \pick\ $a_n \in K - F_n$}
	\step{i}{\pflet{$E = \{ a_n : n \in \mathbb{N} \}$}}
	\step{j}{$E$ is infinite.}
	\begin{proof}
		\step{i}{\pflet{$n \in \mathbb{N}$} \prove{there exists $m$ such that $a_m \notin \{ a_0, a_1, \ldots, a_n \}$.}}
		\step{ii}{For $i = 0, \ldots, n$, \pick\ $k_i$ such that $a_i \in G_{k_i}$.}
		\step{iii}{\pflet{$m = \max(k_0, \ldots, k_n)$}}
		\step{iv}{\assume{for a contradiction $a_m = a_i$ for some $i = 0, \ldots, n$}}
		\step{v}{$a_i \in G_{k_i}$}
		\step{vi}{$a_i \notin F_m$}
		\qedstep
		\begin{proof}
			\pf\ This is a contradiction since $k_i \leq m$.
		\end{proof}
	\end{proof}
	\step{k}{\pick\ a limit point $l$ for $E$ in $K$.}
	\begin{proof}
		\pf\ From \stepref{a}.
	\end{proof}
	\step{l}{\pick\ $n$ such that $l \in G_n$.}
	\step{m}{\pick\ an open ball $B$ with centre $l$ such that $B \subseteq G_n$}
	\step{n}{$B \cap E$ is infinite.}
	\begin{proof}
		\pf\ Proposition \ref{prop:limit_point_infinite_intersection}.
	\end{proof}
	\step{o}{\pick\ $m \geq`n$ such that $a_m \in B$.}
	\step{p}{$a_m \in G_n$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction since $a_m \notin F_m$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}[Heine-Borel]
Let $E \subseteq \mathbb{R}^k$. Then $E$ is compact if and only if it is closed and bounded.
\end{thm}

\begin{proof}
\pf
\step{1}{If $E$ is compact then $E$ is closed.}
\begin{proof}
	\pf\ Proposition \ref{prop:compact_closed}.
\end{proof}
\step{2}{If $E$ is compact then $E$ is bounded.}
\begin{proof}
	\pf\ Otherwise $\{ (-N,N)^k : N \in \mathbb{Z}^+ \}$ would be an open cover of $E$ with no finite subcover.
\end{proof}
\step{3}{If $E$ is closed and bounded then $E$ is compact.}
\begin{proof}
	\step{a}{\assume{$E$ is closed and bounded.}}
	\step{b}{\pick\ $\vec{c}$ and $M$ such that $\forall \vec{x} \in E. \| \vec{x} - \vec{c} \| < M$.}
	\step{c}{$E \subseteq \prod_{i=1}^k [c_i - M, c_i + M]$}
	\step{d}{$E$ is compact.}
	\begin{proof}
		\pf\ Proposition \ref{prop:closed_compact}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}[Weierstrass's Theorem]
Every bounded infinite subset of $\mathbb{R}^k$ has a limit point.
\end{cor}

\begin{proof}
\pf\ It is a bounded infinite subset of some $k$-cell and therefore has a limit point in that $k$-cell. \qed
\end{proof}

\begin{ex}
It is not true that, in any metric space, a set is compact if and only if it is closed and bounded.

In $\mathbb{Q}$, the set $\{ p \in \mathbb{Q} : 2 < p^2 < 3 \}$ is closed and bounded but not compact.
\end{ex}

\begin{thm}
Every nonempty perfect set in $\mathbb{R}^k$ is uncountable.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$P$ be a nonempty perfect set in $\mathbb{R}^k$.}}
\step{2}{$P$ is infinite.}
\begin{proof}
	\pf\ Corollary \ref{cor:finite_no_limit_points}.
\end{proof}
\step{3}{\assume{for a contradiction $P$ is countable.}}
\step{4}{\pick\ an enumeration $P = \{ x_n : n \in \mathbb{N} \}$.}
\step{5}{\pick\ a sequence $(V_n)$ of open balls such that, for all $n$, we have $\overline{V_{n+1}} \subseteq V_n$ and $x_n \notin \overline{V_{n+1}}$ and $V_n \cap P \neq \emptyset$}
\begin{proof}
	\step{a}{\assume{as induction hypothesis we have picked $V_0$, \ldots, $V_{n-1}$ that satisfy these conditions.}}
	\step{b}{\pick\ $p \in P \cap V_n$ such that $p \neq x_n$}
	\begin{proof}
		\pf\ We cannot have $P \cap V_n = \{x_n\}$ because then $V_n$ would be a neighbourhood of $x_n$ that only intersects $P$ at $x_n$.
	\end{proof}
	\step{c}{\pick\ an open ball $B$ with centre $p$ such that $B \subseteq V_n \cap P - \{x_n\} $}
	\step{d}{\pflet{$V_{n+1}$ be the open ball with centre $p$ and half the radius of $B$.}}
	\step{e}{$\overline{V_{n+1}} \subseteq V_n$}
	\begin{proof}
		\pf\ Since $\overline{V_{n+1}} \subseteq B \subseteq V_n$.
	\end{proof}
	\step{f}{$x_n \notin \overline{V_{n+1}}$}
	\begin{proof}
		\pf\ Since $\overline{V_{n+1}} \subseteq B \subseteq P - \{x_n\}$.
	\end{proof}
	\step{g}{$V_{n+1} \cap P \neq \emptyset$}
	\begin{proof}
		\pf\ Since $p \in V_{n+1} \cap P$.
	\end{proof}
\end{proof}
\step{6}{For $n \in \mathbb{N}$, \pflet{$K_n = \overline{V_n} \cap P$.}}
\step{7}{For all $n \in \mathbb{N}$, $K_n$ is compact.}
\begin{proof}
	\pf\ By the Heine-Borel Theorem.
\end{proof}
\step{8}{$\bigcap_{n=0}^\infty K_n \cap P = \emptyset$}
\begin{proof}
	\pf\ Since for each $n$ we have $x_n \notin K_{n+1}$.
\end{proof}
\step{9}{$\bigcap_{n=0}^\infty K_n = \emptyset$}
\begin{proof}
	\pf\ Since $\bigcap_{n=0}^\infty K_n \subseteq P$.
\end{proof}
\qedstep
\begin{proof}
	\pf\ This contradicts Proposition \ref{prop:finite_intersection_property}.
\end{proof}
\qed
\end{proof}

\begin{cor}
For any $a,b \in \mathbb{R}$ with $a < b$, the closed interval $[a,b]$ is uncountable.
\end{cor}

\begin{cor}
$\mathbb{R}$ is uncountable.
\end{cor}

\begin{cor}
The set of transcendental numbers is uncountable.
\end{cor}

\begin{proof}
\pf\ Since the set of algebraic numbers is countable. \qed
\end{proof}

\begin{ex}
The Cantor set is a perfect set in $\mathbb{R}$ that does not include any open interval.
\end{ex}

\begin{proof}
\pf
\step{1}{\pflet{$(E_n)$ be the sequence of unions of closed intervals from the definition of the Cantor set, and $C$ be the Cantor set.}}
\step{1a}{$C \neq \emptyset$}
\begin{proof}
	\pf\ Since $0 \in C$.
\end{proof}
\step{2}{$C$ is closed.}
\begin{proof}
	\pf\ Each $E_n$ is closed and $C$ is their intersection.
\end{proof}
\step{3}{Every point of $C$ is a limit point of $C$.}
\begin{proof}
	\step{a}{\pflet{$p \in C$}}
	\step{b}{\pflet{$B$ be an open ball with centre $p$ and radius $r$.}}
	\step{c}{\pick\ $n$ such that each of the intervals that make up $E_n$ has length $< r/ 2$.}
	\step{d}{\pflet{$I$ be the interval in $E_n$ that contains $p$.}}
	\step{e}{$I \subseteq B$}
	\step{f}{The endpoint of $I$ that is not $p$ is in $P \cap B$.}
\end{proof}
\step{4}{$C$ does not include any open interval.}
\begin{proof}
	\step{a}{\pflet{$(\alpha, \beta)$ be any open interval.}}
	\step{b}{\pick\ $m$ such that $3^{-m} < (\beta - \alpha)/6$}
	\step{c}{\pick\ $k$ such that $\left( \frac{3k+1}{3^m}, \frac{3k+2}{3^m} \right) \subseteq (\alpha, \beta)$}
	\step{d}{$\left( \frac{3k+1}{3^m}, \frac{3k+2}{3^m} \right) \subseteq P$}
	\step{e}{$\left( \frac{3k+1}{3^m}, \frac{3k+2}{3^m} \right) \cap E_m = \emptyset$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
The Cantor set is uncountable.
\end{cor}

\begin{prop}
\label{prop:nested_sequence_of_compact_sets}
Let $X$ be a metric space. Let $(K_n)$ be a sequence of compact sets in $X$ such that $K_0 \supseteq K_1 \supseteq K_2 \supseteq \cdots$. Assume $\diam K_n \rightarrow 0$ as $n \rightarrow \infty$. Then $\bigcap_{n=0}^\infty K_n$ is a singleton.
\end{prop}

\begin{proof}
\pf
\step{1}{$\bigcap_n K_n \neq \emptyset$}
\begin{proof}
\pf\ Corollary \ref{cor:finite_intersection_property}.
\end{proof}
\step{2}{$\bigcap_n K_n$ has no more than one point.}
\begin{proof}
	\step{a}{\assume{for a contradiction $a,b \in \bigcap_n K_n$ with $a \neq b$.}}
	\step{b}{\pflet{$\epsilon = d(a,b)$}}
	\step{c}{\pick\ $n$ such that $\diam K_n < \epsilon$}
	\step{d}{$a,b \in K_n$}
	\qedstep
	\begin{proof}
		\pf\ This is a contradiction.
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Connected Sets}

\begin{df}[Separated]
Let $X$ be a metric space. Let $A,B \subseteq X$. Then $A$ and $B$ are \emph{separated} iff $\overline{A} \cap B = A \cap \overline{B} = \emptyset$.
\end{df}

\begin{prop}
Any two disjoint open sets are separated.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ and $B$ be disjoint open sets.}}
\step{2}{\assume{for a contradiction $p \in \overline{A} \cap B$.}}
\step{3}{$B$ is a neighbourhood of $p$.}
\step{4}{$B$ intersects $A$.}
\qed
\end{proof}

\begin{df}[Connected]
Let $X$ be a metric space. Let $E \subseteq X$. Then $E$ is \emph{connected} iff $E$ is not the union of two nonempty separated sets.
\end{df}

\begin{thm}
A subset $E$ of the real line is connected if and only if it is convex.
\end{thm}

\begin{proof}
\pf
\step{1}{If $E$ is connected then $E$ is convex.}
\begin{proof}
	\step{a}{\assume{$E$ is connected.}}
	\step{b}{\pflet{$x,y \in E$}}
	\step{c}{\pflet{$z \in (x,y)$}}
	\step{d}{$z \in E$}
	\begin{proof}
		\pf\ Otherwise $E \cap (-\infty, z)$ and $E \cap (z, + \infty)$ would be a separation of $E$.
	\end{proof}
\end{proof}
\step{2}{If $E$ is convex then $E$ is connected.}
\begin{proof}
	\step{a}{\assume{$E$ is convex.}}
	\step{b}{\assume{for a contradiction $E = A \cup B$ where $A$ and $B$ are nonempty and separated.}}
	\step{c}{\pick\ $a \in A$ and $b \in B$.}
	\step{d}{\assume{w.l.o.g. $a < b$}}
	\step{e}{\pflet{$z = \sup (A \cap [a,b])$}}
	\step{f}{$z \in \overline{A}$}
	\step{g}{$z \notin B$}
	\step{h}{$z < b$}
	\step{i}{\case{$z \in A$}}
	\begin{proof}
		\step{i}{$z \notin \overline{B}$}
		\step{ii}{\pick\ $z_1 \in (z,b)$ such that $z_1 \notin B$}
		\step{iii}{$a < z_1 < b$}
		\step{iv}{$z_1 \notin E$}
		\begin{proof}
			\pf\ We have $z_1 \notin A$ from \stepref{e} since $z_1 \in [a,b]$ and $z_1 > z$, and $z_1 \notin B$ from \stepref{ii}.
		\end{proof}
		\qedstep
		\begin{proof}
			\pf\ This contradicts \stepref{a}.
		\end{proof}
	\end{proof}
	\step{j}{\case{$z \notin A$}}
	\begin{proof}
		\pf\ Then $a < z < b$ and $z \notin E$ contradicting \stepref{a}.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{prop}
Every connected metric space with more than one point is uncountable.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a connected metric space with more than one points.}}
\step{2}{\pick\ distinct points $p,q \in X$.}
\step{3}{\pflet{$\epsilon = d(p,q)$}}
\step{4}{For every $r \in (0, \epsilon)$, there exists a point $x \in X$ such that $d(p,x) = r$.}
\begin{proof}
	\pf\ Otherwise $\{ x \in X : d(p,x) < r \}$ and $\{ x \in X : d(p,x) > r \}$ would form a separation of $X$.
\end{proof}
\qed
\end{proof}

\begin{prop}
The closure of a connected set is connected.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a metric space.}}
\step{2}{\pflet{$E$ be a connected subspace of $X$.}}
\step{3}{\assume{for a contradiction $A$ and $B$ form a separation of $\overline{E}$} \prove{$A \cap E$ and $B \cap E$ form a separation of $E$.}}
\step{4}{$A \cap E \neq \emptyset$}
\begin{proof}
	\step{a}{\assume{for a contradiction $A \cap E = \emptyset$}}
	\step{b}{$E \subseteq B$}
	\step{c}{$\overline{E} \subseteq \overline{B}$}
	\step{d}{$A \subseteq \overline{B}$}
	\step{e}{$A \cap \overline{B} = A \neq \emptyset$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts \stepref{3}.
	\end{proof}
\end{proof}
\step{5}{$B \cap E \neq \emptyset$}
\begin{proof}
	\pf\ Similar.
\end{proof}
\step{6}{$\overline{A \cap E} \cap B \cap E = \emptyset$}
\begin{proof}
	\pf\ Since $\overline{A \cap E} \cap B \cap E \subseteq \overline{A} \cap B$.
\end{proof}
\step{7}{$A \cap E \cap \overline{B \cap E} = \emptyset$}
\begin{proof}
	\pf\ Similar.
\end{proof}
\qed
\end{proof}

\begin{ex}
The interior of a connected set is not necessarily connected.

Two touching discs in $\mathbb{R}^2$ form a connected set but the interior is disconnected.
\end{ex}

\begin{prop}
Every convex set in $\mathbb{R}^k$ is connected.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$E$ be a convex set in $\mathbb{R}^k$.}}
\step{2}{\assume{for a contradiction $A$ and $B$ form a separation of $E$.}}
\step{3}{\pick\ $\vec{a} \in A$ and $\vec{b} \in B$.}
\step{4}{Define $p : [0,1] \rightarrow \mathbb{R}^k$ by $p(t) = (1-t)\vec{a} + t\vec{b}$.}
\step{5}{$\inv{p}(A)$ and $\inv{p}(B)$ are separated sets in $\mathbb{R}$.}
\step{6}{\pick\ $x \in [0,1]$ such that $x \notin \inv{p}(A)$ and $x \notin \inv{p}(B)$.}
\begin{proof}
	\pf\ There exists such an $x$ since $[0,1]$ is connected.
\end{proof}
\step{7}{$p(x) \in E$}
\begin{proof}
	\pf\ Since $E$ is convex.
\end{proof}
\step{8}{$p(x) \notin A \cup B$}
\qedstep
\begin{proof}
	\pf\ This contradicts \stepref{2}.
\end{proof}
\qed
\end{proof}

\section{Separable Spaces}

\begin{df}[Separable]
A metric space is \emph{separable} iff it has a countable dense subset.
\end{df}

\begin{ex}
$\mathbb{R}^k$ is separable since $\mathbb{Q}^k$ is dense.
\end{ex}

\begin{prop}
Every compact metric space is separable.
\end{prop}

\begin{proof}
\pf
\step{0}{\pflet{$X$ be a compact metric space.}}
\step{1}{For $n \in \mathbb{Z}^+$, pick finitely many points $a_{n1}$, \ldots, $a_{nr_n}$ such that $\{ B(a_{ni}, 1/n) : 1 \leq i \leq r_n \}$ covers $X$.}
\begin{proof}
	\pf\ Since $\{ B(x, 1/n) : x \in X \}$ covers $X$.
\end{proof}
\step{2}{$\{ a_{ni} : n \in \mathbb{Z}^+, 1 \leq i \leq r_n \}$ is dense.}
\begin{proof}
	\step{a}{\pflet{$U$ be an open set and $p \in U$.}}
	\step{b}{\pick\ $\epsilon > 0$ such that $B(p, \epsilon) \subseteq U$.}
	\step{c}{\pick\ $n$ such that $1/n < \epsilon$.}
	\step{d}{\pick\ $i$ such that $p \in B(a_{ni}, 1/n)$}
	\step{e}{$a_{ni} \in U$}
\end{proof}
\qed
\end{proof}

\section{Bases}

\begin{df}[Basis]
A \emph{basis} for a metric space $X$ is a set $\mathcal{B}$ of open sets such that, for every open set $U$ and point $p \in U$, there exists $B \in \mathcal{B}$ such that $p \in B \subseteq U$.
\end{df}

\begin{prop}
Every separable metric space has a countable basis.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a separable metric space.}}
\step{2}{\pick\ a countable dense set $D$ in $X$.}
\step{3}{\pflet{$\mathcal{B} = \{ B(p,\epsilon) : p \in D, \epsilon \in \mathbb{Q}^+ \}$} \prove{$\mathcal{B}$ is a basis.}}
\step{4}{\pflet{$U$ be an open set in $X$ and $p \in U$}}
\step{5}{\pick\ $\epsilon > 0$ such that $B(p,\epsilon) \subseteq U$}
\step{6}{\pick\ $q \in B(p, \epsilon) \cap D$}
\step{7}{\pick\ a rational $\delta$ such that $d(p,q) < \delta < \epsilon$.}
\step{8}{$B(q,\delta) \in \mathcal{B}$ and $B(q, \delta) \subseteq U$.}
\qed
\end{proof}

\section{Condensation Points}

\begin{df}[Condensation Point]
Let $X$ be a metric space, $p \in X$ and $E \subseteq X$. Then $p$ is a \emph{condensation point} of $E$ iff every neighbourhood of $p$ contains uncountably many points in $E$.
\end{df}

\begin{prop}
\label{prop:P_closed}
Let $X$ be a metric space. Let $E \subseteq X$. Let $P$ be the set of condensation points of $E$. Then $P$ is perfect.
\end{prop}

\begin{proof}
\pf
\step{1}{$P$ is closed.}
\begin{proof}
	\step{a}{\pflet{$p \in X - P$}}
	\step{b}{\pick\ a neighbourhood $U$ of $p$ that contains only countably many points of $E$.}
	\step{c}{For every $x \in U$, we have that $U$ is a neighbourhood of $x$ that contains only countably many points of $E$.}
	\step{d}{$p \in U \subseteq X - P$}
\end{proof}
\step{2}{Every point in $P$ is a limit point of $P$.}
\begin{proof}
	\pf\ Immediate from definitions.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:E_minus_P_countable}
Let $X$ be a metric space with a countable basis.
Let $E \subseteq X$ be uncountable. Let $P$ be the set of condensation points of $E$. Then $E - P$ is countable.
\end{prop}

\begin{proof}
\pf
\step{1}{\pick\ a countable basis $\mathcal{B}$ for $X$.}
\step{2}{\pflet{$W = \bigcup \{ B \in \mathcal{B} : E \cap B \text{ is countable} \}$}}
\step{3}{$P = X - W$}
\begin{proof}
	\step{a}{$P \subseteq X - W$}
	\begin{proof}
		\step{i}{\assume{for a contradiction $p \in P \cap W$}}
		\step{ii}{\pick\ $B \in \mathcal{B}$ such that $p \in B$ and $E \cap B$ is countable.}
		\step{iii}{$E \cap B$ is uncountable.}
		\qedstep
		\begin{proof}
			\pf\ This is a contradiction.
		\end{proof}
	\end{proof}
	\step{b}{$X - W \subseteq P$}
	\begin{proof}
		\step{i}{\pflet{$p \in X - W$}}
		\step{ii}{\pflet{$U$ be a neighbourhood of $p$.}}
		\step{iii}{\pick\ $B \in \mathcal{B}$ such that $p \in B \subseteq U$.}
		\step{iv}{$E \cap B$ is uncountable.}
		\begin{proof}
			\pf\ Since $p \notin W$.
		\end{proof}
		\step{v}{$E \cap W$ is uncountable.}
	\end{proof}
\end{proof}
\step{4}{$E - P = E \cap W$}
\step{5}{$E - P$ is countable.}
\qed
\end{proof}

\begin{cor}
Every closed subset of a metric space with a countable basis is the union of a perfect set and a countable set.
\end{cor}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a metric space with a countable basis.}}
\step{2}{\pflet{$E$ be a closed subset of $X$.}}
\step{3}{\pflet{$P$ be the set of condensation points of $E$.}}
\step{5}{$E - P$ is countable.}
\begin{proof}
	\pf\ Proposition \ref{prop:E_minus_P_countable}.
\end{proof}
\step{4}{$P \cap E$ is perfect.}
\begin{proof}
	\step{a}{$P \cap E$ is closed.}
	\begin{proof}
		\pf\ Proposition \ref{prop:P_closed}.
	\end{proof}
	\step{b}{Every point in $P \cap E$ is a limit point of $P \cap E$.}
	\begin{proof}
		\step{i}{\pflet{$l \in P \cap E$}}
		\step{ii}{\pflet{$U$ be a neighbourhood of $l$.}}
		\step{iii}{\pick\ $x \in P \cap U$}
		\step{iv}{$U$ is a neighbourhood of $x$.}
		\step{v}{$U$ contains uncountably many points of $E$.}
		\step{vi}{$U$ intersects $P \cap E$}
		\begin{proof}
			\pf\ It cannot be that every point in $U$ and $E$ is not in $P$ since $E - P$ is countable.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
Let $X$ be a metric space with a countable basis. Then every countable set in $X$ has an isolated point.
\end{cor}

\chapter{Convergence}

\begin{df}[Converge]
Let $X$ be a metric space. Let $(p_n)$ be a sequence in $X$ and $l \in X$. Then we say $(p_n)$ \emph{converges} to the \emph{limit} $l$, and write
\[ p_n \rightarrow l \text{ as } n \rightarrow \infty \enspace , \]
iff for every $\epsilon > 0$, there exists an integer $N$ such that, for all $n \geq N$, we have $d(p_n,l) < \epsilon$.

We say $(p_n)$ \emph{diverges} iff it does not converge to any limit.
\end{df}

\begin{prop}
A sequence has at most one limit.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$p_n \rightarrow l$ and $p_n \rightarrow m$ as $n \rightarrow \infty$.}}
\step{2}{\assume{for a contradiction $l \neq m$.}}
\step{3}{\pflet{$\epsilon = d(l,m) / 2$}}
\step{4}{There exists $N$ such that $\forall n \geq N. d(p_n,l) < \epsilon$ and $d(p_n, m) < \epsilon$}
\step{5}{$d(l,m) < 2 \epsilon$}
\qedstep
\begin{proof}
	\pf\ This is a contradiction.
\end{proof}
\qed
\end{proof}

\begin{prop}
Every convergent sequence is bounded.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$p_n \rightarrow l$ as $n \rightarrow \infty$}}
\step{2}{\pick\ $N$ such that $\forall n \geq N. d(p_n,l) < 1$}
\step{3}{\pflet{$M = \max(d(p_0,l), \ldots, d(p_{N-1},l), 1)$}}
\step{4}{For all $n$, we have $d(p_n,l) \leq M$.}
\qed
\end{proof}

\begin{prop}
If $l$ is a limit point of $E$, then there exists a sequence in $E$ that converges to $l$.
\end{prop}

\begin{proof}
\pf
\step{1}{For $n \in \mathbb{Z}^+$, \pick\ a point $a_n \in E$ such that $d(a_n,l) < 1/n$.}
\begin{proof}
	\pf\ Since $B(l,1/n)$ intersects $E$.
\end{proof}
\step{2}{$a_n \rightarrow l$ as $n \rightarrow \infty$.}
\qed
\end{proof}

\begin{cor}
\label{cor:convergent_subsequence}
Every sequence in a compact metric space has a convergent subsequence.
\end{cor}

\begin{proof}
\pf\ By Theorem \ref{thm:compact_infinite_set_limit_point}. \qed
\end{proof}

\begin{prop}
Assume $s_n \rightarrow s$ and $t_n \rightarrow t$ in $\mathbb{C}$. Then $s_n + t_n \rightarrow s + t$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\epsilon > 0$}}
\step{2}{\pick\ $N$ such that, for all $n \geq N$, we have $d(s_n,s) < \epsilon / 2$ and $d(t_n, t) < \epsilon / 2$.}
\step{3}{For all $n \geq N$ we have $d(s_n + t_n, s + t) < \epsilon$.}
\qed
\end{proof}

\begin{lm}
If $s_n \rightarrow s$ as $n \rightarrow \infty$ in $\mathbb{C}$, and $c \in \mathbb{C}$, then $c s_n \rightarrow cs$ as $n \rightarrow \infty$.
\end{lm}

\begin{proof}
\pf
\step{1}{\pflet{$\epsilon > 0$}}
\step{2}{\assume{w.l.o.g. $c \neq 0$}}
\step{3}{\pick\ $N$ such that $\forall n \geq N. |s_n - s| < \epsilon / |c|$.}
\step{4}{$\forall n \geq N. |cs_n - cs| < \epsilon$}
\qed
\end{proof}

\begin{prop}
If $s_n \rightarrow s$ and $t_n \rightarrow t$ in $\mathbb{C}$ then $s_n t_n \rightarrow st$.
\end{prop}

\begin{proof}
\pf
\step{1}{$(s_n - s)(t_n - t) \rightarrow 0$ as $n \rightarrow \infty$}
\begin{proof}
	\step{a}{\pflet{$\epsilon > 0$}}
	\step{b}{\pick\ $N$ such that, for all $n \geq N$, we have $|s_n - s| < \sqrt{\epsilon}$ and $|t_n - t| < \sqrt{\epsilon}$.}
	\step{c}{For all $n \geq N$ we have $|(s_n - s)(t_n -t)| < \epsilon$}
\end{proof}
\step{2}{$s_n t_n - st \rightarrow 0$ as $n \rightarrow \infty$}
\begin{proof}
	\pf
	\begin{align*}
		s_n t_n - st & = (s_n - s)(t_n - t) + s(t_n - t) + t(s_n - s) \\
		& \rightarrow 0 & \text{ as } n \rightarrow \infty
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
If $s_n \rightarrow s$ as $n \rightarrow \infty$ in $\mathbb{C}$, and every $s_n$ and $s$ is nonzero, then $1/s_n \rightarrow 1/s$ as $n \rightarrow \infty$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pick\ $m$ such that, for all $n \geq m$, we have $|s_n - s| < \frac{1}{2} |s|$.}
\step{2}{$\forall n \geq m. |s_n| > \frac{1}{2} |s|$}
\step{3}{\pflet{$\epsilon > 0$}}
\step{4}{\pick\ $N > m$ such that, for all $n \geq N$, we have
\[ |s_n - s| < \frac{1}{2} |s|^2 \epsilon \enspace . \]}
\step{5}{For all $n \geq N$, we have
\[ \left| \frac{1}{s_n} - \frac{1}{s} \right| < \epsilon \enspace . \]}
\begin{proof}
	\pf
	\begin{align*}
		\left| \frac{1}{s_n} - \frac{1}{s} \right|
		& = \frac{|s_n - s|}{|s_n||s|} \\
		& < \frac{|s|^2 \epsilon}{2 |s_n| |s|} \\
		& = \frac{|s| \epsilon}{2 |s_n|} \\
		& < \epsilon
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $(\vec{x_n})$ be a sequence in $\mathbb{R}^k$ and $\vec{l} \in \mathbb{R}^k$. Then $\vec{x_n} \rightarrow \vec{l}$ as $n \rightarrow \infty$ iff, for $i = 1, \ldots, k$, we have $\pi_i(\vec{x_n}) \rightarrow \pi_i(\vec{l})$ as $n \rightarrow \infty$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $\vec{x_n} \rightarrow \vec{l}$ then $\pi_i(\vec{x_n}) \rightarrow \pi_i(l)$.}
\begin{proof}
\step{1}{$\| \vec{x_n} - \vec{l} \| \rightarrow 0$ as $n \rightarrow \infty$.}
\step{2}{$\sqrt{\sum_{i=1}^k (\pi_i(\vec{x_n}) - \pi_i(l))^2} \rightarrow 0$ as $n \rightarrow \infty$.}
\step{3}{$\sum_{i=1}^k (\pi_i(\vec{x_n}) - \pi_i(l))^2 \rightarrow 0$ as $n \rightarrow \infty$.}
\step{4}{$(\pi_i(\vec{x_n}) - \pi_i(l))^2 \rightarrow 0$ as $n \rightarrow \infty$}
\step{5}{$\pi_i(\vec{x_n}) - \pi_i(l) \rightarrow 0$ as $n \rightarrow \infty$.}
\end{proof}
\step{2}{If $\pi_i(\vec{x_n}) \rightarrow \pi_i(\vec{l})$ for every $i$ then $\vec{x_n} \rightarrow l$.}
\begin{proof}
	\step{a}{\assume{$\pi_i(\vec{x_n}) \rightarrow \pi_i(\vec{l})$ for every $i$.}}
	\step{b}{$\vec{x_n} \rightarrow \vec{l}$}
	\begin{proof}
		\pf
		\begin{align*}
			\| \vec{x_n} - \vec{l} \|^2
			& = \sum_{i=1}^k (\pi_i(\vec{x_n}) - \pi_i(\vec{l}))^2 \\
			& \rightarrow 0
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
If $\vec{x_n} \rightarrow \vec{x}$ and $\vec{y_n} \rightarrow \vec{y}$ in $\mathbb{R}^k$, then $\vec{x_n} + \vec{y_n} \rightarrow \vec{x} + \vec{y}$.
\end{cor}

\begin{cor}
If $\beta_n \rightarrow \beta$ in $\mathbb{R}$ and $\vec{x_n} \rightarrow \vec{l}$ in $\mathbb{R}^k$, then $\beta_n \vec{x_n} \rightarrow \beta \vec{l}$.
\end{cor}

\begin{prop}
If $\vec{x_n} \rightarrow \vec{x}$ and $\vec{y_n} \rightarrow \vec{y}$ in $\mathbb{R}^k$, then $\vec{x_n} \cdot \vec{y_n} \rightarrow \vec{x} \cdot \vec{y}$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
\vec{x_n} \cdot \vec{y_n}
& = \sum_{i=1}^k \pi_i(\vec{x_n}) \pi_i(\vec{y_n}) \\
& \rightarrow \sum_{i=1}^k \pi_i(\vec{x}) \pi_i(\vec{y}) \\
& = \vec{x} \cdot \vec{y} & \qed
\end{align*}
\end{proof}

\begin{prop}
\label{prop:E_star_closed}
Let $(p_n)$ be a sequence in the metric space $X$. The set $E^*$ of all limits of convergent subsequences is a closed set.
\end{prop}

\begin{proof}
\pf
\step{0}{\assume{w.l.o.g. $\{ p_n : n \in \mathbb{N} \}$ is infinite.}}
\step{1}{\pflet{$q$ be a limit point of $E^*$.} \prove{$q \in E^*$}}
\step{2}{\pick\ an integer $n_0$ such that $q \neq p_{n_0}$.}
\step{3}{Extend a strictly increasing sequence of integers $(n_i)$ such that, for all $i$, we have $d(q, p_{n_i}) \leq 2^i d(q, p_{n_0})$.}
\begin{proof}
	\step{a}{\assume{as induction hypothesis we have picked $n_0 < n_1 < \cdots < n_i$ such that, for $0 \leq j \leq i$, we have $d(q, p_{n_j}) \leq 2^j d(q, p_{n_0})$.}}
	\step{b}{\pick\ $x \in E^*$ such that $d(x,q) < 2^{-(i+2)} \delta$}
	\step{c}{There exists a subsequence of $(p_n)$ that converges to $x$.}
	\step{d}{There exists $n_{i+1} > n_i$ such that $d(p_{n_{i+1}}, x) < 2^{-(i+2)} \delta$.}
	\step{e}{$d(p_{n_{i+1}}, q) < 2^{-(i+1)}\delta$}
\end{proof}
\step{3}{$p_{n_i} \rightarrow q$ as $i \rightarrow \infty$.}
\step{4}{$q \in E^*$}
\qed
\end{proof}

\begin{thm}
Every monotonically increasing sequence in $\mathbb{R}$ that is bounded above converges to its supremum.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$(s_n)$ be a monotonically increasing sequence with supremum $s$.}}
\step{2}{\pflet{$\epsilon > 0$}}
\step{3}{\pick\ $S$ such that $|s_N - s| < \epsilon$}
\step{4}{For all $n \geq N$, we have $s - \epsilon < s - s_N \leq s - s_n \leq s$.}
\step{5}{$\forall n \geq N. |s_n - s| < \epsilon$}
\qed
\end{proof}

\begin{thm}
Every monotonically decreasing sequence in $\mathbb{R}$ that is bounded below converges to its infimum.
\end{thm}

\begin{proof}
\pf\ Similar. \qed
\end{proof}

\begin{prop}[Sandwich Theorem]
Let $(a_n)$, $(b_n)$ and $(c_n)$ be sequences of real numbers and $l \in \mathbb{R}$. Assume $\forall n. a_n \leq b_n \leq c_n$ and $a_n \rightarrow l$ and $c_n \rightarrow l$. Then $b_n \rightarrow l$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\epsilon > 0$}}
\step{2}{\pick\ $N$ such that, for all $n \geq N$, we have $|a_n - l| < \epsilon$ and $|c_n - l| < \epsilon$.}
\step{3}{$\forall n \geq N. |b_n - l| < \epsilon$}
\qed
\end{proof}

\begin{thm}
\label{thm:n_to_the_p_tends_to_zero}
For any real $p > 0$ we have
\[ \frac{1}{(n+1)^p} \rightarrow 0 \]
as $n \rightarrow \infty$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\epsilon > 0$}}
\step{2}{\pick\ $N$ such that $N > (1/\epsilon)^{1/p}$.}
\step{3}{\pflet{$n \geq N$}}
\step{4}{$1/n^p < \epsilon$}
\qed
\end{proof}

\begin{thm}
For any real $p > 0$ we have
\[ p^{\frac{1}{n+1}} \rightarrow 1 \]
as $n \rightarrow \infty$.
\end{thm}

\begin{proof}
\pf
\step{1}{\case{$p > 1$}}
\begin{proof}
	\step{a}{For $n \in \mathbb{N}$ \pflet{$x_n = p^{\frac{1}{n+1}} - 1$.}}
	\step{b}{$\forall n \in \mathbb{N}. x_n > 0$}
	\step{c}{$\forall n \in \mathbb{N}.$
	\[ 1 + (n+1)x_n \leq p \enspace . \]}
	\begin{proof}
		\pf\ Since $1 + (n+1)x_n \leq (1 + x_n)^{n+1}$ by the Binomial Theorem.
	\end{proof}
	\step{d}{$\forall n \in \mathbb{N}.$
	\[ 0 < x_n \leq \frac{p-1}{n+1} \enspace . \]}
	\step{e}{$x_n \rightarrow 0$ as $n \rightarrow \infty$.}
	\begin{proof}
		\pf\ Sandwich Theorem.
	\end{proof}
\end{proof}
\step{2}{\case{$p = 1$}}
\begin{proof}
	\pf\ Trivial.
\end{proof}
\step{3}{\case{$p < 1$}}
\begin{proof}
	\pf\ Then $p^{1/(n+1)} = 1/((1/p)^{1/(n+1)}) \rightarrow 1/1 = 1$ by \stepref{1}.
\end{proof}
\qed
\end{proof}

\begin{thm}
\[ (n+1)^{1/(n+1)} \rightarrow 1 \text{ as } n \rightarrow \infty \]
\end{thm}

\begin{proof}
\pf
\step{1}{For $n \in \mathbb{N}$, \pflet{$x_n = (n+1)^{1/(n+1)} - 1$.}}
\step{2}{$\forall n \in \mathbb{N}. x_n \geq 0$}
\step{3}{$\forall n \in \mathbb{N}$
\[ n+1 \geq \frac{n(n+1)}{2} x_n^2 \enspace . \]}
\begin{proof}
	\pf\ Since $(1+x_n)^{n+1} \geq \frac{n(n+1)}{2} x_n^2$ by the Binomial Theorem.
\end{proof}
\step{4}{$\forall n \geq 1$
\[ 0 \leq x_n \leq \sqrt{\frac{2}{n}} \]}
\step{5}{$x_n \rightarrow 0$ as $n \rightarrow \infty$.}
\begin{proof}
	\pf\ Sandwich Theorem.
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $p$ and $\alpha$ be real numbers with $p > 0$. Then
\[ \frac{n^\alpha}{(1+p)^n} \rightarrow 0 \text{ as } n \rightarrow \infty \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ a positive integer $k$ such that $k > \alpha$.}
\begin{proof}
	\pf\ Archimedean Property.
\end{proof}
\step{2}{$\forall n > 2k$
\[ (1 + p)^n > \frac{n^k p^k}{2^k k!} \enspace . \]}
\begin{proof}
	\begin{align*}
		(1+p)^n & > \left( \begin{array}{c} n \\ k \end{array} \right) p^k & (\text{Binomial Theorem}) \\
		& = \frac{n(n-1) \cdots (n-k+1)}{k!} p^k \\
		& > \frac{n^k p^k}{2^k k!} & (n > 2k \text{ so if } n-k < i \leq n \text{ then } i > n/2)
	\end{align*}
\end{proof}
\step{3}{$\forall n > 2k$
\[ 0 < \frac{n^\alpha}{(1+p)^n} < \frac{2^k k!}{p^k} n^{\alpha - k} \enspace . \]}
\step{4}{$n^{\alpha - k} \rightarrow 0$ as $n \rightarrow \infty$}
\begin{proof}
	\pf\ Theorem \ref{thm:n_to_the_p_tends_to_zero}.
\end{proof}
\step{5}{$\frac{n^\alpha}{(1+p)^n} \rightarrow 0$ as $n \rightarrow \infty$.}
\begin{proof}
	\pf\ Sandwich Theorem.
\end{proof}
\qed
\end{proof}

\begin{cor}
For any real number $x$ with $|x| < 1$ we have $x^n \rightarrow 0$ as $n \rightarrow \infty$.
\end{cor}

\begin{proof}
\pf\ Taking $\alpha = 0$. \qed
\end{proof}

\section{Cauchy Sequences}

\begin{df}[Cauchy Sequence]
Let $(p_n)$ be a sequence in the metric space $X$. Then $(p_n)$ is a \emph{Cauchy sequence} iff, for every $\epsilon > 0$, there exists $N$ such that, for all $m,n \geq N$, we have $d(p_m,p_n) < \epsilon$.
\end{df}

\begin{prop}
Let $(p_n)$ be a sequence in the metric space $X$ and let $E_N = \{ p_n : n \geq N \}$ for all $N$. Then $(p_n)$ is a Cauchy sequence if and only if $\diam E_N \rightarrow 0$ as $N \rightarrow \infty$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{thm}
Every convergent sequence is Cauchy.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$(p_n)$ be a convergent sequence with limit $l$.}}
\step{2}{\pflet{$\epsilon > 0$}}
\step{3}{\pick\ $N$ such that, for all $n \geq N$, we have $d(p_n,l) < \epsilon / 2$}
\step{4}{$\forall m,n \geq N. d(p_m,p_n) < \epsilon$}
\qed
\end{proof}

\section{Complete Metric Spaces}

\begin{df}[Complete Metric Space]
A metric space is \emph{complete} iff every Cauchy sequence converges.
\end{df}

\begin{thm}
Every compact metric space is complete.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$X$ be a compact metric space.}}
\step{2}{\pflet{$(p_n)$ be a Cauchy sequence in $X$.}}
\step{3}{For $N \in \mathbb{N}$, \pflet{$E_N = \{ p_n : n \geq N \}$.}}
\step{4}{$\diam \overline{E_N} \rightarrow 0$ as $N \rightarrow \infty$.}
\step{5}{For all $N$, every $\overline{E_N}$ is compact.}
\begin{proof}
	\pf\ Proposition \ref{prop:closed_compact}.
\end{proof}
\step{6}{For all $N$ we have $\overline{E_N} \supseteq \overline{E_{N+1}}$.}
\step{7}{\pflet{$l$ be the unique point in $\bigcap_{N=0}^\infty \overline{E_N}$} \prove{$p_n \rightarrow l$ as $n \rightarrow \infty$.}}
\begin{proof}
	\pf\ Proposition \ref{prop:nested_sequence_of_compact_sets}.
\end{proof}
\step{8}{\pflet{$\epsilon > 0$}}
\step{9}{\pick\ $N_0$ such that $\forall N \geq N_0. \diam \overline{E_N} < \epsilon$.}
\step{10}{$\forall q \in E_N. d(l,q) < \epsilon$}
\step{11}{$\forall n \geq N. d(l,p_n) < \epsilon$}
\qed
\end{proof}

\begin{cor}
Let $X$ be a metric space.
If every closed bounded set in $X$ is compact, then $X$ is complete.
\end{cor}

\begin{proof}
\pf
\step{1}{\pflet{$S$ be a Cauchy sequence in $X$.}}
\step{2}{$S$ is bounded.}
\step{3}{$\overline{S}$ is closed and bounded.}
\step{4}{$\overline{S}$ is compact.}
\step{5}{$S$ is a Cauchy sequence in $\overline{S}$.}
\step{6}{$S$ converges.}
\qed
\end{proof}

\begin{cor}
For every natural number $k$, we have $\mathbb{R}^k$ is complete.
\end{cor}

\begin{cor}
Every closed subspace of a complete metric space is complete.
\end{cor}

\section{Divergent Sequences}

\begin{df}
Let $(s_n)$ be a sequence in $\mathbb{R}$. Then we say $s_n$ \emph{diverges to $+\infty$}, and write
\[ s_n \rightarrow + \infty \text{ as } n \rightarrow \infty \enspace , \]
iff for every real number $M$, there exists an integer $N$ such that
\[ \forall n \geq N. s_n \geq M \enspace . \]

We say $s_n$ \emph{diverges to $-\infty$}, and write
\[ s_n \rightarrow - \infty \text{ as } n \rightarrow \infty \enspace , \]
iff for every real number $M$, there exists an integer $N$ such that
\[ \forall n \geq N. s_n \leq M \enspace . \]
\end{df}

\begin{df}[Limit Supremum, Limit Infimum]
Let $(s_n)$ be a sequence in $\mathbb{R}$. Let $E$ be the set of all $l \in \mathbb{R} \cup \{ + \infty, - \infty \}$ such that there exists a subsequence of $(s_n)$ that converges to $l$.

The \emph{limit supremum} of $(s_n)$, denoted
\[ \limsup_{n \rightarrow \infty} s_n \enspace , \]
is the supremum of $E$ in the extended reals.

The \emph{limit infimum} of $(s_n)$, denoted
\[ \liminf_{n \rightarrow \infty} s_n \enspace , \]
is the infimum of $E$ in the extended reals.
\end{df}

\begin{proof}
\pf\ The set $E$ is always nonempty because: if $(s_n)$ is unbounded above then $+ \infty \in E$; if it is unbounded below then $- \infty \in E$; and if it is bounded above and below then there is a real number in $E$ by Corollary \ref{cor:convergent_subsequence}. \qed
\end{proof}

\begin{thm}
Let $(s_n)$ be a sequence in $\mathbb{R}$. Then there exists a subsequence of $(s_n)$ that converges or diverges to $\limsup_{n \rightarrow \infty} s_n$
\end{thm}

\begin{proof}
\pf
\step{1}{\case{$\limsup_n s_n = + \infty$}}
\begin{proof}
	\pf\ $(s_n)$ is unbounded above and so has a subsequence that diverges to $+ \infty$.
\end{proof}
\step{2}{\case{$\limsup_n s_n \in \mathbb{R}$}}
\begin{proof}
	\pf\ Then $\limsup s_n$ is in the set of limits of subsequences of $(s_n)$ by Proposition \ref{prop:E_star_closed}.
\end{proof}
\step{3}{\case{$\limsup_n s_n = - \infty$}}
\begin{proof}
	\pf\ $(s_n)$ is unbounded below and so has a subsequence that diverges to $- \infty$.
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $(s_n)$ be a sequence in $\mathbb{R}$. Then there exists a subsequence of $(s_n)$ that converges or diverges to $\liminf_{n \rightarrow \infty} s_n$
\end{thm}

\begin{proof}
\pf\ Similar. \qed
\end{proof}

\begin{thm}
Let $(s_n)$ be a sequence in $\mathbb{R}$. If $x > \limsup_n s_n$, then there exists $N$ such that $\forall n \geq N. s_n < x$.
\end{thm}

\begin{proof}
\pf\ If not, we could choose a subsequence of $(s_n)$ that converges to a value $\geq x$, contradicting the definition of $\limsup_n s_n$. \qed
\end{proof}

\begin{thm}
Let $(s_n)$ be a sequence in $\mathbb{R}$. If $x < \liminf_n s_n$, then there exists $N$ such that $\forall n \geq N. s_n > x$.
\end{thm}

\begin{proof}
\pf\ Similar. \qed
\end{proof}

\begin{thm}
\label{thm:limsup}
Let $(s_n)$ be a sequence in $\mathbb{R}$. Let $s^*$ be an extended real such that:
\begin{itemize}
\item There exists a subsequence of $(s_n)$ that converges or diverges to $s^*$.
\item For any $x > s^*$, there exists $N$ such that $\forall n \geq N. s_n < x$.
\end{itemize}
Then $s^* = \limsup_n s_n$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$E$ be the set of subsequential limits of $(s_n)$.}}
\step{2}{$s^*$ is an upper bound for $E$.}
\begin{proof}
	\step{a}{\pflet{$x \in E$}}
	\step{b}{\assume{for a contradiction $x > s^*$.}}
	\step{c}{$s^* \in \mathbb{R}$}
	\step{d}{\pflet{$y = x$ if $x \in \mathbb{R}$, or $s^* + 1$ if $x = + \infty$}}
	\step{e}{There exists $N$ such that $\forall n \geq N. s_n < y$.}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the fact that some subsequence of $(s_n)$ converges or diverges to $x$.
	\end{proof}
\end{proof}
\step{3}{If $u$ is an upper bound for $E$ then $s^* \leq u$.}
\qed
\end{proof}

\begin{thm}
\label{thm:liminf}
Let $(s_n)$ be a sequence in $\mathbb{R}$. Let $s^*$ be an extended real such that:
\begin{itemize}
\item There exists a subsequence of $(s_n)$ that converges or diverges to $s^*$.
\item For any $x < s^*$, there exists $N$ such that $\forall n \geq N. s_n > x$.
\end{itemize}
Then $s^* = \liminf_n s_n$.
\end{thm}

\begin{proof}
\pf\ Similar. \qed
\end{proof}

\begin{prop}
Let $(s_n)$ be a sequence of real numbers and $l \in \mathbb{R}$. Then $(s_n)$ converges to $l$ iff $\limsup_n s_n = \liminf_n s_n = l$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $(s_n)$ converges to $l$ then $\limsup_n s_n = \liminf_n s_n = l$.}
\begin{proof}
	\pf\ If $(s_n)$ converges to $l$ then every subsequence of $(s_n)$ converges to $l$.
\end{proof}
\step{2}{If $\limsup_n s_n = \liminf_n s_n = l$ then $(s_n)$ converges to $l$.}
\begin{proof}
	\step{a}{\assume{$\limsup_n s_n = \liminf_n s_n = l$}}
	\step{b}{For all $\epsilon > 0$, there exists $N$ such that $\forall n \geq N. l - \epsilon < s_n < l + \epsilon$.}
	\begin{proof}
		\pf\ Theorem \ref{thm:limsup} and \ref{thm:liminf}.
	\end{proof}
	\step{c}{$s_n \rightarrow l$ as $n \rightarrow \infty$.}
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $(s_n)$ and $(t_n)$ be sequences of real numbers and $N \in \mathbb{N}$. Assume $\forall n \geq N. s_n \leq t_n$. Then
\[ \liminf_{n \rightarrow \infty} s_n \leq \liminf_{n \rightarrow \infty} t_n \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{For any subsequence $(t_{n_r})$ of $(t_n)$ that converges or diverges to $\pm \infty$, we have $\liminf_n s_n \leq \lim_r t_{n_r}$}
\begin{proof}
	\step{a}{\pflet{$(t_{n_r})$ be a subsequence of $(t_n)$ with limit $l$.}}
	\step{b}{\pick\ $m$ such that a subsequence of $(s_{n_r})$ has limit $m$.}
	\step{c}{$\forall r. s_{n_r} \leq t_{n_r}$}
	\step{d}{$m \leq l$}
	\step{e}{$\liminf_n s_n \leq l$}
\end{proof}
\step{2}{$\liminf_n s_n \leq \liminf_n t_n$}
\qed
\end{proof}

\begin{thm}
Let $(s_n)$ and $(t_n)$ be sequences of real numbers and $N \in \mathbb{N}$. Assume $\forall n \geq N. s_n \leq t_n$. Then
\[ \limsup_{n \rightarrow \infty} s_n \leq \limsup_{n \rightarrow \infty} t_n \enspace . \]
\end{thm}

\begin{proof}
\pf\ Similar. \qed
\end{proof}

\section{Infinite Series}

\begin{df}
Let $(a_n)$ be a sequence of complex numbers and $s \in \mathbb{C}$. We say the \emph{infinite series} $\sum_{n=0}^\infty a_n$ \emph{converges} to $s$, and write
\[ \sum_{n=0}^\infty a_n = s \]
iff
\[ \sum_{n=0}^N a_n \rightarrow s \text{ as } N \rightarrow \infty \enspace . \]
If $(\sum_{n=0}^N a_n)$ diverges, we say the infinite series $\sum_{n=0}^\infty a_n$ diverges.
\end{df}

\begin{thm}
Let $(a_n)$ be a sequence of complex numbers. Then $\sum_{n=0}^\infty a_n$ converges if and only if, for all $\epsilon > 0$, there exists $N$ such that, for all $m,n \geq N$,
\[ \left| \sum_{k=m}^n a_k \right| \leq \epsilon \enspace . \]
\end{thm}

\begin{proof}
\pf\ This is what it means for $(\sum_{k=0}^n a_k)$ to be a Cauchy sequence. \qed
\end{proof}

\begin{cor}
If $\sum_{n=0}^\infty a_n$ converges then $a_n \rightarrow 0$ as $n \rightarrow \infty$.
\end{cor}

\begin{thm}
A series of nonnegative reals converges if and only if its partial sums form a bounded sequence.
\end{thm}

\begin{proof}
\pf\ Its partial sums are a monotonically increasing sequence, and so converge if and only if they are bounded above. \qed
\end{proof}

\begin{thm}[Comparison Test]
Let $(a_n)$ be a sequence of complex numbers and $(c_n)$ a sequence of real numbers. If there exists $N$ such that $\forall n \geq N. |a_n| \leq c_n$, and if $\sum_n c_n$ converges, then $\sum_n a_n$ converges.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$\epsilon > 0$}}
\step{2}{\pick\ $N$ such that $\forall n \geq N. |a_n| \leq c_n$ and $\forall m,n \geq N. \sum_{k=m}^n c_k < \epsilon$.}
\step{3}{$\forall m,n \geq N. |\sum_{k=m}^n a_k| \leq \epsilon$}
\qed
\end{proof}

\begin{cor}
Let $(a_n)$ and $(d_n)$ be sequences of real numbers. If there exists $N$ such that $\forall n \geq N. a_n \geq d_n \geq 0$, and if $\sum_n d_n$ diverges, then $\sum_n a_n$ diverges.
\end{cor}

\begin{thm}[Geometric Series]
For $x$ a real number with $0 \leq x < 1$ we have
\[ \sum_{n=0}^\infty x^n = \frac{1}{1-x} \enspace . \]
\end{thm}

\begin{proof}
\pf
Since $\sum_{n=0}^N x^n = \frac{1 - x^{N+1}}{1-x} \rightarrow \frac{1}{1-x}$ as $n \rightarrow \infty$. \qed
\end{proof}

\begin{thm}
For $x$ a real number with $x \geq 1$ we have $\sum_{n=0}^\infty x^n$ diverges.
\end{thm}

\begin{proof}
\pf\ If $x = 1$ then $\sum_{n=0}^N x^n = N + 1$. If $x > 1$ then $\sum_{n=0}^N x^n = \frac{1 - x^{N+1}}{1-x}$. Both of these sequences diverge. \qed
\end{proof}

\begin{thm}
Let $(a_n)$ be a monotonically decreasing sequence of nonnegative real numbers. Then $\sum_n a_n$ converges if and only if $\sum_n 2^n a_{2^n}$ converges.
\end{thm}

\begin{proof}
\pf
\step{1}{For $N \in \mathbb{N}$, \pflet{$s_N = \sum_{n=0}^N a_n$.}}
\step{2}{For $N \in \mathbb{N}$, \pflet{$t_N = \sum_{n=0}^N 2^n a_{2^n}$.}}
\step{3}{For natural number $N$ and $k$ with $N < 2^k$ we have $s_N \leq a_0 + t_{k-1}$.}
\begin{proof}
	\pf
	\begin{align*}
		s_N & \leq \sum_{n=0}^{2^k - 1} a_n \\
		& = a_0 + \sum_{i=0}^{k-1} \sum_{n=2^i}{2^{i+1} - 1} a_n \\
		& \leq a_0 + \sum_{i=0}^{k-1} 2^i a_{2^i} \\
		& = a_0 + t_{k-1}
	\end{align*}
\end{proof}
\step{4}{For natural number $N$ and $k$ with $N > 2^k$ we have $t_k < 2 s_N$.}
\begin{proof}
	\pf
	\begin{align*}
		s_N & \geq \sum_{n=1}^{2^k} a_n \\
		& \geq \sum_{i=0}^k \sum_{n = 2^i + 1}{2^{i+1}} a_n \\
		& \geq \sum_{i=0}^k 2^i a_{2^{i+1}} \\
		& = (1/2) t_k
	\end{align*}
\end{proof}
\step{5}{$(s_N)$ converges if and only if $(t_k)$ converges.}
\qed
\end{proof}

\begin{thm}
If $p$ is a real number with $p > 1$ then $\sum_n 1/n^p$ converges.
\end{thm}

\begin{proof}
\pf\ Since
\[ \sum_{n=0}^\infty 2^n \frac{1}{2^{np}} = \sum_{n=0}^\infty 2^{(1-p)n} \]
which converges since $2^{1-p} < 1$. \qed
\end{proof}

\begin{thm}
If $p$ is a real number with $p \leq 1$ then $\sum_n 1/n^p$ diverges.
\end{thm}

\begin{proof}
\pf\ If $p \leq 0$ then $1/n^p$ does not converge to 0.

If $0 < p \leq 1$ we have
\[ \sum_{n=0}^\infty 2^n \frac{1}{2^{np}} = \sum_{n=0}^\infty 2^{(1-p)n} \]
which diverges since $2^{1-p} \geq 1$. \qed
\end{proof}

\part{More Algebra}

\chapter{Lie Groups}

\begin{df}[Lie Group]
A \emph{Lie group} $G$ is a group $G$ that is also an analytic differentiable manifold such that the group operation and inverse operation are analytic.

A \emph{homomorphism of Lie groups} is a group homomorphism that is an analytic function.
\end{df}

\begin{lm}
Every bijective Lie group homomorphism is an isomorphism.
\end{lm}

%TODO

\begin{df}[Unitary Group]
The \emph{unitary group} $U(n)$ is the Lie group of all $n \times n$ unitary matrices.
\end{df}

\begin{df}[Special Unitary Group]
The \emph{special unitary group} $SU(n)$ is the Lie group of all $n \times n$ unitary matrices with determinant 1.
\end{df}

\begin{df}[Lie Subgroup]
Let $G$ be a Lie group. A \emph{Lie subgroup} of $G$ is a subgroup that is also an analytic submanifold of $G$.
\end{df}

\begin{ex}
$U(n)$ and $SU(n)$ are Lie subgroups of $GL(n, \mathbb{C})$.
\end{ex}

\end{document}
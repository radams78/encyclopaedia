\documentclass{book}

\title{Mathematics}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage{hyperref}
\usepackage{mathabx}
\usepackage[all]{xy}

\newtheorem{ax}{Axiom}[chapter]
\newtheorem{prop}[ax]{Proposition}
\newtheorem{cor}{Corollary}[ax]
\newtheorem{thm}[ax]{Theorem}
\newtheorem{lm}[ax]{Lemma}
\theoremstyle{definition}
\newtheorem{df}[ax]{Definition}
\newtheorem{ex}[ax]{Example}

\newcommand{\id}[1]{\ensuremath{\mathrm{id}_{#1}}}
\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}

\begin{document}

\maketitle
\tableofcontents

Let there be \emph{sets}.

Given sets $A$ and $B$, let there be \emph{functions} from $A$ to $B$. We write $f : A \rightarrow B$ iff $f$ is a function from $A$ to $B$, and call $A$ the \emph{domain} of $f$ and $B$ the \emph{codomain}.

Given functions $f : A \rightarrow B$ and $g : B \rightarrow C$, let there be a function $g \circ f : A \rightarrow C$, the \emph{composite} of $f$ and $g$.

\begin{ax}[Associativity]
Given $f : A \rightarrow B$, $g : B \rightarrow C$ and $h : C \rightarrow D$, we have
\[ h (gf) = (hg) f \enspace . \]
\end{ax}

\begin{ax}[Identity]
For any set $A$, there exists a function $i : A \rightarrow A$ such that:
\begin{itemize}
\item for any set $B$ and function $f : A \rightarrow B$, we have $fi = f$
\item for any set $B$ and function $f : B \rightarrow A$, we have $if = f$.
\end{itemize}
\end{ax}

\begin{prop}
For any set $A$, there exists a unique function $i : A \rightarrow A$ such that:
\begin{itemize}
\item for any set $B$ and function $f : A \rightarrow B$, we have $fi = f$
\item for any set $B$ and function $f : B \rightarrow A$, we have $if = f$.
\end{itemize}
\end{prop}

\begin{proof}
\pf\ If $i$ and $j$ both satisfy these conditions then $i = ij = j$. \qed
\end{proof}

\begin{df}[Identity Function]
For any set $A$, the \emph{identity function} on $A$, $\mathrm{id}_A$, is the unique function $A \rightarrow A$ such that:
\begin{itemize}
\item for any set $B$ and function $f : A \rightarrow B$, we have $f \mathrm{id}_A = f$
\item for any set $B$ and function $f : B \rightarrow A$, we have $\mathrm{id}_B f = f$.
\end{itemize}
\end{df}

\begin{df}[Isomorphism]
A function $f : A \rightarrow B$ is an \emph{isomorphism}, $f : A \cong B$, iff there exists a function $g : B \rightarrow A$ such that $fg = \mathrm{id}_B$ and $gf = \mathrm{id}_A$.
\end{df}

\begin{ax}[Terminal Set]
There exists a \emph{terminal} set $1$ such that, for any set $A$, there exists exists exactly one function $A \rightarrow 1$.
\end{ax}

\begin{prop}
If $S$ and $T$ are terminal sets then there exists a unique isomorphism $S \cong T$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f$ be the unique function $S \rightarrow T$}}
\step{2}{\pflet{$f^{-1}$ be the unique function $T \rightarrow S$}}
\step{3}{$f f^{-1} = \mathrm{id}_T$}
\begin{proof}
	\pf\ Each is the unique function $T \rightarrow T$.
\end{proof}
\step{4}{$f^{-1} f = \mathrm{id}_S$}
\begin{proof}
	\pf\ Each is the unique function $S \rightarrow S$.
\end{proof}
\qed
\end{proof}

\begin{df}[Terminal Set]
Let 1 be the set such that, for any set $A$, there exists exactly one function $A \rightarrow 1$.
\end{df}

\begin{df}[Element]
An \emph{element} of a set $A$ is a function $1 \rightarrow A$. We write $a \in A$ for $a : 1 \rightarrow A$.

Given $f : A \rightarrow B$ and $a \in A$, we write $f(a)$ for $fa$.
\end{df}

\begin{df}[Surjective]
A function $f : A \rightarrow B$ is \emph{surjective} iff, for all $b \in B$, there exists $a \in A$ such that $f(a) = b$.
\end{df}

\begin{df}[Injective]
A function $f : A \rightarrow B$ is \emph{injective} iff, for all $x, x' \in A$, if $f(x) = f(x')$ then $x = x'$.
\end{df}

\begin{df}[Bijective]
A function is \emph{bijective} iff it is injective and surjective.
\end{df}
\end{document}
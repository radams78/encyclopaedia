% READ
% CHECK
% READ
% READ
% CHECK
% FORMALIZE
% READ
 
\documentclass{book}

\title{Mathematics}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage{hyperref}
\usepackage{mathabx}
\usepackage[all]{xy}

\newtheorem{ax}{Axiom}[section]
\newtheorem{axs}[ax]{Axiom Schema}
\newtheorem{prop}[ax]{Proposition}
\newtheorem{cor}{Corollary}[ax]
\newtheorem{thm}[ax]{Theorem}
\newtheorem{thms}[ax]{Theorem Schema}
\newtheorem{lm}[ax]{Lemma}
\theoremstyle{definition}
\newtheorem{df}[ax]{Definition}
\newtheorem{ex}[ax]{Example}

\newcommand{\id}[1]{\ensuremath{\mathrm{id}_{#1}}}
\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}
\newcommand{\Ob}[1]{\ensuremath{\mathrm{Ob} \left( {#1} \right)}}
\newcommand{\Set}{\ensuremath{\mathbf{Set}}}
\newcommand{\op}[1]{\ensuremath{{#1}^{\mathrm{op}}}}
\newcommand{\spec}{\ensuremath{\operatorname{spec}}}
\newcommand{\Top}{\ensuremath{\mathbf{Top}}}
\newcommand{\dom}{\ensuremath{\operatorname{dom}}}
\newcommand{\spn}{\ensuremath{\operatorname{span}}}
\newcommand{\diam}{\ensuremath{\operatorname{diam}}}

\begin{document}

\maketitle
\tableofcontents

\part{Set Theory}

\input{set.tex}

\part{Category Theory}

\chapter{Category Theory}

\section{Categories}

\begin{df}
A \emph{category} $\mathcal{C}$ consists of:
\begin{itemize}
\item a set $\Ob{\mathcal{C}}$ of \emph{objects}. We write $A \in \mathcal{C}$ for $A \in \Ob{\mathcal{C}}$.
\item for any objects $X$ and $Y$, a set $\mathcal{C}[X,Y]$ of \emph{morphisms} from $X$ to $Y$. We write $f : X \rightarrow Y$ for $f \in \mathcal{C}[X,Y]$.
\item for any objects $X$, $Y$ and $Z$, a function $\circ : \mathcal{C}[Y,Z] \times \mathcal{C}[X,Y] \rightarrow \mathcal{C}[X,Z]$, called \emph{composition}.
\end{itemize}
such that:
\begin{itemize}
\item Given $f : X \rightarrow Y$, $g : Y \rightarrow Z$ and $h : Z \rightarrow W$, we have $h \circ (g \circ f) = (h \circ g) \circ f$
\item For any object $X$, there exists a morphism $\id{X} : X \rightarrow X$, the \emph{identity morphism} on $X$, such that:
\begin{itemize}
\item for any object $Y$ and morphism $f : Y \rightarrow X$ we have $\id{X} \circ f = f$
\item for any object $Y$ and morphism $f : X \rightarrow Y$ we have $f \circ \id{X} = f$
\end{itemize} 
\end{itemize}
\end{df}

We write the composite of morphism $f_1$, \ldots, $f_n$ as $f_n \circ \cdots \circ f_1$. This is unambiguous thanks to Associativity.

\begin{df}
Let $\Set$ be the category of small sets and functions.
\end{df}

\begin{df}
Let $\mathbf{LPos}$ be the category of linearly ordered sets and monotone functions.
\end{df}

\begin{prop}
Any finite linearly ordered set is isomorphic to $\{ m \in \mathbb{N} : m < n \}$ for some $n$.
\end{prop}

\begin{proof}
\pf
\step{1}{Every finite nonempty linearly ordered set has a greatest element.}
\begin{proof}
	\step{a}{\pflet{$P[n]$ be the property: for any linearly ordered set $A$, if there exists a bijection $A \approx \{ m \in \mathbb{N} : m < n \}$ and $A$ is nonempty then $A$ has a greatest element.}}
	\step{b}{$P[0]$}
	\begin{proof}
		\pf\ Vacuous.
	\end{proof}
	\step{c}{$\forall n \in \mathbb{N}. P[n] \Rightarrow P[n+1]$}
	\begin{proof}
		\step{i}{\pflet{$n \in \mathbb{N}$}}
		\step{ii}{\assume{$P[n]$}}
		\step{iii}{\pflet{$A$ be a nonempty linearly ordered set.}}
		\step{iv}{\pflet{$f : A \approx \{ m \in \mathbb{N} : m < n+1\}$}}
		\step{v}{\pflet{$a = \inv{f}(n)$}}
		\step{vi}{$f \restriction (A - \{a\}) : A - \{a\} \approx \{ m \in \mathbb{N} : m < n \}$}
		\step{vii}{\assume{w.l.o.g. $a$ is not greatest in $A$.}}
		\step{viii}{\pflet{$b$ be greatest in $A - \{a\}$}}
		\begin{proof}
			\pf\ \stepref{ii}
		\end{proof}
		\step{ix}{$b$ is greatest in $A$.}
	\end{proof}
\end{proof}
\step{2}{\pflet{$P[n]$ be the property: for any linearly ordered set $A$, if there exists a bijection $A \approx \{ m \in \mathbb{N} : m < n \}$ then there exists an isomorphism in $\mathbf{LPos}$ $A \cong \{ m \in \mathbb{N} : m < n \}$.}}
\step{3}{$P[0]$}
\begin{proof}
	\pf\ If there exists a bijection $A \approx \emptyset$ then $A$ is empty and so the unique function $A \rightarrow \emptyset$ is an order isomorphism.
\end{proof}
\step{4}{For every natural number $n$, if $P[n]$ then $P[n+1]$.}
\begin{proof}
	\step{a}{\pflet{$n$ be a natural number.}}
	\step{b}{\assume{$P[n]$}}
	\step{c}{\pflet{$A$ be a linearly ordered set.}}
	\step{d}{\assume{$A$ has $n+1$ elements.}}
	\step{e}{\pflet{$a$ be the greatest element in $A$.}}
	\step{f}{\pflet{$f : A - \{a\} \cong \{m \in \mathbb{N} : m < n \}$ be an order isomorphism.}}
	\begin{proof}
		\pf\ \stepref{b}
	\end{proof}
	\step{g}{Define $g : A \rightarrow \{ m \in \mathbb{N} : m < n + 1 \}$ by
	\[ g(x) = \begin{cases}
	f(x) & \text{if } x \neq a \\
	n & \text{if } x = a
	\end{cases} \]}
	\step{h}{$g$ is an order isomorphism.}
\end{proof}
\step{5}{$\forall n \in \mathbb{N}. P[n]$}
\qed
\end{proof}

\begin{cor}
Any finite linearly ordered set is well ordered.
\end{cor}

\begin{prop}
Let $J$ and $E$ be well ordered sets. Suppose there is a strictly monotone map $J \rightarrow E$. Then $J$ is isomorphic either to $E$ or a section of $E$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$k : J \rightarrow E$ be strictly monotone.}}
\step{2}{\assume{w.l.o.g. $E$ is nonempty.}}
\step{3}{\pick\ $e_0 \in E$}
\step{4}{\pflet{$h : J \rightarrow E$ be the function defined by transfinite recursion thus:
\[ h(\alpha) = \begin{cases}
\text{the least element in } E - h((-\infty, \alpha)) & \text{if } h((-\infty, \alpha)) \neq E \\
e_0 & \text{if } h((-\infty, \alpha)) = E
\end{cases} \]}}
\step{5}{$\forall \alpha \in J. h(\alpha) \leq k(\alpha)$}
\begin{proof}
	\step{a}{\pflet{$\alpha \in J$}}
	\step{b}{\assume{as transfinite induction hypothesis $\forall \beta < \alpha. h(\beta) \leq k(\beta)$.}}
	\step{c}{$\forall \beta < \alpha. h(\beta) < k(\alpha)$}
	\step{d}{$h((-\infty, \alpha)) \neq E$}
	\step{e}{$h(\alpha)$ is the least element in $E - h((-\infty, \alpha))$.}
	\step{f}{$k(\alpha) \in E - h((-\infty, \alpha))$}
	\step{g}{$h(\alpha) \leq k(\alpha)$}
\end{proof}
\step{6}{$\forall \alpha \in J. h((-\infty, \alpha)) \neq E$}
\begin{proof}
	\pf\ For $\beta < \alpha$ we have $h(\beta) \leq k(\beta) < k(\alpha)$ so $k(\alpha) \notin h((-\infty, \alpha))$.
\end{proof}
\step{7}{For all $\alpha \in J$, we have $h(\alpha)$ is the least element of $E - h((-\infty, \alpha))$.}
\step{8}{$h$ is strictly monotone and $h(J)$ is either $E$ or a section of $E$.}
\begin{proof}
	\pf\ Proposition \ref{prop:order_preserving_maps}.
\end{proof}
\qed
\end{proof}

\begin{prop}
If $A$ and $B$ are well ordered sets, then exactly one of the following conditions hold: $A \cong B$, or $A$ is isomorphic to a section of $B$, or $B$ is isomorphic to a section of $A$.
\end{prop}

\begin{proof}
\pf
\step{1}{At least one of the conditions holds.}
\begin{proof}
	\step{a}{$B$ is isomorphic to either $A + B$ or a section of $A + B$.}
	\step{b}{\case{$B \cong A + B$}}
	\begin{proof}
		\step{i}{\pflet{$\phi$ be the isomorphism $B \cong A + B$}}
		\step{ii}{\pflet{$b_0$ be the least element in $B$.}}
		\step{iii}{$A$ is isomorphic to the section $(-\infty, \inv{\phi}(\kappa_2(b_0)))$ of $B$.}
	\end{proof}
	\step{c}{\case{$a \in A$ and $B \cong (-\infty, \kappa_1(a))$}}
	\begin{proof}
		\pf\ Then $B$ is isomorphic to the section $(-\infty, a)$ of $A$.
	\end{proof}
	\step{d}{\case{$b \in B$ and $\phi : B \cong (-\infty, \kappa_2(b))$}}
	\begin{proof}
		\step{i}{\case{$b$ is least in $B$.}}
		\begin{proof}
			\pf\ Then $A \cong B$.
		\end{proof}
		\step{ii}{\case{$b$ is not least in $B$.}}
		\begin{proof}
			\step{one}{\pflet{$b_0$ be least in $B$.}}
			\step{two}{$A$ is isomorphic to the section $(-\infty, \inv{\phi}(\kappa_2(b_0)))$ of $B$.}
		\end{proof}
	\end{proof}
\end{proof}
\step{2}{At most one of the conditions holds.}
\begin{proof}
	\pf\ Since a well ordered set cannot be isomorphic to a section of itself.
\end{proof}
\qed
\end{proof}

\begin{thm}
There exists a well ordered set, unique up to order isomorphism, that is uncountable but such that every section is countable.
\end{thm}

\begin{proof}
\pf
\step{1}{There exists a well ordered set that is uncountable but such that every section is countable.}
\begin{proof}
	\step{a}{\pick\ a well ordered set $A$ with an element $\Omega \in A$ such that $(-\infty, \Omega)$ is uncountable but $\forall \alpha < \Omega. (-\infty, \alpha)$ is countable.}
	\step{b}{\pflet{$(-\infty, Omega)$ is uncountable but every section is countable.}}
\end{proof}
\step{2}{If $A$ and $B$ are uncountable well ordered sets such that every section is countable, then $A \cong B$.}
\begin{proof}
	\pf\ Since it cannot be that one of $A$ and $B$ is isomorphic to a section of the other.
\end{proof}
\qed
\end{proof}

\begin{df}[Minimal Uncountable Well Ordered Set]
The \emph{minimal uncountable well ordered set} $\Omega$ is the well ordered set that is uncountable but such that every section is countable.

We write $\overline{\Omega}$ for the well ordered set $\Omega \cup \{ \Omega \}$ where $\Omega$ is greatest.
\end{df}

\begin{prop}
Every countable subset of $\Omega$ is bounded above.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be a countable subset of $\Omega$.}}
\step{2}{For all $a \in A$ we have $(-\infty, a)$ is countable.}
\step{3}{$\bigcup_{a \in A} (- \infty, a)$ is countable.}
\step{4}{$\bigcup_{a \in A} (-\infty, a) \neq \Omega$}
\step{5}{\pick\ $x \in \Omega - \bigcup_{a \in A} (-\infty, a)$}
\step{6}{$x$ is an upper bound for $A$.}
\qed
\end{proof}

\begin{prop}
$\Omega$ has no greatest element.
\end{prop}

\begin{proof}
\pf\ For any $\alpha \in \Omega$ we have $(- \infty, \alpha]$ is countable and hence not the whole of $\Omega$. \qed
\end{proof}

\begin{prop}
There are uncountably many elements of $\Omega$ that have no predecessor.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$A$ be the set of all elements of $\Omega$ that have no predecessor.}}
\step{2}{\pflet{$f : A \times \mathbb{N} \rightarrow \Omega$ be the function that maps $(a,n)$ to the $n$th successor of $a$.}}
\step{3}{$f$ is surjective.}
\begin{proof}
	\step{a}{\assume{for a contradiction $x \in \Omega$ and there is no element $a \in A$ and $n \in \mathbb{N}$ such that $x$ is the $n$th successor of $a$.}}
	\step{b}{\pflet{$x_n$ be the $n$th predecessor of $x$ for $n \in \mathbb{N}$.}}
	\step{c}{$\{x_n : n \in \mathbb{N} \}$ is a nonempty subset of $\Omega$ with no least element.}
\end{proof}
\step{4}{$A \times \mathbb{N}$ is uncountable.}
\step{5}{$A$ is uncountable.}
\qed
\end{proof}

\begin{df}
We identify a poset $(A, \leq)$ with the category with:
\begin{itemize}
\item set of objects $A$
\item for $a,b \in A$, the set of homomorphisms is $\{ x \in 1 : a \leq b \}$
\end{itemize}
\end{df}

\begin{prop}
A category is a poset iff, for any two objects, there exists at most one morphism between them.
\end{prop}

\begin{prop}
The identity morphism on an object is unique.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{C}$ be a category.}}
\step{2}{\pflet{$A \in \mathcal{C}$}}
\step{3}{\pflet{$i,j : A \rightarrow A$ be identity morphisms on $A$.}}
\step{4}{$i = j$}
\begin{proof}
	\pf
	\begin{align*}
		i & = i \circ j & (j \text{ is an identity on } A) \\
		& = j & (i \text{ is an identity on } A)
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $A$ be a linearly ordered set. Then $A$ is well ordered if and only if it does not contain a subset of order type $\mathbb{N}^\mathrm{op}$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $A$ is well ordered then it does not contain a subset of order type $\mathbb{N}^\mathrm{op}$.}
\begin{proof}
	\pf\ A subset of order type $\mathbb{N}^\mathrm{op}$ would be a subset with no least element.
\end{proof}
\step{2}{If $A$ is not well ordered then it contains a subset of order type $\mathbb{N}^\mathrm{op}$.}
\begin{proof}
	\step{a}{\assume{$A$ is not well ordered.}}
	\step{b}{\pick\ a nonempty subset $S$ with no least element.}
	\step{c}{\pick\ $a_0 \in S$}
	\step{d}{Extend to a sequence $(a_n)$ in $S$ such that $a_{n+1} < a_n$ for all $n$.}
	\step{e}{$\{ a_n : n \in \mathbb{N} \}$ has order type $\mathbb{N}^\mathrm{op}$.}
\end{proof}
\qed
\end{proof}

\begin{cor}
Let $A$ be a linearly ordered set. If every countable subset of $A$ is well ordered, then $A$ is well ordered.
\end{cor}

\begin{df}
Given $f : A \rightarrow B$ and an object $C$, define the function $f^* : \mathcal{C}[B,C] \rightarrow \mathcal{C}[A,C]$ by $f^*(g) = g \circ f$.
\end{df}

\begin{df}
Given $f : A \rightarrow B$ and an object $C$, define the function $f_* : \mathcal{C}[C,A] \rightarrow \mathcal{C}[C,B]$ by $f_*(g) = f \circ g$.
\end{df}

\subsection{Monomorphisms}

\begin{df}[Monomorphism]
Let $f : A \rightarrow B$. Then $f$ is \emph{monic} or a \emph{monomorphism}, $f : A \rightarrowtail B$, iff, for any object $X$ and functions $x,y : X \rightarrow A$, if $f \circ x = f \circ y$ then $x = y$.
\end{df}

\subsection{Epimorphisms}

\begin{df}[Epimorphism]
Let $f : A \rightarrow B$. Then $f$ is \emph{epic} or an \emph{epimorphism}, $f : A \twoheadrightarrow B$, iff, for any object $X$ and functions $x,y : B \rightarrow X$, if $x \circ f = y \circ f$ then $x = y$.
\end{df}

\subsection{Sections and Retractions}

\begin{df}[Section, Retraction]
Let $r : A \rightarrow B$ and $s : B \rightarrow A$. Then $r$ is a \emph{retraction} of $s$, and $s$ is a \emph{section} of $r$, iff $rs = \id{B}$.
\end{df}

\begin{prop}
\label{prop:section_is_retraction}
Let $f : A \rightarrow B$ and $r,s : B \rightarrow A$. If $r$ is a retraction of $f$ and $s$ is a section of $f$ then $r = s$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
r & = r \id{B} & (\text{Unit Law}) \\
& = r f s & (\text{$s$ is a section of $f$}) \\
& = \id{A} s & (\text{$r$ is a retraction of $f$}) \\
& = s & (\text{Unit Law}) & \qed
\end{align*}
\end{proof}

\begin{prop}
Every section is monic.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$s : B \rightarrow A$ be a section of $r : A \rightarrow B$.}}
\step{2}{\pflet{$X$ be an object and $x,y : X \rightarrow B$}}
\step{3}{\assume{$s \circ x = s \circ y$}}
\step{4}{$x = y$}
\begin{proof}
	\pf\ $x = r \circ s \circ x = r \circ s \circ y = y$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Every retraction is epic.
\end{prop}

\begin{proof}
\pf\ Dual. \qed
\end{proof}

\subsection{Isomorphisms}

\begin{df}[Isomorphism]
A morphism $f : A \rightarrow B$ is an \emph{isomorphism}, $f : A \cong B$, iff there exists a morphism $\inv{f} : B \rightarrow A$ that is both a retraction and section of $f$.

Objects $A$ and $B$ are \emph{isomorphic}, $A \cong B$, iff there exists an isomorphism between them.
\end{df}

\begin{prop}
The inverse of an isomorphism is unique.
\end{prop}

\begin{proof}
\pf\ From Proposition \ref{prop:section_is_retraction}. \qed
\end{proof}

\begin{prop}
If $f : A \cong B$ then $\inv{f} : B \cong A$ and $\inv{(\inv{f})} = f$.
\end{prop}

\begin{proof}
\pf\ Since $f\inv{f} = \id{B}$ and $\inv{f}f = \id{A}$. \qed
\end{proof}

Isomorphism.

Define the opposite category.

Slice categories

\begin{df}
Let $\mathcal{C}$ be a category and $B \in \mathcal{C}$. The category $\mathcal{C}_B^B$ of objects \emph{over and under} $B$ is the category with:
\begin{itemize}
\item objects all triples $(X,u,p)$ such that $u : B \rightarrow X$ and $p : X \rightarrow B$
\item morphisms $f : (X,u,p) \rightarrow (Y,u',p')$ all morphisms $f : X \rightarrow Y$ such that $fu=u'$ and $p'f=p$.
\end{itemize}
\end{df}

\begin{prop}
\[ \mathcal{C}_B^B \cong (\mathcal{C} / B) \backslash \id{B} \cong (\mathcal{C} \backslash B) / \id{B} \]
\end{prop}

$(B, \id{B}, \id{B})$ is the zero object in $\mathcal{C}_B^B$.

\subsection{Initial Objects}

\begin{df}[Initial Object]
An object $I$ is \emph{initial} iff, for any object $X$, there exists exactly one morphism $I \rightarrow X$.
\end{df}

\begin{prop}
The empty set is initial in $\Set$.
\end{prop}

\begin{proof}
\pf\ For any set $A$, the nowhere-defined function is the unique function $\emptyset \rightarrow A$. \qed
\end{proof}

\begin{prop}
\label{prop:initial_unique}
If $I$ and $I'$ are initial objects, then there exists a unique isomorphism $I \cong I'$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$i : I \rightarrow I'$ be the unique morphism $I \rightarrow I'$.}}
\step{2}{\pflet{$\inv{i} : I' \rightarrow I$ be the unique morphism $I' \rightarrow I$.}}
\step{3}{$i \inv{i} = \id{I'}$}
\begin{proof}
	\pf\ There is only one morphism $I' \rightarrow I'$.
\end{proof}
\step{4}{$\inv{i} i = \id{I}$}
\begin{proof}
	\pf\ There is only one morphism $I \rightarrow I$.
\end{proof}
\qed
\end{proof}

\subsection{Terminal Objects}

\begin{df}[Terminal Object]
An object $T$ is \emph{terminal} iff, for any object $X$, there exists exactly one morphism $X \rightarrow T$.
\end{df}

\begin{prop}
1 is terminal in $\Set$.
\end{prop}

\begin{proof}
\pf\ For any set $A$, the constant function to $*$ is the only function $A \rightarrow 1$. \qed
\end{proof}

\begin{prop}
If $T$ and $T'$ are terminal objects, then there exists a unique isomorphism $T \cong T'$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:initial_unique}. \qed
\end{proof}

\subsection{Zero Objects}

\begin{df}[Zero Object]
An object $Z$ is a \emph{zero object} iff it is an initial object and a terminal object.
\end{df}

\begin{df}[Zero Morphism]
Let $\mathcal{C}$ be a category with a zero object $Z$. Let $A,B \in \mathcal{C}$. The \emph{zero morphism} $A \rightarrow B$ is the unique morphism $A \rightarrow Z \rightarrow B$.
\end{df}

\begin{prop}
There is no zero object in $\Set$.
\end{prop}

\begin{proof}
\pf\ Since $\emptyset \not\approx 1$. \qed
\end{proof}

\subsection{Triads}

\begin{df}[Triad]
Let $\mathcal{C}$ be a category. A \emph{triad} consists of objects $X$, $Y$, $M$ and morphisms $\alpha : X \rightarrow M$, $\beta : Y \rightarrow M$. We call $M$ the \emph{codomain} of the triad.
\end{df}

\subsection{Cotriads}

\begin{df}[Cotriad]
Let $\mathcal{C}$ be a category. A \emph{cotriad} consists of objects $X$, $Y$, $W$ and morphisms $\xi : W \rightarrow X$, $\eta : W \rightarrow Y$. We call $W$ the \emph{domain} of the triad.
\end{df}

\subsection{Pullbacks}

\begin{df}[Pullback]
A diagram
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
is a \emph{pullback} iff $\alpha \xi = \beta \eta$ and, for every object $Z$ and morphism $f : Z \rightarrow X$ and $g : Z \rightarrow Y$ such that $\alpha f = \beta g$, there exists a unique $h : Z \rightarrow W$ such that $\xi h = f$ and $\eta h = g$.

In this case we also say that $\eta$ is the \emph{pullback} of $\beta$ along $\alpha$.
\end{df}

\begin{prop}
\label{prop:pullback_unique}
If $\xi : W \rightarrow X$ and $\eta : W \rightarrow Y$ form a pullback of $\alpha : X \rightarrow M$ and $\beta : Y \rightarrow M$, and $\xi' : W' \rightarrow X$ and $\eta' : W' \rightarrow Y$ also form the pullback of $\alpha$ and $\beta$, then there exists a unique isomorphism $\phi : W \cong W'$ such that $\eta' \phi = \eta$ and $\xi' \phi = \xi$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\phi : W \rightarrow W'$ be the unique morphism such that $\eta' \phi = \eta$ and $\xi' \phi = \xi$.}}
\step{2}{\pflet{$\inv{\phi} : W' \rightarrow W$ be the unique morphism such that $\eta \inv{\phi} = \eta'$ and $\xi \inv{\phi} = \xi'$.}}
\step{3}{$\phi \inv{\phi} = \id{W'}$}
\begin{proof}
	\pf\ Each is the unique $x : W' \rightarrow W'$ such that $\eta' x = \eta'$ and $\xi' x = \xi'$.
\end{proof}
\step{4}{$\inv{\phi} \phi = \id{W}$}
\begin{proof}
	\pf\ Each is the unique $x : W \rightarrow W$ such that $\eta x = \eta$ and $\xi x = \xi$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:pullback_id}
For any morphism $h : A \rightarrow B$, the following diagram is a pullback diagram.
\[ \xymatrix{
A \ar[r]^h \ar@{=}[d] & B \ar@{=}[d] \\
A \ar[r]_h & B
} \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$Z$ be an object.}}
\step{2}{\pflet{$f : Z \rightarrow B$ and $g : Z \rightarrow A$ satisfy $\id{B} f = hg$}}
\step{3}{$g : Z \rightarrow B$ is the unique morphism such that $\id{A} g = g$ and $hg = f$.}
\qed
\end{proof}

\begin{prop}
\label{prop:pullback_iso}
The pullback of an isomorphism is an isomorphism.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pullback diagram.}}
\step{2}{\assume{$\beta$ is an isomorphism.}}
\step{3}{\pflet{$\inv{\xi}$ be the unique morphism $X \rightarrow W$ such that $\xi \inv{\xi} = \id{X}$ and $\eta \inv{\xi} = \inv{\beta} \alpha$.}}
\begin{proof}
	\pf\ This exists since $\alpha \id{X} = \beta \inv{\beta} \alpha = \alpha$.
\end{proof}
\step{4}{$\inv{\xi} \xi = \id{W}$}
\begin{proof}
	\pf\ Each is the unique $x : W \rightarrow W$ such that $\xi x = \xi$ and $\eta x = \eta$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:pullback_slice_under}
Let $\beta : (Y,y) \rightarrow (M,m)$ and $\alpha : (X,x) \rightarrow (M,m)$ in $\mathcal{C} \backslash A$. Let
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pullback in $\mathcal{C}$. Let $w : A \rightarrow W$ be the unique morphism such that $\xi w = x$ and $\eta w = y$. Then $\xi : (W,w) \rightarrow (X,x)$ and $\eta : (W,w) \rightarrow (Y,y)$ is the pullback of $\beta$ and $\alpha$ in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$(Z,z) \in \mathcal{C} \backslash A$}}
\step{2}{\pflet{$f : (Z,z) \rightarrow (X,x)$ and $g : (Z,z) \rightarrow (Y,y)$ satisfy $\alpha f = \beta g$.}}
\step{3}{\pflet{$h : Z \rightarrow W$ be the unique morphism such that $\xi h = f$ and $\eta h = g$.}}
\step{4}{$hz=w$}
\begin{proof}
	\step{a}{$\xi h z = \xi w$}
	\begin{proof}
		\pf
		\begin{align*}
			\xi h z & = f z & (\text{\stepref{3}}) \\
			& = x & (\text{\stepref{2}}) \\
			& = \xi w
		\end{align*}
	\end{proof}
	\step{b}{$\eta h z = \eta w$}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\step{4}{$h : (Z,z) \rightarrow (W,w)$}
\qed
\end{proof}

\begin{prop}
\label{prop:pullback_slice_over}
Let $\beta : (Y,y) \rightarrow (M,m)$ and $\alpha : (X,x) \rightarrow (M,m)$ in $\mathcal{C} / A$. Let
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pullback in $\mathcal{C}$. Let $w = x\xi : W \rightarrow A$. Then $\xi : (W,w) \rightarrow (X,x)$ and $\eta : (W,w) \rightarrow (Y,y)$ form a pullback of $\alpha$ and $\beta$ in $\mathcal{C} / A$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\eta : (W,w) \rightarrow (Y,y)$}
\begin{proof}
	\pf
	\begin{align*}
		y \eta & = m \beta \eta \\
		& = m \alpha \xi \\
		& = x \xi \\
		& = w
	\end{align*}
\end{proof}
\step{2}{\pflet{$(Z,z) \in \mathcal{C} / A$}}
\step{3}{\pflet{$f : (Z,z) \rightarrow (X,x)$ and $g : (Z,z) \rightarrow (Y,y)$ satisfy $\alpha f = \beta g$.}}
\step{4}{\pflet{$h : Z \rightarrow W$ be the unique morphism such that $\xi h = f$ and $\eta h = g$.}}
\step{5}{$h : (Z,z) \rightarrow (W,w)$}
\begin{proof}
	\pf
	\begin{align*}
		w h & = x \xi h \\
		& = xf & (\text{\stepref{4}}) \\
		& = z & (\text{\stepref{3}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
In $\Set$, let $\alpha : X \rightarrow M$ and $\beta : Y \rightarrow M$. Let $W = \{ (x,y) \in X \times Y : \alpha(x) = \beta(y) \}$ with inclusion $i : W \rightarrow X \times Y$. Let $\xi = \pi_1 i : W \rightarrow X$ and $\eta : \pi_2 i : W \rightarrow Y$. Then $\xi$ and $\eta$ form the pullback of $\alpha$ and $\beta$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\alpha \xi = \beta \eta$}
\begin{proof}
	\pf\ For $w \in W$, if $i(w) = (x,y)$ then then $\alpha(\xi(w)) = \alpha(x) = \beta(y) = \beta(\eta(w))$.
\end{proof}
\step{2}{For every set $Z$ and functions $f : Z \rightarrow X$, $g : Z \rightarrow Y$ such that $\alpha f = \beta g$, there exists a unique $h : Z \rightarrow W$ such that $\xi h = f$ and $\eta h = g$}
\begin{proof}
	\pf\ For $z \in Z$, let $h(z)$ be the unique element of $W$ such that $i(h(z)) = (f(z),g(z))$.
\end{proof}
\qed
\end{proof}

Pullback lemma

\subsection{Pushouts}

\begin{df}[Pushout]
A diagram
\begin{equation}
\label{eq:pushout}
\xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
}
\end{equation}
is a \emph{pushout} iff $\alpha \xi = \beta \eta$ and, for every object $Z$ and morphism $f : X \rightarrow Z$ and $g : Y \rightarrow Z$ such that $f \xi = g \eta$, there exists a unique $h : M \rightarrow Z$ such that $h \alpha = f$ and $h \beta = g$.

We also say that $\beta$ is the \emph{pushout} of $\xi$ along $\eta$.
\end{df}

\begin{prop}
If $\alpha : X \rightarrow M$ and $\beta : Y \rightarrow M$ form a pushout of $\xi : W \rightarrow X$ and $\eta : W \rightarrow Y$, and $\alpha' : X \rightarrow M'$ and $\beta' : Y \rightarrow M'$ also form a pushout of $\xi$ and $\eta$, then there exists a unique isomorphism $\phi : M \cong M'$ such that $\phi \alpha = \alpha'$ and $\phi \beta = \beta'$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_unique}. \qed
\end{proof}

\begin{prop}
For any morphism $h : A \rightarrow B$, the following diagram is a pushout diagram.
\[ \xymatrix{
A \ar[r]^h \ar@{=}[d] & B \ar@{=}[d] \\
A \ar[r]_h & B
} \]
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_id}.
\end{proof}

\begin{prop}
The diagram (\ref{eq:pushout}) is a pushout in $\mathcal{C}$ iff it is a pullback in $\mathcal{C}^\mathrm{op}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
The pushout of an isomorphism is an isomorphism.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_iso}. \qed
\end{proof}

\begin{prop}
Let $\xi : (W,w) \rightarrow (X,x)$ and $\eta : (W,w) \rightarrow (Y,y)$ in $\mathcal{C} \backslash A$. Let
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pushout in $\mathcal{C}$. Let $m : = \alpha x : A \rightarrow M$. Then $\alpha : (X,x) \rightarrow (M,m)$ and $\beta : (Y,y) \rightarrow (M,m)$ is the pushout of $\xi$ and $\eta$ in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_slice_over}. \qed
\end{proof}

\begin{prop}
Let $\xi : (W,w) \rightarrow (X,x)$ and $\eta : (W,w) \rightarrow (Y,y)$ in $\mathcal{C} / A$. Let
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pushout in $\mathcal{C}$. Let $m : M \rightarrow A$ be the unique morphism such that $m \alpha = x$ and $m \beta = y$. Then $\alpha : (X,x) \rightarrow (M,m)$ and $\beta : (Y,y) \rightarrow (M,m)$ is the pushout of $\xi$ and $\eta$ in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_slice_under}. \qed
\end{proof}

\begin{prop}
$\Set$ has pushouts.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\xi : W \rightarrow X$ and $\eta : W \rightarrow Y$.}}
\step{2}{\pflet{$\sim$ be the equivalence relation on $X + Y$ generated by $\xi(w) \sim \eta(w)$ for all $w \in W$}}
\step{3}{\pflet{$M = (X + Y) / \sim$ with canonical projection $\pi : X + Y \twoheadrightarrow M$.}}
\step{33}{\pflet{$\alpha = \pi \circ \kappa_1 : X \rightarrow M$}}
\step{34}{\pflet{$\beta = \pi \circ \kappa_2 : Y \rightarrow M$}}
\step{4}{\pflet{$Z$ be any set, $f : X \rightarrow Z$ and $g : Y \rightarrow Z$.}}
\step{5}{\assume{$f \xi = g \eta$}}
\step{6}{\pflet{$h : X + Y \rightarrow Z$ be the function defined by $h(x) = f(x)$ and $h(y) = g(y)$ for $x \in X$ and $y \in Y$}}
\step{7}{$h$ respects $\sim$}
\begin{proof}
	\pf\ For $w \in W$ we have
	\begin{align*}
		h(\xi(w)) & = f(\xi(w)) & (\text{\stepref{6}}) \\
		& = g(\eta(w)) & (\text{\stepref{5}}) \\
		& = h(\eta(w)) & (\text{\stepref{6}})
	\end{align*}
\end{proof}
\step{8}{\pflet{$\overline{h} : M \rightarrow Z$ be the induced function.}}
\step{9}{$\overline{h} \alpha = f$}
\begin{proof}
	\pf
	\begin{align*}
		\overline{h}(\alpha(x)) & = \overline{h}(\pi(\kappa_1(x))) \\
		& = h(\kappa_1(x)) \\
		& = f(x)
	\end{align*}
\end{proof}
\step{10}{$\overline{h} \beta = g$}
\begin{proof}
	\pf\ Similar.
\end{proof}
\step{11}{For all $k : M \rightarrow Z$, if $k \alpha = f$ and $k \beta = g$ then $k = \overline{h}$.}
\begin{proof}
	\pf
	\begin{align*}
		k(\pi(\kappa_1(x))) & = k(\alpha(x)) \\
		& = f(x) \\
		k(\pi(\kappa_2(y))) & = k(\beta(y)) \\
		& = g(y) \\
		\therefore k \circ \pi & = h \\
		\therefore k & = \overline{h}
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}
Let $u : A \rightarrowtail X$ be an injection. The \emph{pointed set obtained from $X$ by collapsing $(A,u)$}, denoted $X / (A,u)$, is the pushout
\[ \xymatrix{
A \ar[r] \ar[d]^u & 1 \ar[d]_{*} \\
X \ar[r] & X / (A,u)
} \]
\end{df}

\begin{prop}
In $\mathbf{Set}_*$, any two morphisms $1 \rightarrow X$ and $1 \rightarrow Y$ have a pushout.
\end{prop}

\begin{proof}
\pf\ The pushout of $a : (1,*) \rightarrow (X,x)$ and $b : (1,*) \rightarrow (Y,y)$ is $(X+Y/\sim, x)$ where $\sim$ is the equivalence relation generated by $x \sim y$. \qed
\end{proof}

\begin{df}[Wedge]
The \emph{wedge} of pointed sets $X$ and $Y$, $X \vee Y$, is the pushout of the unique morphism $1 \rightarrow X$ and $1 \rightarrow Y$.
\end{df}

\begin{df}[Smash]
Let $X$ and $Y$ be pointed sets. Let $\xi : X \vee Y \rightarrow X$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar@{=}@/^/[ddr] \\
Y \ar[r] \ar@/_/[drr]_0 & X \vee Y \ar[dr]^\xi \\
& & X
} \]
Let $\eta : X \vee Y \rightarrow Y$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar@/^/[ddr]^0 \\
Y \ar[r] \ar@{=}@/_/[drr] & X \vee Y \ar[dr]^\eta \\
& & Y
} \]
Let $\zeta = \langle \xi, \eta \rangle : X \vee Y \rightarrow X \times Y$. The \emph{smash} of $X$ and $Y$, $X \wedge Y$, is the result of collapsing $X \times Y$ with respect to $\zeta$.
\end{df}

Pushout lemma

\subsection{Subcategories}

\begin{df}[Subcategory]
A \emph{subcategory} $\mathcal{C}'$ of a category $\mathcal{C}$ consists of:
\begin{itemize}
\item a subset $\Ob{\mathcal{C}'}$ of $\mathcal{C}$
\item for all $A,B \in \Ob{\mathcal{C}'}$, a subset $\mathcal{C}'[A,B] \subseteq \mathcal{C}[A,B]$
\end{itemize}
such that:
\begin{itemize}
\item for all $A \in \Ob{\mathcal{C}'}$, we have $\id{A} \in \mathcal{C}'[A,A]$
\item for all $f \in \mathcal{C}'[A,B]$ and $g \in \mathcal{C}'[B,C]$, we have $g \circ f \in \mathcal{C}'[A,C]$.
\end{itemize}

It is a \emph{full} subcategory iff, for all $A,B \in \Ob{\mathcal{C}'}$, we have $\mathcal{C}'[A,B] = \mathcal{C}[A,B]$.
\end{df}

\subsection{Opposite Category}

\begin{df}[Opposite Category]
For any category $\mathcal{C}$, the \emph{opposite} category $\op{\mathcal{C}}$ is the category with
\begin{itemize}
\item $\Ob{\op{\mathcal{C}}} = \Ob{\mathcal{C}}$
\item $\op{\mathcal{C}}[A,B] = \mathcal{C}[B,A]$
\item Given $f \in \op{\mathcal{C}}[A,B]$ and $g \in \op{\mathcal{C}}[B,C]$, their composite in $\op{\mathcal{C}}$ is $f \circ g$, where $\circ$ is composition in $\mathcal{C}$.
\end{itemize}
\end{df}

\begin{prop}
An object is initial in $\mathcal{C}$ iff it is terminal in $\op{\mathcal{C}}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
An object is terminal in $\mathcal{C}$ iff it is initial in $\op{\mathcal{C}}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{cor}
If $T$ and $T'$ are terminal objects in $\mathcal{C}$ then there exists a unique isomorphism $T \cong T'$.
\end{cor}

\subsection{Groupoids}

\begin{df}[Groupoid]
A \emph{groupoid} is a category in which every morphism is an isomorphism.
\end{df}

\subsection{Concrete Categories}

\begin{df}[Concrete Category]
A \emph{concrete category} $\mathcal{C}$ consists of:
\begin{itemize}
\item a set $\Ob{\mathcal{C}}$ of \emph{objects}
\item for any object $A \in \Ob{\mathcal{C}}$, a set $|A|$
\item for any objects $A,B \in \Ob{\mathcal{C}}$, a set of functions $\mathcal{C}[A,B] \subseteq |B|^{|A|}$
\end{itemize}
such that:
\begin{itemize}
\item for any $f \in \mathcal{C}[A,B]$ and $g \in \mathcal{C}[B,C]$, we have $g \circ f \in \mathcal{C}[A,C]$
\item for any object $A$ we have $\id{|A|} \in \mathcal{C}[A,A]$.
\end{itemize}
\end{df}

\subsection{Power of Categories}

\begin{df}
Let $\mathcal{C}$ be a category and $J$ a set. The category $\mathcal{C}^J$ is the category with:
\begin{itemize}
\item objects all $J$-indexed families of objects of $\mathcal{C}$
\item morphisms $\{X_j\}_{j \in J} \rightarrow \{Y_j\}_{j \in J}$ all families $\{f_j\}_{j \in J}$ where $f_j : X_j \rightarrow Y_j$
\end{itemize}
\end{df}

\subsection{Arrow Category}

\begin{df}[Arrow Category]
Let $\mathcal{C}$ be a category. The \emph{arrow category} $\mathcal{C}^\rightarrow$ is the category with:
\begin{itemize}
\item objects all triples $(A,B,f)$ where $f : A \rightarrow B$ in $\mathcal{C}$
\item morphisms $(A,B,f) \rightarrow (C,D,g)$ all pairs $(u : A \rightarrow C, v : B \rightarrow D)$ such that $vf=gu$.
\end{itemize}
\end{df}

\subsection{Slice Category}

\begin{df}[Slice Category]
Let $\mathcal{C}$ be a category and $A \in \mathcal{C}$. The \emph{slice category under $A$}, $\mathcal{C} \backslash A$, is the category with:
\begin{itemize}
\item objects all pairs $(B,f)$ where $B \in \mathcal{C}$ and $f : A \rightarrow B$
\item morphisms $(B,f) \rightarrow (C,g)$ are morphisms $u : B \rightarrow C$ such that $uf=g$.
\end{itemize}

We identify this with the subcategory of $\mathcal{C}^\rightarrow$ formed by mapping $(B,f)$ to $(A,B,f)$ and $u$ to $(\id{A},u)$.
\end{df}

\begin{prop}
\label{prop:retraction_in_slice}
If $s : (B,f) \rightarrow (C,g)$ in $\mathcal{C} \backslash A$, then any retraction of $s$ in $\mathcal{C}$ is a retraction of $s$ in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$r : C \rightarrow B$ be a retraction of $s$ in $\mathcal{C}$.}}
\step{2}{$rg = f$}
\begin{proof}
	\pf\ $rg = rsf = f$.
\end{proof}
\step{3}{$r : (C,g) \rightarrow (B,f)$ in $\mathcal{C} \backslash A$}
\step{4}{$rs = \id{(B,f)}$}
\begin{proof}
	\pf\ Because composition is inherited from $\mathcal{C}$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:initial_in_slice}
$\id{A}$ is the initial object in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf\ For any $(B,f) \in \mathcal{C} \backslash A$, we have $f$ is the only morphism $A \rightarrow B$ such that $f \id{A} = f$. \qed
\end{proof}

\begin{prop}
\label{prop:zero_in_slice}
If $A$ is terminal in $\mathcal{C}$ then $\id{A}$ is the zero object in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf\ For any $(B,f) \in \mathcal{C} \backslash A$, the unique morphism $! : B \rightarrow A$ is the unique morphism such that $!f = \id{A}$. \qed
\end{proof}

\begin{df}[Pointed Sets]
The \emph{category of pointed sets} is $\Set \backslash 1$.
\end{df}

\begin{df}
Let $\mathcal{C}$ be a category and $A \in \mathcal{C}$. The \emph{slice category over $A$}, $\mathcal{C} / A$, is the category with:
\begin{itemize}
\item objects all pairs $(B,f)$ with $f : B \rightarrow A$
\item morphisms $u : (B,f) \rightarrow (C,g)$ all morphisms $u : B \rightarrow C$ such that $gu=f$.
\end{itemize}
\end{df}

\begin{prop}
Let $u : (B,f) \rightarrow (C,g) : \mathcal{C} / A$. Any section of $u$ in $\mathcal{C}$ is a section of $u$ in $\mathcal{C} / A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:retraction_in_slice}. \qed
\end{proof}

\begin{prop}
$\id{A}$ is terminal in $\mathcal{C} / A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:initial_in_slice}. \qed
\end{proof}

\begin{prop}
If $A$ is initial in $\mathcal{C}$ then $\id{A}$ is the zero object in $\mathcal{C} / A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:zero_in_slice}. \qed
\end{proof}

\begin{df}
Let $A \in \mathcal{C}$.
The category of objects \emph{over and under} $A$, written $\mathcal{C}_A^A$, is the category with:
\begin{itemize}
\item objects all triples $(X,u,p)$ where $u : A \rightarrow X$, $p : X \rightarrow A$ and $pu = \id{A}$
\item morphism $f : (X,u,p) \rightarrow (Y,v,q)$ all morphisms $f : X \rightarrow Y$ such that $fu = v$ and $qf = p$
\end{itemize}
\end{df}

\begin{prop}
$(A, \id{A}, \id{A})$ is the zero object in $\mathcal{C}_A^A$.
\end{prop}

\begin{proof}
\pf\ For any object $(X,u,p)$, we have $p$ is the unique morphism $(X,u,p) \rightarrow (A, \id{A}, \id{A})$, and $u$ is the unique morphism $(A, \id{A}, \id{A}) \rightarrow (X,u,p)$. \qed
\end{proof}

\begin{df}[Fibre Collapsing]
Let $B$ be a set. Let $u : (A,a) \rightarrow (X,x)$ in $\Set / B$. Form the pushout
\[ \xymatrix{
A \ar[r]^a \ar[d]^u & B \ar[d]_j \\
X \ar[r]_i & C
} \]
Let $c : C \rightarrow B$ be the unique morphism such that $cj = \id{B}$ and $ci = x$. Then $(C,j,c) \in \Set_B^B$ is called the set over and under $B$ obtained from $X$ by \emph{fibre collapsing} with respect to $u$. If $(A,u)$ is a subset of $X$, we denote this set over and under $B$ by $X /_B (A,u)$.
\end{df}

\begin{df}[Fibre Wedge]
Let $B$ be a small set. Let $(X,u_X,p_X),(Y, u_Y, p_Y) \in \Set_B^B$. The \emph{fibre wedge} of $X$ and $Y$ is the pushout of $u_X$ and $u_Y$:
\[ \xymatrix{
B \ar[r]^{u_X} \ar[d]^{u_Y} & X \ar[d] \\
Y \ar[r] & X \vee_B Y
} \]
\end{df}

\begin{df}[Fibre Smash]
Let $X, Y \in \Set_B^B$. Let $\xi : X \vee_B Y \rightarrow X$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar@{=}@/^/[ddr] \\
Y \ar[r] \ar@/_/[drr]_0 & X \vee_B Y \ar[dr]^\xi \\
& & X
} \]
Let $\eta : X \vee_B Y \rightarrow Y$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar@/^/[ddr]^0 \\
Y \ar[r] \ar@{=}@/_/[drr] & X \vee_B Y \ar[dr]^\eta \\
& & Y
} \]
Let $\zeta = \langle \xi, \eta \rangle : X \vee_B Y \rightarrow X \times Y$. The \emph{fibre smash} of $X$ and $Y$, $X \wedge_B Y$, is the result of collapsing $X \times Y$ with respect to $\zeta$.
\end{df}

\begin{prop}
$\mathbf{Set}$ has products and coproducts.
\end{prop}

\begin{prop}
Let $\mathcal{C}$ be a category. Let $\{X_\alpha\}_{\alpha \in I}$ be a family of objects in $\mathcal{C}$ and $Z \in \mathcal{C}$. Let $\coprod_{\alpha \in I} X_\alpha$ be the coproduct of $\{ X_\alpha \}_{\alpha \in I}$. Then
\[ \mathcal{C}[\coprod_{\alpha \in I} X_\alpha, Z] \approx \prod_{\alpha \in I} \mathcal{C}[X_\alpha, Z] \enspace . \]
\end{prop}

\begin{prop}
Let $\mathcal{C}$ be a category. Let $\{X_\alpha\}_{\alpha \in I}$ be a family of objects in $\mathcal{C}$ and $Z \in \mathcal{C}$. Let $\prod_{\alpha \in I} X_\alpha$ be the product of $\{ X_\alpha \}_{\alpha \in I}$. Then
\[ \mathcal{C}[Z, \prod_{\alpha \in I} X_\alpha] \approx \prod_{\alpha \in I} \mathcal{C}[Z, X_\alpha] \enspace . \]
\end{prop}

\begin{prop}
A product in $\mathcal{C}$ constitutes a product in $\mathcal{C} \backslash A$.
\end{prop}

\begin{prop}
A coproduct in $\mathcal{C}$ constitutes a product in $\mathcal{C} / A$.
\end{prop}

\section{Functors}

\begin{df}[Functor]
Let $\mathcal{C}$ and $\mathcal{D}$ be categories. A \emph{functor} $F : \mathcal{C} \rightarrow \mathcal{D}$ consists of:
\begin{itemize}
\item a function $F : \mathrm{Ob}(\mathcal{C}) \rightarrow \mathrm{Ob}(\mathcal{D})$
\item for every morphism $f : A \rightarrow B$ in $\mathcal{C}$, a morphism $Ff : FA \rightarrow FB$ in $\mathcal{D}$
\end{itemize}
such that:
\begin{itemize}
\item for all $A \in \mathrm{Ob}(C)$ we have $F \id{A} = \id{FA}$
\item for any morphism $f : A \rightarrow B$ and $g : B \rightarrow C$ in $\mathcal{C}$, we have $F(g \circ f) = Fg \circ Ff$
\end{itemize}
\end{df}

\begin{prop}
Functors preserve isomorphisms.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$F : \mathcal{C} \rightarrow \mathcal{D}$ be a functor.}}
\step{2}{\pflet{$f : A \cong B$ in $\mathcal{C}$}}
\step{3}{$F \inv{f} \circ Ff = \id{FA}$}
\begin{proof}
	\pf
	\begin{align*}
		F \inv{f} \circ Ff & = F(\inv{f} \circ f) \\
		& = F \id{A} \\
		& = \id{FA}
	\end{align*}
\end{proof}
\step{4}{$Ff \circ F \inv{f} = \id{FB}$}
\begin{proof}
	\pf
	\begin{align*}
		Ff \circ F \inv{f} & = F(f \circ \inv{f}) \\
		& = F \id{B} \\
		& = \id{FB}
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}[Identity Functor]
For any category $\mathcal{C}$, the \emph{identity} functor on $\mathcal{C}$ is the functor $I_\mathcal{C} : \mathcal{C} \rightarrow \mathcal{C}$ defined by
\begin{align*}
I_\mathcal{C} A & := A & (A \in \mathcal{C}) \\
I_\mathcal{C} f & := f & (f : A \rightarrow B \text{ in } \mathcal{C})
\end{align*}
\end{df}

\begin{prop}
Let $F : \mathcal{C} \rightarrow \mathcal{D}$. If $r : A \rightarrow B$ is a retraction of $s : B \rightarrow A$ in $\mathcal{C}$ then $Fr$ is a retraction of $Fs$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
Fr \circ Fs & = F(r \circ s) \\
& = F \id{B} \\
& = \id{FB} & \qed
\end{align*}
\end{proof}

\begin{cor}
Let $F : \mathcal{C} \rightarrow \mathcal{D}$. If $\phi : A \cong B$ is an isomorphism in $\mathcal{C}$ then $F \phi : FA \cong FB$ is an isomorphism in $\mathcal{D}$ with $\inv{(F \phi)} = F \inv{\phi}$.
\end{cor}

\begin{df}[Composition of Functors]
Given functors $F : \mathcal{C} \rightarrow \mathcal{D}$ and $G : \mathcal{D} \rightarrow \mathcal{E}$, the \emph{composite} functor $GF : \mathcal{C} \rightarrow \mathcal{E}$ is defined by
\begin{align*}
(GF)A & = G(FA) & (A \in \mathcal{C}) \\
(GF)f & = G(Ff) & (f : A \rightarrow B : \mathcal{C})
\end{align*}
\end{df}

\begin{df}[Category of Categories]
Let $\mathbf{Cat}$ be the category of small categories and functors.
\end{df}

\begin{df}[Isomorphism of Categories]
Let $F : \mathcal{C} \rightarrow \mathcal{D}$ be a functor. Then $F$ is an \emph{isomorphism of categories} iff there exists a functor $\inv{F} : \mathcal{D} \rightarrow \mathcal{C}$, the \emph{inverse} of $F$, such that $F \inv{F} = I_{\mathcal{D}}$ and $\inv{F} F = I_{\mathcal{C}}$.

Categories $\mathcal{C}$ and $\mathcal{D}$ are \emph{isomorphic}, $\mathcal{C} \cong \mathcal{D}$, iff there exists an isomorphism between them.
\end{df}

\begin{prop}
If $A$ is initial in $\mathcal{C}$ then $\mathcal{C} \backslash A \cong \mathcal{C}$.
\end{prop}

\begin{proof}
\pf
\step{1}{Define $F : \mathcal{C} \backslash A \rightarrow \mathcal{C}$ by
\begin{align*}
F (B,f) & = B \\
F (u : (B,f) \rightarrow (C,g)) & = u
\end{align*}}
\step{2}{Define $G : \mathcal{C} \rightarrow \mathcal{C} \backslash A$ by
\begin{align*}
G B & = (B, !_B) & \text{where $!_B$ is the unique morphism $A \rightarrow B$} \\
G (u : B \rightarrow C) & = u : (B, !_B) \rightarrow (C, !_C)
\end{align*}}
\step{3}{$FG = \id{\mathcal{C}}$}
\step{4}{$GF = \id{\mathcal{C} \backslash A}$}
\begin{proof}
	\pf\ Since $GF(B,f) = (B, !_B) = (B,f)$ because the morphism $A \rightarrow B$ is unique.
\end{proof}
\qed
\end{proof}

\begin{prop}
If $A$ is terminal in $\mathcal{C}$ then $\mathcal{C} / A \cong \mathcal{C}$.
\end{prop}

\begin{proof}
\pf\ Dual. \qed
\end{proof}

\begin{prop}
\[ \mathcal{C}_A^A \cong (\mathcal{C} / A) \backslash (A, \id{A}) \cong (\mathcal{C} \backslash A) / (A, \id{A}) \]
\end{prop}

\begin{proof}
\pf
\step{1}{Define a functor $F : \mathcal{C}_A^A \rightarrow (\mathcal{C} / A) \backslash (A, \id{A})$.}
\begin{proof}
	\step{a}{Given $A \stackrel{u}{\rightarrow} X \stackrel{p}{\rightarrow} A$ in $\mathcal{C}_A^A$, let $F(X,u,p) = ((X,p),u)$}
	\step{b}{Given $f : (A \stackrel{u}{\rightarrow} X \stackrel{p}{\rightarrow} A) \rightarrow (A \stackrel{v}{\rightarrow} Y \stackrel{q}{\rightarrow} A)$, let $Ff = f$.}
\end{proof}
\step{2}{Define a functor $G : (\mathcal{C} / A) \backslash (A, \id{A}) \rightarrow \mathcal{C}_A^A$.}
\step{3}{Define a functor $H : \mathcal{C}_A^A \rightarrow (\mathcal{C} \backslash A) / (A, \id{A})$.}
\step{4}{Define a functor $K : (\mathcal{C} \backslash A) / (A, \id{A}) \rightarrow \mathcal{C}_A^A$.}
\qed
\end{proof}

\begin{df}[Forgetful Functor]
For any concrete category $\mathcal{C}$, define the \emph{forgetful} functor $U : \mathcal{C} \rightarrow \Set$ by:
\begin{align*}
U A & = |A| \\
U f & = f
\end{align*}
\end{df}

\begin{df}[Switching Functor]
For any category $\mathcal{C}$, define the \emph{switching functor} $T : \mathcal{C} \times \mathcal{C} \rightarrow \mathcal{C} \times \mathcal{C}$ by
\begin{align*}
T(A,B) & = (B,A) \\
T(f,g) & = (g,f)
\end{align*}
\end{df}

\begin{df}[Reduction]
Let $\Phi : \Set \rightarrow \Set$ be a functor. The \emph{reduction} of $\Phi$ is the functor $\Phi^* : \Set_* \rightarrow \Set_*$ defined by: $\Phi^*(X,a)$ is the collapse of $\Phi(X)$ with respect to $\Phi(a) : \Phi(1) \rightarrowtail \Phi(X)$.
\end{df}

\begin{df}
Extend the wedge $\vee$ to a functor $\Set_* \times \Set_* \rightarrow \Set_*$ by defining, given $f : X \rightarrow X'$ and $g : Y \rightarrow Y'$, thene $f \vee g$ is the unique morphism that makes the following diagram commute.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar[dr]^f \\
Y \ar[r] \ar[dr]_g & X \vee Y \ar[dr]^{f \vee g} & X' \ar[d] \\
& Y' \ar[r] & X' \vee Y'
} \]
\end{df}

\begin{df}
Extend smash to a functor $\wedge : \Set_* \times \Set_* \rightarrow \Set_*$ as follows. Given $f : X \rightarrow X'$ and $g : Y \rightarrow Y'$, let $f \wedge g : X \wedge Y \rightarrow X' \wedge Y'$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
X \vee Y \ar[r] \ar[d] \ar[ddr] & 1 \ar[d] \ar@{=}@/^/[ddr] \\
X \times Y \ar[r] \ar[ddr]_{f \times g} & X \wedge Y \ar[ddr] \\
& X' \vee Y' \ar[r] \ar[d] & 1 \ar[d]\\\
& X' \times Y' \ar[r] & X' \wedge Y'
} \]
\end{df}

\begin{df}[Reduction]
Let $B$ be a small set.
Let $\Phi_B : \Set / B \rightarrow \Set / B$ be a functor. The \emph{reduction} of $\Phi_B$ is the functor $\Phi_B^B : \Set_B^B \rightarrow \Set_B^B$ defined as follows.

For $(X, u : B \rightarrow X, p : X \rightarrow B) \in \Set_B^B$, let $\Phi_B^B(X)$ be the set over and under $B$ obtained from $\Phi_B(X)$ by collapsing with respect to $\Phi_B(u) : \Phi_B(B) \rightarrow \Phi_B(X)$.
\end{df}

\begin{df}
Extend $\vee_B$ to a functor $\Set_B^B \times \Set_B^B \rightarrow \Set_B^B$.
\end{df}

\begin{df}
Extend $\wedge_B$ to a functor $\Set_B^B \times \Set_B^B \rightarrow \Set_B^B$.
\end{df}

\begin{df}[Faithful]
A functor $F : \mathcal{C} \rightarrow \mathcal{D}$ is \emph{faithful} iff, for any objects $A,B \in \mathcal{C}$ and morphisms $f,g : A \rightarrow B : \mathcal{C}$, if $Ff = Fg$ then $f = g$.
\end{df}

\begin{df}[Full]
A functor $F : \mathcal{C} \rightarrow \mathcal{D}$ is \emph{full} iff, for any objects $A, B \in \mathcal{C}$ and morphism $g : FA \rightarrow FB : \mathcal{D}$, there exists $f : A \rightarrow B : \mathcal{C}$ such that $Ff = g$.
\end{df}

\begin{df}[Fully Faithful]
A functor $F : \mathcal{C} \rightarrow \mathcal{D}$ is \emph{fully faithful} iff it is full and faithful.
\end{df}

\begin{df}[Full Embedding]
A functor $F : \mathcal{C} \rightarrow \mathcal{D}$ is a \emph{full embedding} iff it is fully faithful and injective on objects.
\end{df}

\section{Natural Transformations}

\begin{df}[Natural Transformation]
Let $F,G : \mathcal{C} \rightarrow \mathcal{D}$. A \emph{natural transformation} $\tau : F \Rightarrow G$ is a family of morphisms $\{ \tau_X : F X \rightarrow G X \}_{X \in \mathcal{C}}$ such that, for every morphism $f : X \rightarrow Y : \mathcal{C}$, we have $Gf \circ \tau_X = \tau_Y \circ Ff$.
\end{df}

\[ \xymatrix{
FX \ar[r]^{Ff} \ar[d]_{\tau_X} & FY \ar[d]^{\tau_Y} \\
GX \ar[r]_{Gf} & GY
} \]

\begin{df}[Natural Isomorphism]
A natural transformation $\tau : F \Rightarrow G : \mathcal{C} \rightarrow \mathcal{D}$ is a \emph{natural isomorphism}, $\tau : F \cong G$, iff for all $X \in \mathcal{C}$, $\tau_X$ is an isomorphism $F X \cong G X$.

Functors $F$ and $G$ are \emph{naturally isomorphic}, $F \cong G$, iff there exists a natural isomorphism between them.
\end{df}

\begin{df}[Inverse]
Let $\tau : F \cong G$. The \emph{inverse} natural isomorphism $\inv{\tau} : G \cong F$ is defined by $(\inv{\tau})_X = \inv{\tau_X}$.
\end{df}

\section{Bifunctors}

\begin{df}[Commutative]
A bifunctor $\Box : \mathcal{C}^2 \rightarrow \mathcal{C}$ is \emph{commutative} iff $\Box \cong \Box \circ T$, where $T : \mathcal{C}^2 \rightarrow \mathcal{C}^2$ is the swap functor.
\end{df}

\begin{prop}
$\vee : \Set_* \times \Set_* \rightarrow \Set_*$ is commutative.
\end{prop}

\begin{proof}
\pf\ Since the pushout of $f$ and $g$ is the pushout of $g$ and $f$. \qed
\end{proof}

\begin{prop}
$\wedge : \Set_* \times \Set_* \rightarrow \Set_*$ is commutative.
\end{prop}

\begin{proof}
\pf\ In the diagram defining $X \wedge Y$, construct the isomorphism between the version with $X$ and $Y$ and the version with $Y$ with $X$ for every object. \qed
\end{proof}

\begin{prop}
$\vee_B : \Set_B^B \times \Set_B^B \rightarrow \Set_B^B$ is commutative.
\end{prop}

\begin{prop}
$\wedge_B : \Set_B^B \times \Set_B^B \rightarrow \Set_B^B$ is commutative.
\end{prop}

\begin{df}[Associative]
A bifunctor $\Box$ is \emph{associative} iff $\Box \circ (\Box \times \id{}) \cong \Box \circ (\id{} \times \Box)$.
\end{df}

\begin{prop}
$\vee : \Set_* \times \Set_* \rightarrow \Set_*$ is associative.
\end{prop}

\begin{proof}
\pf\ Since $X \vee (Y \vee Z)$ and $(X \vee Y) \vee Z$ are both the pushout of the unique morphisms $1 \rightarrow X$, $1 \rightarrow Y$ and $1 \rightarrow Z$. \qed
\end{proof}

\begin{prop}
$\wedge : \Set_* \times \Set_* \rightarrow \Set_*$ is associative.
\end{prop}

\begin{proof}
\pf\ Draw isomorphisms between the diagrams for $X \wedge (Y \wedge Z)$ and $(X \wedge Y) \wedge Z$. \qed
\end{proof}

Product and coproduct are commutative and associative.

\begin{prop}
$\vee_B : \Set_B^B \times \Set_B^B \rightarrow \Set_B^B$ is associative.
\end{prop}

\begin{prop}
$\wedge_B : \Set_B^B \times \Set_B^B \rightarrow \Set_B^B$ is associative.
\end{prop}

\begin{prop}
Let $\mathcal{C}$ be a category with binary coproducts. Let $\Box : \mathcal{C} \times \mathcal{C} \rightarrow \mathcal{C}$ be a bifunctor. Then $\Box$ \emph{distributes} over $+$ iff the canonical morphism
\[ (X \Box Z) + (Y \Box Z) \rightarrow (X + Y) \Box Z \]
is an isomorphism for all $X$, $Y$, $Z$.
\end{prop}

\begin{prop}
In a category with binary products and binary coproducts, then $\times$ distributes over $+$.
\end{prop}

\begin{prop}
In $\Set / *$, we have $\times$ does not distribute over $\vee$.
\end{prop}

\begin{prop}
In $\Set / *$, we have $\wedge$ distributes over $\vee$.
\end{prop}

\begin{prop}
In $\Set/ B$, we have $\times_B$ distributes over $+_B$.
\end{prop}

\begin{prop}
In $\Set / B^B$, we have $\wedge_B$ distributes over $\vee_B$.
\end{prop}

\section{Functor Categories}

\begin{df}[Functor Category]
Given categories $\mathcal{C}$ and $\mathcal{D}$, define the \emph{functor category} $\mathcal{C}^\mathcal{D}$ to be the category with objects the functors from $\mathcal{D}$ to $\mathcal{C}$ and morphisms the natural transformations.
\end{df}

\begin{df}[Yoneda Embedding]
Let $\mathcal{C}$ be a category. The \emph{Yoneda embedding} $Y : \mathcal{C} \rightarrow \Set^{\op{\mathcal{C}}}$ is the functor that maps an object $A$ to $\mathcal{C}[-,A]$ and morphisms similarly.
\end{df}

\begin{thm}[Yoneda Lemma]
Let $\mathcal{C}$ be a category. There exists a natural isomorphism
\[ \phi_{XF} : \Set^{\op{\mathcal{C}}}[\mathcal{C}[-,X],F] \cong FX \]
that maps $\tau : \mathcal{C}[-,X] \Rightarrow F$ to $\tau_X(\id{X})$.
\end{thm}

\begin{proof}
\pf
\step{1}{$\phi$ is natural in $X$.}
\begin{proof}
	\pf
	\step{a}{\pflet{$f : X \rightarrow Y : \mathcal{C}$}}
	\step{b}{\pflet{$\tau : \mathcal{C}[-,X] \Rightarrow F$}}
	\step{c}{$Ff(\phi(\tau)) = \phi(\tau \circ \mathcal{C}[-,f])$}
	\begin{proof}
		\pf
		\begin{align*}
			\phi(\tau \circ \mathcal{C}[-,f])
			& = \tau_Y(\id{Y} \circ f) \\
			& = \tau_Y(f) \\
			& = \tau_Y(f \circ \id{X}) \\
			& = Ff(\tau_X(\id{X})) & (\text{$\tau$ natural}) \\
			& = Ff(\phi(\tau))
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{$\phi$ is natural in $F$.}
\begin{proof}
	\step{a}{\pflet{$\alpha : F \Rightarrow G : \op{\mathcal{C}} \rightarrow \Set$}}
	\step{b}{\pflet{$\tau : \mathcal{C}[-,X] \Rightarrow F$}}
	\step{c}{$\alpha_X(\phi(\tau)) = \phi(\alpha \bullet \tau)$}
	\begin{proof}
		\pf\ $\phi(\alpha \bullet \tau) = \alpha_X(\tau_X(\id{X})) = \alpha_X(\phi(\tau))$
	\end{proof}
\end{proof}
\step{3}{Each $\phi_{XF}$ is injective.}
\begin{proof}
	\step{a}{\pflet{$\sigma, \tau : \mathcal{C}[-,X] \Rightarrow F$}}
	\step{b}{\assume{$\phi(\sigma) = \phi(\tau)$}}
	\step{c}{\pflet{$f : Y \rightarrow X$}}
	\step{d}{$\sigma_Y(f) = \tau_Y(f)$}
	\begin{proof}
		\pf
		\begin{align*}
			\sigma_Y(f) & = \sigma_Y(\id{X} \circ f) \\
			& = Ff(\sigma_X(\id{X})) & (\text{$\sigma$ is natural}) \\
			& = Ff(\tau_X(\id{X})) & (\text{\stepref{b}}) \\
			& = \tau_Y(\id{X} \circ f) & (\text{$\tau$ is natural}) \\
			& = \tau_Y(f)
		\end{align*}
	\end{proof}
\end{proof}
\step{4}{Each $\phi_{XF}$ is surjective.}
\begin{proof}
	\step{a}{\pflet{$X \in \mathcal{C}$ and $F : \mathcal{C} \rightarrow \mathcal{D}$}}
	\step{b}{\pflet{$a \in FX$}}
	\step{c}{\pflet{$\tau : \mathcal{C}[-,X] \Rightarrow F$ be given by $\tau_Y(g) = Fg(a)$ for $g : Y \rightarrow X$}}
	\step{d}{$\tau$ is natural.}
	\begin{proof}
		\step{i}{\pflet{$h : Y \rightarrow Z : \mathcal{C}$} \prove{$Fh \circ \tau_Z = \tau_Y \circ \mathcal{C}[h, \id{X}]$}}
		\step{ii}{\pflet{$g : Z \rightarrow X$}}
		\step{iii}{$Fh(\tau_Z(g)) = \tau_Y(g \circ h)$}
		\begin{proof}
			\pf
			\begin{align*}
				\tau_Y(g \circ h) & = F(g \circ h)(a) \\
				& = Fh(Fg(a)) \\
				& = Fh(\tau_Z(g))
			\end{align*}
		\end{proof}
	\end{proof}
	\step{e}{$\phi(\tau) = a$}
	\begin{proof}
		\pf
		\begin{align*}
			\phi_X(\tau) & = \tau_X(\id{X}) \\
			& = F \id{X}(a) \\
			& = a
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
The Yoneda embedding is fully faithful.
\end{cor}

\begin{cor}
Given objects $A$ and $B$ in $\mathcal{C}$, we have $A \cong B$ if and only if $\mathcal{C}[-,A] \cong \mathcal{C}[-,B]$.
\end{cor}

\part{Number Systems}

\chapter{The Real Numbers}

% TODO Define the real numbers

\begin{thm}
The following hold in the real numbers:
\begin{enumerate}
\item $x + (y + z) = (x + y) + z$
\item $x(yz) = (xy)z$
\item $x + y = y + x$
\item $xy = yx$
\item $x + 0 = x$
\item $x1 = x$
\item $x + (-x) = 0$
\item If $x \neq 0$ then $x \cdot (1/x) = 1$
\item $x(y+z) = xy+xz$
\item If $x > y$ then $x + z > y + z$.
\item If $x > y$ and $z > 0$ then $xz > yz$.
\item $\mathbb{R}$ has the least upper bound property.
\item If $x < y$ then there exists $z$ such that $x < z < y$.
\end{enumerate}
\end{thm}

%TODO Prove these

\begin{df}[Subtraction]
We write $x - y$ for $x + (-y)$.
\end{df}

\begin{df}
Given real numbers $x$ and $y$ with $y \neq 0$, we write $x/y$ for $x \inv{y}$.
\end{df}
\begin{thm}
\label{thm:y_equals_zero}
For any real numbers $x$ and $y$, if $x + y = x$ then $y = 0$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$x,y \in \mathbb{R}$}}
\step{2}{\assume{$x + y = x$}}
\step{3}{$y = 0$}
\begin{proof}
	\pf
	\begin{align*}
		y & = y + 0 & (\text{Definition of zero}) \\
		& = y + (x + (-x)) & (\text{Definition of } -x) \\
		& = (y + x) + (-x) & (\text{Associativity of Addition}) \\
		& = (x + y) + (-x) & (\text{Commutativity of Addition}) \\
		& = x + (-x) & (\text{\stepref{2}}) \\
		& = 0 & (\text{Definition of } -x)
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{thm}
\label{thm:multiply_by_zero}
\[ \forall x \in \mathbb{R}. 0x = 0 \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$x \in \mathbb{R}$}}
\step{2}{$xx + 0x = xx$}
\begin{proof}
	\pf
	\begin{align*}
		xx + 0x & = (x + 0) x & (\text{Distributive Law}) \\
		& = xx & (\text{Definition of } 0)
	\end{align*}
\end{proof}
\step{3}{$0x = 0$}
\begin{proof}
	\pf\ Theorem \ref{thm:y_equals_zero}, \stepref{2}.
\end{proof}
\qed
\end{proof}

\begin{thm}
\[ -0 = 0 \]
\end{thm}

\begin{proof}
\pf\ Since $0 + 0 = 0$. \qed
\end{proof}

\begin{thm}
\label{thm:minus_minus}
\[ \forall x \in \mathbb{R}. -(-x) = x \]
\end{thm}

\begin{proof}
\pf\ Since $-x + x = 0$. \qed
\end{proof}

\begin{thm}
\label{thm:multiply_by_negative}
\[ \forall x,y \in \mathbb{R}. x(-y) = -(xy) \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
x(-y) + xy & = x((-y)+y) & (\text{Distributive Law}) \\
& = x0 & (\text{Definition of } -y) \\
& = 0 & (\text{Theorem \ref{thm:multiply_by_zero}}) \enspace \qed
\end{align*}
\end{proof}

\begin{thm}
\label{thm:multiply_by_minus_one}
\[ \forall x \in \mathbb{R}. (-1)x = -x \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
	(-1)x & = -(1\cdot x) & (\text{Theorem \ref{thm:multiply_by_negative}}) \\
	& = -x & (\text{Definition of } 1) \enspace \qed
\end{align*}
\end{proof}

\section{Subtraction}

\begin{thm}
\[ \forall x,y,z \in \mathbb{R}. x(y-z) = xy-xz \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
x (y-z) & = x(y + (-z)) & (\text{Definition of subtraction}) \\
& = xy + x(-z) & (\text{Distributive Law}) \\
& = xy + (-(xz)) & (\text{Theorem \ref{thm:multiply_by_negative}}) \\
& = xy - xz & (\text{Definition of subtraction}) \enspace \qed
\end{align*}
\end{proof}

\begin{thm}
\label{thm:negate_sum}
\[ \forall x,y \in \mathbb{R}. -(x+y) = -x-y \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
-(x+y) & = (-1)(x+y) & (\text{Theorem \ref{thm:multiply_by_minus_one}}) \\
& = (-1)x + (-1)y & (\text{Distributive Law}) \\
& = -x + (-y) & (\text{Theorem \ref{thm:multiply_by_minus_one}}) \\
& = -x-y & (\text{Definition of subtraction}) \enspace \qed
\end{align*}
\end{proof}

\begin{thm}
\[ \forall x,y \in \mathbb{R}. -(x-y) = -x+y \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
-(x-y) & = -(x + (-y)) & (\text{Definition of subtraction}) \\
& = -x-(-y) & (\text{Theorem \ref{thm:negate_sum}}) \\
& = -x + (-(-y)) & (\text{Definition of subtraction}) \\
& = -x + y & (\text{Theorem \ref{thm:minus_minus}}) \enspace \qed
\end{align*}
\end{proof}

\begin{df}[Reciprocal]
Given $x \in \mathbb{R}$ with $x \neq 0$, the \emph{reciprocal} of $x$, $1/x$, is the unique real number such that $x \cdot 1/x = 1$.
\end{df}

\begin{thm}
For any real numbers $x$ and $y$, if $x \neq 0$ and $xy = x$ then $y = 1$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$x,y \in \mathbb{R}$}}
\step{2}{\assume{$x \neq 0$}}
\step{3}{\assume{$xy = x$}}
\step{4}{$y = 1$}
\begin{proof}
	\pf
	\begin{align*}
		y & = y1 & (\text{Definition of } 1) \\
		& = y (x \cdot 1/x) & (\text{Definition of } 1/x, \text{\stepref{2}}) \\
		& = (yx) 1/x & (\text{Associativity of Multiplication}) \\
		& = (xy) 1/x & (\text{Commutativity of Multiplication}) \\
		& = x \cdot 1/x & (\text{\stepref{3}}) \\
		& = 1 & (\text{Definition of } 1/x, \text{\stepref{2}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}[Quotient]
Given real numbers $x$ and $y$ with $y \neq 0$, the \emph{quotient} $x/y$ is defined by
\[ x/y = x \cdot 1/y \enspace . \]
\end{df}

\begin{thm}
For any real number $x$, if $x \neq 0$ then $x/x = 1$.
\end{thm}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{thm}
\[ \forall x \in \mathbb{R}. x/1 = x \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$x \in \mathbb{R}$}}
\step{2}{$1/1 = 1$}
\begin{proof}
	\pf\ Since $1 \cdot 1 = 1$.
\end{proof}
\step{3}{$x/1 = x$}
\begin{proof}
	\pf\ Since $x/1 = x \cdot 1/1 = x \cdot 1 = x$.
\end{proof}
\qed
\end{proof}

\begin{thm}
For any real numbers $x$ and $y$, if $x \neq 0$ and $y \neq 0$ then $xy \neq 0$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$x,y \in \mathbb{R}$}}
\step{2}{\assume{$xy = 0$ and $x \neq 0$} \prove{$y = 0$}}
\step{3}{$y = 0$}
\begin{proof}
	\pf
	\begin{align*}
		y & = 1y & (\text{Definition of } 1) \\
		& = (1/x)xy & (\text{Definition of } 1/x, \text{\stepref{2}}) \\
		& = (1/x)0 & (\text{\stepref{2}}) \\
		& = 0 & (\text{Theorem \ref{thm:multiply_by_zero}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{thm}
For any real numbers $y$ and $z$, if $y \neq 0$ and $z \neq 0$ then $(1/y)(1/z) = 1/(yz)$.
\end{thm}

\begin{proof}
\pf\ Since $yz(1/y)(1/z) = 1 \cdot 1 = 1$. \qed
\end{proof}

\begin{cor}
For any real numbers $x$, $y$, $z$, $w$ with $y \neq 0 \neq w$, we have $(x/y)(z/w) = (xz)/(yw)$.
\end{cor}

\begin{thm}
For any real numbers $x$, $y$, $z$, $w$ with $y \neq 0 \neq w$, we have
\[ \frac{x}{y} + \frac{z}{w} = \frac{xw + yz}{yw} \]
\end{thm}

\begin{proof}
\pf
\begin{align*}
yw \left( \frac{x}{y} + \frac{z}{w} \right)
& = y w \frac{x}{y} + yw \frac{z}{w} \\
& = wx + yz & \qed
\end{align*}
\end{proof}

\begin{thm}
For any real number $x$, if $x \neq 0$ then $1/x \neq 0$.
\end{thm}

\begin{proof}
\pf\ Since $x \cdot 1/x = 1 \neq 0$. \qed
\end{proof}

\begin{thm}
For any real numbers $w$, $z$, if $w \neq 0 \neq z$ then $1 / (w / z) = z/w$.
\end{thm}

\begin{proof}
\pf\ Since $(z/w)(w/z) = (wz)/(wz) = 1$. \qed
\end{proof}

\begin{thm}
\label{thm:multiply_quotient}
For any real numbers $a$, $x$ and $y$, if $y \neq 0$ then $(ax)/y = a(x/y)$
\end{thm}

\begin{proof}
\pf\ Since $ya(x/y) = ax$. \qed
\end{proof}

\begin{thm}
For any real numbers $x$ and $y$, if $y \neq 0$ then $(-x)/y = x/(-y) = -(x/y)$.
\end{thm}

\begin{proof}
\pf
\step{1}{$(-x)/y = -(x/y)$}
\begin{proof}
	\pf\ Take $a = -1$ in Theorem \ref{thm:multiply_quotient}.
\end{proof}
\step{2}{$x/(-y) = -(x/y)$}
\begin{proof}
	\pf\ Since $(-y)(-(x/y)) = y(x/y) = x$.
\end{proof}
\qed
\end{proof}

\begin{thm}
For any real numbers $x$, $y$, $z$ and $w$, if $x > y$ and $w > z$ then $x + w > y + z$.
\end{thm}

\begin{proof}
\pf\ We have $y + z < x + z < x + w$ by Monotonicity of Addition twice. \qed
\end{proof}

\begin{cor}
For any real numbers $x$ and $y$, if $x > 0$ and $y > 0$ then $x + y > 0$.
\end{cor}

\begin{thm}
For any real numbers $x$ and $y$, if $x > 0$ and $y > 0$ then $xy > 0$.
\end{thm}

\begin{proof}
\pf
\begin{align*}
	xy & > 0y & (\text{Monotonicity of Multiplication}) \\
	& = 0 & (\text{Theorem \ref{thm:multiply_by_zero}}) \enspace \qed
\end{align*}
\end{proof}

\begin{thm}
\label{thm:negation_positive}
For any real number $x$, we have $x > 0$ iff $-x < 0$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $0 < x$ then $-x < 0$}
\begin{proof}
	\pf\ By Monotonicity of Addition adding $-x$ to both sides.
\end{proof}
\step{2}{If $-x < 0$ then $0 < x$}
\begin{proof}
	\pf\ By Monotonicity of Addition adding $x$ to both sides.
\end{proof}
\qed
\end{proof}

\begin{thm}
For any real numbers $x$ and $y$, we have $x > y$ iff $-x < -y$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $y < x$ then $-x < -y$.}
\begin{proof}
	\pf\ By Monotonicity of Addition adding $-x-y$ to both sides.
\end{proof}
\step{2}{If $-x < -y$ then $y < x$.}
\begin{proof}
	\pf\ By Monotonicity of Addition adding $x + y$ to both sides.
\end{proof}
\qed
\end{proof}

\begin{thm}
\label{thm:multiplication_antitone}
For any real numbers $x$, $y$ and $z$, if $x > y$ and $z < 0$ then $xz < yz$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$x$, $y$ and $z$ be real numbers.}}
\step{2}{\assume{$x > y$}}
\step{3}{\assume{$z < 0$}}
\step{4}{$-z > 0$}
\begin{proof}
	\pf\ Theorem \ref{thm:negation_positive}, \stepref{3}.
\end{proof}
\step{5}{$x(-z) > y(-z)$}
\begin{proof}
	\pf\ \stepref{2}, \stepref{4}, Monotonicity of Multiplication.
\end{proof}
\step{6}{$-(xz) > -(yz)$}
\begin{proof}
	\pf\ Theorem \ref{thm:multiply_by_negative}, \stepref{5}.
\end{proof}
\step{7}{$xz < yz$}
\begin{proof}
	\pf\ Theorem \ref{thm:negation_positive}, \stepref{6}.
\end{proof}
\qed
\end{proof}

\begin{thm}
\label{thm:square_positive}
For any real number $x$, if $x \neq 0$ then $xx > 0$.
\end{thm}

\begin{proof}
\pf
\step{1}{If $x > 0$ then $xx > 0$}
\begin{proof}
	\pf\ By Monotonicity of Multiplication.
\end{proof}
\step{2}{If $x < 0$ then $xx > 0$}
\begin{proof}
	\pf\ Theorem \ref{thm:multiplication_antitone}.
\end{proof}
\qed
\end{proof}

\begin{thm}
\[ 0 < 1 \]
\end{thm}

\begin{proof}
\pf\ By Theorem \ref{thm:square_positive} since $1 = 1 \cdot 1$. \qed
\end{proof}

\begin{df}[Positive]
A real number $x$ is \emph{positive} iff $x > 0$.

We write $\mathbb{R}_+$ for the set of positive reals.
\end{df}

\begin{thm}
For any real numbers $x$ and $y$, we have $xy$ is positive if and only if $x$ and $y$ are both positive or both negative.
\end{thm}

\begin{proof}
\pf\ By the Monotonicity of Multiplication and Theorem \ref{thm:multiplication_antitone}. \qed
\end{proof}

\begin{cor}
For any real number $x$, if $x > 0$ then $1/x > 0$.
\end{cor}

\begin{proof}
\pf\ Since $x \cdot 1/x = 1$ is positive. \qed
\end{proof}

\begin{thm}
For any real numbers $x$ and $y$, if $x > y > 0$ then $1/x < 1/y$.
\end{thm}

\begin{proof}
\pf\ If $1/y \leq 1/x$ then $1 < 1$ by Monotonicity of Multiplication. \qed
\end{proof}

\begin{thm}
For any real numbers $x$ and $y$, if $x < y$ then $x < (x+y)/2 < y$.
\end{thm}

\begin{proof}
\pf\ We have $2x < x+y$ and $x + y < 2y$ by Monotonicity of Addition, hence $x < (x+y)/2 < y$ by Monotonicity of Multiplication since $1/2 > 0$. \qed
\end{proof}

\begin{cor}
$\mathbb{R}$ is a linear continuum.
\end{cor}

\begin{df}[Negative]
A real number $x$ is \emph{negative} iff $x < 0$.

We write $\overline{\mathbb{R}_+}$ for the set of nonnegative reals.
\end{df}

\begin{thm}
For every positive real number $a$, there exists a unique positive real $\sqrt{a}$ such that $\sqrt{a}^2 = a$.
\end{thm}

\begin{proof}
\pf
\step{0}{\pflet{$a$ be a positive real.}}
\step{1}{For any real numbers $x$ and $h$, if $0 \leq h < 1$, then
\[ (x + h)^2 < x^2 + h(2x+1) \enspace . \]}
\begin{proof}
	\step{a}{\pflet{$x$ and $h$ be real numbers.}}
	\step{c}{\assume{$0 \leq h < 1$}}
	\step{d}{$(x+h)^2 < x^2 + h(2x+1)$}
	\begin{proof}
		\pf
		\begin{align*}
			(x+h)^2 & = x^2 + 2hx + h^2 \\
			& < x^2 + 2hx + h & (\text{\stepref{c}}) \\
			& = x^2 + h(2x+1) 
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{For any real numbers $x$ and $h$, if $h > 0$ then
\[ (x-h)^2 > x^2 - 2hx \enspace . \]}
\begin{proof}
	\step{a}{\pflet{$x$ and $h$ be real numbers.}}
	\step{c}{\assume{$h > 0$}}
	\step{d}{$(x-h)^2 > x^2 - 2hx$}
	\begin{proof}
		\pf
		\begin{align*}
			(x-h)^2 & = x^2 - 2hx + h^2 \\
			& > x^2 - 2hx & (\text{\stepref{c}})
		\end{align*}
	\end{proof}
\end{proof}
\step{3}{For any positive real $x$, if $x^2 < a$ then there exists $h > 0$ such that $(x+h)^2 < a$.}
\begin{proof}
	\step{a}{\pflet{$x$ be a positive real.}}
	\step{b}{\assume{$x^2 < a$}}
	\step{c}{\pflet{$h = \min((a-x^2)/(2x+1),1/2)$}}
	\step{d}{$0 < h < 1$}
	\step{e}{$(x+h)^2 < a$}
	\begin{proof}
		\pf
		\begin{align*}
			(x+h)^2 & < x^2 + h(2x+1) & (\text{\stepref{1}}) \\
			& \leq a
		\end{align*}
	\end{proof}
\end{proof}
\step{4}{For any positive real $x$, if $x^2 > a$ then there exists $h > 0$ such that $(x-h)^2 > a$.}
\begin{proof}
	\step{a}{\pflet{$x$ be a positive real.}}
	\step{b}{\assume{$x^2 > a$}}
	\step{c}{\pflet{$h = (x^2 - a)/2x$}}
	\step{d}{$h > 0$}
	\step{e}{$(x-h)^2 > a$}
	\begin{proof}
		\pf
		\begin{align*}
			(x-h)^2 & > x^2 - 2hx \\
			& = a & (\text{\stepref{c}})
		\end{align*}
	\end{proof}
\end{proof}
\step{5}{\pflet{$B = \{ x \in \mathbb{R} : x^2 < a \}$}}
\step{6}{$B$ is bounded above.}
\begin{proof}
	\pf\ If $a \geq 1$ then $a$ is an upper bound. If $a < 1$ then 1 is an upper bound.
\end{proof}
\step{7}{$B$ contains at least one positive real.}
\begin{proof}
	\pf\ If $a \geq 1$ then $1 \in B$. If $a < 1$ then $a \in B$.
\end{proof}
\step{8}{\pflet{$b = \sup B$}}
\step{9}{$b^2 = a$}
\begin{proof}
	\step{a}{$b^2 \geq a$}
	\begin{proof}
		\step{i}{\assume{for a contradiction $b^2 < a$}}
		\step{ii}{\pick\ $h > 0$ such that $(b+h)^2 < a$}
		\begin{proof}
			\pf\ \stepref{3}
		\end{proof}
		\step{iii}{$b + h \in B$}
		\qedstep
		\begin{proof}
			\pf\ This contradicts \stepref{8}.
		\end{proof}
	\end{proof}
	\step{b}{$b^2 \leq a$}
	\begin{proof}
		\step{i}{\assume{for a contradiction $b^2 > a$}}
		\step{ii}{\pick\ $h > 0$ such that $(b-h)^2 > a$}
		\begin{proof}
			\pf\ \stepref{4}
		\end{proof}
		\step{iii}{\pick\ $x \in B$ such that $b - h < x$}
		\begin{proof}
			\pf\ \stepref{8}
		\end{proof}
		\step{iv}{$(b-h)^2 < x^2 < a$}
		\qedstep
		\begin{proof}
			\pf\ This contradicts \stepref{ii}
		\end{proof}
	\end{proof}
\end{proof}
\step{10}{For any positive reals $b$ and $c$, if $b^2 = c^2$ then $b = c$.}
\begin{proof}
	\step{a}{\pflet{$b$ and $c$ be positive reals.}}
	\step{b}{\assume{$b^2 = c^2$}}
	\step{c}{$b^2 - c^2 = 0$}
	\step{d}{$(b-c)(b+c) = 0$}
	\step{e}{$b - c = 0$ or $b+c = 0$}
	\step{f}{$b+c \neq 0$}
	\begin{proof}
		\pf\ Since $b + c > 0$
	\end{proof}
	\step{g}{$b - c = 0$}
	\step{h}{$b = c$}
\end{proof}
\qed
\end{proof}

%TODO
\begin{thm}
The set of real numbers is uncountable.
\end{thm}

\begin{df}
We write $\mathbb{R}^\infty$ for the set of sequences in $\mathbb{R}^\omega$ that are eventually zero.
\end{df}

\begin{df}[Hilbert Cube]
The \emph{Hilbert cube} is $\prod_{n=0}^\infty [0,1/(n+1)]$.
\end{df}

\section{The Ordered Square}

\begin{df}[Ordered Square]
The \emph{ordered square} $I_o^2$ is the set $[0,1]^2$ under the dictionary order.
\end{df}

%TODO Generalize
\begin{prop}
The ordered square is a linear continuum.
\end{prop}

\begin{proof}
\pf
\step{1}{$I_o^2$ has the least upper bound property.}
\begin{proof}
	\step{a}{\pflet{$S$ be a nonempty subset of $I_o^2$.}}
	\step{b}{\pflet{$a$ be the supremum of $\pi_1(S)$}}
	\step{c}{\case{$a \in \pi_1(S)$}}
	\begin{proof}
		\step{i}{\pflet{$b$ be the supremum of $\{ y \in [0,1] : (a,y) \in S \}$}}
		\step{ii}{$(a,b)$ is the supremum of $S$.}
	\end{proof}
	\step{d}{\case{$a \notin \pi_1(S)$}}
	\begin{proof}
		\pf\ $(a,0)$ is the supremum of $S$.
	\end{proof}
\end{proof}
\step{2}{$I_o^2$ is dense.}
\begin{proof}
	\step{a}{\pflet{$(x_1,y_1),(x_2,y_2) \in I_o^2$ with $(x_1,y_1) < (x_2,y_2)$} \prove{There exists $(x_3,y_3) \in I_o^2$ such that $(x_1,y_1) < (x_3,y_3) < (x_2,y_2)$}}
	\step{b}{\case{$x_1 < x_2$}}
	\begin{proof}
		\step{i}{\pick\ $x_3$ such that $x_1 < x_3 < x_2$}
		\step{ii}{$(x_1,y_1) < (x_3,0) < (x_2,y_2)$}
	\end{proof}
	\step{c}{\case{$x_1 = x_2$ and $y_1 < y_2$}}
	\begin{proof}
		\step{i}{\pick\ $y_3$ such that $y_1 < y_3 < y_2$}
		\step{ii}{$(x_1,y_1) < (x_1,y_3) < (x_2,y_2)$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\section{Punctured Euclidean Space}

\begin{df}[Punctured Euclidean Space]
Let $n$ be a positive integer. The \emph{punctured Euclidean space} is $\mathbb{R}^n - \{\vec{0}\}$.
\end{df}

\section{Topologist's Sine Curve}

\begin{df}[Topologist's Sine Curve]
The \emph{topologist's sine curve} is
\[ (\{ 0 \} \times [-1,1]) \cup \{ (x, \sin 1/x) : 0 < x \leq 1 \} \enspace . \]
\end{df}

\chapter{Integers and Rationals}

\section{Positive Integers}

\begin{df}[Inductive]
A set of real numbers $A$ is \emph{inductive} iff $1 \in A$ and $\forall x \in A. x + 1 \in A$.
\end{df}

\begin{df}[Positive Integer]
The set $\mathbb{Z}_+$ of \emph{positive integers} is the intersection of the set of inductive sets.
\end{df}

\begin{prop}
Every positive integer is positive.
\end{prop}

\begin{proof}
\pf\ The set of positive reals is inductive. \qed
\end{proof}

\begin{prop}
1 is the least element of $\mathbb{Z}_+$.
\end{prop}

\begin{proof}
\pf\ Since $\{ x \in \mathbb{R} : x \geq 1 \}$ is inductive. \qed
\end{proof}

\begin{prop}
$\mathbb{Z}_+$ is inductive.
\end{prop}

\begin{proof}
\pf\ 1 is an element of every inductive set, and for all $x \in \mathbb{R}$, if $x$ is an element of every inductive set then so is $x + 1$. \qed
\end{proof}

\begin{thm}[Principle of Induction]
If $A$ is an inductive set of positive integers then $A = \mathbb{Z}_+$.
\end{thm}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{thm}[Well-Ordering Property]
$\mathbb{Z}_+$ is well ordered.
\end{thm}

\begin{proof}
\pf\ Construct the obvious order isomorphism $\omega \cong \mathbb{Z}_+$. \qed
\end{proof}

\begin{thm}[Archimedean Ordering Property]
The set $\mathbb{Z}_+$ is unbounded above.
\end{thm}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $\mathbb{Z}_+$ is bounded above.}}
\step{2}{\pflet\ $s = \sup \mathbb{Z}_+$}
\step{3}{\pick\ $n \in \mathbb{Z}_+$ such that $s-1 < n$}
\step{4}{$s < n+1$}
\qedstep
\begin{proof}
	\pf\ \stepref{2} and \stepref{4} form a contradiction.
\end{proof}
\qed
\end{proof}

\subsection{Exponentiation}

\begin{df}
For $a$ a real number and $n$ a positive integer, define the real number $a^n$ recursively as follows:
\begin{align*}
a^1 & = a \\
a^{n+1} & = a^n a
\end{align*}
\end{df}

\begin{thm}
\label{thm:law_of_exponents_1}
For all $a \in \mathbb{R}$ and $m,n \in mathbb{Z}_+$, we have
\[ a^n a^m = a^{n+m} \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$P(m)$ be the property $\forall a \in \mathbb{R}. \forall n \in \mathbb{Z}_+. a^n a^m = a^{n+m}$}}
\step{2}{$P(1)$}
\begin{proof}
	\pf\ $a^n a^1 = a^n a = a^{n+1}$.
\end{proof}
\step{3}{$\forall m \in \mathbb{Z}_+. P(m) \Rightarrow P(m+1)$}
\begin{proof}
	\step{a}{\pflet{$m$ be a positive integer.}}
	\step{b}{\assume{$P(m)$}}
	\step{c}{\pflet{$a \in \mathbb{R}$}}
	\step{d}{\pflet{$n \in \mathbb{Z}_+$}}
	\step{e}{$a^n a^{m+1} = a^{n+m+1}$}
	\begin{proof}
		\pf
		\begin{align*}
			a^n a^{m+1} & = a^n a^m a \\
			& = a^{n+m} a & (\text{\stepref{b}}) \\
			& = a^{n+m+1}
		\end{align*}
	\end{proof}
\end{proof}
\qedstep
\begin{proof}
	\pf\ By induction.
\end{proof}
\qed
\end{proof}

\begin{thm}
For all $a \in \mathbb{R}$ and $m,n \in \mathbb{Z}_+$,
\[ (a^n)^m = a^{nm} \enspace . \]
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$P(m)$ be the property $\forall a \in \mathbb{R}. \forall n \in \mathbb{Z}_+. (a^n)^m = a^{nm}$.}}
\step{2}{$P(1)$}
\begin{proof}
	\pf\ $(a^n)^1 = a^n = a^{n \cdot 1}$
\end{proof}
\step{3}{$\forall m \in \mathbb{Z}_+. P(m) \Rightarrow P(m+1)$}
\begin{proof}
	\pf
	\begin{align*}
		(a^n)^{m+1} & = (a^n)^m a^n \\
		& = a^{nm} a^n \\
		& = a^{nm+n} & (\text{Theorem \ref{thm:law_of_exponents_1}}) \\
		& = a^{n(m+1)}
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{thm}
For any real numbers $a$ and $b$ and positive integer $m$,
\[ a^m b^m = (ab)^m \enspace . \]
\end{thm}

\begin{proof}
\pf\ Induction on $m$. \qed
\end{proof}

\section{Integers}

\begin{df}[Integer]
The set $\mathbb{Z}$ of \emph{integers} is
\[ \mathbb{Z} = \mathbb{Z}_+ \cup \{ 0 \} \cup \{ -x : x \in \mathbb{Z}_+\} \enspace . \]
\end{df}

\begin{prop}
The sum, difference and product of two integers is an integer.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{ex}
$1/2$ is not an integer.
\end{ex}

\begin{prop}
For any integer $n$, there is no integer $a$ such that $n < a < n+1$.
\end{prop}

\begin{proof}
\pf
\step{1}{For any positive integer $n$, there is no integer $a$ such that $n < a < n+1$.}
\begin{proof}
	\step{a}{There is no integer $a$ such that $1 < a < 2$.}
	\begin{proof}
		\step{i}{There is no positive integer $a$ such that $1 < a < 2$.}
		\begin{proof}
			\step{one}{We do not have $1 < 1 < 2$.}
			\step{two}{For any positive integer $n$, we do not have $1 < n +1 < 2$.}
			\begin{proof}
				\pf\ Since $n \geq 1$ so $n+1 \geq 2$.
			\end{proof}
		\end{proof}
		\step{ii}{We do not have $1 < 0 < 2$.}
		\step{iii}{For any positive integer $a$, we do not have $1 < -a < 2$.}
		\begin{proof}
			\pf\ Since $-a < 0 < 1$.
		\end{proof}
	\end{proof}
	\step{b}{For any positive integer $n$, if there is no integer $a$ such that $n < a < n+1$, then there is no integer $a$ such that $n+1 < a < n+2$.}
	\begin{proof}
		\pf\ If $n+1 < a < n+2$ then $n < a-1 < n+1$.
	\end{proof}
\end{proof}
\step{2}{There is no integer $a$ such that $0 < a < 1$.}
\begin{proof}
	\pf\ If $0 < a < 1$ then $1 < a+1 < 2$.
\end{proof}
\step{3}{For any positive integer $n$, there is no integer $a$ such that $-n < a < -n+1$.}
\begin{proof}
	\pf\ If $-n < a < -n+1$ then $n-1 < -a < n$.
\end{proof}
\qed
\end{proof}

\begin{thm}
Every nonempty subset of $\mathbb{Z}$ bounded above has a largest element.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$S$ be a nonempty subset of $\mathbb{Z}$ bounded above.}}
\step{2}{\pflet{$u$ be an upper bound for $S$.}}
\step{3}{\pick\ an integer $n > u$}
\begin{proof}
	\pf\ Archimedean property.
\end{proof}
\step{4}{\pflet{$k$ be the least positive integer such that $n - k \in S$.}}
\begin{proof}
	\step{a}{\pick\ $m \in S$}
	\step{b}{$n - m$ is a positive integer.}
	\step{c}{There exists a positive integer $k$ such that $n - k \in S$.}
\end{proof}
\step{5}{$n - k$ is the greatest element in $S$.}
\begin{proof}
	\step{a}{\pflet{$m \in S$}}
	\step{b}{$n - m \geq k$}
	\step{c}{$m \leq n - k$}
\end{proof}
\qed
\end{proof}

\begin{thm}
\label{thm:sandwich}
For any real number $x$, if $x$ is not an integer then there exists a unique integer $n$ such that $n < x < n + 1$.
\end{thm}

\begin{proof}
\pf
\step{1}{$\{ n \in \mathbb{Z} : n < x \}$ is a nonempty set of integers bounded above.}
\begin{proof}
	\step{a}{\pick\ $m > -x$}
	\begin{proof}
		\pf\ Archimedean property.
	\end{proof}
	\step{b}{$-m < x$}
	\step{c}{$\{ n \in \mathbb{Z} : n < x \}$ is nonempty.}
\end{proof}
\step{2}{\pflet{$n$ be the greatest integer such that $n < x$}}
\step{3}{$x < n + 1$}
\step{4}{If $n'$ is an integer with $n' < x < n' + 1$ then $n' = n$.}
\begin{proof}
	\pf\ We have $n' < n+1$ so $n' \leq n$, and $n < n' + 1$ so $n \leq n'$.
\end{proof}
\qed
\end{proof}

\begin{df}[Even]
An integer $n$ is \emph{even} iff $n/2$ is an integer; otherwise, $n$ is \emph{odd}.
\end{df}

\begin{thm}
If the integer $m$ is odd then there exists an integer $n$ such that $m = 2n+1$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$n$ be the integer such that $n < m/2 < n+1$}}
\begin{proof}
	\pf\ Theorem \ref{thm:sandwich}.
\end{proof}
\step{2}{$2n < m < 2n+2$}
\step{3}{$m = 2n+1$}
\qed
\end{proof}

\begin{thm}
\label{thm:product_odd}
The product of two odd integers is odd.
\end{thm}

\begin{proof}
\pf\ $(2m+1)(2n+1) = 2(2mn + m + n) + 1$. \qed
\end{proof}

\begin{cor}
If $p$ is an odd integer and $n$ is a positive integer then $p^n$ is an odd integer.
\end{cor}

\begin{df}[Exponentiation]
Extend the definition of exponentiation so $a^n$ is defined for:
\begin{itemize}
\item all real numbers $a$ and non-negative integers $n$
\item all non-zero real numbers $a$ and integers $n$
\end{itemize}
as follows:
\begin{align*}
a^0 & = 1 \\
a^{-n} & = 1/a^n & (n \text{ a positive integer})
\end{align*}
\end{df}

\begin{thm}[Laws of Exponents]
For all non-zero reals $a$ and $b$ and integers $m$ and $n$,
\begin{align*}
a^n a^m & = a^{n+m} \\
(a^n)^m & = a^{nm} \\
a^m b^m & = (ab)^m
\end{align*}
\end{thm}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

\begin{thm}
$\mathbb{Z}$ is countable.
\end{thm}

\begin{proof}
\pf\ The function that maps an integer $n$ to $2n$ if $n \geq 0$ and $-1-2n$ if $n < 0$ is a bijection $\mathbb{Z} \approx \mathbb{N}$. \qed
\end{proof}

\section{Rational Numbers}

\begin{df}[Rational Number]
The set $\mathbb{Q}$ of \emph{rational numbers} is the set of all real numbers that are the quotient of two integers. A real that is not rational is \emph{irrational}.
\end{df}

\begin{thm}
$\sqrt{2}$ is irrational.
\end{thm}

\begin{proof}
\pf
\step{1}{For any positive rational $a$, there exist positive integers $m$ and $n$ not both even such that $a = m / n$.}
\begin{proof}
	\step{a}{\pflet{$a$ be a positive rational.}}
	\step{b}{\pflet{$n$ be the least positive integer such that $na$ is a positive integer.}}
	\step{c}{\pflet{$m = na$}}
	\step{d}{\assume{for a contradiction $m$ and $n$ are both even.}}
	\step{e}{$m/2 = (n/2)a$}
	\qedstep
	\begin{proof}
		\pf\ This contradicts the leastness of $n$ (\stepref{b}).
	\end{proof}
\end{proof}
\step{2}{\assume{for a contradiction $\sqrt{2}$ is rational.}}
\step{3}{\pick\ positive integers $m$ and $n$ not both even such that $\sqrt{2} = m / n$.}
\step{4}{$m^2 = 2n^2$}
\step{5}{$m^2$ is even.}
\step{6}{$m$ is even.}
\begin{proof}
	\pf\ Theorem \ref{thm:product_odd}.
\end{proof}
\step{7}{\pflet{$k = m/2$}}
\step{8}{$4k^2 = 2n^2$}
\step{9}{$n^2 = 2k^2$}
\step{10}{$n^2$ is even.}
\step{11}{$n$ is even.}
\begin{proof}
	\pf\ Theorem \ref{thm:product_odd}.
\end{proof}
\qedstep
\begin{proof}
	\pf\ \stepref{3}, \stepref{6} and \stepref{11} form a contradiction.
\end{proof}
\qed
\end{proof}

\begin{thm}
$\mathbb{Q}$ is countably infinite.
\end{thm}

\begin{proof}
\pf\ The function $\mathbb{Z} \times \mathbb{N} \rightarrow \mathbb{Q}$ that maps $(m,n)$ to $m/(n+1)$ is a surjection. \qed
\end{proof}

\section{Algebraic Numbers}

%TODO A polynomial has only finitely many roots

\begin{df}[Algebraic Number]
A real number $r$ is \emph{algebraic} iff there exists a natural number $n$ and rational numbers $a_0$, $a_1$, \ldots, $a_{n-1}$ such that
\[ r^n + a_{n-1} r^{n-1} + \cdots + a_1 r + a_0 = 0 \]
Otherwise, $r$ is \emph{transcendental}.
\end{df}

\begin{prop}
The set of algebraic numbers is countably infinite.
\end{prop}

\begin{proof}
\pf\ There are countably many finite sequences of rational numbers, and each corresponding polynomial has only finitely many roots. \qed
\end{proof}

\begin{cor}
The set of transcendental numbers is uncountable.
\end{cor}

\part{Algebra}

\chapter{Monoid Theory}

\begin{df}[Monoid]
A \emph{monoid} is a category with one object.
\end{df}

\begin{df}
Let $\mathcal{C}$ be a category and $X \in \mathcal{C}$. The monoid $\mathrm{End}_\mathcal{C}(X)$ is the set of all morphisms $X \rightarrow X$ under composition.
\end{df}

\begin{prop}
For any functor $F : \mathcal{C} \rightarrow \mathcal{D}$ and $X \in \mathcal{C}$, we have that $F : \mathrm{End}_\mathcal{C}(X) \rightarrow \mathrm{End}_\mathcal{D}(FX)$ is a monoid homomorphism.
\end{prop}

\begin{proof}
\pf\ Since $F \id{X} = \id{FX}$ and $F(g \circ f) = Fg \circ Ff$. \qed
\end{proof}

\chapter{Group Theory}

\section{Category of Small Groups}

\begin{df}
Let $\mathbf{Grp}$ be the category of small groups and group homomorphisms.
\end{df}

\begin{df}
We identify any group $G$ with the category with one object whose morphisms are the elements of $G$ with composition given by the multiplication in $G$.
\end{df}

\begin{prop}
The trivial group is a zero object in $\mathbf{Grp}$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

The zero morphism $G \rightarrow H$ maps every element in $G$ to $e$.

\begin{df}
Let $\mathcal{C}$ be a category and $X \in \mathcal{C}$. We write $\mathrm{Aut}_\mathcal{C}(X)$ for the set of all isomorphisms $X \cong X$ under composition.
\end{df}

\begin{prop}
Let $F : \mathcal{C} \rightarrow \mathcal{D}$ be a functor and $X \in \mathcal{C}$. Then $F : \mathrm{Aut}_\mathcal{C}(X) \rightarrow \mathrm{Aut}_\mathcal{D}(FX)$ is a group homomorphism.
\end{prop}

\begin{proof}
\pf\ Since $F \id{X} = \id{FX}$, $F(g \circ f) = Fg \circ Ff$, and $F \inv{f} = \inv{(Ff)}$. \qed
\end{proof}

\begin{prop}
$\mathbf{Grp}$ has products.
\end{prop}

\begin{df}[Free Product]
The product of a family of groups in $\mathbf{Grp}$ is called the \emph{free product}.
\end{df}

\begin{prop}
$\mathbf{Ab}$ has products given by direct sums.
\end{prop}

\begin{df}[Left Coset]
Let $G$ be a group and $H$ a subgroup of $G$. The \emph{left cosets} of $H$ are the sets of the form
\[ xH := \{ xh : h \in H \} \]
We write $G/H$ for the set of left cosets of $H$ in $G$.
\end{df}

\begin{prop}
Let $G$ be a group and $H$ a subgroup of $G$. Then $G/H$ is a partition of $G$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\bigcup (G / H) = G$}
\begin{proof}
	\pf\ Since $x = xe$ and so $x \in xH$.
\end{proof}
\step{2}{Any two distinct left cosets of $H$ are disjoint.}
\begin{proof}
	\pf\ Since if $z \in xH$ and $z \in yH$ then $xH = yH = zH$.
\end{proof}
\qed
\end{proof}

\begin{df}
Let $G$ be a group. Let $A$ and $B$ be subsets of $G$. Then
\[ AB := \{ ab : a \in A, b \in B \} \enspace . \]
\end{df}

\begin{df}
Let $G$ be a group. Let $A$ be a subset of $G$. Then
\[ \inv{A} := \{ \inv{a} : a \in A \} \enspace . \]
\end{df}

\chapter{Ring Theory}

\begin{df}
Let $\mathbf{Ring}$ be the concrete category of rings and ring homomorphisms.
\end{df}

\begin{df}[Spectrum]
Let $R$ be a commutative ring. The \emph{spectrum} of $R$, $\spec R$, is the set of all prime ideals of $R$.
\end{df}

\begin{df}[Zariski Topology]
Let $R$ be a commutative ring. The \emph{Zariski topology} on $\spec R$ is the topology where the closed sets are the sets of the form
\[ VE := \{ p \in \spec R : E \subseteq p \} \]
for any $E \in \mathcal{P} R$.

We prove this is a topology.
\end{df}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{C} = \{VE : E \in \mathcal{P} R\}$}}
\step{2}{For all $\mathcal{A} \subseteq \mathcal{C}$ we have $\bigcap \mathcal{A} \in \mathcal{C}$}
\begin{proof}
	\step{a}{\pflet{$\mathcal{A} \subseteq \mathcal{C}$}}
	\step{b}{\pflet{$E = \bigcup \{ E' \in \mathcal{P} R : VE' \in \mathcal{A} \}$} \prove{$VE = \bigcap \mathcal{A}$}}
	\step{c}{For all $p \in \spec R$, if $E \subseteq p$ then $p \in \bigcap \mathcal{A}$}
	\begin{proof}
		\step{i}{\pflet{$p \in \spec R$}}
		\step{ii}{\assume{$E \subseteq p$}}
		\step{iii}{\pflet{$E' \in \mathcal{P} R$ with $VE' \in \mathcal{A}$}}
		\step{iv}{$E' \subseteq E$}
		\step{v}{$E' \subseteq p$}
		\step{vi}{$p \in VE'$}
	\end{proof}
	\step{d}{For all $p \in \spec R$, if $p \in \bigcap \mathcal{A}$ then $E \subseteq p$}
	\begin{proof}
		\step{i}{\pflet{$p \in \bigcap \mathcal{A}$}}
		\step{ii}{For all $E' \in \mathcal{P} R$ with $VE' \in \mathcal{A}$ we have $E' \subseteq p$}
		\step{iii}{$E \subseteq p$}
	\end{proof}
\end{proof}
\step{3}{For all $C,D \in \mathcal{C}$ we have $C \cup D \in \mathcal{C}$.}
\begin{proof}
	\pf\ Since $VE \cup VE' = V(E \cap E')$
\end{proof}
\step{4}{$\emptyset \in \mathcal{C}$}
\begin{proof}
	\step{a}{$VR = \emptyset$}
	\begin{proof}
		\pf\ If $p \in VR$ then $R \subseteq p$ contradicting the fact that $p$ is a prime ideal.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}
For any ring $R$, let $R-\mathbf{Mod}$ be the category of small $R$-modules and $R$-module homomorphisms.
\end{df}

\begin{prop}
$R-\mathbf{Mod}$ has products and coproducts.
\end{prop}

\chapter{Field Theory}

\begin{prop}
$\mathbf{Field}$ does not have binary products.
\end{prop}

\begin{proof}
\pf\ There cannot be a field $K$ with field homomorphisms $K \rightarrow \mathbb{Z}_2$ and $K \rightarrow \mathbb{Z}_3$, because its characteristic would be both 2 and 3. \qed
\end{proof}

\chapter{Linear Algebra}

\begin{df}[Span]
Let $V$ be a vector space and $A \subseteq V$. The \emph{span} of $A$ is the set of all linear combinations of elements of $A$.
\end{df}

\begin{df}[Independent]
Let $V$ be a vector space and $A \subseteq V$. Then $A$ is \emph{linearly independent} iff, whenever
\[ \alpha_1 v_1 + \cdots + \alpha_n v_n = 0 \]
where $v_1, \ldots, v_n \in A$, then
\[ \alpha_1 = \cdots = \alpha_n = 0 \enspace . \]
\end{df}

\begin{prop}
\label{prop:extend_linearly_independent}
Let $V$ be a vector space, $A \subseteq V$ and $v \in V$. If $A$ is linearly independent and $v \notin \spn A$, then $A \cup \{ v \}$ is independent.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\alpha_1 v_1 + \cdots + \alpha_n v_n + \beta v = 0$ where $v_1, \ldots, v_n \in A$}}
\step{2}{$\beta = 0$}
\begin{proof}
	\pf\ Otherwise $v = (\alpha_1 / \beta) v_1 + \cdots + (\alpha_n / \beta) v_n \in \spn A$.
\end{proof}
\step{3}{$\alpha_1 = \cdots = \alpha_n = 0$}
\begin{proof}
	\pf\ Since $A$ is linearly independent.
\end{proof}
\qed
\end{proof}

\begin{thm}
Every vector space has a basis.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$V$ be a vector space.}}
\step{2}{\pick\ a maximal linearly independent set $\mathcal{B}$.}
\begin{proof}
	\pf\ By Tukey's Lemma.
\end{proof}
\step{3}{$\spn \mathcal{B} = V$}
\begin{proof}
	\pf\ Proposition \ref{prop:extend_linearly_independent}.
\end{proof}
\qed
\end{proof}

\begin{df}
For any field $K$, we write $\mathbf{Vect}_K$ for $K-\mathbf{Mod}$.
\end{df}

Dual space functor $\mathbf{Vect}_K^{\mathrm{op}} \rightarrow \mathbf{Vect}_K$.

\part{Topology}

\input{topology.tex}

\end{document}

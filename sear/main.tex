% READ
% READ
% CHECK
% READ
% READ
% CHECK
% FORMALIZE
 
\documentclass{book}

\title{Mathematics}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage{hyperref}
\usepackage{mathabx}
\usepackage[all]{xy}

\newtheorem{ax}{Axiom}[section]
\newtheorem{axs}[ax]{Axiom Schema}
\newtheorem{prop}[ax]{Proposition}
\newtheorem{cor}{Corollary}[ax]
\newtheorem{thm}[ax]{Theorem}
\newtheorem{thms}[ax]{Theorem Schema}
\newtheorem{lm}[ax]{Lemma}
\theoremstyle{definition}
\newtheorem{df}[ax]{Definition}
\newtheorem{ex}[ax]{Example}

\newcommand{\El}[1]{\ensuremath{\mathrm{El} \left( {#1} \right)}}
\newcommand{\id}[1]{\ensuremath{\mathrm{id}_{#1}}}
\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}
\newcommand{\Ob}[1]{\ensuremath{\mathrm{Ob} \left( {#1} \right)}}
\newcommand{\Set}{\ensuremath{\mathbf{Set}}}
\newcommand{\op}[1]{\ensuremath{{#1}^{\mathrm{op}}}}
\newcommand{\spec}{\ensuremath{\operatorname{spec}}}
\newcommand{\Top}{\ensuremath{\mathbf{Top}}}

\begin{document}

\maketitle
\tableofcontents

\chapter{Primitive Terms and Axioms}

\section{Primitive Terms} % CHECKED FORMALIZED

Let there be \emph{sets}.

For any set $A$, let there be \emph{elements} of $A$. We write $a \in A$ for: $a$ is an element of $A$.

For any sets $A$ and $B$, let there be a set $B^A$, whose elements are called \emph{functions} from $A$ to $B$. We write $f : A \rightarrow B$ for $f \in B^A$.

For any function $f : A \rightarrow B$ and element $a \in A$, let there be an element $f(a) \in B$, the \emph{value} of the function $f$ at the \emph{argument} $a$.

\section{Injections, Surjections and Bijections} % CHECKED FORMALIZED

\begin{df}[Injective]
A function $f : A \rightarrow B$ is \emph{injective} or an \emph{injection} iff, for all $x,y \in A$, if $f(x) = f(y)$ then $x = y$.
\end{df}

\begin{df}[Surjective]
A function $f : A \rightarrow B$ is \emph{surjective} or a \emph{surjection} iff, for all $y \in B$, there exists $x \in A$ such that $f(x) = y$.
\end{df}

\begin{df}[Bijective]
A function $f : A \rightarrow B$ is \emph{bijective} or a \emph{bijection} iff it is injective and surjective.

Sets $A$ and $B$ are \emph{equinumerous}, $A \approx B$, iff there exists a bijection between them.
\end{df}

If we prove there exists a set $X$ such that $P(X)$, and that any two sets that satisfy $P$ are bijective, then we may introduce a constant $C$ and define "Let $C$ be the set such that $P(C)$".

\section{Axioms} % CHECKED FORMALIZED

\begin{axs}[Choice]
Let $P[X,Y,x,y]$ be a formula where $X$ and $Y$ are set variables, $x : \El{X}$ and $y : \El{Y}$. Then the following is an axiom.

Let $A$ and $B$ be sets. Assume that, for all $a : \El{A}$, there exists $b : \El{B}$ such that $P[A,B,a,b]$. Then there exists a function $f : A \rightarrow B$ such that $\forall a : \El{A}. P[A,B,a,f(a)]$.
\end{axs}

\begin{ax}[Extensionality]
Let $f, g : A \rightarrow B$. If, for all $x \in A$, we have $f(x) = g(x)$, then $f = g$.
\end{ax}

\begin{ax}[Pairing]
For any sets $A$ and $B$, there exists a set $A \times B$, the \emph{Cartesian product} of $A$ and $B$, and functions $\pi_1 : A \times B \rightarrow A$ and $\pi_2 : A \times B \rightarrow B$ such that, for all $a : \El{A}$ and $b : \El{B}$, there exists a unique $(a,b) : \El{A \times B}$ such that $\pi_1(a,b) = a$ and $\pi_2(a,b) = b$.
\end{ax}

\begin{axs}[Separation]
For every property $P[X,x]$ where $X$ is a set variable and $x : \El{X}$, the following is an axiom:

For every set $A$, there exists a set $S = \{ x : \El{A} \mid P[A,x] \}$ and an injection $i : S \rightarrow A$ such that, for all $x : \El{A}$, we have
\[ (\exists y : S. i(y) = x) \Leftrightarrow P[A,x] \enspace . \]
\end{axs}

\begin{ax}[Infinity]
There exists a set $\mathbb{N}$, an element $0 : \El{\mathbb{N}}$, and a function $s : \mathbb{N} \rightarrow \mathbb{N}$ such that:
\begin{itemize}
\item $\forall n : \El{\mathbb{N}}. s(n) \neq 0$
\item $\forall m,n : \El{\mathbb{N}}. s(m) = s(n) \Rightarrow m = n$.
\end{itemize}
\end{ax}

\begin{axs}[Collection]
Let $P[X,Y,x]$ be a formula with set variables $X$ and $Y$ and an element variable $x \in X$. Then the following is an axiom.

For any set $A$, there exists a set $B$, a function $p : B \rightarrow A$, a set $Y$ and a relation $M : B \looparrowright Y$ such that:
\begin{itemize}
\item $\forall b \in B. P[A, \{ y \in Y : bMy \}, p(b)]$
\item For all $a \in A$, if $\exists Y. P[A,Y,a]$, then there exists $b \in B$ such that $a = p(b)$.
\end{itemize}
\end{axs}

\begin{df}[Composite]
Let $f : A \rightarrow B$ and $g : B \rightarrow C$. The \emph{composite} $g \circ f : A \rightarrow C$ is the function such that, for all $a \in A$, we have
\[ (g \circ f)(a) = g(f(a)) \enspace . \]
\end{df}

\begin{ax}[Universe]
There exists a set $E$, a set $U$ and a function $el : E \rightarrow U$ such that the following holds.

Let us say that a set $A$ is \emph{small} iff there exists $u \in U$ such that $A \approx \{ e \in E : el(e) = u \}$.

\begin{itemize}
\item $\mathbb{N}$ is small.
\item For any $U$-small sets $A$ and $B$, the set $B^A$ is small.
\item For any $U$-small sets $A$ and $B$, the set $A \times B$ is small.
\item Let $f : A \rightarrow B$ be a function. If $B$ is small and $f^{-1}(b)$ is $U$-small for all $b \in B$, then $A$ is small.
\item If $p : B \twoheadrightarrow A$ is a surjective function such that $A$ is small, then there exists a $U$-small set $C$, a surjection $q : C \twoheadrightarrow A$, and a function $f : C \rightarrow B$ such that $q = p \circ f$.
\end{itemize}
\end{ax}

\chapter{Sets and Functions}

\section{Identity Function} % CHECKED

\begin{df}[Identity]
For any set $A$, the \emph{identity} function $\id{A} : A \rightarrow A$ is the function defined by $\id{A}(a) = a$.
\end{df}

\section{Composition} % CHECKED

\begin{prop}
Given functions $f : A \rightarrow B$, $g : B \rightarrow C$ and $h : C \rightarrow D$, we have
\[ h \circ (g \circ f) = (h \circ g) \circ f \enspace . \]
\end{prop}

\begin{proof}
\pf\ Each is the function that maps $a \in A$ to $h(g(f(a)))$. \qed
\end{proof}

\begin{prop}
\label{prop:comp_inj}
The composite of injective functions is injective.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f : A \rightarrowtail B$ and $g : B \rightarrowtail C$ be injective.}}
\step{2}{\pflet{$x,y \in A$ satisfy $(g \circ f)(x) = (g \circ f)(y)$}}
\step{3}{$g(f(x)) = g(f(y))$}
\step{4}{$f(x) = f(y)$}
\step{5}{$x = y$}
\qed
\end{proof}

\begin{prop}
For functions $f : A \rightarrow B$ and $g : B \rightarrow C$, if $g \circ f$ is injective then $f$ is injective.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{$g \circ f$ is injective.}}
\step{2}{\pflet{$x,y \in A$}}
\step{3}{\assume{$f(x) = f(y)$}}
\step{4}{$g(f(x)) = g(f(y))$}
\step{5}{$x = y$}
\qed
\end{proof}

\begin{prop}
\label{prop:injective}
Let $f : A \rightarrow B$. Then $f$ is injective if and only if, for every set $X$ and functions $x,y : X \rightarrow A$, if $f \circ x = f \circ y$ then $x = y$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $f$ is injective then, for every set $X$ and functions $x,y : X \rightarrow A$, if $f \circ x = f \circ y$ then $x = y$.}
\begin{proof}
	\step{a}{\assume{$f$ is injective.}}
	\step{b}{\pflet{$X$ be a set.}}
	\step{c}{\pflet{$x,y : X \rightarrow A$}}
	\step{d}{\assume{$f \circ x = f \circ y$}}
	\step{e}{$\forall t \in X. x(t) = y(t)$}
	\begin{proof}
		\step{i}{\pflet{$t \in X$}}
		\step{ii}{$f(x(t)) = f(y(t))$}
		\begin{proof}
			\pf\ \stepref{d}
		\end{proof}
		\step{iii}{$x(t) = y(t)$}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
	\end{proof}
	\step{f}{$x = y$}
	\begin{proof}
		\pf\ Axiom of Extensionality.
	\end{proof}
\end{proof}
\step{2}{If, for every set $X$ and functions $x,y : X \rightarrow A$, if $f \circ x = f \circ y$ then $x = y$.}
\begin{proof}
	\pf\ Take $X = 1$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:comp_surj}
The composite of surjective functions is surjective.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f : A \twoheadrightarrow B$ and $g : B \twoheadrightarrow C$ be injective.}}
\step{2}{\pflet{$c \in C$}}
\step{3}{\pick\ $b \in B$ such that $g(b) = c$.}
\step{4}{\pick\ $a \in A$ such that $f(a) = b$.}
\step{5}{$(g \circ f)(a) = c$}
\qed
\end{proof}

\begin{prop}
\label{prop:surjective}
Let $f : A \rightarrow B$. Then the following are equivalent.
\begin{enumerate}
\item $f$ is surjective.
\item For any set $X$ and functions $g,h : B \rightarrow X$, if $g \circ f = h \circ f$ then $g = h$.
\item There exists $g : B \rightarrow A$ such that $f \circ g = \id{B}$
\end{enumerate}
\end{prop}

\begin{proof}
\pf
\step{1}{$1 \Rightarrow 2$}
\begin{proof}
	\step{a}{\assume{$f$ is surjective.}}
	\step{b}{\pflet{$X$ be a set.}}
	\step{c}{\pflet{$g, h : B \rightarrow X$}}
	\step{d}{\assume{$g \circ f = h \circ f$}}
	\step{e}{\pflet{$b \in B$} \prove{$g(b) = h(b)$}}
	\step{f}{\pick\ $a \in A$ such that $f(a) = b$}
	\step{g}{$g(b) = h(b)$}
	\begin{proof}
		\pf\ $g(b) = g(f(a)) = h(f(a)) = h(b)$
	\end{proof}
\end{proof}
\step{2}{$1 \Rightarrow 3$}
\begin{proof}
	\step{a}{\assume{$f$ is surjective.}}
	\step{b}{\pick\ $g : B \rightarrow A$ such that, for all $b \in B$, we have $f(g(b)) = b$.}
	\begin{proof}
		\pf\ Axiom of Choice.
	\end{proof}
	\step{c}{$f \circ g = \id{B}$.}
\end{proof}
\step{3}{$3 \Rightarrow 2$}
\begin{proof}
	\step{a}{\pflet{$g : B \rightarrow A$ such that $f \circ g = \id{B}$}}
	\step{b}{\pflet{$X$ be a set.}}
	\step{c}{\pflet{$h,k : B \rightarrow X$}}
	\step{d}{\assume{$h \circ f = k \circ f$}}
	\step{e}{$h = k$}
	\begin{proof}
		\pf\ $h = h \circ f \circ g = k \circ f \circ g = k$
	\end{proof}
\end{proof}
\step{4}{$2 \Rightarrow 1$}
\begin{proof}
	\step{a}{\assume{2}}
	\step{b}{\pflet{$b \in B$}}
	\step{c}{\pflet{$h : B \rightarrow 2$ be the function that maps everything to 1.}}
	\step{d}{\pflet{$k : B \rightarrow 2$ be the function that maps $b$ to 0 and everything else to 1.}}
	\step{e}{$h \neq k$}
	\step{f}{$h \circ f \neq k \circ f$}
	\step{g}{\pick\ $a \in A$ such that $h(f(a)) \neq k(f(a))$}
	\step{h}{$f(a) = b$}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $f : A \rightarrow B$ and $g : B \rightarrow C$. If $g \circ f$ is surjective then $g$ is surjective.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$c \in C$}}
\step{2}{There exists $a \in A$ such that $g(f(a)) = c$.}
\step{3}{There exists $b \in B$ such that $g(b) = c$.}
\qed
\end{proof}

\begin{prop}
The composite of bijections is a bijection.
\end{prop}

\begin{proof}
\pf\ Propositions \ref{prop:comp_inj} and \ref{prop:comp_surj}. \qed
\end{proof}

\begin{prop}
Let $f : A \rightarrow B$. Then $f$ is bijective if and only if there exists a function $\inv{f} : B \rightarrow A$, the \emph{inverse} of $f$, such that $f \circ \inv{f} = \id{B}$ and $\inv{f} \circ f = \id{A}$, in which case the inverse is unique.
\end{prop}

\begin{proof}
\pf
\step{1}{If $f$ is bijective then there exists $\inv{f} : B \rightarrow A$ such that $f \circ \inv{f} = \id{B}$ and $\inv{f} \circ f = \id{A}$.}
\begin{proof}
	\step{a}{\assume{$f$ is bijective.}}
	\step{b}{\pick\ $g : B \rightarrow A$ such that $f \circ g = \id{B}$}
	\begin{proof}
		\pf\ Proposition \ref{prop:surjective}.
	\end{proof}
	\step{c}{$f \circ g \circ f = f$}
	\step{d}{$g \circ f = \id{A}$}
	\begin{proof}
		\pf\ Proposition \ref{prop:injective}.
	\end{proof}
\end{proof}
\step{2}{If there exists $\inv{f} : B \rightarrow A$ such that $f \circ \inv{f} = \id{B}$ and $\inv{f} \circ f = \id{A}$, then $f$ is bijective.}
\begin{proof}
	\step{a}{\pflet{$\inv{f} : B \rightarrow A$ satisfy $f \circ \inv{f} = \id{B}$ and $\inv{f} \circ f = \id{A}$}}
	\step{b}{$f$ is injective.}
	\begin{proof}
		\pf\ If $f(x) = f(y)$ then $x = \inv{f}(f(x)) = \inv{f}(f(y)) = y$.
	\end{proof}
	\step{c}{$f$ is surjective.}
	\begin{proof}
		\pf\ Proposition \ref{prop:surjective}.
	\end{proof}
\end{proof}
\step{3}{If $g, h : B \rightarrow A$ satisfy $f \circ g = \id{B}$ and $g \circ f = \id{A}$ and $f \circ h = \id{B}$ and $h \circ f = \id{A}$ then $g = h$.}
\begin{proof}
	\pf\ We have $g = g \circ f \circ h = h$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $f : A \rightarrow B$. Then $\id{B} \circ f = f = f \circ \id{A}$.
\end{prop}

\begin{proof}
\pf\ Each is the function that maps $a$ to $f(a)$. \qed
\end{proof}

\begin{prop}
\[ (A \times B)^C \approx A^C \times B^C \]
\end{prop}

\begin{proof}
\pf\ The function that maps $f$ to $(\pi_1 \circ f, \pi_2 \circ f)$ is a bijection. \qed
\end{proof}

\begin{prop}
\[ A^{B \times C} \approx (A^B)^C \]
\end{prop}

\begin{proof}
\pf\ The function $\Phi$ such that $\Phi(f)(c)(b) = f(b,c)$ is a bijection. \qed
\end{proof}

\subsection{The Empty Set} %CHECKED

\begin{thm}
There exists a set which has no elements.
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ a set $A$}
\begin{proof}
	\pf\ By the Axiom of Infinity, a set exists.
\end{proof}
\step{2}{\pflet{$S = \{ x : \El{A} \mid \bot \}$ with injection $i : S \rightarrow A$}}
\begin{proof}
	\pf\ Axiom of Separation.
\end{proof}
\step{3}{$S$ has no elements.}
\qed
\end{proof}

\begin{thm}
If $E$ and $E'$ have no elements then $E \approx E'$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$E$ and $E'$ have no elements.}}
\step{2}{\pick\ a function $F : E \rightarrow E'$.}
\begin{proof}
	\pf\ Axiom of Choice since vacuously $\forall x : \El{E}. \exists y : \El{E'}. \top$.
\end{proof}
\step{4}{$F$ is injective.}
\begin{proof}
	\pf\ Vacuously, for all $x,y : \El{E}$, if $F(x) = F(y)$ then $x = y$.
\end{proof}
\step{5}{$F$ is surjective.}
\begin{proof}
	\pf\ Vacuously, for all $y : \El{E}$, there exists $x : \El{E}$ such that $F(x) = y$.
\end{proof}
\qed
\end{proof}

\begin{df}[Empty Set]
The \emph{empty set} $\emptyset$ is the set with no elements.
\end{df}

\subsection{The Singleton} %CHECKED

\begin{thm}
There exists a set that has exactly one element.
\end{thm}

\begin{proof}
\pf
\step{1}{\pick\ a set $A$ that has an element.}
\begin{proof}
	\pf\ By the Axiom of Infinity, there exists a set that has an element.
\end{proof}
\step{2}{\pick\ $a : \El{A}$}
\step{3}{\pick\ a set $S$ and injection $i : S \rightarrowtail A$ such that, for all $x : \El{A}$, there exists $s : \El{S}$ such that $s = x$ if and only if $x = a$}
\step{4}{$S$ has exactly one element.}
\qed
\end{proof}

\begin{thm}
If $A$ and $B$ both have exactly one element then $A \approx B$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$A$ and $B$ both have exactly one element $a$ and $b$ respectively.}}
\step{2}{\pflet{$F : A \rightarrow B$ be the function such that, for all $x : \El{A}$, we have $(x = a \wedge F(x) = b)$}}
\step{3}{$F$ is a bijection.}
\qed
\end{proof}

\begin{df}[Singleton]
Let 1 be the set that has exactly one element. Let $*$ be its element.
\end{df}

\subsection{Subsets} % CHECKED

\begin{df}[Subset]
A \emph{subset} of a set $A$ consists of a set $S$ and an injection $i : S \rightarrowtail A$. We write $(S,i) \subseteq A$.

We say two subsets $(S,i)$ and $(T,j)$ are \emph{equal}, $(S,i) = (T,j)$, iff there exists a bijection $\phi : S \approx T$ such that $j \circ \phi = i$.
\end{df}

\begin{prop}
For any subset $(S,i)$ of $A$ we have $(S,i) = (S,i)$.
\end{prop}

\begin{proof}
\pf\ We have $\id{S} : S \approx S$ and $i \circ \id{S} = i$.
\end{proof}

\begin{prop}
If $(S,i) = (T,j)$ then $(T,j) = (S,i)$.
\end{prop}

\begin{proof}
\pf\ If $\phi : S \approx T$ and $j \circ \phi = i$ then $\inv{\phi} : T \approx S$ and $i \circ \inv{\phi} = j$. \qed
\end{proof}

\begin{prop}
If $(R,i) = (S,j)$ and $(S,j) = (T,k)$ then $(R,i) = (T,k)$.
\end{prop}

\begin{proof}
\pf\ If $\phi : R \approx S$ and $j \circ \phi = i$, and $\psi : S \approx T$ and $k \circ \psi = j$, then $\psi \circ \phi : R \approx T$ and $k \circ \psi \circ \phi = i$. \qed
\end{proof}

\begin{df}[Membership]
Given $(S,i) \subseteq A$ and $a \in A$, we write $a \in (S,i)$ for $\exists s \in S. i(s) = a$.
\end{df}

\begin{prop}
If $a \in (S,i)$ and $(S,i) = (T,j)$ then $a \in (T,j)$.
\end{prop}

\begin{proof}
\pf\ If $i(s) = a$ then $j(\phi(s)) = a$. \qed
\end{proof}

\begin{df}[Union]
Given subsets $S$ and $T$ of $A$, the \emph{union} is the subset $\{ x \in A : x \in S \vee x \in T \}$.
\end{df}

\begin{df}[Intersection]
Given subsets $S$ and $T$ of $A$, the \emph{intersection} is the subset $\{ x \in A : x \in S \wedge x \in T \}$.
\end{df}

\begin{prop}[Distributive Law]
\[ R \cap (S \cup T) = (R \cap S) \cup (R \cap T) \]
\end{prop}

\begin{prop}[Distributive Law]
\[ R \cup (S \cap T) = (R \cup S) \cap (R \cup T) \]
\end{prop}

\begin{df}
Given a set $A$, we write $\emptyset$ for the subset $(\emptyset, !)$ where $!$ is the unique function $\emptyset \rightarrow A$.
\end{df}

\begin{prop}
\[ S \cup \emptyset = S \]
\end{prop}

\begin{prop}
\[ S \cap \emptyset = S \]
\end{prop}

\begin{df}[Inclusion]
Given subsets $(S,i)$ and $(T,j)$ of a set $A$, we write $(S,i) \subseteq (T,j)$ iff there exists $f : S \rightarrow T$ such that $j \circ f = i$.
\end{df}

\begin{prop}
\[ \emptyset \subseteq S \]
\end{prop}

\begin{df}[Disjoint]
Subsets $S$ and $T$ of $A$ are \emph{disjoint} iff $S \cap T = \emptyset$.
\end{df}

\begin{df}[Difference]
Given subsets $S$ and $T$ of $A$, the \emph{difference} of $S$ and $T$ is $S - T = \{ x \in A : x \in S \wedge x \notin T \}$.
\end{df}

\begin{prop}[De Morgan's Law]
\[ R - (S \cup T) = (R - S) \cap (R - T) \]
\end{prop}

\begin{prop}[De Morgan's Law]
\[ R - (S \cap T) = (R - S) \cup (R - T) \]
\end{prop}

\subsection{Union} % CHECKED

\begin{df}[Union]
Given $\mathcal{A} \in \mathcal{P} \mathcal{P} X$, its \emph{union} is
\[ \bigcup \mathcal{A} := \{ x \in X : \exists S \in \mathcal{A}. x \in S \} \in \mathcal{P} X \enspace . \]
\end{df}

\subsection{Intersection}

\begin{df}[Intersection]
Given $\mathcal{A} \in \mathcal{P} \mathcal{P} X$, its \emph{intersection} is
\[ \bigcap \mathcal{A} := \{ x \in X : \forall S \in \mathcal{A}. x \in S \} \in \mathcal{P} X \enspace . \]
\end{df}

\subsection{Direct Image}

\begin{df}[Direct Image]
Let $f : A \rightarrow B$. Let $S$ be a subset of $A$. The \emph{(direct) image} of $S$ under $f$ is the subset of $B$ given by
\[ f(S) := \{ f(a) : a \in S \} \enspace . \]
\end{df}

\begin{prop}
\begin{enumerate}
\item If $S \subseteq T$ then $f(S) \subseteq f(T)$
\item $f(\bigcup \mathcal{S}) = \bigcup_{S \in \mathcal{S}} f(S)$
\end{enumerate}
\end{prop}

\begin{ex}
It is not true in general that $f(\bigcap \mathcal{S}) = \bigcap_{S \in \mathcal{S}} f(S)$. Take $f$ to be the only function $\{0,1\} \rightarrow \{0\}$, and $\mathcal{S} = \{\{0\},\{1\}\}$. Then $f(\bigcap \mathcal{S}) = \emptyset$ but $\bigcap_{S \in \mathcal{S}} f(S) = \{0\}$.
\end{ex}

\begin{ex}
It is not true in general that $f(S - T) = f(S) - f(T)$. Take $f$ to be the only function $\{0,1\} \rightarrow \{0\}$, $S = \{0\}$ and $T = \{1\}$. Then $f(S-T) = \{0\}$ but $f(S) - f(T) = \emptyset$.
\end{ex}

\subsection{Inverse Image}

\begin{df}[Inverse Image]
Let $f : A \rightarrow B$. Let $S$ be a subset of $B$. The \emph{inverse image} or \emph{preimage} of $S$ under $f$ is the subset of $A$ given by
\[ \inv{f}(S) := \{ x \in A : f(x) \in S \} \enspace . \]
\end{df}

\begin{prop}
\begin{enumerate}
\item If $S \subseteq T$ then $\inv{f}(S) \subseteq \inv{f}(T)$
\item $\inv{f}(\bigcup \mathcal{S}) = \bigcup_{S \in \mathcal{S}} \inv{f}(S)$
\item $\inv{f}(\bigcap \mathcal{S}) = \bigcap_{S \in \mathcal{S}} \inv{f}(S)$
\item $\inv{f}(S - T) = \inv{f}(S) - \inv{f}(T)$
\item $S \subseteq \inv{f}(f(S))$. Equality holds if $f$ is injective.
\item $f(\inv{f}(T)) \subseteq T$. Equality holds if $f$ is surjective.
\item $\inv{(g \circ f)}(S) = \inv{f}(\inv{g}(S))$
\end{enumerate}
\end{prop}

\section{Relations}

\begin{df}[Relation]
Let $A$ and $B$ be sets. A \emph{relation} $R$ between $A$ and $B$, $R : A \looparrowright B$, is a subset of $A \times B$.

Given $a \in A$ and $b \in B$, we write $aRb$ for $(a,b) \in R$.

A relation \emph{on} a set $A$ is a relation between $A$ and $A$.
\end{df}

\section{Power Set}

\begin{df}[Power Set]
The \emph{power set} of a set $A$ is $\mathcal{P} A := 2^A$.

Given $S \in \mathcal{P} A$ and $a \in A$, we write $a \in A$ for $S(a) = 1$.
\end{df}


\section{Cartesian Product}

\begin{df}[Cartesian Product]
Let $A$ and $B$ be sets. The \emph{Cartesian product} of $A$ and $B$, $A \times B$, is the tabulation of the relation $A \looparrowright B$ that holds for all $a \in A$ and $b \in B$. The associated functions $\pi_1 : A \times B \rightarrow A$ and $\pi_2 : A \times B \rightarrow B$ are called the \emph{projections}.

Given $a \in A$ and $b \in B$, we write $(a,b)$ for the unique element of $A \times B$ such that $\pi_1(a,b) = a$ and $\pi_2(a,b) = b$.
\end{df}

\section{Quotient Sets}

\begin{prop}
Let $\sim$ be an equivalence relation on $X$. Then there exists a set $X/\sim$, the \emph{quotient set} of $X$ with respect to $\sim$, and a surjective function $\pi : X \twoheadrightarrow X / \sim$, the \emph{canonical projection}, such that, for all $x,y : \El{X}$, we have $x \sim y$ if and only if $\pi(x) = \pi(y)$.

Further, if $p : X \twoheadrightarrow Q$ is another quotient with respect to $\sim$, then there exists a unique bijection $\phi : X / \sim \approx Q$ such that $\phi \circ \pi = p$.
\end{prop}

\section{Partitions}

\begin{df}[Partition]
A \emph{partition} of a set $X$ is a set of pairwise disjoint subsets of $X$ whose union is $X$.
\end{df}

\section{Disjoint Union}

\begin{thm}
For any sets $A$ and $B$, there exists a set $A + B$, the \emph{disjoint union} of $A$ and $B$, and functions $\kappa_1 : A \rightarrow A + B$ and $\kappa_2 : B \rightarrow A + B$, the \emph{injections}, such that, for every set $X$ and functions $f : A \rightarrow X$ and $g : B \rightarrow X$, there exists a unique function $[f,g] : A + B \rightarrow X$ such that $[f,g] \circ \kappa_1 = f$ and $[f,g] \circ \kappa_2 = g$.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$A + B := \{ p \in \mathcal{P} A \times \mathcal{P} B : \exists a \in A. p = (\{a\},\emptyset) \vee \exists b \in B. p = (\emptyset, \{b\}) \}$}}
% TODO
\end{proof}

\begin{df}[Restriction]
Let $f : A \rightarrow B$ and let $(S,i)$ be a subset of $A$. The \emph{restriction} of $f$ to $S$ is the function $f \restriction S : S \rightarrow B$ defined by $f \restriction S = f \circ i$.
\end{df}


\chapter{Order Theory}

\section{Relations}

\begin{df}[Reflexive]
A relation $R \subseteq A \times A$ is \emph{reflexive} iff, for all $a \in A$, we have $(a,a) \in R$.
\end{df}

\begin{df}[Antisymmetric]
A relation $R \subseteq A \times A$ is \emph{antisymmetric} iff, for all $a,b \in A$, if $(a,b) \in R$ and $(b,a) \in R$ then $a = b$.
\end{df}

\begin{df}[Transitive]
A relation $R \subseteq A \times A$ is \emph{transitive} iff, for all $a,b,c \in A$, if $(a,b) \in R$ and $(b,c) \in R$ then $(a,c) \in R$.
\end{df}

\begin{df}[Partial Order]
A \emph{partial order} on a set $A$ is a relation on $A$ that is reflexive, antisymmetric and transitive.

We say $(A, \leq)$ is a \emph{partially ordered set} or \emph{poset} iff $\leq$ is a partial order on $A$.
\end{df}

\chapter{Category Theory}

\section{Categories}

\begin{df}
A \emph{category} $\mathcal{C}$ consists of:
\begin{itemize}
\item a set $\Ob{\mathcal{C}}$ of \emph{objects}. We write $A \in \mathcal{C}$ for $A \in \Ob{\mathcal{C}}$.
\item for any objects $X$ and $Y$, a set $\mathcal{C}[X,Y]$ of \emph{morphisms} from $X$ to $Y$. We write $f : X \rightarrow Y$ for $f \in \mathcal{C}[X,Y]$.
\item for any objects $X$, $Y$ and $Z$, a function $\circ : \mathcal{C}[Y,Z] \times \mathcal{C}[X,Y] \rightarrow \mathcal{C}[X,Z]$, called \emph{composition}.
\end{itemize}
such that:
\begin{itemize}
\item Given $f : X \rightarrow Y$, $g : Y \rightarrow Z$ and $h : Z \rightarrow W$, we have $h \circ (g \circ f) = (h \circ g) \circ f$
\item For any object $X$, there exists a morphism $\id{X} : X \rightarrow X$, the \emph{identity morphism} on $X$, such that:
\begin{itemize}
\item for any object $Y$ and morphism $f : Y \rightarrow X$ we have $\id{X} \circ f = f$
\item for any object $Y$ and morphism $f : X \rightarrow Y$ we have $f \circ \id{X} = f$
\end{itemize} 
\end{itemize}
\end{df}

We write the composite of morphism $f_1$, \ldots, $f_n$ as $f_n \circ \cdots \circ f_1$. This is unambiguous thanks to Associativity.

\begin{df}
Let $\Set$ be the category of small sets and functions.
\end{df}

\begin{df}
We identify a poset $(A, \leq)$ with the category with:
\begin{itemize}
\item set of objects $A$
\item for $a,b \in A$, the set of homomorphisms is $\{ x \in 1 : a \leq b \}$
\end{itemize}
\end{df}

\begin{prop}
A category is a poset iff, for any two objects, there exists at most one morphism between them.
\end{prop}

\begin{prop}
The identity morphism on an object is unique.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{C}$ be a category.}}
\step{2}{\pflet{$A \in \mathcal{C}$}}
\step{3}{\pflet{$i,j : A \rightarrow A$ be identity morphisms on $A$.}}
\step{4}{$i = j$}
\begin{proof}
	\pf
	\begin{align*}
		i & = i \circ j & (j \text{ is an identity on } A) \\
		& = j & (i \text{ is an identity on } A)
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}
Given $f : A \rightarrow B$ and an object $C$, define the function $f^* : \mathcal{C}[B,C] \rightarrow \mathcal{C}[A,C]$ by $f^*(g) = g \circ f$.
\end{df}

\begin{df}
Given $f : A \rightarrow B$ and an object $C$, define the function $f_* : \mathcal{C}[C,A] \rightarrow \mathcal{C}[C,B]$ by $f_*(g) = f \circ g$.
\end{df}

\subsection{Monomorphisms}

\begin{df}[Monomorphism]
Let $f : A \rightarrow B$. Then $f$ is \emph{monic} or a \emph{monomorphism}, $f : A \rightarrowtail B$, iff, for any object $X$ and functions $x,y : X \rightarrow A$, if $f \circ x = f \circ y$ then $x = y$.
\end{df}

\subsection{Epimorphisms}

\begin{df}[Epimorphism]
Let $f : A \rightarrow B$. Then $f$ is \emph{epic} or an \emph{epimorphism}, $f : A \twoheadrightarrow B$, iff, for any object $X$ and functions $x,y : B \rightarrow X$, if $x \circ f = y \circ f$ then $x = y$.
\end{df}

\subsection{Sections and Retractions}

\begin{df}[Section, Retraction]
Let $r : A \rightarrow B$ and $s : B \rightarrow A$. Then $r$ is a \emph{retraction} of $s$, and $s$ is a \emph{section} of $r$, iff $rs = \id{B}$.
\end{df}

\begin{prop}
\label{prop:section_is_retraction}
Let $f : A \rightarrow B$ and $r,s : B \rightarrow A$. If $r$ is a retraction of $f$ and $s$ is a section of $f$ then $r = s$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
r & = r \id{B} & (\text{Unit Law}) \\
& = r f s & (\text{$s$ is a section of $f$}) \\
& = \id{A} s & (\text{$r$ is a retraction of $f$}) \\
& = s & (\text{Unit Law}) & \qed
\end{align*}
\end{proof}

\begin{prop}
Every section is monic.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$s : B \rightarrow A$ be a section of $r : A \rightarrow B$.}}
\step{2}{\pflet{$X$ be an object and $x,y : X \rightarrow B$}}
\step{3}{\assume{$s \circ x = s \circ y$}}
\step{4}{$x = y$}
\begin{proof}
	\pf\ $x = r \circ s \circ x = r \circ s \circ y = y$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Every retraction is epic.
\end{prop}

\begin{proof}
\pf\ Dual. \qed
\end{proof}

\subsection{Isomorphisms}

\begin{df}[Isomorphism]
A morphism $f : A \rightarrow B$ is an \emph{isomorphism}, $f : A \cong B$, iff there exists a morphism $\inv{f} : B \rightarrow A$ that is both a retraction and section of $f$.

Objects $A$ and $B$ are \emph{isomorphic}, $A \cong B$, iff there exists an isomorphism between them.
\end{df}

\begin{prop}
The inverse of an isomorphism is unique.
\end{prop}

\begin{proof}
\pf\ From Proposition \ref{prop:section_is_retraction}. \qed
\end{proof}

\begin{prop}
If $f : A \cong B$ then $\inv{f} : B \cong A$ and $\inv{(\inv{f})} = f$.
\end{prop}

\begin{proof}
\pf\ Since $f\inv{f} = \id{B}$ and $\inv{f}f = \id{A}$. \qed
\end{proof}

Isomorphism.

Define the opposite category.

Slice categories

\begin{df}
Let $\mathcal{C}$ be a category and $B \in \mathcal{C}$. The category $\mathcal{C}_B^B$ of objects \emph{over and under} $B$ is the category with:
\begin{itemize}
\item objects all triples $(X,u,p)$ such that $u : B \rightarrow X$ and $p : X \rightarrow B$
\item morphisms $f : (X,u,p) \rightarrow (Y,u',p')$ all morphisms $f : X \rightarrow Y$ such that $fu=u'$ and $p'f=p$.
\end{itemize}
\end{df}

\begin{prop}
\[ \mathcal{C}_B^B \cong (\mathcal{C} / B) \backslash \id{B} \cong (\mathcal{C} \backslash B) / \id{B} \]
\end{prop}

$(B, \id{B}, \id{B})$ is the zero object in $\mathcal{C}_B^B$.

\subsection{Initial Objects}

\begin{df}[Initial Object]
An object $I$ is \emph{initial} iff, for any object $X$, there exists exactly one morphism $I \rightarrow X$.
\end{df}

\begin{prop}
The empty set is initial in $\Set$.
\end{prop}

\begin{proof}
\pf\ For any set $A$, the nowhere-defined function is the unique function $\emptyset \rightarrow A$. \qed
\end{proof}

\begin{prop}
\label{prop:initial_unique}
If $I$ and $I'$ are initial objects, then there exists a unique isomorphism $I \cong I'$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$i : I \rightarrow I'$ be the unique morphism $I \rightarrow I'$.}}
\step{2}{\pflet{$\inv{i} : I' \rightarrow I$ be the unique morphism $I' \rightarrow I$.}}
\step{3}{$i \inv{i} = \id{I'}$}
\begin{proof}
	\pf\ There is only one morphism $I' \rightarrow I'$.
\end{proof}
\step{4}{$\inv{i} i = \id{I}$}
\begin{proof}
	\pf\ There is only one morphism $I \rightarrow I$.
\end{proof}
\qed
\end{proof}

\subsection{Terminal Objects}

\begin{df}[Terminal Object]
An object $T$ is \emph{terminal} iff, for any object $X$, there exists exactly one morphism $X \rightarrow T$.
\end{df}

\begin{prop}
1 is terminal in $\Set$.
\end{prop}

\begin{proof}
\pf\ For any set $A$, the constant function to $*$ is the only function $A \rightarrow 1$. \qed
\end{proof}

\begin{prop}
If $T$ and $T'$ are terminal objects, then there exists a unique isomorphism $T \cong T'$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:initial_unique}. \qed
\end{proof}

\subsection{Zero Objects}

\begin{df}[Zero Object]
An object $Z$ is a \emph{zero object} iff it is an initial object and a terminal object.
\end{df}

\begin{df}[Zero Morphism]
Let $\mathcal{C}$ be a category with a zero object $Z$. Let $A,B \in \mathcal{C}$. The \emph{zero morphism} $A \rightarrow B$ is the unique morphism $A \rightarrow Z \rightarrow B$.
\end{df}

\begin{prop}
There is no zero object in $\Set$.
\end{prop}

\begin{proof}
\pf\ Since $\emptyset \not\approx 1$. \qed
\end{proof}

\subsection{Triads}

\begin{df}[Triad]
Let $\mathcal{C}$ be a category. A \emph{triad} consists of objects $X$, $Y$, $M$ and morphisms $\alpha : X \rightarrow M$, $\beta : Y \rightarrow M$. We call $M$ the \emph{codomain} of the triad.
\end{df}

\subsection{Cotriads}

\begin{df}[Cotriad]
Let $\mathcal{C}$ be a category. A \emph{cotriad} consists of objects $X$, $Y$, $W$ and morphisms $\xi : W \rightarrow X$, $\eta : W \rightarrow Y$. We call $W$ the \emph{domain} of the triad.
\end{df}

\subsection{Pullbacks}

\begin{df}[Pullback]
A diagram
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
is a \emph{pullback} iff $\alpha \xi = \beta \eta$ and, for every object $Z$ and morphism $f : Z \rightarrow X$ and $g : Z \rightarrow Y$ such that $\alpha f = \beta g$, there exists a unique $h : Z \rightarrow W$ such that $\xi h = f$ and $\eta h = g$.

In this case we also say that $\eta$ is the \emph{pullback} of $\beta$ along $\alpha$.
\end{df}

\begin{prop}
\label{prop:pullback_unique}
If $\xi : W \rightarrow X$ and $\eta : W \rightarrow Y$ form a pullback of $\alpha : X \rightarrow M$ and $\beta : Y \rightarrow M$, and $\xi' : W' \rightarrow X$ and $\eta' : W' \rightarrow Y$ also form the pullback of $\alpha$ and $\beta$, then there exists a unique isomorphism $\phi : W \cong W'$ such that $\eta' \phi = \eta$ and $\xi' \phi = \xi$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\phi : W \rightarrow W'$ be the unique morphism such that $\eta' \phi = \eta$ and $\xi' \phi = \xi$.}}
\step{2}{\pflet{$\inv{\phi} : W' \rightarrow W$ be the unique morphism such that $\eta \inv{\phi} = \eta'$ and $\xi \inv{\phi} = \xi'$.}}
\step{3}{$\phi \inv{\phi} = \id{W'}$}
\begin{proof}
	\pf\ Each is the unique $x : W' \rightarrow W'$ such that $\eta' x = \eta'$ and $\xi' x = \xi'$.
\end{proof}
\step{4}{$\inv{\phi} \phi = \id{W}$}
\begin{proof}
	\pf\ Each is the unique $x : W \rightarrow W$ such that $\eta x = \eta$ and $\xi x = \xi$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:pullback_id}
For any morphism $h : A \rightarrow B$, the following diagram is a pullback diagram.
\[ \xymatrix{
A \ar[r]^h \ar@{=}[d] & B \ar@{=}[d] \\
A \ar[r]_h & B
} \]
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$Z$ be an object.}}
\step{2}{\pflet{$f : Z \rightarrow B$ and $g : Z \rightarrow A$ satisfy $\id{B} f = hg$}}
\step{3}{$g : Z \rightarrow B$ is the unique morphism such that $\id{A} g = g$ and $hg = f$.}
\qed
\end{proof}

\begin{prop}
\label{prop:pullback_iso}
The pullback of an isomorphism is an isomorphism.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pullback diagram.}}
\step{2}{\assume{$\beta$ is an isomorphism.}}
\step{3}{\pflet{$\inv{\xi}$ be the unique morphism $X \rightarrow W$ such that $\xi \inv{\xi} = \id{X}$ and $\eta \inv{\xi} = \inv{\beta} \alpha$.}}
\begin{proof}
	\pf\ This exists since $\alpha \id{X} = \beta \inv{\beta} \alpha = \alpha$.
\end{proof}
\step{4}{$\inv{\xi} \xi = \id{W}$}
\begin{proof}
	\pf\ Each is the unique $x : W \rightarrow W$ such that $\xi x = \xi$ and $\eta x = \eta$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:pullback_slice_under}
Let $\beta : (Y,y) \rightarrow (M,m)$ and $\alpha : (X,x) \rightarrow (M,m)$ in $\mathcal{C} \backslash A$. Let
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pullback in $\mathcal{C}$. Let $w : A \rightarrow W$ be the unique morphism such that $\xi w = x$ and $\eta w = y$. Then $\xi : (W,w) \rightarrow (X,x)$ and $\eta : (W,w) \rightarrow (Y,y)$ is the pullback of $\beta$ and $\alpha$ in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$(Z,z) \in \mathcal{C} \backslash A$}}
\step{2}{\pflet{$f : (Z,z) \rightarrow (X,x)$ and $g : (Z,z) \rightarrow (Y,y)$ satisfy $\alpha f = \beta g$.}}
\step{3}{\pflet{$h : Z \rightarrow W$ be the unique morphism such that $\xi h = f$ and $\eta h = g$.}}
\step{4}{$hz=w$}
\begin{proof}
	\step{a}{$\xi h z = \xi w$}
	\begin{proof}
		\pf
		\begin{align*}
			\xi h z & = f z & (\text{\stepref{3}}) \\
			& = x & (\text{\stepref{2}}) \\
			& = \xi w
		\end{align*}
	\end{proof}
	\step{b}{$\eta h z = \eta w$}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
\end{proof}
\step{4}{$h : (Z,z) \rightarrow (W,w)$}
\qed
\end{proof}

\begin{prop}
\label{prop:pullback_slice_over}
Let $\beta : (Y,y) \rightarrow (M,m)$ and $\alpha : (X,x) \rightarrow (M,m)$ in $\mathcal{C} / A$. Let
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pullback in $\mathcal{C}$. Let $w = x\xi : W \rightarrow A$. Then $\xi : (W,w) \rightarrow (X,x)$ and $\eta : (W,w) \rightarrow (Y,y)$ form a pullback of $\alpha$ and $\beta$ in $\mathcal{C} / A$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\eta : (W,w) \rightarrow (Y,y)$}
\begin{proof}
	\pf
	\begin{align*}
		y \eta & = m \beta \eta \\
		& = m \alpha \xi \\
		& = x \xi \\
		& = w
	\end{align*}
\end{proof}
\step{2}{\pflet{$(Z,z) \in \mathcal{C} / A$}}
\step{3}{\pflet{$f : (Z,z) \rightarrow (X,x)$ and $g : (Z,z) \rightarrow (Y,y)$ satisfy $\alpha f = \beta g$.}}
\step{4}{\pflet{$h : Z \rightarrow W$ be the unique morphism such that $\xi h = f$ and $\eta h = g$.}}
\step{5}{$h : (Z,z) \rightarrow (W,w)$}
\begin{proof}
	\pf
	\begin{align*}
		w h & = x \xi h \\
		& = xf & (\text{\stepref{4}}) \\
		& = z & (\text{\stepref{3}})
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
In $\Set$, let $\alpha : X \rightarrow M$ and $\beta : Y \rightarrow M$. Let $W = \{ (x,y) \in X \times Y : \alpha(x) = \beta(y) \}$ with inclusion $i : W \rightarrow X \times Y$. Let $\xi = \pi_1 i : W \rightarrow X$ and $\eta : \pi_2 i : W \rightarrow Y$. Then $\xi$ and $\eta$ form the pullback of $\alpha$ and $\beta$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\alpha \xi = \beta \eta$}
\begin{proof}
	\pf\ For $w \in W$, if $i(w) = (x,y)$ then then $\alpha(\xi(w)) = \alpha(x) = \beta(y) = \beta(\eta(w))$.
\end{proof}
\step{2}{For every set $Z$ and functions $f : Z \rightarrow X$, $g : Z \rightarrow Y$ such that $\alpha f = \beta g$, there exists a unique $h : Z \rightarrow W$ such that $\xi h = f$ and $\eta h = g$}
\begin{proof}
	\pf\ For $z \in Z$, let $h(z)$ be the unique element of $W$ such that $i(h(z)) = (f(z),g(z))$.
\end{proof}
\qed
\end{proof}

Pullback lemma

\subsection{Pushouts}

\begin{df}[Pushout]
A diagram
\begin{equation}
\label{eq:pushout}
\xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
}
\end{equation}
is a \emph{pushout} iff $\alpha \xi = \beta \eta$ and, for every object $Z$ and morphism $f : X \rightarrow Z$ and $g : Y \rightarrow Z$ such that $f \xi = g \eta$, there exists a unique $h : M \rightarrow Z$ such that $h \alpha = f$ and $h \beta = g$.

We also say that $\beta$ is the \emph{pushout} of $\xi$ along $\eta$.
\end{df}

\begin{prop}
If $\alpha : X \rightarrow M$ and $\beta : Y \rightarrow M$ form a pushout of $\xi : W \rightarrow X$ and $\eta : W \rightarrow Y$, and $\alpha' : X \rightarrow M'$ and $\beta' : Y \rightarrow M'$ also form a pushout of $\xi$ and $\eta$, then there exists a unique isomorphism $\phi : M \cong M'$ such that $\phi \alpha = \alpha'$ and $\phi \beta = \beta'$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_unique}. \qed
\end{proof}

\begin{prop}
For any morphism $h : A \rightarrow B$, the following diagram is a pushout diagram.
\[ \xymatrix{
A \ar[r]^h \ar@{=}[d] & B \ar@{=}[d] \\
A \ar[r]_h & B
} \]
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_id}.
\end{proof}

\begin{prop}
The diagram (\ref{eq:pushout}) is a pushout in $\mathcal{C}$ iff it is a pullback in $\mathcal{C}^\mathrm{op}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
The pushout of an isomorphism is an isomorphism.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_iso}. \qed
\end{proof}

\begin{prop}
Let $\xi : (W,w) \rightarrow (X,x)$ and $\eta : (W,w) \rightarrow (Y,y)$ in $\mathcal{C} \backslash A$. Let
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pushout in $\mathcal{C}$. Let $m : = \alpha x : A \rightarrow M$. Then $\alpha : (X,x) \rightarrow (M,m)$ and $\beta : (Y,y) \rightarrow (M,m)$ is the pushout of $\xi$ and $\eta$ in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_slice_over}. \qed
\end{proof}

\begin{prop}
Let $\xi : (W,w) \rightarrow (X,x)$ and $\eta : (W,w) \rightarrow (Y,y)$ in $\mathcal{C} / A$. Let
\[ \xymatrix{
W \ar[r]^\xi \ar[d]_\eta & X \ar[d]^\alpha \\
Y \ar[r]_\beta & M
} \]
be a pushout in $\mathcal{C}$. Let $m : M \rightarrow A$ be the unique morphism such that $m \alpha = x$ and $m \beta = y$. Then $\alpha : (X,x) \rightarrow (M,m)$ and $\beta : (Y,y) \rightarrow (M,m)$ is the pushout of $\xi$ and $\eta$ in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:pullback_slice_under}. \qed
\end{proof}

\begin{prop}
$\Set$ has pushouts.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$\xi : W \rightarrow X$ and $\eta : W \rightarrow Y$.}}
\step{2}{\pflet{$\sim$ be the equivalence relation on $X + Y$ generated by $\xi(w) \sim \eta(w)$ for all $w \in W$}}
\step{3}{\pflet{$M = (X + Y) / \sim$ with canonical projection $\pi : X + Y \twoheadrightarrow M$.}}
\step{33}{\pflet{$\alpha = \pi \circ \kappa_1 : X \rightarrow M$}}
\step{34}{\pflet{$\beta = \pi \circ \kappa_2 : Y \rightarrow M$}}
\step{4}{\pflet{$Z$ be any set, $f : X \rightarrow Z$ and $g : Y \rightarrow Z$.}}
\step{5}{\assume{$f \xi = g \eta$}}
\step{6}{\pflet{$h : X + Y \rightarrow Z$ be the function defined by $h(x) = f(x)$ and $h(y) = g(y)$ for $x \in X$ and $y \in Y$}}
\step{7}{$h$ respects $\sim$}
\begin{proof}
	\pf\ For $w \in W$ we have
	\begin{align*}
		h(\xi(w)) & = f(\xi(w)) & (\text{\stepref{6}}) \\
		& = g(\eta(w)) & (\text{\stepref{5}}) \\
		& = h(\eta(w)) & (\text{\stepref{6}})
	\end{align*}
\end{proof}
\step{8}{\pflet{$\overline{h} : M \rightarrow Z$ be the induced function.}}
\step{9}{$\overline{h} \alpha = f$}
\begin{proof}
	\pf
	\begin{align*}
		\overline{h}(\alpha(x)) & = \overline{h}(\pi(\kappa_1(x))) \\
		& = h(\kappa_1(x)) \\
		& = f(x)
	\end{align*}
\end{proof}
\step{10}{$\overline{h} \beta = g$}
\begin{proof}
	\pf\ Similar.
\end{proof}
\step{11}{For all $k : M \rightarrow Z$, if $k \alpha = f$ and $k \beta = g$ then $k = \overline{h}$.}
\begin{proof}
	\pf
	\begin{align*}
		k(\pi(\kappa_1(x))) & = k(\alpha(x)) \\
		& = f(x) \\
		k(\pi(\kappa_2(y))) & = k(\beta(y)) \\
		& = g(y) \\
		\therefore k \circ \pi & = h \\
		\therefore k & = \overline{h}
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}
Let $u : A \rightarrowtail X$ be an injection. The \emph{pointed set obtained from $X$ by collapsing $(A,u)$}, denoted $X / (A,u)$, is the pushout
\[ \xymatrix{
A \ar[r] \ar[d]^u & 1 \ar[d]_{*} \\
X \ar[r] & X / (A,u)
} \]
\end{df}

\begin{prop}
In $\mathbf{Set}_*$, any two morphisms $1 \rightarrow X$ and $1 \rightarrow Y$ have a pushout.
\end{prop}

\begin{proof}
\pf\ The pushout of $a : (1,*) \rightarrow (X,x)$ and $b : (1,*) \rightarrow (Y,y)$ is $(X+Y/\sim, x)$ where $\sim$ is the equivalence relation generated by $x \sim y$. \qed
\end{proof}

\begin{df}[Wedge]
The \emph{wedge} of pointed sets $X$ and $Y$, $X \vee Y$, is the pushout of the unique morphism $1 \rightarrow X$ and $1 \rightarrow Y$.
\end{df}

\begin{df}[Smash]
Let $X$ and $Y$ be pointed sets. Let $\xi : X \vee Y \rightarrow X$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar@{=}@/^/[ddr] \\
Y \ar[r] \ar@/_/[drr]_0 & X \vee Y \ar[dr]^\xi \\
& & X
} \]
Let $\eta : X \vee Y \rightarrow Y$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar@/^/[ddr]^0 \\
Y \ar[r] \ar@{=}@/_/[drr] & X \vee Y \ar[dr]^\eta \\
& & Y
} \]
Let $\zeta = \langle \xi, \eta \rangle : X \vee Y \rightarrow X \times Y$. The \emph{smash} of $X$ and $Y$, $X \wedge Y$, is the result of collapsing $X \times Y$ with respect to $\zeta$.
\end{df}

Pushout lemma

\subsection{Subcategories}

\begin{df}[Subcategory]
A \emph{subcategory} $\mathcal{C}'$ of a category $\mathcal{C}$ consists of:
\begin{itemize}
\item a subset $\Ob{\mathcal{C}'}$ of $\mathcal{C}$
\item for all $A,B \in \Ob{\mathcal{C}'}$, a subset $\mathcal{C}'[A,B] \subseteq \mathcal{C}[A,B]$
\end{itemize}
such that:
\begin{itemize}
\item for all $A \in \Ob{\mathcal{C}'}$, we have $\id{A} \in \mathcal{C}'[A,A]$
\item for all $f \in \mathcal{C}'[A,B]$ and $g \in \mathcal{C}'[B,C]$, we have $g \circ f \in \mathcal{C}'[A,C]$.
\end{itemize}

It is a \emph{full} subcategory iff, for all $A,B \in \Ob{\mathcal{C}'}$, we have $\mathcal{C}'[A,B] = \mathcal{C}[A,B]$.
\end{df}

\subsection{Opposite Category}

\begin{df}[Opposite Category]
For any category $\mathcal{C}$, the \emph{opposite} category $\op{\mathcal{C}}$ is the category with
\begin{itemize}
\item $\Ob{\op{\mathcal{C}}} = \Ob{\mathcal{C}}$
\item $\op{\mathcal{C}}[A,B] = \mathcal{C}[B,A]$
\item Given $f \in \op{\mathcal{C}}[A,B]$ and $g \in \op{\mathcal{C}}[B,C]$, their composite in $\op{\mathcal{C}}$ is $f \circ g$, where $\circ$ is composition in $\mathcal{C}$.
\end{itemize}
\end{df}

\begin{prop}
An object is initial in $\mathcal{C}$ iff it is terminal in $\op{\mathcal{C}}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{prop}
An object is terminal in $\mathcal{C}$ iff it is initial in $\op{\mathcal{C}}$.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{cor}
If $T$ and $T'$ are terminal objects in $\mathcal{C}$ then there exists a unique isomorphism $T \cong T'$.
\end{cor}

\subsection{Groupoids}

\begin{df}[Groupoid]
A \emph{groupoid} is a category in which every morphism is an isomorphism.
\end{df}

\subsection{Concrete Categories}

\begin{df}[Concrete Category]
A \emph{concrete category} $\mathcal{C}$ consists of:
\begin{itemize}
\item a set $\Ob{\mathcal{C}}$ of \emph{objects}
\item for any object $A \in \Ob{\mathcal{C}}$, a set $|A|$
\item for any objects $A,B \in \Ob{\mathcal{C}}$, a set of functions $\mathcal{C}[A,B] \subseteq |B|^{|A|}$
\end{itemize}
such that:
\begin{itemize}
\item for any $f \in \mathcal{C}[A,B]$ and $g \in \mathcal{C}[B,C]$, we have $g \circ f \in \mathcal{C}[A,C]$
\item for any object $A$ we have $\id{|A|} \in \mathcal{C}[A,A]$.
\end{itemize}
\end{df}

\subsection{Power of Categories}

\begin{df}
Let $\mathcal{C}$ be a category and $J$ a set. The category $\mathcal{C}^J$ is the category with:
\begin{itemize}
\item objects all $J$-indexed families of objects of $\mathcal{C}$
\item morphisms $\{X_j\}_{j \in J} \rightarrow \{Y_j\}_{j \in J}$ all families $\{f_j\}_{j \in J}$ where $f_j : X_j \rightarrow Y_j$
\end{itemize}
\end{df}

\subsection{Arrow Category}

\begin{df}[Arrow Category]
Let $\mathcal{C}$ be a category. The \emph{arrow category} $\mathcal{C}^\rightarrow$ is the category with:
\begin{itemize}
\item objects all triples $(A,B,f)$ where $f : A \rightarrow B$ in $\mathcal{C}$
\item morphisms $(A,B,f) \rightarrow (C,D,g)$ all pairs $(u : A \rightarrow C, v : B \rightarrow D)$ such that $vf=gu$.
\end{itemize}
\end{df}

\subsection{Slice Category}

\begin{df}[Slice Category]
Let $\mathcal{C}$ be a category and $A \in \mathcal{C}$. The \emph{slice category under $A$}, $\mathcal{C} \backslash A$, is the category with:
\begin{itemize}
\item objects all pairs $(B,f)$ where $B \in \mathcal{C}$ and $f : A \rightarrow B$
\item morphisms $(B,f) \rightarrow (C,g)$ are morphisms $u : B \rightarrow C$ such that $uf=g$.
\end{itemize}

We identify this with the subcategory of $\mathcal{C}^\rightarrow$ formed by mapping $(B,f)$ to $(A,B,f)$ and $u$ to $(\id{A},u)$.
\end{df}

\begin{prop}
\label{prop:retraction_in_slice}
If $s : (B,f) \rightarrow (C,g)$ in $\mathcal{C} \backslash A$, then any retraction of $s$ in $\mathcal{C}$ is a retraction of $s$ in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$r : C \rightarrow B$ be a retraction of $s$ in $\mathcal{C}$.}}
\step{2}{$rg = f$}
\begin{proof}
	\pf\ $rg = rsf = f$.
\end{proof}
\step{3}{$r : (C,g) \rightarrow (B,f)$ in $\mathcal{C} \backslash A$}
\step{4}{$rs = \id{(B,f)}$}
\begin{proof}
	\pf\ Because composition is inherited from $\mathcal{C}$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:initial_in_slice}
$\id{A}$ is the initial object in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf\ For any $(B,f) \in \mathcal{C} \backslash A$, we have $f$ is the only morphism $A \rightarrow B$ such that $f \id{A} = f$. \qed
\end{proof}

\begin{prop}
\label{prop:zero_in_slice}
If $A$ is terminal in $\mathcal{C}$ then $\id{A}$ is the zero object in $\mathcal{C} \backslash A$.
\end{prop}

\begin{proof}
\pf\ For any $(B,f) \in \mathcal{C} \backslash A$, the unique morphism $! : B \rightarrow A$ is the unique morphism such that $!f = \id{A}$. \qed
\end{proof}

\begin{df}[Pointed Sets]
The \emph{category of pointed sets} is $\Set \backslash 1$.
\end{df}

\begin{df}
Let $\mathcal{C}$ be a category and $A \in \mathcal{C}$. The \emph{slice category over $A$}, $\mathcal{C} / A$, is the category with:
\begin{itemize}
\item objects all pairs $(B,f)$ with $f : B \rightarrow A$
\item morphisms $u : (B,f) \rightarrow (C,g)$ all morphisms $u : B \rightarrow C$ such that $gu=f$.
\end{itemize}
\end{df}

\begin{prop}
Let $u : (B,f) \rightarrow (C,g) : \mathcal{C} / A$. Any section of $u$ in $\mathcal{C}$ is a section of $u$ in $\mathcal{C} / A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:retraction_in_slice}. \qed
\end{proof}

\begin{prop}
$\id{A}$ is terminal in $\mathcal{C} / A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:initial_in_slice}. \qed
\end{proof}

\begin{prop}
If $A$ is initial in $\mathcal{C}$ then $\id{A}$ is the zero object in $\mathcal{C} / A$.
\end{prop}

\begin{proof}
\pf\ Dual to Proposition \ref{prop:zero_in_slice}. \qed
\end{proof}

\begin{df}
Let $A \in \mathcal{C}$.
The category of objects \emph{over and under} $A$, written $\mathcal{C}_A^A$, is the category with:
\begin{itemize}
\item objects all triples $(X,u,p)$ where $u : A \rightarrow X$, $p : X \rightarrow A$ and $pu = \id{A}$
\item morphism $f : (X,u,p) \rightarrow (Y,v,q)$ all morphisms $f : X \rightarrow Y$ such that $fu = v$ and $qf = p$
\end{itemize}
\end{df}

\begin{prop}
$(A, \id{A}, \id{A})$ is the zero object in $\mathcal{C}_A^A$.
\end{prop}

\begin{proof}
\pf\ For any object $(X,u,p)$, we have $p$ is the unique morphism $(X,u,p) \rightarrow (A, \id{A}, \id{A})$, and $u$ is the unique morphism $(A, \id{A}, \id{A}) \rightarrow (X,u,p)$. \qed
\end{proof}

\begin{df}[Fibre Collapsing]
Let $B$ be a set. Let $u : (A,a) \rightarrow (X,x)$ in $\Set / B$. Form the pushout
\[ \xymatrix{
A \ar[r]^a \ar[d]^u & B \ar[d]_j \\
X \ar[r]_i & C
} \]
Let $c : C \rightarrow B$ be the unique morphism such that $cj = \id{B}$ and $ci = x$. Then $(C,j,c) \in \Set_B^B$ is called the set over and under $B$ obtained from $X$ by \emph{fibre collapsing} with respect to $u$. If $(A,u)$ is a subset of $X$, we denote this set over and under $B$ by $X /_B (A,u)$.
\end{df}

\begin{df}[Fibre Wedge]
Let $B$ be a small set. Let $(X,u_X,p_X),(Y, u_Y, p_Y) \in \Set_B^B$. The \emph{fibre wedge} of $X$ and $Y$ is the pushout of $u_X$ and $u_Y$:
\[ \xymatrix{
B \ar[r]^{u_X} \ar[d]^{u_Y} & X \ar[d] \\
Y \ar[r] & X \vee_B Y
} \]
\end{df}

\begin{df}[Fibre Smash]
Let $X, Y \in \Set_B^B$. Let $\xi : X \vee_B Y \rightarrow X$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar@{=}@/^/[ddr] \\
Y \ar[r] \ar@/_/[drr]_0 & X \vee_B Y \ar[dr]^\xi \\
& & X
} \]
Let $\eta : X \vee_B Y \rightarrow Y$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar@/^/[ddr]^0 \\
Y \ar[r] \ar@{=}@/_/[drr] & X \vee_B Y \ar[dr]^\eta \\
& & Y
} \]
Let $\zeta = \langle \xi, \eta \rangle : X \vee_B Y \rightarrow X \times Y$. The \emph{fibre smash} of $X$ and $Y$, $X \wedge_B Y$, is the result of collapsing $X \times Y$ with respect to $\zeta$.
\end{df}

\begin{prop}
$\mathbf{Set}$ has products and coproducts.
\end{prop}

\begin{prop}
Let $\mathcal{C}$ be a category. Let $\{X_\alpha\}_{\alpha \in I}$ be a family of objects in $\mathcal{C}$ and $Z \in \mathcal{C}$. Let $\coprod_{\alpha \in I} X_\alpha$ be the coproduct of $\{ X_\alpha \}_{\alpha \in I}$. Then
\[ \mathcal{C}[\coprod_{\alpha \in I} X_\alpha, Z] \approx \prod_{\alpha \in I} \mathcal{C}[X_\alpha, Z] \enspace . \]
\end{prop}

\begin{prop}
Let $\mathcal{C}$ be a category. Let $\{X_\alpha\}_{\alpha \in I}$ be a family of objects in $\mathcal{C}$ and $Z \in \mathcal{C}$. Let $\prod_{\alpha \in I} X_\alpha$ be the product of $\{ X_\alpha \}_{\alpha \in I}$. Then
\[ \mathcal{C}[Z, \prod_{\alpha \in I} X_\alpha] \approx \prod_{\alpha \in I} \mathcal{C}[Z, X_\alpha] \enspace . \]
\end{prop}

\begin{prop}
A product in $\mathcal{C}$ constitutes a product in $\mathcal{C} \backslash A$.
\end{prop}

\begin{prop}
A coproduct in $\mathcal{C}$ constitutes a product in $\mathcal{C} / A$.
\end{prop}

\section{Functors}

\begin{df}[Functor]
Let $\mathcal{C}$ and $\mathcal{D}$ be categories. A \emph{functor} $F : \mathcal{C} \rightarrow \mathcal{D}$ consists of:
\begin{itemize}
\item a function $F : \mathrm{Ob}(\mathcal{C}) \rightarrow \mathrm{Ob}(\mathcal{D})$
\item for every morphism $f : A \rightarrow B$ in $\mathcal{C}$, a morphism $Ff : FA \rightarrow FB$ in $\mathcal{D}$
\end{itemize}
such that:
\begin{itemize}
\item for all $A : \El{\mathrm{Ob}(C)}$ we have $F \id{A} = \id{FA}$
\item for any morphism $f : A \rightarrow B$ and $g : B \rightarrow C$ in $\mathcal{C}$, we have $F(g \circ f) = Fg \circ Ff$
\end{itemize}
\end{df}

\begin{prop}
Functors preserve isomorphisms.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$F : \mathcal{C} \rightarrow \mathcal{D}$ be a functor.}}
\step{2}{\pflet{$f : A \cong B$ in $\mathcal{C}$}}
\step{3}{$F \inv{f} \circ Ff = \id{FA}$}
\begin{proof}
	\pf
	\begin{align*}
		F \inv{f} \circ Ff & = F(\inv{f} \circ f) \\
		& = F \id{A} \\
		& = \id{FA}
	\end{align*}
\end{proof}
\step{4}{$Ff \circ F \inv{f} = \id{FB}$}
\begin{proof}
	\pf
	\begin{align*}
		Ff \circ F \inv{f} & = F(f \circ \inv{f}) \\
		& = F \id{B} \\
		& = \id{FB}
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{df}[Identity Functor]
For any category $\mathcal{C}$, the \emph{identity} functor on $\mathcal{C}$ is the functor $I_\mathcal{C} : \mathcal{C} \rightarrow \mathcal{C}$ defined by
\begin{align*}
I_\mathcal{C} A & := A & (A \in \mathcal{C}) \\
I_\mathcal{C} f & := f & (f : A \rightarrow B \text{ in } \mathcal{C})
\end{align*}
\end{df}

\begin{prop}
Let $F : \mathcal{C} \rightarrow \mathcal{D}$. If $r : A \rightarrow B$ is a retraction of $s : B \rightarrow A$ in $\mathcal{C}$ then $Fr$ is a retraction of $Fs$.
\end{prop}

\begin{proof}
\pf
\begin{align*}
Fr \circ Fs & = F(r \circ s) \\
& = F \id{B} \\
& = \id{FB} & \qed
\end{align*}
\end{proof}

\begin{cor}
Let $F : \mathcal{C} \rightarrow \mathcal{D}$. If $\phi : A \cong B$ is an isomorphism in $\mathcal{C}$ then $F \phi : FA \cong FB$ is an isomorphism in $\mathcal{D}$ with $\inv{(F \phi)} = F \inv{\phi}$.
\end{cor}

\begin{df}[Composition of Functors]
Given functors $F : \mathcal{C} \rightarrow \mathcal{D}$ and $G : \mathcal{D} \rightarrow \mathcal{E}$, the \emph{composite} functor $GF : \mathcal{C} \rightarrow \mathcal{E}$ is defined by
\begin{align*}
(GF)A & = G(FA) & (A \in \mathcal{C}) \\
(GF)f & = G(Ff) & (f : A \rightarrow B : \mathcal{C})
\end{align*}
\end{df}

\begin{df}[Category of Categories]
Let $\mathbf{Cat}$ be the category of small categories and functors.
\end{df}

\begin{df}[Isomorphism of Categories]
Let $F : \mathcal{C} \rightarrow \mathcal{D}$ be a functor. Then $F$ is an \emph{isomorphism of categories} iff there exists a functor $\inv{F} : \mathcal{D} \rightarrow \mathcal{C}$, the \emph{inverse} of $F$, such that $F \inv{F} = I_{\mathcal{D}}$ and $\inv{F} F = I_{\mathcal{C}}$.

Categories $\mathcal{C}$ and $\mathcal{D}$ are \emph{isomorphic}, $\mathcal{C} \cong \mathcal{D}$, iff there exists an isomorphism between them.
\end{df}

\begin{prop}
If $A$ is initial in $\mathcal{C}$ then $\mathcal{C} \backslash A \cong \mathcal{C}$.
\end{prop}

\begin{proof}
\pf
\step{1}{Define $F : \mathcal{C} \backslash A \rightarrow \mathcal{C}$ by
\begin{align*}
F (B,f) & = B \\
F (u : (B,f) \rightarrow (C,g)) & = u
\end{align*}}
\step{2}{Define $G : \mathcal{C} \rightarrow \mathcal{C} \backslash A$ by
\begin{align*}
G B & = (B, !_B) & \text{where $!_B$ is the unique morphism $A \rightarrow B$} \\
G (u : B \rightarrow C) & = u : (B, !_B) \rightarrow (C, !_C)
\end{align*}}
\step{3}{$FG = \id{\mathcal{C}}$}
\step{4}{$GF = \id{\mathcal{C} \backslash A}$}
\begin{proof}
	\pf\ Since $GF(B,f) = (B, !_B) = (B,f)$ because the morphism $A \rightarrow B$ is unique.
\end{proof}
\qed
\end{proof}

\begin{prop}
If $A$ is terminal in $\mathcal{C}$ then $\mathcal{C} / A \cong \mathcal{C}$.
\end{prop}

\begin{proof}
\pf\ Dual. \qed
\end{proof}

\begin{prop}
\[ \mathcal{C}_A^A \cong (\mathcal{C} / A) \backslash (A, \id{A}) \cong (\mathcal{C} \backslash A) / (A, \id{A}) \]
\end{prop}

\begin{proof}
\pf
\step{1}{Define a functor $F : \mathcal{C}_A^A \rightarrow (\mathcal{C} / A) \backslash (A, \id{A})$.}
\begin{proof}
	\step{a}{Given $A \stackrel{u}{\rightarrow} X \stackrel{p}{\rightarrow} A$ in $\mathcal{C}_A^A$, let $F(X,u,p) = ((X,p),u)$}
	\step{b}{Given $f : (A \stackrel{u}{\rightarrow} X \stackrel{p}{\rightarrow} A) \rightarrow (A \stackrel{v}{\rightarrow} Y \stackrel{q}{\rightarrow} A)$, let $Ff = f$.}
\end{proof}
\step{2}{Define a functor $G : (\mathcal{C} / A) \backslash (A, \id{A}) \rightarrow \mathcal{C}_A^A$.}
\step{3}{Define a functor $H : \mathcal{C}_A^A \rightarrow (\mathcal{C} \backslash A) / (A, \id{A})$.}
\step{4}{Define a functor $K : (\mathcal{C} \backslash A) / (A, \id{A}) \rightarrow \mathcal{C}_A^A$.}
\qed
\end{proof}

\begin{df}[Forgetful Functor]
For any concrete category $\mathcal{C}$, define the \emph{forgetful} functor $U : \mathcal{C} \rightarrow \Set$ by:
\begin{align*}
U A & = |A| \\
U f & = f
\end{align*}
\end{df}

\begin{df}[Switching Functor]
For any category $\mathcal{C}$, define the \emph{switching functor} $T : \mathcal{C} \times \mathcal{C} \rightarrow \mathcal{C} \times \mathcal{C}$ by
\begin{align*}
T(A,B) & = (B,A) \\
T(f,g) & = (g,f)
\end{align*}
\end{df}

\begin{df}[Reduction]
Let $\Phi : \Set \rightarrow \Set$ be a functor. The \emph{reduction} of $\Phi$ is the functor $\Phi^* : \Set_* \rightarrow \Set_*$ defined by: $\Phi^*(X,a)$ is the collapse of $\Phi(X)$ with respect to $\Phi(a) : \Phi(1) \rightarrowtail \Phi(X)$.
\end{df}

\begin{df}
Extend the wedge $\vee$ to a functor $\Set_* \times \Set_* \rightarrow \Set_*$ by defining, given $f : X \rightarrow X'$ and $g : Y \rightarrow Y'$, thene $f \vee g$ is the unique morphism that makes the following diagram commute.
\[ \xymatrix{
1 \ar[r] \ar[d] & X \ar[d] \ar[dr]^f \\
Y \ar[r] \ar[dr]_g & X \vee Y \ar[dr]^{f \vee g} & X' \ar[d] \\
& Y' \ar[r] & X' \vee Y'
} \]
\end{df}

\begin{df}
Extend smash to a functor $\wedge : \Set_* \times \Set_* \rightarrow \Set_*$ as follows. Given $f : X \rightarrow X'$ and $g : Y \rightarrow Y'$, let $f \wedge g : X \wedge Y \rightarrow X' \wedge Y'$ be the unique morphism such that the following diagram commutes.
\[ \xymatrix{
X \vee Y \ar[r] \ar[d] \ar[ddr] & 1 \ar[d] \ar@{=}@/^/[ddr] \\
X \times Y \ar[r] \ar[ddr]_{f \times g} & X \wedge Y \ar[ddr] \\
& X' \vee Y' \ar[r] \ar[d] & 1 \ar[d]\\\
& X' \times Y' \ar[r] & X' \wedge Y'
} \]
\end{df}

\begin{df}[Reduction]
Let $B$ be a small set.
Let $\Phi_B : \Set / B \rightarrow \Set / B$ be a functor. The \emph{reduction} of $\Phi_B$ is the functor $\Phi_B^B : \Set_B^B \rightarrow \Set_B^B$ defined as follows.

For $(X, u : B \rightarrow X, p : X \rightarrow B) \in \Set_B^B$, let $\Phi_B^B(X)$ be the set over and under $B$ obtained from $\Phi_B(X)$ by collapsing with respect to $\Phi_B(u) : \Phi_B(B) \rightarrow \Phi_B(X)$.
\end{df}

\begin{df}
Extend $\vee_B$ to a functor $\Set_B^B \times \Set_B^B \rightarrow \Set_B^B$.
\end{df}

\begin{df}
Extend $\wedge_B$ to a functor $\Set_B^B \times \Set_B^B \rightarrow \Set_B^B$.
\end{df}

\begin{df}[Faithful]
A functor $F : \mathcal{C} \rightarrow \mathcal{D}$ is \emph{faithful} iff, for any objects $A,B \in \mathcal{C}$ and morphisms $f,g : A \rightarrow B : \mathcal{C}$, if $Ff = Fg$ then $f = g$.
\end{df}

\begin{df}[Full]
A functor $F : \mathcal{C} \rightarrow \mathcal{D}$ is \emph{full} iff, for any objects $A, B \in \mathcal{C}$ and morphism $g : FA \rightarrow FB : \mathcal{D}$, there exists $f : A \rightarrow B : \mathcal{C}$ such that $Ff = g$.
\end{df}

\begin{df}[Fully Faithful]
A functor $F : \mathcal{C} \rightarrow \mathcal{D}$ is \emph{fully faithful} iff it is full and faithful.
\end{df}

\begin{df}[Full Embedding]
A functor $F : \mathcal{C} \rightarrow \mathcal{D}$ is a \emph{full embedding} iff it is fully faithful and injective on objects.
\end{df}

\section{Natural Transformations}

\begin{df}[Natural Transformation]
Let $F,G : \mathcal{C} \rightarrow \mathcal{D}$. A \emph{natural transformation} $\tau : F \Rightarrow G$ is a family of morphisms $\{ \tau_X : F X \rightarrow G X \}_{X \in \mathcal{C}}$ such that, for every morphism $f : X \rightarrow Y : \mathcal{C}$, we have $Gf \circ \tau_X = \tau_Y \circ Ff$.
\end{df}

\[ \xymatrix{
FX \ar[r]^{Ff} \ar[d]_{\tau_X} & FY \ar[d]^{\tau_Y} \\
GX \ar[r]_{Gf} & GY
} \]

\begin{df}[Natural Isomorphism]
A natural transformation $\tau : F \Rightarrow G : \mathcal{C} \rightarrow \mathcal{D}$ is a \emph{natural isomorphism}, $\tau : F \cong G$, iff for all $X \in \mathcal{C}$, $\tau_X$ is an isomorphism $F X \cong G X$.

Functors $F$ and $G$ are \emph{naturally isomorphic}, $F \cong G$, iff there exists a natural isomorphism between them.
\end{df}

\begin{df}[Inverse]
Let $\tau : F \cong G$. The \emph{inverse} natural isomorphism $\inv{\tau} : G \cong F$ is defined by $(\inv{\tau})_X = \inv{\tau_X}$.
\end{df}

\section{Bifunctors}

\begin{df}[Commutative]
A bifunctor $\Box : \mathcal{C}^2 \rightarrow \mathcal{C}$ is \emph{commutative} iff $\Box \cong \Box \circ T$, where $T : \mathcal{C}^2 \rightarrow \mathcal{C}^2$ is the swap functor.
\end{df}

\begin{prop}
$\vee : \Set_* \times \Set_* \rightarrow \Set_*$ is commutative.
\end{prop}

\begin{proof}
\pf\ Since the pushout of $f$ and $g$ is the pushout of $g$ and $f$. \qed
\end{proof}

\begin{prop}
$\wedge : \Set_* \times \Set_* \rightarrow \Set_*$ is commutative.
\end{prop}

\begin{proof}
\pf\ In the diagram defining $X \wedge Y$, construct the isomorphism between the version with $X$ and $Y$ and the version with $Y$ with $X$ for every object. \qed
\end{proof}

\begin{prop}
$\vee_B : \Set_B^B \times \Set_B^B \rightarrow \Set_B^B$ is commutative.
\end{prop}

\begin{prop}
$\wedge_B : \Set_B^B \times \Set_B^B \rightarrow \Set_B^B$ is commutative.
\end{prop}

\begin{df}[Associative]
A bifunctor $\Box$ is \emph{associative} iff $\Box \circ (\Box \times \id{}) \cong \Box \circ (\id{} \times \Box)$.
\end{df}

\begin{prop}
$\vee : \Set_* \times \Set_* \rightarrow \Set_*$ is associative.
\end{prop}

\begin{proof}
\pf\ Since $X \vee (Y \vee Z)$ and $(X \vee Y) \vee Z$ are both the pushout of the unique morphisms $1 \rightarrow X$, $1 \rightarrow Y$ and $1 \rightarrow Z$. \qed
\end{proof}

\begin{prop}
$\wedge : \Set_* \times \Set_* \rightarrow \Set_*$ is associative.
\end{prop}

\begin{proof}
\pf\ Draw isomorphisms between the diagrams for $X \wedge (Y \wedge Z)$ and $(X \wedge Y) \wedge Z$. \qed
\end{proof}

Product and coproduct are commutative and associative.

\begin{prop}
$\vee_B : \Set_B^B \times \Set_B^B \rightarrow \Set_B^B$ is associative.
\end{prop}

\begin{prop}
$\wedge_B : \Set_B^B \times \Set_B^B \rightarrow \Set_B^B$ is associative.
\end{prop}

\begin{prop}
Let $\mathcal{C}$ be a category with binary coproducts. Let $\Box : \mathcal{C} \times \mathcal{C} \rightarrow \mathcal{C}$ be a bifunctor. Then $\Box$ \emph{distributes} over $+$ iff the canonical morphism
\[ (X \Box Z) + (Y \Box Z) \rightarrow (X + Y) \Box Z \]
is an isomorphism for all $X$, $Y$, $Z$.
\end{prop}

\begin{prop}
In a category with binary products and binary coproducts, then $\times$ distributes over $+$.
\end{prop}

\begin{prop}
In $\Set / *$, we have $\times$ does not distribute over $\vee$.
\end{prop}

\begin{prop}
In $\Set / *$, we have $\wedge$ distributes over $\vee$.
\end{prop}

\begin{prop}
In $\Set/ B$, we have $\times_B$ distributes over $+_B$.
\end{prop}

\begin{prop}
In $\Set / B^B$, we have $\wedge_B$ distributes over $\vee_B$.
\end{prop}

\section{Functor Categories}

\begin{df}[Functor Category]
Given categories $\mathcal{C}$ and $\mathcal{D}$, define the \emph{functor category} $\mathcal{C}^\mathcal{D}$ to be the category with objects the functors from $\mathcal{D}$ to $\mathcal{C}$ and morphisms the natural transformations.
\end{df}

\begin{df}[Yoneda Embedding]
Let $\mathcal{C}$ be a category. The \emph{Yoneda embedding} $Y : \mathcal{C} \rightarrow \Set^{\op{\mathcal{C}}}$ is the functor that maps an object $A$ to $\mathcal{C}[-,A]$ and morphisms similarly.
\end{df}

\begin{thm}[Yoneda Lemma]
Let $\mathcal{C}$ be a category. There exists a natural isomorphism
\[ \phi_{XF} : \Set^{\op{\mathcal{C}}}[\mathcal{C}[-,X],F] \cong FX \]
that maps $\tau : \mathcal{C}[-,X] \Rightarrow F$ to $\tau_X(\id{X})$.
\end{thm}

\begin{proof}
\pf
\step{1}{$\phi$ is natural in $X$.}
\begin{proof}
	\pf
	\step{a}{\pflet{$f : X \rightarrow Y : \mathcal{C}$}}
	\step{b}{\pflet{$\tau : \mathcal{C}[-,X] \Rightarrow F$}}
	\step{c}{$Ff(\phi(\tau)) = \phi(\tau \circ \mathcal{C}[-,f])$}
	\begin{proof}
		\pf
		\begin{align*}
			\phi(\tau \circ \mathcal{C}[-,f])
			& = \tau_Y(\id{Y} \circ f) \\
			& = \tau_Y(f) \\
			& = \tau_Y(f \circ \id{X}) \\
			& = Ff(\tau_X(\id{X})) & (\text{$\tau$ natural}) \\
			& = Ff(\phi(\tau))
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{$\phi$ is natural in $F$.}
\begin{proof}
	\step{a}{\pflet{$\alpha : F \Rightarrow G : \op{\mathcal{C}} \rightarrow \Set$}}
	\step{b}{\pflet{$\tau : \mathcal{C}[-,X] \Rightarrow F$}}
	\step{c}{$\alpha_X(\phi(\tau)) = \phi(\alpha \bullet \tau)$}
	\begin{proof}
		\pf\ $\phi(\alpha \bullet \tau) = \alpha_X(\tau_X(\id{X})) = \alpha_X(\phi(\tau))$
	\end{proof}
\end{proof}
\step{3}{Each $\phi_{XF}$ is injective.}
\begin{proof}
	\step{a}{\pflet{$\sigma, \tau : \mathcal{C}[-,X] \Rightarrow F$}}
	\step{b}{\assume{$\phi(\sigma) = \phi(\tau)$}}
	\step{c}{\pflet{$f : Y \rightarrow X$}}
	\step{d}{$\sigma_Y(f) = \tau_Y(f)$}
	\begin{proof}
		\pf
		\begin{align*}
			\sigma_Y(f) & = \sigma_Y(\id{X} \circ f) \\
			& = Ff(\sigma_X(\id{X})) & (\text{$\sigma$ is natural}) \\
			& = Ff(\tau_X(\id{X})) & (\text{\stepref{b}}) \\
			& = \tau_Y(\id{X} \circ f) & (\text{$\tau$ is natural}) \\
			& = \tau_Y(f)
		\end{align*}
	\end{proof}
\end{proof}
\step{4}{Each $\phi_{XF}$ is surjective.}
\begin{proof}
	\step{a}{\pflet{$X \in \mathcal{C}$ and $F : \mathcal{C} \rightarrow \mathcal{D}$}}
	\step{b}{\pflet{$a \in FX$}}
	\step{c}{\pflet{$\tau : \mathcal{C}[-,X] \Rightarrow F$ be given by $\tau_Y(g) = Fg(a)$ for $g : Y \rightarrow X$}}
	\step{d}{$\tau$ is natural.}
	\begin{proof}
		\step{i}{\pflet{$h : Y \rightarrow Z : \mathcal{C}$} \prove{$Fh \circ \tau_Z = \tau_Y \circ \mathcal{C}[h, \id{X}]$}}
		\step{ii}{\pflet{$g : Z \rightarrow X$}}
		\step{iii}{$Fh(\tau_Z(g)) = \tau_Y(g \circ h)$}
		\begin{proof}
			\pf
			\begin{align*}
				\tau_Y(g \circ h) & = F(g \circ h)(a) \\
				& = Fh(Fg(a)) \\
				& = Fh(\tau_Z(g))
			\end{align*}
		\end{proof}
	\end{proof}
	\step{e}{$\phi(\tau) = a$}
	\begin{proof}
		\pf
		\begin{align*}
			\phi_X(\tau) & = \tau_X(\id{X}) \\
			& = F \id{X}(a) \\
			& = a
		\end{align*}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
The Yoneda embedding is fully faithful.
\end{cor}

\begin{cor}
Given objects $A$ and $B$ in $\mathcal{C}$, we have $A \cong B$ if and only if $\mathcal{C}[-,A] \cong \mathcal{C}[-,B]$.
\end{cor}

\chapter{Monoid Theory}

\begin{df}[Monoid]
A \emph{monoid} is a category with one object.
\end{df}

\begin{df}
Let $\mathcal{C}$ be a category and $X \in \mathcal{C}$. The monoid $\mathrm{End}_\mathcal{C}(X)$ is the set of all morphisms $X \rightarrow X$ under composition.
\end{df}

\begin{prop}
For any functor $F : \mathcal{C} \rightarrow \mathcal{D}$ and $X \in \mathcal{C}$, we have that $F : \mathrm{End}_\mathcal{C}(X) \rightarrow \mathrm{End}_\mathcal{D}(FX)$ is a monoid homomorphism.
\end{prop}

\begin{proof}
\pf\ Since $F \id{X} = \id{FX}$ and $F(g \circ f) = Fg \circ Ff$. \qed
\end{proof}

\chapter{Group Theory}

\begin{df}
Let $\mathbf{Grp}$ be the category of small groups and group homomorphisms.
\end{df}

\begin{df}
We identify any group $G$ with the category with one object whose morphisms are the elements of $G$ with composition given by the multiplication in $G$.
\end{df}

\begin{prop}
The trivial group is a zero object in $\mathbf{Grp}$.
\end{prop}

\begin{proof}
\pf\ Easy. \qed
\end{proof}

The zero morphism $G \rightarrow H$ maps every element in $G$ to $e$.

\begin{df}
Let $\mathcal{C}$ be a category and $X \in \mathcal{C}$. We write $\mathrm{Aut}_\mathcal{C}(X)$ for the set of all isomorphisms $X \cong X$ under composition.
\end{df}

\begin{prop}
Let $F : \mathcal{C} \rightarrow \mathcal{D}$ be a functor and $X \in \mathcal{C}$. Then $F : \mathrm{Aut}_\mathcal{C}(X) \rightarrow \mathrm{Aut}_\mathcal{D}(FX)$ is a group homomorphism.
\end{prop}

\begin{proof}
\pf\ Since $F \id{X} = \id{FX}$, $F(g \circ f) = Fg \circ Ff$, and $F \inv{f} = \inv{(Ff)}$. \qed
\end{proof}

\begin{prop}
$\mathbf{Grp}$ has products.
\end{prop}

\begin{df}[Free Product]
The product of a family of groups in $\mathbf{Grp}$ is called the \emph{free product}.
\end{df}

\begin{prop}
$\mathbf{Ab}$ has products given by direct sums.
\end{prop}

\chapter{Ring Theory}

\begin{df}
Let $\mathbf{Ring}$ be the concrete category of rings and ring homomorphisms.
\end{df}

\begin{df}[Spectrum]
Let $R$ be a commutative ring. The \emph{spectrum} of $R$, $\spec R$, is the set of all prime ideals of $R$.
\end{df}

\begin{df}[Zariski Topology]
Let $R$ be a commutative ring. The \emph{Zariski topology} on $\spec R$ is the topology where the closed sets are the sets of the form
\[ VE := \{ p \in \spec R : E \subseteq p \} \]
for any $E \in \mathcal{P} R$.

We prove this is a topology.
\end{df}

\begin{proof}
\pf
\step{1}{\pflet{$\mathcal{C} = \{VE : E \in \mathcal{P} R\}$}}
\step{2}{For all $\mathcal{A} \subseteq \mathcal{C}$ we have $\bigcap \mathcal{A} \in \mathcal{C}$}
\begin{proof}
	\step{a}{\pflet{$\mathcal{A} \subseteq \mathcal{C}$}}
	\step{b}{\pflet{$E = \bigcup \{ E' \in \mathcal{P} R : VE' \in \mathcal{A} \}$} \prove{$VE = \bigcap \mathcal{A}$}}
	\step{c}{For all $p \in \spec R$, if $E \subseteq p$ then $p \in \bigcap \mathcal{A}$}
	\begin{proof}
		\step{i}{\pflet{$p \in \spec R$}}
		\step{ii}{\assume{$E \subseteq p$}}
		\step{iii}{\pflet{$E' \in \mathcal{P} R$ with $VE' \in \mathcal{A}$}}
		\step{iv}{$E' \subseteq E$}
		\step{v}{$E' \subseteq p$}
		\step{vi}{$p \in VE'$}
	\end{proof}
	\step{d}{For all $p \in \spec R$, if $p \in \bigcap \mathcal{A}$ then $E \subseteq p$}
	\begin{proof}
		\step{i}{\pflet{$p \in \bigcap \mathcal{A}$}}
		\step{ii}{For all $E' \in \mathcal{P} R$ with $VE' \in \mathcal{A}$ we have $E' \subseteq p$}
		\step{iii}{$E \subseteq p$}
	\end{proof}
\end{proof}
\step{3}{For all $C,D \in \mathcal{C}$ we have $C \cup D \in \mathcal{C}$.}
\begin{proof}
	\pf\ Since $VE \cup VE' = V(E \cap E')$
\end{proof}
\step{4}{$\emptyset \in \mathcal{C}$}
\begin{proof}
	\step{a}{$VR = \emptyset$}
	\begin{proof}
		\pf\ If $p \in VR$ then $R \subseteq p$ contradicting the fact that $p$ is a prime ideal.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{df}
For any ring $R$, let $R-\mathbf{Mod}$ be the category of small $R$-modules and $R$-module homomorphisms.
\end{df}

\begin{prop}
$R-\mathbf{Mod}$ has products and coproducts.
\end{prop}

\chapter{Field Theory}

\begin{prop}
$\mathbf{Field}$ does not have binary products.
\end{prop}

\begin{proof}
\pf\ There cannot be a field $K$ with field homomorphisms $K \rightarrow \mathbb{Z}_2$ and $K \rightarrow \mathbb{Z}_3$, because its characteristic would be both 2 and 3. \qed
\end{proof}

\chapter{Linear Algebra}

\begin{df}
For any field $K$, we write $\mathbf{Vect}_K$ for $K-\mathbf{Mod}$.
\end{df}

Dual space functor $\mathbf{Vect}_K^{\mathrm{op}} \rightarrow \mathbf{Vect}_K$.

\chapter{Topology}

\section{Topological Spaces}

\begin{df}[Topological Space]
Let $X$ be a set and $\mathcal{O} \subseteq \mathcal{P} X$. Then we say $(X, \mathcal{O})$ is a \emph{topological space} iff:
\begin{itemize}
\item For any $\mathcal{U} \subseteq \mathcal{O}$ we have $\bigcup \mathcal{U} \in \mathcal{O}$.
\item For any $U, V \in \mathcal{O}$ we have $U \cap V \in \mathcal{O}$.
\item $X \in \mathcal{O}$
\end{itemize}
We call $\mathcal{O}$ the \emph{topology} of the toplogical space, and call its elements \emph{open} sets. We shall often write $X$ for the topological space $(X, \mathcal{O})$.
\end{df}

\begin{df}[Discrete Topology]
For any set $X$, the power set $\mathcal{P} X$ is called the \emph{discrete} topology on $X$.
\end{df}

\begin{prop}
For any set $X$, the discrete topology on $X$ is a topology on $X$.
\end{prop}

\begin{df}[Indiscrete Topology]
For any set $X$, the \emph{indiscrete} or \emph{trivial} topology on $X$ is  $\{ \emptyset, X \}$.
\end{df}

\begin{prop}
For any set $X$, the indiscrete topology on $X$ is a topology on $X$.
\end{prop}

\begin{df}[Cofinite Topology]
For any set $X$, the \emph{cofinite} topology is $\{ X - U : U \subseteq X \text{ is finite} \}$.
\end{df}

\begin{df}[Cocountable Topology]
For any set $X$, the \emph{cocountable} topology is $\{ X - U : U \subseteq X \text{ is countable} \}$.
\end{df}

\begin{df}[Sierpi\'{n}ski Two-Point Space]
The \emph{Sierpi\'{n}ski two-point space} is $\{0,1\}$ under the topology $\{ \emptyset, \{1\}, \{0,1\} \}$.
\end{df}

\begin{df}[Closed Set]
Let $X$ be a topological space and $A \subseteq X$. Then $A$ is \emph{closed} iff $X - A$ is open.
\end{df}

\begin{prop}
A set $B$ is open if and only if $X - B$ is closed.
\end{prop}

\begin{prop}
Let $X$ be a set and $\mathcal{C} \subseteq \mathcal{P} X$. Then there exists a topology $\mathcal{O}$ on $X$ such that $\mathcal{C}$ is the set of closed sets if and only if:
\begin{itemize}
\item For any $\mathcal{D} \subseteq \mathcal{C}$ we have $\bigcap \mathcal{D} \in \mathcal{C}$
\item For any $C, D \in \mathcal{C}$ we have $C \cup D \in \mathcal{C}$.
\item $\emptyset \in \mathcal{C}$
\end{itemize}
In this case, $\mathcal{O}$ is unique and is given by $\mathcal{O} = \{ X - C : C \in \mathcal{C} \}$.
\end{prop}

\begin{thm}
There are infinitely many primes.
\end{thm}

\begin{proof}
Furstenberg's proof:

\pf
\step{1}{For $a \in \mathbb{Z} - \{0\}$ and $b \in \mathbb{Z}$, \pflet{$S(a,b) := \{ a n + b : n \in \mathbb{N} \}$}}
\step{2}{\pflet{$\mathcal{T}$ be the topology generated by the basis $\{ S(a,b) : a \in \mathbb{Z} - \{0\}, b \in \mathbb{Z} \}$}}
\begin{proof}
	\step{a}{For every $n \in \mathbb{Z}$, there exist $a$, $b$ such that $n \in S(a,b)$.}
	\begin{proof}
		\pf\ $n \in S(n,0)$
	\end{proof}
	\step{b}{If $n \in S(a_1,b_1) \cap S(a_2,b_2)$ then there exist $a_3$, $b_3$ such that $n \in S(a_3,b_3) \subseteq S_(a_1,b_1) \cap S(a_2,b_2)$}
	\begin{proof}
		\step{i}{\pflet{$d = \mathrm{lcm}(a_1,a_2)$} \prove{$S(d,n) \subseteq S(a_1,b_1) \cap S(a_2,b_2)$}}
		\step{ii}{\pflet{$d = a_1 k = a_2 l$}}
		\step{iii}{\pflet{$n = a_1 c + b_1 = a_2 d + b_2$}}
		\step{iv}{\pflet{$z \in \mathbb{Z}$} \prove{$dz + n \in S(a_1,b_1) \cap S(a_2,b_2)$}}
		\step{v}{$dz+n \in S(a_1,b_1)$}
		\begin{proof}
			\pf
			\begin{align*}
				dz + n & = a_1 k z + a_1 c + b_1 \\
				& = a_1 (kz + c) + b_1
			\end{align*}
		\end{proof}
		\step{vi}{$dz+n \in S(a_2, b_2)$}
		\begin{proof}
			\pf\ Similar.
		\end{proof}
	\end{proof}
\end{proof}
\step{4}{For all $a \in \mathbb{Z} - \{0\}$ and $b \in \mathbb{Z}$ we have $S(a,b)$ is closed.}
\begin{proof}
	\step{a}{\pflet{$a \in \mathbb{Z} - \{0\}$ and $b \in \mathbb{Z}$}}
	\step{b}{\pflet{$n \in \mathbb{Z} - S(a,b)$}}
	\step{c}{$n \in S(a,n) \subseteq \mathbb{Z} - S(a,b)$}
	\begin{proof}
		\step{i}{\pflet{$x \in S(a,n)$}}
		\step{ii}{\assume{for a contradiction $x \in S(a,b)$}}
		\step{iii}{\pick\ $m$ such that $x = am+b$}
		\step{iv}{\pick\ $l$ such that $x = al + n$}
		\step{v}{$n = a(m-l) + b$}
		\step{vi}{$n \in S(a,b)$}
		\qedstep
		\begin{proof}
			\pf\ This contradicts \stepref{b}.
		\end{proof}
	\end{proof}
\end{proof}
\step{5}{\[ \mathbb{Z} - \{ 1, -1 \} = \bigcup_{p \text{ prime}} S(p,0) \]}
\begin{proof}
	\pf\ Since every integer except 1 and $-1$ is divisible by a prime.
\end{proof}
\step{6}{No nonempty finite set is open.}
\begin{proof}
	\step{a}{\pflet{$U$ be a nonempty open set}}
	\step{b}{\pick\ $n \in U$}
	\step{c}{There exist $a$, $b$ such that $n \in S(a,b) \subseteq U$}
	\step{d}{$U$ is infinite.}
\end{proof}
\step{7}{$\mathbb{Z} - \{ 1, -1 \}$ is not closed.}
\step{8}{$\bigcup_{p \text{ prime}} S(p,0)$ is not closed.}
\step{9}{The union of finitely many closed sets is closed.}
\step{10}{There are infinitely many primes.}
\qed
\end{proof}

\begin{df}[Neighbourhood]
Let $X$ be a topological space, $Sx \in X$ and $U \subseteq X$. Then $U$ is a \emph{neighbourhood} of $x$, and $x$ is an \emph{interior} point of $U$, iff there exists an open set $V$ such that $x \in V \subseteq U$.
\end{df}

\begin{prop}
A set $B$ is open if and only if it is a neighbourhood of each of its points.
\end{prop}

\begin{prop}
Let $X$ be a set and $\mathcal{N} : X \rightarrow \mathcal{P} X$. Then there exists a topology $\mathcal{O}$ on $X$ such that, for all $x \in X$, we have $\mathcal{N}_x$ is the set of neighbourhoods of $x$, if and only if:
\begin{itemize}
\item For all $x \in X$ and $N \in \mathcal{N}_x$ we have $x \in N$
\item For all $x \in X$ we have $X \in \mathcal{N}_x$
\item For all $x \in X$, $N \in \mathcal{N}_x$ and $V \subseteq \mathcal{P} X$, if $N \subseteq V$ then $V \in \mathcal{N}_x$
\item For all $x \in X$ and $M, N \in \mathcal{N}_x$ we have $M \cap N \in \mathcal{N}_x$
\item For all $x \in X$ and $N \in \mathcal{N}_x$, there exists $M \in \mathcal{N}_x$ such that $M \subseteq N$ and $\forall y \in M. M \in \mathcal{N}_y$.
\end{itemize}
In this case, $\mathcal{O}$ is unique and is given by $\mathcal{O} = \{ U : \forall x \in U. U \in \mathcal{N}_x \}$.
\end{prop}

\begin{df}[Exterior Point]
Let $X$ be a topological space, $x \in X$ and $B \subseteq X$. Then $x$ is an \emph{exterior point} of $B$ iff $B - X$ is a neighbourhood of $x$.
\end{df}

\begin{df}[Boundary Point]
Let $X$ be a topological space, $x \in X$ and $B \subseteq X$. Then $x$ is a \emph{boundary point} of $B$ iff it is neither an interior point nor an exterior point of $B$.
\end{df}

\begin{df}[Interior]
Let $X$ be a topological space and $B \subseteq X$. The \emph{interior} of $B$, $B^\circ$, is the set of all interior points of $B$.
\end{df}

\begin{prop}
The interior of $B$ is the union of all the open sets included in $B$.
\end{prop}

\begin{df}[Closure]
Let $X$ be a topological space and $B \subseteq X$. The \emph{closure} of $B$, $\overline{B}$, is the set of all points that are not exterior points of $B$.
\end{df}

\begin{prop}
The closure of $B$ is the intersection of all the closed sets that include $B$.
\end{prop}

\begin{prop}
A set $B$ is open iff $X - B = \overline{X - B}$.
\end{prop}

\begin{prop}[Kuratowski Closure Axioms]
Let $X$ be a set and $\overline{\ } : \mathcal{P} X \rightarrow \mathcal{P} X$. Then there exists a topology $\mathcal{O}$ such that, for all $B \subseteq X$, $\overline{B}$ is the closure of $B$, if and only if:
\begin{itemize}
\item $\overline{\emptyset} = \emptyset$
\item For all $A \subseteq X$ we have $A \subseteq \overline{A}$
\item For all $A \subseteq X$ we have $\overline{\overline{A}} = \overline{A}$
\item For all $A, B \subseteq X$ we have $\overline{A \cup B} = \overline{A} \cup \overline{B}$
\end{itemize}
In this case, $\mathcal{O}$ is unique and is defined by $\mathcal{O} = \{ U : X - U = \overline{X - U} \}$.
\end{prop}

\begin{df}[Finer, Coarser]
Let $\mathcal{T}$ and $\mathcal{T}'$ be topologies on the set $X$. Then $\mathcal{T}$ is \emph{coarser}, \emph{smaller} or \emph{weaker} than $\mathcal{T}'$, or $\mathcal{T}'$ is \emph{finer}, \emph{larger} or \emph{weaker} than $\mathcal{T}$, iff $\mathcal{T} \subseteq \mathcal{T}'$.
\end{df}

\subsection{Subspaces}

\begin{df}[Subspace]
Let $X$ be a topological space and $X_0 \subseteq X$. The \emph{subspace topology} on $X_0$ is $\{ U \cap X_0 : U \text{ is open in } X \}$.
\end{df}

\begin{ex}
The \emph{unit sphere} $S^2$ is $\{ x \in \mathbb{R}^3 : \| x \| = 1 \}$ as a subspace of $\mathbb{R}^3$.
\end{ex}

\begin{thm}
\label{thm:subspace_universal}
Let $X$ be a topological space and $(Y,i)$ a subset of $X$. Then the subspace topology on $Y$ is the unique topology such that, for every topological space $Z$ and function $f : Z \rightarrow Y$, we have $f$ is continuous if and only if $i \circ f : Z \rightarrow X$ is continuous.
\end{thm}

\begin{proof}
\pf
\step{1}{If we give $Y$ the subspace topology then, for every topological space $Z$ and function $f : Z \rightarrow Y$, we have $f$ is continuous if and only if $i \circ f$ is continuous.}
\begin{proof}
	\step{a}{Given $Y$ the subspace topology.}
	\step{b}{\pflet{$Z$ be a topological space.}}
	\step{c}{\pflet{$f : Z \rightarrow Y$}}
	\step{d}{If $f$ is continuous then $i \circ f$ is continuous.}
	\begin{proof}
		\pf\ Since $i$ is continuous.
	\end{proof}
	\step{e}{If $i \circ f$ is continuous then $f$ is continuous.}
	\begin{proof}
		\step{i}{\assume{$i \circ f$ is continuous.}}
		\step{ii}{\pflet{$U$ be open in $Y$.}}
		\step{iii}{$\inv{f}(\inv{i}(i(U))$ is open in $Z$.}
		\step{iv}{$\inv{f}(U)$ is open in $Z$.}
	\end{proof}
\end{proof}
\step{2}{If, for every topological space $Z$ and function $f : Z \rightarrow Y$, we have $f$ is continuous if and only if $i \circ f$ is continuous.}
\begin{proof}
	\step{a}{\assume{For every topological space $Z$ and function $f : Z \rightarrow Y$, we have $f$ is continuous if and only if $i \circ f$ is continuous.}}
	\step{b}{$i$ is continuous.}
	\step{c}{For every open set $U$ in $X$, we have $\inv{i}(X)$ is open in $Y$}
	\step{b}{\pflet{$Z$ be the set $Y$ under the subspace topology and $f : Z \rightarrow Y$ the identity function.}}
	\step{c}{$i \circ f$ is continuous.}
	\step{d}{$f$ is continuous.}
	\step{e}{Every set open in $Y$ is open in $Z$.}
\end{proof}
\qed
\end{proof}

\subsection{Topological Disjoint Union}

\begin{df}[Coproduct Topology]
Let $\{ X_\alpha \}_{\alpha \in A}$ be a family of topological spaces. The \emph{coproduct topology} on $\coprod_{\alpha \in A} X_\alpha$ is 

\[ \mathcal{T} = \left\{ \coprod_{\alpha \in A} U_\alpha : \{ U_\alpha \}_{\alpha \in A} \text{ is a family with $U_\alpha$ open in $X_\alpha$ for all $\alpha$} \right\} \enspace . \]

We prove this is a topology.
\end{df}

\begin{proof}
\pf
\step{1}{For all $\mathcal{U} \subseteq \mathcal{T}$ we have $\bigcup \mathcal{U} \in \mathcal{T}$}
\begin{proof}
	\pf
	\[ \bigcup_{i \in I} \coprod_{\alpha \in A} U_{i\alpha} = \coprod_{\alpha \in A} \bigcup_{i \in I} U_{i \alpha} \]
\end{proof}
\step{2}{For all $U,V \in \mathcal{T}$ we have $U \cap V \in \mathcal{T}$}
\begin{proof}
	\pf
	\[ \coprod_{\alpha \in A} U_\alpha \cap \coprod_{\alpha \in A} V_\alpha = \coprod_{\alpha \in A} (U_\alpha \cap V_\alpha) \]
\end{proof}
\step{3}{$\coprod_{\alpha \in A} X_\alpha \in \mathcal{T}$}
\begin{proof}
	\pf\ Since every $X_\alpha$ is open in $X_\alpha$.
\end{proof}
\qed
\end{proof}

\begin{prop}
\label{prop:coproduct_finest}
The coproduct topology is the finest topology on $\coprod_{\alpha \in A} X_\alpha$ such that every injection $\kappa_\alpha : X_\alpha \rightarrow \coprod_{\alpha \in A} X_\alpha$ is continuous.
\end{prop}

\begin{proof}
\pf
\step{0}{\pflet{$P = \coprod_{\alpha \in A} X_\alpha$}}
\step{1}{\pflet{$\mathcal{T}_c$ be the coproduct topology.}}
\step{2}{\pflet{$\mathcal{T}$ be any topology on $P$}}
\step{3}{For all $\alpha \in A$, the injection $\kappa_\alpha : X_\alpha \rightarrow (P, \mathcal{T}_c)$ is continuous.}
\begin{proof}
	\step{a}{\pflet{$\alpha \in A$}}
	\step{b}{\pflet{$\{ U_\alpha \}_{\alpha \in A}$ be a family with each $U_\alpha$ open in $X_\alpha$.}}
	\step{c}{For all $\alpha \in A$, we have $\inv{\kappa_\alpha}(\coprod_{\alpha \in A} U_\alpha)$ is open in $X_\alpha$.}
	\begin{proof}
		\pf\ Since $\inv{\kappa_\alpha}(\coprod_{\alpha \in A} U_\alpha) = U_\alpha$.
	\end{proof}
\end{proof}
\step{4}{If, for all $\alpha \in A$, the injection $\kappa_\alpha : X_\alpha \rightarrow (P, \mathcal{T})$ is continuous, then $\mathcal{T} \subseteq \mathcal{T}_c$.}
\begin{proof}
	\step{a}{\assume{For all $\alpha \in A$, the injection $\kappa_\alpha : X_\alpha \rightarrow (P, \mathcal{T})$ is continuous.}}
	\step{b}{\pflet{$U \in \mathcal{T}$}}
	\step{c}{For all $\alpha \in a$, we have $\inv{\kappa_\alpha}(U)$ is open in $X_\alpha$.}
	\step{d}{$U = \coprod_{\alpha \in A} \inv{\kappa_\alpha}(U) \in \mathcal{T}_c$}
\end{proof}
\qed
\end{proof}

\begin{thm}
Let $\{ X_\alpha \}_{\alpha \in A}$ be a family of topological spaces. The coproduct topology is the unique topology on $\coprod_{\alpha \in A} X_\alpha$ such that, for every topological space $Z$ and function $f : \coprod_{\alpha \in A} X_\alpha \rightarrow Z$, we have $f$ is continuous if and only if $\forall \alpha \in A. f \circ \kappa_\alpha$ is continuous.
\end{thm}

\begin{proof}
\pf
\step{1}{\pflet{$X = \coprod_{\alpha \in A} X_\alpha$}}
\step{2}{\pflet{$\mathcal{T}_c$ be the coproduct topology.}}
\step{3}{For every topological space $Z$ and function $f : (X, \mathcal{T}_c) \rightarrow Z$, we have $f$ is continuous if and only if $\forall \alpha \in A. f \circ \kappa_\alpha$ is continuous.}
\begin{proof}
	\step{a}{\pflet{$Z$ be a topological space.}}
	\step{b}{\pflet{$f : X \rightarrow Z$}}
	\step{c}{If $f$ is continuous then $\forall \alpha \in A. f \circ \kappa_\alpha$ is continuous.}
	\begin{proof}
		\pf\ Because the composite of two continuous functions is continuous.
	\end{proof}
	\step{d}{If $\forall \alpha \in A. f \circ \kappa_\alpha$ is continuous then $f$ is continuous.}
	\begin{proof}
		\step{i}{\assume{$\forall \alpha \in A. f \circ \kappa_\alpha$ is continuous.}}
		\step{ii}{\pflet{$U$ be open in $Z$}}
		\step{iii}{For all $\alpha \in A$ we have $\inv{\kappa_\alpha}(\inv{f}(U))$ is open in $X_\alpha$}
		\step{iv}{$\inv{f}(U) = \coprod_{\alpha \in A} \inv{\kappa_\alpha}(\inv{f}(U))$}
		\step{v}{$\inv{f}(U)$ is open in $X$}
	\end{proof}
\end{proof}
\step{4}{For any topology $\mathcal{T}$ on $X$, if for every topological space $Z$ and function $f : (X, \mathcal{T}) \rightarrow Z$, we have $f$ is continuous if and only if $\forall \alpha \in A. f \circ \kappa_\alpha$ is continuous, then $\mathcal{T} = \mathcal{T}_c$.}
\begin{proof}
	\step{a}{\pflet{$\mathcal{T}$ be a topology on $X$.}}
	\step{b}{\assume{For every topological space $Z$ and function $f : (X, \mathcal{T}) \rightarrow Z$, we have $f$ is continuous if and only if $\forall \alpha \in A. f \circ \kappa_\alpha$ is continuous.}}
	\step{c}{$\mathcal{T} \subseteq \mathcal{T}_c$}
	\begin{proof}
		\step{i}{For all $\alpha \in A$ we have $\kappa_\alpha : X_\alpha \rightarrow (X, \mathcal{T})$ is continuous.}
		\begin{proof}
			\pf\ From \stepref{a} since $\id{X}$ is continuous.
		\end{proof}
		\step{ii}{$\mathcal{T} \subseteq \mathcal{T}_c$}
		\begin{proof}
			\pf\ Proposition \ref{prop:coproduct_finest}.
		\end{proof}
	\end{proof}
	\step{d}{$\mathcal{T}_c \subseteq \mathcal{T}$}
	\begin{proof}
		\step{i}{\pflet{$f : (X, \mathcal{T}) \rightarrow (X, \mathcal{T}_c)$ be the identity function.}}
		\step{ii}{$f \circ \kappa_\alpha$ is continuous for all $\alpha$.}
		\step{iii}{$f$ is continuous.}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
		\step{iv}{$\mathcal{T}_c \subseteq \mathcal{T}$}
	\end{proof}
\end{proof}
\qed
\end{proof}

\subsection{Product Topology}

\begin{df}[Product Topology]
Let $\{ X_\lambda \}_{\lambda \in \Lambda}$ be a family of topological spaces. The \emph{product topology} on $\prod_{\lambda \in \Lambda} X_\lambda$ is the coarsest topology such that every projection onto $X_\lambda$ is continuous.
\end{df}

\begin{prop}
Let $\{ X_\alpha \}_{\alpha \in A}$ be a family of topological spaces. The product topology on $\prod_{\alpha \in A} X_\alpha$ is the topology generated by the basis $\mathcal{B} = \{ \prod_{\alpha \in A} U_\alpha : \text{for all } \alpha \in A, U_\alpha \text{ is open in } X_\alpha \text{ and } U_\alpha = X_\alpha \text{ for all but finitely many } \alpha \in A \}$.
\end{prop}

\begin{proof}
\pf
\step{1}{$\mathcal{B}$ is a basis for a topology.}
\step{2}{\pflet{$\mathcal{T}$ be the topology generated by $\mathcal{B}$.}}
\step{3}{\pflet{$\mathcal{T}_p$ be the product topology.}}
\step{4}{$\mathcal{T} \subseteq \mathcal{T}_p$}
\begin{proof}
	\step{a}{\pflet{$B \in \mathcal{B}$}}
	\step{b}{\pflet{$B = \prod_{\alpha \in A} U_\alpha$ with each $U_\alpha$ open in $X_\alpha$ and $U_\alpha = X_\alpha$ except for $\alpha = \alpha_1, \ldots, \alpha_n$}}
	\step{c}{$B = \inv{\pi_{\alpha_1}}(U_{\alpha_1}) \cap \cdots \cap \inv{\pi_{\alpha_n}}(U_{\alpha_n})$}
	\step{d}{$B \in \mathcal{T}_p$}
\end{proof}
\step{5}{$\mathcal{T}_p \subseteq \mathcal{T}$}
\begin{proof}
	\step{a}{For every $\alpha \in A$ we have $\pi_\alpha$ is continuous.}
	\begin{proof}
		\pf\ Since $\inv{\pi}(U)$ is open for every $U$ open in $X_\alpha$.
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{thm}
\label{thm:product_universal}
Let $\{ X_\alpha \}_{\alpha \in A}$ be a family of topological spaces. Then the product topology on $\prod_{\alpha \in A} X_\alpha$ is the unique topology such that, for every topological space $Z$ and function $f : Z \rightarrow \prod_{\alpha \in A} X_\alpha$, we have $f$ is continuous if and only if, for all $\alpha \in A$, we have $\pi_\alpha \circ f : Z \rightarrow X_\alpha$ is continuous.
\end{thm}

\begin{proof}
\pf
\step{1}{If we give $\prod_{\alpha \in A} X_\alpha$ the product topology, then for every topological space $Z$ and function $f : Z \rightarrow \prod_{\alpha \in A} X_\alpha$, we have $f$ is continuous if and only if, for all $\alpha \in A$, we have $\pi_\alpha \circ f$ is continuous.}
\begin{proof}
	\step{a}{Give $\prod_{\alpha \in A} X_\alpha$ the product topology.}
	\step{b}{\pflet{$Z$ be a topological space.}}
	\step{c}{\pflet{$f : Z \rightarrow \prod_{\alpha \in A} X_\alpha$}}
	\step{d}{If $f$ is continuous then, for all $\alpha \in A$, we have $\pi_\alpha \circ f$ is continuous.}
	\begin{proof}
		\pf\ Since the composite of two continuous functions is continuous.
	\end{proof}
	\step{e}{If, for all $\alpha \in A$, we have $\pi_\alpha \circ f$ is continuous, then $f$ is continuous.}
	\begin{proof}
		\step{i}{\assume{For all $\alpha \in A$ we have $\pi_\alpha \circ f$ is continuous.}}
		\step{ii}{\pflet{$\{ U_\alpha \}_{\alpha \in A}$ be a family with $U_\alpha$ open in $X_\alpha$ such that $U_\alpha = X_\alpha$ for all $\alpha$ except $\alpha = \alpha_1, \ldots, \alpha_n$.}}
		\step{iii}{For all $\alpha$ we have $\inv{f}(\inv{\pi_\alpha}(U_\alpha))$ is open in $Z$.}
		\step{iv}{$\inv{f}(\prod_\alpha U_\alpha)$ is open in $Z$}
		\begin{proof}
			\pf\ Since $\inv{f}(\prod_\alpha U_\alpha) = \inv{f}(\inv{\pi_{\alpha_1}}(U_{\alpha_1})) \cap \cdots \cap \inv{f}(\inv{\pi_{\alpha_n}}(U_{\alpha_n}))$.
		\end{proof}
	\end{proof}
\end{proof}
\step{2}{If $\mathcal{T}$ is a topology on $\prod_{\alpha \in A} X_\alpha$ such that, for every topological pace $Z$ and function $f : Z \rightarrow \prod_{\alpha \in A} X_\alpha$, we have $f$ is continuous if and only if, for all $\alpha \in A$, we have $\pi_\alpha \circ f$ is continuous, then $\mathcal{T}$ is the product topology.}
\begin{proof}
	\step{a}{\assume{$\mathcal{T}$ is a topology on $\prod_{\alpha \in A} X_\alpha$ such that, for every topological pace $Z$ and function $f : Z \rightarrow \prod_{\alpha \in A} X_\alpha$, we have $f$ is continuous if and only if, for all $\alpha \in A$, we have $\pi_\alpha \circ f$ is continuous.}}
	\step{b}{\pflet{$\mathcal{T}_p$ be the product topology.}}
	\step{c}{$\mathcal{T} \subseteq \mathcal{T}_p$}
	\begin{proof}
		\step{i}{\pflet{$Z = (\prod_\alpha X_\alpha, \mathcal{T}_p)$}}
		\step{ii}{\pflet{$f : Z \rightarrow \prod_\alpha X_\alpha$ be the identity function}}
		\step{iii}{For all $\alpha$ we have $\pi_\alpha \circ f$ is continuous.}
		\step{iv}{$f$ is continuous.}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
		\step{v}{Every set open in $\mathcal{T}$ is open in $\mathcal{T}_p$}
	\end{proof}
	\step{d}{$\mathcal{T}_p \subseteq \mathcal{T}$}
	\begin{proof}
		\step{i}{$\id{\prod_\alpha X_\alpha}$ is continuous.}
		\step{ii}{For all $\alpha$ we have $\pi_\alpha$ is continuous.}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
		\step{iii}{$\mathcal{T}_p \subseteq \mathcal{T}$}
		\begin{proof}
			\pf\ Since $\mathcal{T}_p$ is the coarsest topology such that every $\pi_\alpha$ is continuous.
		\end{proof}
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{ex}
It is not true that, for any function $f : \prod_{\alpha \in A} X_\alpha \rightarrow Y$, if $f$ is continuous in every variable separately then $f$ is continuous.

Define $f : \mathbb{R}^2 \rightarrow \mathbb{R}$ by
\[ f(x,y) = \begin{cases}
\frac{xy}{x^2 + y^2} & \text{if } (x,y) \neq (0,0) \\
0 & \text{if } x = y = 0
\end{cases} \]
Then $f$ is continuous in $x$ and in $y$, but is not continuous.
\end{ex}

\begin{prop}
Let $\{X_i\}_{i \in I}$ be a family of topological spaces. Let $Y_i$ be a subspace of $X_i$ for all $i \in I$. Then the product topology on $\prod_{i \in I} Y_i$ is the same as the subspace topology on $\prod_{i \in I} Y_i$ as a subspace of $\prod_{i \in I} X_i$.
\end{prop}

\begin{proof}
\pf
\step{1}{Given $\prod_{i \in I} Y_i$ the subspace topology.}
\step{11}{\pflet{$\iota : \prod_{i \in I} Y_i$ be the inclusion.}}
\step{2}{\pflet{$Z$ be any topological space.}}
\step{3}{\pflet{$f : Z \rightarrow \prod_{i \in I} Y_i$}}
\step{4}{$f$ is continuous if and only if, for all $i \in I$, we have $\pi_i \circ f$ is continuous.}
\begin{proof}
	\pf
	\begin{align*}
		f \text{ is continuous}
		& \Leftrightarrow \iota \circ f : Z \rightarrow \prod_{i \in I} X_i \text{ is continuous} & (\text{Theorem \ref{thm:subspace_universal}}) \\
		& \Leftrightarrow \forall i \in I. \pi_i \circ \iota \circ f : Z \rightarrow X_i \text{ is continuous}  (\text{Theorem \ref{thm:product_universal}}) \\
		& \Leftrightarrow \forall i \in I. \iota_i \circ \pi_i \circ f : Z \rightarrow X_i \text{ is continuous} \\
		& \Leftrightarrow \forall i \in I. \pi_i \circ f : Z \rightarrow Y_i \text{ is continuous}
		& (\text{Theorem \ref{thm:subspace_universal}})
	\end{align*}
	where $\iota_i$ is the inclusion $Y_i \rightarrow X_i$.
\end{proof}
\qed
\end{proof}

\subsection{Bases}

\begin{df}[Basis]
Let $X$ be a topological space. A \emph{basis} for the topology on $X$ is a set of open sets $\mathcal{B}$ such that every open set is the union of a subset of $\mathcal{B}$. The elements of $\mathcal{B}$ are called \emph{basic open neighbourhoods} of their elements.
\end{df}

\begin{df}[Order Topology]
Let $X$ be a linearly ordered set. The \emph{order topology} on $X$ is the topology generated by the open interval $(a,b)$ as well as the open rays $(a, + \infty)$ and $(-\infty, b)$ for $a,b \in X$.
\end{df}

\begin{df}[Lower Limit Topology]
The \emph{lower limit topology}, \emph{Sorgenfrey topology}, \emph{uphill topology} or \emph{half-open topology} is the topology generated by the basis consisting of all half-open intervals $[a,b)$.
\end{df}

\begin{prop}
Let $X$ be a topological space and $\mathcal{B} \subseteq \mathcal{P} X$. Then $\mathcal{B}$ is a basis for a topology on $X$ if and only if:
\begin{enumerate}
\item $\bigcup \mathcal{B} = X$
\item For all $A, B \in \mathcal{B}$ and $x \in A \cap B$, there exists $C \in \mathcal{B}$ such that $x \in C \subseteq A \cap B$.
\end{enumerate}
In this case, the topology is unique and is the set of all unions of subsets of $\mathcal{B}$. We call it the topology \emph{generated} by $\mathcal{B}$.
\end{prop}

\subsection{Subbases}

\begin{df}[Subbasis]
Let $X$ be a topological space. A \emph{subbasis} for the topology on $X$ is a subset $\mathcal{S} \subseteq \mathcal{P} X$ such that every open set is a union of finite intersections of $\mathcal{S}$.
\end{df}

\begin{df}[Space with Basepoint]
A \emph{space with basepoint} is a pair $(X,x)$ where $X$ is a topological space and $x : \El{X}$.
\end{df}

\subsection{Countability Axioms}

\begin{df}[Neighbourhood Basis]
Let $X$ be a topological space and $x_0 : \El{X}$. A \emph{neighbourhood basis} of $x_0$ is a set $\mathcal{U}$ of neighbourhoods of $x_0$ such that every neighbourhood of $x_0$ includes an element of $\mathcal{U}$.
\end{df}

\begin{df}[First Countable]
A topological space is \emph{first countable} iff every point has a countable neighbourhood basis.
\end{df}

\begin{df}[Second Countable]
A topological space is \emph{second countable} iff it has a countable basis.
\end{df}

Every second countable space is first countable.

A subspace of a first countable space is first countable.

A subspace of a second countable space is second countable.

$\mathbb{R}^n$ is second countable.

An uncountable discrete space is first countable but not second countable.

\begin{prop}
Let $\{ X_\lambda \}_{\lambda \in \Lambda}$ be a family of topological spaces such that no $X_\lambda$ is indiscrete. If $\Lambda$ is uncountable, then $\prod_{\lambda \in \Lambda} X_\lambda$ is not first countable.
\end{prop}

\begin{proof}
\pf
\step{1}{For all $\lambda : \El{\Lambda}$, \pick\ $U_\lambda$ open in $X_\lambda$ such that $\emptyset \neq U_\lambda \neq X_\lambda$.}
\step{2}{For all $\lambda : \El{\lambda}$, \pick\ $x_\lambda \in U_\lambda$.}
\step{3}{\assume{for a contradiction $B$ is a countable neighbourhood basis for $(x_\lambda)_{\lambda \in \Lambda}$.}}
\step{4}{\pick\ $\lambda \in \Lambda$ such that, for all $U \in B$, we have $\pi_\lambda(U) = X_\lambda$}
\step{5}{There is no $U \in \lambda$ such that $U \subseteq \pi_\lambda^{-1}(U_\lambda)$}
\qedstep
\begin{proof}
\pf\ This is a contradiction.
\end{proof}
\qed
\end{proof}

\section{Continuous Functions}

\begin{df}[Continuous]
Let $X$ and $Y$ be topological spaces. A function $f : X \rightarrow Y$ is \emph{continuous} iff, for every open set $V$ in $Y$, the inverse image $\inv{f}(V)$ is open in $X$.
\end{df}

\begin{prop}
\begin{enumerate}
\item $\id{X}$ is continuous
\item The composite of two continuous functions is continuous.
\item If $f : X \rightarrow Y$ is continuous and $X_0 \subseteq X$ then $f \restriction X_0 : X_0 \rightarrow Y$ is continuous.
\item If $f : X + Y \rightarrow Z$, then $f$ is continuous iff $f \circ \kappa_1 : X \rightarrow Z$ and $f \circ \kappa_2 : Y \rightarrow Z$ are continuous.
\item If $f : Z \rightarrow X \times Y$, then $f$ is continuous iff $\pi_1 \circ f$ and $\pi_2 \circ f$ are continuous.
\end{enumerate}
\end{prop}

\begin{prop}
Let $X$ and $Y$ be topological spaces. Let $f : X \rightarrow Y$. Let $\mathcal{B}$ be a basis for $Y$. Then $f$ is continuous if and only if, for all $B \in \mathcal{B}$, we have $\inv{f}(B)$ is open in $X$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $f$ is continuous then, for all $B \in \mathcal{B}$, we have $\inv{f}(B)$ is open in $X$.}
\begin{proof}
	\pf\ Since every element of $\mathcal{B}$ is open in $Y$.
\end{proof}
\step{2}{If, for all $B \in \mathcal{B}$, we have $\inv{f}(B)$ is open in $X$, then $f$ is continuous.}
\begin{proof}
	\step{a}{\assume{For all $B \in \mathcal{B}$, we have $\inv{f}(B)$ is open in $X$.}}
	\step{b}{\pflet{$U$ be open in $Y$.}}
	\step{c}{\pflet{$x \in \inv{f}(U)$}}
	\step{d}{\pick\ $B \in \mathcal{B}$ such that $f(x) \in B \subseteq U$.}
	\step{e}{$x \in \inv{f}(B) \subseteq \inv{f}(U)$}
\end{proof}
\qed
\end{proof}

\begin{df}[Homeomorphism]
Let $X$ and $Y$ be topological spaces. A \emph{homeomorphism} between $X$ and $Y$ is a bijection $f : X \approx Y$ such that $f$ and $\inv{f}$ are continuous.
\end{df}

\begin{df}[Retraction]
Let $X$ be a topological space and $A$ a subspace of $X$. A continuous function $\rho : X \rightarrow A$ is a \emph{retraction} iff $\rho \restriction A = \id{A}$. We say $A$ is a \emph{retract} of $X$ iff there exists a retraction.
\end{df}

\begin{df}
Let $\mathbf{Top}$ be the category of small topological spaces and continuous functions.
\end{df}

\begin{prop}
$\emptyset$ is initial in $\mathbf{Top}$.
\end{prop}

\begin{prop}
$1$ is terminal in $\mathbf{Top}$.
\end{prop}

Forgetful functor $\mathbf{Top} \rightarrow \mathbf{Set}$.

Basepoint preserving continuous functor.

\begin{prop}
Let $(X, \mathcal{T})$ be a topological space. Let $S$ be the Sierpi\'{n}ski two-point space. Define $\Phi : \mathcal{T} \rightarrow \Top[X,S]$ by $\Phi(U)(x) = 1$ iff $x \in U$. Then $\Phi$ is a bijection.
\end{prop}

\begin{proof}
\pf
\step{1}{For all $U \in \mathcal{T}$ we have $\Phi(U)$ is continuous.}
\begin{proof}
	\step{a}{\pflet{$U \in \mathcal{T}$}}
	\step{b}{$\Phi(U)(\{1\})$ is open.}
	\begin{proof}
		\pf\ Since $\Phi(U)(\{1\}) = U$.
	\end{proof}
\end{proof}
\step{2}{$\Phi$ is injective.}
\begin{proof}
	\pf\ If $\Phi(U) = \Phi(V)$ then we have $\forall x (x \in U \Leftrightarrow \Phi(U)(x) = 1 \Leftrightarrow \Phi(V)(x) = 1 \Leftrightarrow x \in V)$.
\end{proof}
\step{3}{$\Phi$ is surjective.}
\begin{proof}
	\pf\ Given $f : X \rightarrow S$ continuous we have $\Phi(\inv{f}(1)) = f$.
\end{proof}
\qed
\end{proof}

\subsection{Paths}

\begin{df}[Path]
A \emph{path} in a topological space $X$ is a continuous function $[0,1] \rightarrow X$.
\end{df}

\subsection{Loops}

\begin{df}[Loop]
A \emph{loop} in a topological space $X$ is a path $\alpha : [0,1] \rightarrow X$ such that $\alpha(0) = \alpha(1)$.
\end{df}

\section{Convergence}

\begin{df}[Convergence]
Let $X$ be a topological space. Let $(x_n)$ be a sequence in $X$. A point $a : \El{X}$ is a \emph{limit} of the sequence iff, for every neighbourhood $U$ of $a$, there exists $n_0$ such that $\forall n \geq n_0. x_n \in U$.
\end{df}

Convergence in a product space is pointwise convergence.

If $f : X \rightarrow Y$ is continuous and $x_n \rightarrow l$ in $X$ then $f(x_n) \rightarrow f(l)$ in $Y$.

\begin{ex}
The converse does not hold.

Let $X$ be the set of all continuous functions $[0,1] \rightarrow [-1,1]$ under the product topology. Let $i : X \rightarrow L^2([0,1])$ be the inclusion.

If $f_n \rightarrow f$ then $i(f_n) \rightarrow i(f)$ --- Lebesgue convergence theorem.

We prove that $i$ is not continuous.

Assume for a contradiction $i$ is continuous. Choose a neighbourhood $K$ of 0 in $X$ such that $\forall \phi \in K _\epsilon. \int \phi^2 < 1/2$. Let $K = \prod_{\lambda \in [0,1]} U_\lambda$ where $U_\lambda = [-1,1]$ except for $\lambda = \lambda_1, \ldots, \lambda_n$. Let $\phi$ be the function that is 0 at $\lambda_1$, \ldots, $\lambda_n$ and 1 everywhere else. Then $\phi \in K$ but $\int \phi^2 = 1$.
\end{ex}

\begin{prop}
The converse does hold for first countable spaces. If $f : X \rightarrow Y$ where $X$ is first countable, and $Y$ is a topological space, and whenever $x_n \rightarrow x$ then $f(x_n) \rightarrow f(x)$, then $f$ is continuous.
\end{prop}

\section{Subspaces}

\begin{df}[Subspace]
Let $X$ be a topological space, $Y$ a set, and $f : Y \rightarrow X$. The \emph{subspace topology} on $Y$ induced by $f$ is $\mathcal{T} = \{ \inv{i}(U) : U \text{ is open in } X \}$.

We prove this is a topology.
\end{df}

\begin{proof}
\pf
\step{1}{For all $\mathcal{U} \subseteq \mathcal{T}$ we have $\bigcup \mathcal{U} \in \mathcal{T}$}
\begin{proof}
	\pf\ Since $\bigcup \mathcal{U} = \inv{f}(\bigcup \{ V : \inv{f}(V) \in \mathcal{U}\})$.
\end{proof}
\step{2}{For all $U,V \in \mathcal{T}$ we have $U \cap V \in \mathcal{T}$}
\begin{proof}
	\pf\ Since $\inv{f}(U) \cap \inv{f}(V) = \inv{f}(U 
\cap V)$.
\end{proof}
\step{3}{$Y \in \mathcal{T}$}
\begin{proof}
	\pf\ Since $Y = \inv{f}(X)$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $X$ be a topological space, $Y$ a set and $f : Y \rightarrow X$ a function. Then the subspace topology on $Y$ is the coarsest topology such that $f$ is continuous.
\end{prop}

\begin{proof}
\pf\ Immediate from definition. \qed
\end{proof}

\section{Embedding}

\begin{df}[Embedding]
Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Then $f$ is an \emph{embedding} iff $f$ is injective and the topology on $X$ is the subspace induced by $f$.
\end{df}

\section{Quotient Spaces}

\begin{df}[Quotient Topology]
Let $X$ be a topological space, $S$ a set, and $\pi : X \twoheadrightarrow S$ be a surjection. The \emph{quotient topology} on $S$ induced by $\pi$ is $\mathcal{T} = \{ U \in \mathcal{P} S : \inv{\pi}(U) \text{ is open in } X \}$.

We prove this is a topology.
\end{df}

\begin{proof}
\pf
\step{1}{For all $\mathcal{U} \subseteq \mathcal{T}$ we have $\bigcup \mathcal{U} \in \mathcal{T}$.}
\begin{proof}
	\pf\ Since $\inv{\pi}(\bigcup \mathcal{U}) = \bigcup \{ \inv{\pi}(U) : U \in \mathcal{U} \}$.
\end{proof}
\step{2}{For all $U,V \in \mathcal{T}$ we have $U \cap V \in \mathcal{T}$.}
\begin{proof}
	\pf\ Since $\inv{\pi}(U \cap V) = \inv{\pi}(U) \cap \inv{\pi}(V)$.
\end{proof}
\step{3}{$X \in \mathcal{T}$}
\begin{proof}
	\pf\ Since $X = \inv{\pi}(Y)$.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $X$ be a topological space, $S$ a set and $\pi : X \twoheadrightarrow S$ a surjection. Then the quotient topology on $S$ is the finest topology such that $\pi$ is continuous.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{df}[Quotient Map]
Let $X$ and $S$ be topological spaces and $\pi : X \rightarrow S$. Then $\pi$ is a \emph{quotient map} iff $\pi$ is surjective and the topology on $S$ is the quotient topology induced by $\pi$.
\end{df}

\begin{thm}
Let $X$ be a topological space, let $S$ be a set, and let $\pi : X \twoheadrightarrow S$ be surjective. Then the quotient topology on $S$ is the unique topology such that, for every topological space $Z$ and function $f : S \rightarrow Z$, we have $f$ is continuous if and only if $f \circ \pi$ is continuous.
\end{thm}

\begin{proof}
\pf
\step{1}{If $S$ is given the quotient topology, then for every topological space $Z$ and function $f : S \rightarrow Z$, we have $f$ is continuous if and only if $f \circ \pi$ is continuous.}
\begin{proof}
	\step{a}{Give $S$ the quotient topology.}
	\step{b}{\pflet{$Z$ be a topological space.}}
	\step{c}{\pflet{$f : S \rightarrow Z$}}
	\step{d}{If $f$ is continuous then $f \circ \pi$ is continuous.}
	\begin{proof}
		\pf\ The composite of two continuous functions is continuous.
	\end{proof}
	\step{e}{If $f \circ \pi$ is continuous then $f$ is continuous.}
	\begin{proof}
		\step{i}{\assume{$f \circ \pi$ is continuous.}}
		\step{ii}{\pflet{$U$ be open in $Z$.}}
		\step{iii}{$\inv{\pi}(\inv{f}(U))$ is open in $X$.}
		\step{iv}{$\inv{f}(U)$ is open in $S$.}
	\end{proof}
\end{proof}
\step{2}{If $S$ is given a topology such that, for every topological space $Z$ and function $f : S \rightarrow Z$, we have $f$ is continuous if and only if $f \circ \pi$ is continuous, then that topology is the quotient topology.}
\begin{proof}
	\step{a}{Give $S$ a topology such that, for every topological space $Z$ and function $f : S \rightarrow Z$, we have $f$ is continuous if and only if $f \circ \pi$ is continuous.}
	\step{b}{\pflet{$U \subseteq S$}}
	\step{c}{If $\inv{\pi}(U)$ is open in $X$ then $U$ is open in $S$.}
	\begin{proof}
		\step{i}{\pflet{$Z$ be $S$ under the quotient topology induced by $\pi$.}}
		\step{ii}{\pflet{$f : S \rightarrow Z$ be the identity function.}}
		\step{iii}{$f \circ \pi$ is continuous.}
		\step{iv}{$f$ is continuous.}
		\begin{proof}
			\pf\ \stepref{a}
		\end{proof}
		\step{v}{$U$ is open in $Z$.}
		\step{vi}{$U$ is open in $X$.}
	\end{proof}
	\step{d}{If $U$ is open in $S$ then $\inv{\pi}(U)$ is open in $X$.}
	\begin{proof}
		\pf\ Since $\pi$ is continuous (taking $Z = S$ and $f = \id{S}$ in \stepref{a}).
	\end{proof}
\end{proof}
\qed
\end{proof}

\begin{cor}
Let $\pi : X \twoheadrightarrow S$ be a quotient map. Let $Z$ be a topological space. Let $f : X \rightarrow Z$ be continuous. Then there exists a continuous map $g : S \rightarrow Z$ such that $f = g \circ \pi$ if and only if, for all $s \in S$, we have $f$ is constant on $\inv{\pi}(s)$.
\end{cor}

\begin{prop}
Let $Z$ be a topological space. Define $\pi : [0,1] \rightarrow S^1$ by $\pi(t) = (\cos 2 \pi t, \sin 2 \pi t)$. Given any continuous function $f : S^1 \rightarrow Z$, we have $f \circ \pi$ is a loop in $Z$. This defines a bijection between $\Top[S^1,Z]$ and the set of loops in $Z$.
\end{prop}

\begin{proof}
\pf\ Since $\pi$ is a quotient map. \qed
\end{proof}

\begin{df}[Projective Space]
The \emph{projective space} $\mathbb{RP}^n$ is the quotient of $\mathbb{R}^{n+1} - \{0\}$ by $\sim$ where $x \sim \lambda x$ for all $x \in \mathbb{R}^{n+1} - \{0\}$ and $\lambda \in \mathbb{R}$.
\end{df}

\begin{df}[Torus]
The \emph{torus} $T$ is the quotient of $[0,1]^2$ by $\sim$ where $(x,0) \sim (x,1)$ and $(0,y) \sim (1,y)$.
\end{df}

\begin{df}[M\"{o}bius Band]
The \emph{M\"{o}bius band} is the quotient of $[0,1]^2$ by $\sim$ where $(0,y) \sim (1,1-y)$.
\end{df}

\begin{df}[Klein Bottle]
The \emph{Klein bottle} is the quotient of $[0,1]^2$ by $\sim$ where $(x,0) \sim (x,1)$ and $(0,y) \sim (1,1-y)$.
\end{df}

\begin{prop}
$\mathbb{RP}^2$ is the quotient of $[0,1]^2$ by $\sim$ where $(x,0) \sim (1-x,1)$ and $(0,y) \sim (1,1-y)$.
\end{prop}

\begin{proof}
\pf TODO
\end{proof}

\begin{ex}
Let $\{X_i\}_{i \in I}$ be a family of topological spaces and $\{Y_i\}_{i \in I}$ a family of sets. Let $q_i : X_i \twoheadrightarrow Y_i$ be a surjective function for all $i \in I$. Give each $Y_i$ the quotient topology. It is not true in general that the product topology on $\prod_{i \in I} Y_i$ is the same as the quotient topology induced by $\prod_{i \in I} q_i : \prod_{i \in I} X_i \twoheadrightarrow \prod_{i \in I} Y_i$.
\end{ex}

\begin{proof}
\pf
\step{1}{\pflet{$X^* = \mathbb{R} - \mathbb{Z}_+ + \{b\}$ be the quotient space obtained from $\mathbb{R}$ by identifying the subset $\mathbb{Z}_+$ to the point $b$.}}
\step{2}{\pflet{$p : \mathbb{R} \rightarrow X^*$ be the quotient map.} \prove{$p \times \id{\mathbb{Q}} : \mathbb{R} \times \mathbb{Q} \rightarrow X^* \times \mathbb{Q}$ is not a quotient map.}}
\step{3}{For $n \in \mathbb{Z}_+$, \pflet{$c_n = \sqrt{2} / n$}}
\step{4}{For $n \in \mathbb{Z}_+$, \pflet{$U_n = \{ (x,y) \in \mathbb{Q} \times \mathbb{R} : n-1/4 < x < n+1/4 \text{ and } ((y > x + c_n - n \text{ and } y > -x + c_n + n) \text{ or } (y < x + c_n - n \text{ and } y < -x + c_n + n))\}$}}
\step{5}{For all $n \in \mathbb{Z}_+$, $U_n$ is open in $\mathbb{R} \times \mathbb{Q}$}
\step{6}{For all $n \in \mathbb{Z}_+$ we have $\{n\} \times \mathbb{Q} \subseteq U_n$}
\step{7}{\pflet{$U = \bigcup_{n \in \mathbb{Z}_+} U_n$}}
\step{8}{$U$ is open in $\mathbb{R} \times \mathbb{Q}$.}
\step{9}{$U$ is saturated with respect to $p \times \id{\mathbb{Q}}$.}
\step{10}{\pflet{$U' = (p \times \id{\mathbb{Q}})(U)$}}
\step{11}{\assume{for a contradiction $U'$ is open in $X^* \times \mathbb{Q}$.}}
%TODO
\end{proof}

\section{Connected Spaces}

\begin{df}[Connected]
A topological space is \emph{connected} iff it is not the union of two nonempty open disjoint subsets.
\end{df}

\begin{prop}
The continuous image of a connected space is connected.
\end{prop}

\begin{prop}
Let $X$ be a topological space and $A,B \subseteq X$. If $X = A \cup B$, $A \cap B \neq \emptyset$, and $A$ and $B$ are connected, then $X$ is connected.
\end{prop}

\begin{prop}
If $X$ and $Y$ are nonempty topological spaces, then
$X \times Y$ is connected if and only if $X$ and $Y$ are connected.
\end{prop}

\begin{df}[Path-connected]
A topological space $X$ is \emph{path-connected} iff, for any points $a,b \in X$, there exists a continuous function $\alpha : [0,1] \rightarrow X$, called a \emph{path}, such that $\alpha(0) = a$ and $\alpha(1) = b$.
\end{df}

\begin{prop}
The continuous image of a path connected space is path connected.
\end{prop}

\begin{prop}
Let $X$ be a topological space and $A,B \subseteq X$. If $X = A \cup B$, $A \cap B \neq \emptyset$, and $A$ and $B$ are path connected, then $X$ is path connected.
\end{prop}

\begin{prop}
If $X$ and $Y$ are nonempty topological spaces, then
$X \times Y$ is path connected if and only if $X$ and $Y$ are path connected.
\end{prop}

\section{Hausdorff Spaces}

\begin{df}[Hausdorff]
A topological space is a \emph{Hausdorff} space or a \emph{$T_2$} space iff any two distinct points have disjoint neighbourhoods.
\end{df}

\begin{prop}
In a Hausdorff space, a sequence has at most one limit.
\end{prop}

\begin{prop}
\begin{enumerate}
\item Every subspace of a Hausdorff space is Hausdorff.
\item The disjoint union of two Hausdorff spaces is Hausdorff.
\item The product of two Hausdorff spaces is Hausdorff.
\end{enumerate}
\end{prop}

\begin{prop}
Let $A$ be a topological space and $B$ a Hausdorff space. Let $f,g : A \rightarrow B$ be continuous. Let $X \subseteq A$ be dense. If $f$ and $g$ agree on $X$, then $f = g$.
\end{prop}

\begin{proof}
\pf
\step{1}{\assume{for a contradiction $a \in A$ and $f(a) \neq g(a)$.}}
\step{2}{\pick\ disjoint neighbourhoods $U$ and $V$ of $f(a)$ and $g(a)$ respectively.}
\step{3}{\pick\ $x \in \inv{f}(U) \cap \inv{g}(V)$}
\step{4}{$f(x) = g(x) \in U \cap V$}
\qedstep
\begin{proof}
\pf\ This is a contradiction.
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $X$ and $Y$ be metric spaces. Let $f : X \rightarrow Y$ be uniformly continuous. Let $\hat{X}$ and $\hat{Y}$ be the completions of $X$ and $Y$. Then $f$ extends uniquely to a continuous map $\hat{X} \rightarrow \hat{Y}$.
\end{prop}

\begin{proof}
\pf\ The extension maps $\lim_{n \rightarrow \infty} x_n$ to $\lim_{n \rightarrow \infty} f(x_n)$. \qed
\end{proof}

\section{Separable Spaces}

\begin{df}[Separable]
A topological space is \emph{separable} iff it has a countable dense subset.
\end{df}

Every second countable space is separable.

\section{Sequential Compactness}

\begin{df}[Sequentially Compact]
A topological space is \emph{sequentially compact} iff every sequence has a convergent subsequence.
\end{df}

\section{Compactness}

\begin{df}[Compact]
A topological space is \emph{compact} iff every open cover has a finite subcover.
\end{df}

\begin{prop}
Let $X$ be a compact topological space. Let $P$ be a set of open sets such that, for all $U,V \in P$, we have $U \cup V \in P$. Assume that every point has an open neighbourhood in $P$. Then $X \in P$.
\end{prop}

\begin{proof}
\pf
\step{1}{$P$ is an open cover of $X$}
\step{2}{\pick\ a finite subcover $U_1, \ldots, U_n \in P$}
\step{3}{$X = U_1 \cup \cdots \cup U_n \in P$}
\qed
\end{proof}

\begin{cor}
Let $f$ be a compact space and $f : X \rightarrow \mathbb{R}$ be locally bounded. Then $f$ is bounded.
\end{cor}

\begin{proof}
\pf\ Take $P = \{ U \text{ open in } X : f \text{ is bounded on } U \}$. \qed
\end{proof}

\begin{prop}
The continuous image of a compact space is compact.
\end{prop}

\begin{prop}
A closed subspace of a compact space is compact.
\end{prop}

\begin{prop}
Let $X$ and $Y$ be nonempty spaces. Then the following are equivalent.
\begin{enumerate}
\item $X$ and $Y$ are compact.
\item $X + Y$ is compact.
\item $X \times Y$ is compact.
\end{enumerate}
\end{prop}

\begin{prop}
A compact subspace of a Hausdorff space is closed.
\end{prop}

\begin{prop}
A continuous bijection from a compact space to a Hausdorff space is a homeomorphism.
\end{prop}

\begin{prop}
A first countable compact space is sequentially compact.
\end{prop}


\section{Quotient Spaces}

\begin{df}[Quotient Space]
Let $X$ be a topological space and $\sim$ an equivalence relation on $X$. The \emph{quotient topology} on $X / \sim$ is defined by: $U : \El{\mathcal{P} X}$ is open in $X / \sim$ if and only if $\inv{\pi}(U)$ is open in $X$.
\end{df}

\begin{prop}
\label{prop:map_from_quotient_continuous}
Let $X$ and $Y$ be topological spaces. Let $\sim$ be an equivalence relation on $X$. Let $f : X / \sim \rightarrow Y$. Then $f$ is continuous if and only if $f \circ \pi$ is continuous.
\end{prop}

\begin{prop}
Let $X$ and $Y$ be topological spaces. Let $\sim$ be an equivalence relation on $X$. Let $\phi : Y \rightarrow X / \sim$.

Assume that, for all $y \in Y$, there exists a neighbourhood $U$ of $y$ and a continuous function $\Phi : U \rightarrow X$ such that $\pi \circ \Phi = \phi \restriction U$. Then $\phi$ is continuous.
\end{prop}

\begin{prop}
A quotient of a connected space is connected.
\end{prop}

\begin{prop}
A quotient of a path connected space is path connected.
\end{prop}

\begin{prop}
Let $X$ be a topological space and $\sim$ an equivalence relation on $X$. If $X / \sim$ is Hausdorff then every equivalence class of $\sim$ is closed in $X$.
\end{prop}

\begin{df}
Let $X$ be a topological space and $A_1, \ldots, A_r \subseteq X$. Then $X / A_1, \ldots, A_r$ is the quotient space of $X$ with respect to $\sim$ where $x \sim y$ iff $x = y$ or $\exists i (x \in A_i \wedge y \in A_i)$.
\end{df}

\begin{df}[Cone]
Let $X$ be a topological space. The \emph{cone over $X$} is the space $(X \times [0,1]) / (X \times \{1\})$.
\end{df}

\begin{df}[Suspension]
Let $X$ be a topological space. The \emph{suspension} of $X$ is the space
\[ \Sigma X := (X \times [-1,1]) / (X \times \{-1\}),(X \times \{1\}) \]
\end{df}

\begin{df}[Wedge Product]
Let $x_0 \in X$ and $y_0 \in Y$. The \emph{wedge product} $X \vee Y$ is $(X \times \{y_0\}) \cup (\{x_0\} \times Y)$ as a subspace of $X \times Y$.
\end{df}

\begin{df}[Smash Product]
Let $x_0 \in X$ and $y_0 \in Y$. The \emph{smash product} $X \wedge Y$ is $(X \times Y) / (X \vee Y)$.
\end{df}

\begin{ex}
$D^n / S^{n-1} \cong S^n$
\end{ex}

\begin{proof}
\pf
\step{1}{\pflet{$\phi : D^n / S^{n-1} \rightarrow S^n$ be the function induced by the map $D^n \rightarrow S^n$ that maps the radii of $D^n$ onto the meridians of $S^n$ from the north to the south pole.}}
\step{2}{$\phi$ is a bijection.}
\step{3}{$\phi$ is a homeomorphism.}
\begin{proof}
	\pf\ Since $D^n / S^{n-1}$ is compact and $S^n$ is Hausdorff.
\end{proof}
\qed
\end{proof}

\section{Gluing}

\begin{df}[Gluing]
Let $X$ and $Y$ be topological spaces, $X_0 \subseteq X$ and $\phi : X_0 \rightarrow Y$ a continuous map. Then $Y \cup_\phi X$ is the quotient space $(X + Y)/ \sim$, where $\sim$ is the equivalence relation generated by $x \sim \phi(x)$ for all $x : \El{X}$.
\end{df}

\begin{prop}
$Y$ is a subspace of $Y \cup_\phi X$.
\end{prop}

\begin{df}
Let $X$ be a topological space and $\alpha : X \cong X$ a homeomorphism. Then $(X \times [0,1]) / \alpha$ is the quotient space of $X \times [0,1]$ by the equivalence relation generated by $(x,0) \sim (\alpha(x),1)$ for all $x : \El{X}$.
\end{df}

\begin{df}[M\"{o}bius Strip]
The \emph{M\"{o}bius strip} is $([-1,1] \times [0,1])/ \alpha$ where $\alpha(x) = -x$.
\end{df}

\begin{df}[Klein Bottle]
The \emph{Klein bottle} is $(S^1 \times [0,1]) / \alpha$ where $\alpha(z) = \overline{z}$.
\end{df}

\begin{prop}
Let $M$ be the M\"{o}bius strip and $K$ the Klein bottle. Then $M \cup_{\id{\partial M}} M \cong K$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f : ([-1,1] \times [0,1]) + ([-1,1] \times [0,1]) \rightarrow S^1 \times [0,1]$ be the function that maps $\kappa_1(\theta,t)$ to $(e^{\pi i \theta / 2}, t)$ and $\kappa_2(\theta,t)$ to $(-e^{- \pi i \theta / 2}, t)$.}}
\step{2}{$f$ induces a bijection $M \cup_{\id{\partial M}} M \approx K$}
\step{3}{$f$ is a homeomorphism.}
\qed
\end{proof}

\section{Metric Spaces}

%TODO Define real numbers
\begin{df}[Metric Space]
Let $X$ be a set and $d : X^2 \rightarrow \mathbb{R}$. We say $(X,d)$ is a \emph{metric space} iff:
\begin{itemize}
\item For all $x,y \in X$ we have $d(x,y) \geq 0$
\item For all $x,y \in X$ we have $d(x,y) = 0$ iff $x = y$
\item For all $x,y \in X$ we have $d(x,y) = d(y,x)$
\item (\emph{Triangle Inequality}) For all $x,y,z \in X$ we have $d(x,z) \leq d(x,y) + d(y,z)$
\end{itemize}
We call $d$ the \emph{metric} of the metric space $(X,d)$. We often write $X$ for the metric space $(X,d)$.
\end{df}

\begin{df}[Ball]
Let $X$ be a metric space. Let $x \in X$ and $r > 0$. The \emph{ball} with \emph{centre} $x$ and \emph{radius} $r$ is
\[ B(x,r) = \{ y \in X \mid d(x,y) < r \} \enspace . \]
\end{df}

\begin{df}[Metric Topology]
Let $(X,d)$ be a metric space. The \emph{metric topology} on $X$ is the topology generated by the basis consisting of the balls.
\end{df}

\begin{df}[Metrizable]
A topological space is \emph{metrizable} iff there exists a metric that induces its topology.
\end{df}

\begin{prop}
Every metrizable space is Hausdorff.
\end{prop}

Every metrizable space is first countable.

A metric space is compact if and only if it is sequentially compact.

A metric space is separable if and only if it is second countable.

\subsection{Products}

\begin{df}[Euclidean Metric]
Let $X$ and $Y$ be metric spaces. The \emph{Euclidean metric} on $X \times Y$ is
\[ d((x_1, y_1), (x_2, y_2)) = \sqrt{d(x_1,x_2)^2 + d(y_1,y_2)^2} \enspace .\]
We write $X \times Y$ for the set $X \times Y$ under this metric.

We prove this is a metric.
\end{df}

\begin{proof}
\pf
\step{1}{$d((x_1,y_1),(x_2,y_2)) \geq 0$}
\begin{proof}
	\pf\ Immediate from definition.
\end{proof}
\step{2}{$d((x_1,y_1),(x_2,y_2)) = 0$ iff $(x_1,y_1) = (x_2,y_2)$}
\begin{proof}
	\pf\ $\sqrt{d(x_1,x_2)^2 + d(y_1,y_2)^2} = 0$ iff $d(x_1,x_2) = d(y_1,y_2) = 0$ iff $x_1 = x_2$ and $y_1 = y_2$.
\end{proof}
\step{3}{$d((x_1,y_1),(x_2,y_2)) = d((x_2,y_2),(x_1,y_1))$}
\begin{proof}
	\pf\ Since $\sqrt{d(x_1,x_2)^2 + d(y_1,y_2)^2} = \sqrt{d(x_2,x_1)^2 + d(y_2,y_1)^2}$.
\end{proof}
\step{4}{The triangle inequality holds.}
\begin{proof}
	\pf
	\begin{align*}
		& (d((x_1,y_1),(x_2,y_2)) + d((x_2,y_2),(x_3,y_3)))^2 \\
		= & d((x_1,y_1),(x_2,y_2))^2 + 2 d((x_1,y_1),(x_2,y_2)) d((x_2,y_2),(x_3,y_3)) + d((x_2,y_2),(x_3,y_3))^2 \\
		= & d(x_1,x_2)^2 + d(y_1,y_2)^2 + 2 \sqrt{(d(x_1,x_2)^2 + d(y_1,y_2)^2)(d(x_2,x_3)^2 + d(y_2,y_3)^2)} + d(x_2,x_3)^2 + d(y_2,y_3)^2\\
		\geq & d(x_1,x_2)^2 + d(x_2,x_3)^2 + d(y_1,y_2)^2 + d(y_2,y_3)^ + 2(d(x_1,x_2)d(x_2,x_3) + d(y_1,y_2) d(y_2,y_3)) \\
		& (\text{Cauchy-Schwarz}) \\
		= & (d(x_1,x_2) + d(x_2,x_3))^2 + (d(y_1,y_2) + d(y_2,y_3))^2 \\
		\geq & d(x_1,x_3)^2 + d(y_1,y_3)^2 \\
		= & d((x_1,y_1),(x_3,y_3))^2
	\end{align*}
\end{proof}
\qed
\end{proof}

\begin{prop}
Let $X$ and $Y$ be metric spaces. The Euclidean metric on $X \times Y$ induces the product topology on $X \times Y$.
\end{prop}

\begin{proof}
\pf
\step{1}{Every open ball is open in the product topology.}
\begin{proof}
	\step{a}{\pflet{$(x,y) \in B((a,b),\epsilon)$} \prove{$B(x, \sqrt{\epsilon}) \times B(y, \sqrt{\epsilon}) \subseteq B((a,b),\epsilon)$}}
	\step{b}{\pflet{$x' \in B(x, \sqrt{(\epsilon - d((x,y),(a,b)))^2/2})$ and $y' \in B(y, \sqrt{(\epsilon - d((x,y),(a,b)))^2/2})$} \prove{$d((x',y'),(a,b)) < \epsilon$}}
	\step{c}{$d((x',y'),(x,y)) < \epsilon - d((x,y),(a,b))$}
	\begin{proof}
		\pf
		\begin{align*}
			d((x',y'),(x,y)) & = \sqrt{d(x',x)^2 + d(y',y)^2} \\
			& < \sqrt{(\epsilon - d((x,y),(a,b)))^2/2 + (\epsilon - d((x,y),(a,b))^2/2} \\
			& = \epsilon - d((x,y),(a,b))
		\end{align*}
	\end{proof}
	\step{d}{$d((x',y'),(a,b)) < \epsilon$}
	\begin{proof}
		\pf
		\begin{align*}
			d((x',y'),(a,b)) & \leq d((x',y'),(x,y)) + d((x,y),(a,b)) & (\text{Triangle Inequality}) \\
			& < \epsilon & (\text{\stepref{c}})
		\end{align*}
	\end{proof}
\end{proof}
\step{2}{If $U$ is open in $X$ and $V$ is open in $Y$ then $U \times V$ is open under the Euclidean metric.}
\begin{proof}
	\step{a}{\pflet{$(x,y) \in U \times V$}}
	\step{b}{\pick\ $\delta, \epsilon > 0$ such that $B(x,\delta) \subseteq U$ and $B(y,\epsilon) \subseteq V$ \prove{$(B((x,y),\min(\delta, \epsilon)) \subseteq U \times V$}}
	\step{c}{\pflet{$(x',y') \in B((x,y),\min(\delta, \epsilon))$}}
	\step{d}{$d(x',x) < \delta$}
	\begin{proof}
		\step{i}{$d((x',y'),(x,y)) < \min(\delta, \epsilon)$}
		\step{ii}{$d(x',x)^2 + d(y',y)^2 < \delta^2$}
		\step{iii}{$d(x',x)^2 < \delta^2$}
	\end{proof}
	\step{e}{$d(y',y) < \epsilon$}
	\begin{proof}
		\pf\ Similar.
	\end{proof}
	\step{f}{$(x',y') \in U \times V$}
\end{proof}
\qed
\end{proof}

\section{Complete Metric Spaces}

\begin{df}[Complete]
A metric space is \emph{complete} iff every Cauchy sequence converges.
\end{df}

\begin{ex}
$\mathbb{R}$ is complete.
\end{ex}

\begin{prop}
The product of two complete metric spaces is complete.
\end{prop}

\begin{prop}
Every compact metric space is complete.
\end{prop}

\begin{prop}
Let $X$ be a complete metric space and $A \subseteq X$. Then $A$ is complete if and only if $A$ is closed.
\end{prop}

\begin{df}[Completion]
Let $X$ be a metric space. A \emph{completion} of $X$ is a complete metric space $\hat{X}$ and injection $i : X \rightarrowtail \hat{X}$ such that:
\begin{itemize}
\item The metric on $X$ is the restriction of the metric on $\hat{X}$
\item $X$ is dense in $\hat{X}$.
\end{itemize}
\end{df}

\begin{prop}
Let $i_1 : X \rightarrow Y_1$ and $i_2 : X \rightarrow Y_2$ be completions of $X$. Then there exists a unique isometry $\phi : Y_1 \cong Y_2$ such that $\phi \circ i_1 = i_2$.
\end{prop}

\begin{proof}
\pf\ Define $\phi(\lim_{n \rightarrow \infty} i_1(x_n)) = \lim_{n \rightarrow \infty} i_2(x_n)$. \qed
\end{proof}

\begin{thm}
Every metric space has a completion.
\end{thm}

\begin{proof}
\pf\ Let $\hat{X}$ be the set of Cauchy sequences in $X$ quotiented by $\sim$ where $(x_n) \sim (y_n)$ if and only if $d(x_n, y_n) \rightarrow 0$. \qed
\end{proof}

\section{Manifolds}

\begin{df}[Manifold]
An \emph{$n$-dimensional manifold} is a second countable Hausdorff space locally homeomorphic to $\mathbb{R}^n$.
\end{df}

\chapter{Homotopy Theory}

\section{Homotopies}

\begin{df}[Homotopy]
Let $X$ and $Y$ be topological spaces. Let $f,g : X \rightarrow Y$ be continuous. A \emph{homotopy} between $f$ and $g$ is a continuous function $h : X \times [0,1] \rightarrow Y$ such that
\begin{itemize}
\item $\forall x : \El{X}. h(x,0) = f(x)$
\item $\forall x : \El{X}. h(x,1) = g(x)$
\end{itemize}
We say $f$ and $g$ are \emph{homotopic}, $f \simeq g$, iff there exists a homotopy between them.

Let $[X,Y]$ be the set of all homotopy classes of functions $X \rightarrow Y$.
\end{df}

\begin{prop}
Let $f,f' : X \rightarrow Y$ and $g,g' : Y \rightarrow Z$ be continuous. If $f \simeq f'$ and $g \simeq g'$ then $g \circ f \simeq g' \circ f'$.
\end{prop}

\begin{df}
Let $\mathbf{HTop}$ be the category whose objects are the small topological spaces and whose morphisms are the homotopy classes of continuous functions.

A \emph{homotopy functor} is a functor $\Top \rightarrow \mathcal{C}$ that factors through the canonical functor $\Top \rightarrow \mathbf{HTop}$.
\end{df}

\begin{df}
A functor $F : \mathbf{Top} \rightarrow \mathcal{C}$ is \emph{homotopy invariant} iff, for any topological spaces $X$, $Y$ and continuous functions $f,g : X \rightarrow Y$, if $f \simeq g$ then $Hf = Hg$.
\end{df}

Basepoint-preserving homotopy.

\section{Homotopy Equivalence}

\begin{df}[Homotopy Equivalence]
Let $X$ and $Y$ be topological spaces. A \emph{homotopy equivalence} between $X$ and $Y$, $f : X \simeq Y$, is a continuous function $f : X \rightarrow Y$ such that there exists a continuous function $g : Y \rightarrow X$, the \emph{homotopy inverse} to $f$, such that $g \circ f \simeq \id{X}$ and $f \circ g \simeq \id{Y}$.
\end{df}

\begin{df}[Contractible]
A topological space $X$ is \emph{contractible} iff $X \simeq 1$.
\end{df}

\begin{ex}
$\mathbb{R}^n$ is contractible.
\end{ex}

\begin{ex}
$D^n$ is contractible.
\end{ex}

\begin{df}[Deformation Retract]
Let $X$ be a topological space and $A$ a subspace of $X$. A retraction $\rho : X \rightarrow A$ is a \emph{deformation retraction} iff $i \circ \rho \simeq \id{X}$, where $i$ is the inclusion $A \rightarrowtail X$. We say $A$ is a \emph{deformation retract} of $X$ iff there exists a deformation retraction.
\end{df}

\begin{df}[Strong Deformation Retract]
Let $X$ be a topological space and $A$ a subspace of $X$. A \emph{strong deformation retraction} $\rho : X \rightarrow A$ is a continuous function such that there exists a homotopy $h : X \times [0,1] \rightarrow X$ between $i \circ \rho$ and $\id{X}$ such that, for all $a : \El{X}$ and $t : \El{[0,1]}$, we have $h(a,t) = a$.

We say $A$ is a \emph{strong deformation retract} of $X$ iff a strong deformation retraction exists.
\end{df}

\begin{ex}
$\{0\}$ is a strong deformation retract of $\mathbb{R}^n$ and of $D^n$.
\end{ex}

\begin{ex}
$S^1$ is a strong deformation retract of the torus $S^1 \times D^2$.
\end{ex}

\begin{ex}
$S^{n-1}$ is a strong deformation retract of $D^n - \{0\}$.
\end{ex}

\begin{ex}
For any topological space $X$, the singleton consisting of the vertex is a strong deformation retract of the cone over $X$.
\end{ex}

\chapter{Simplicial Complexes}

\begin{df}[Simplex]
A \emph{$k$-dimensional simplex} or \emph{$k$-simplex} in $\mathbb{R}^n$ is the convex hull $s(x_0, \ldots, x_k)$ of $k+1$ points in general position.
\end{df}

\begin{df}[Face]
A \emph{sub-simplex} or \emph{face} of $s(x_0, \ldots, x_k)$ is the convex hull of a subset of $\{x_0, \ldots, x_k\}$.
\end{df}

\begin{df}[Simplicial Complex]
A \emph{simplicial complex} in $\mathbb{R}^n$ is a set $K$ of simplices such that:
\begin{itemize}
\item for every simplex $s$ in $K$, every face of $s$ is in $K$.
\item The intersection of two simplices $s_1, s_2 \in K$ is either empty or is a face of both $s_1$ and $s_2$.
\item $K$ is locally finite, i.e. every point of $\mathbb{R}^n$ has a neighbourhood that only intersects finitely many elements of $K$.
\end{itemize}

The topological space \emph{underlying} $K$ is $|K| = \bigcup K$ as a subspace of $\mathbb{R}^n$.
\end{df}

\section{Cell Decompositions}

\begin{df}[$n$-cell]
An \emph{$n$-cell} is a topological space homeomorphic to $\mathbb{R}^n$.
\end{df}

\begin{df}[Cell Decomposition]
Let $X$ be a topological space. A \emph{cell decomposition} of $X$ is a partition of $X$ into subspaces that are $n$-cells.
\end{df}

\begin{df}[$n$-skeleton]
Given a cell decomposition of $X$, the \emph{$n$-skeleton} $X^n$ is the union of all the cells of dimension $\leq n$.
\end{df}

\section{CW-complexes}

\begin{df}[CW-Complex]
A \emph{CW-complex} consists of a topological space $X$ and a cell decomposition $\mathcal{E}$ of $X$ such that:
\begin{enumerate}
\item \emph{Characteristic Maps} For every $n$-cell $e \in \mathcal{E}$, there exists a continuous map $\Phi_e : D^n \rightarrow X$ such that $\Phi((D^n)^\circ) = e$, the corestriction $\Phi_e : (D^n)^\circ \approx e$ is a homeomorphism, and $\Phi_e(S^n)$ is the union of all the cells in $\mathcal{E}$ of dimension $< n$.
\item \emph{Closure Finiteness} For all $e \in \mathcal{E}$, we have $\overline{e}$ intersects only finitely many other cells in $\mathcal{E}$.
\item \emph{Weak Topology} Given $A \subseteq X$, we have $A$ is closed iff for all $e \in \mathcal{E}$, $A \cap \overline{e}$ is closed.
\end{enumerate}
\end{df}

\begin{prop}
If a cell decomposition $\mathcal{E}$ satisfies the Characteristic Maps axiom, then for every $n$-cell $e \in \mathcal{E}$ we have $\overline{e} = \Phi_e(D^n)$. Therefore $\overline{e}$ is compact and $\overline{e} - e = \Phi_e(S^{n-1}) \subseteq X^{n-1}$.
\end{prop}

\begin{proof}
\pf
\step{1}{$e \subseteq \Phi_e(D^n) \subseteq \overline{e}$}
\begin{proof}
	\pf
	\begin{align*}
	e & = \Phi_e((D^n)^\circ) \\
	& \subseteq \Phi_e(D^n) \\
	& = \Phi_e(\overline{(D^n)^\circ}) \\
	& \subseteq \overline{\Phi_e((D^n)^\circ)} \\
	& = \overline{e}
	\end{align*}
\end{proof}
\step{2}{$\Phi_e(D^n)$ is compact.}
\begin{proof}
	\pf\ Because $D^n$ is compact.
\end{proof}
\step{3}{$\Phi_e(D^n)$ is closed.}
\step{4}{$\Phi_e(D^n) = \overline{e}$}
\qed
\end{proof}

\chapter{Topological Groups}

\begin{df}[Topological Group]
A \emph{topological group} is a group $G$ with a topology such that the function $G^2 \rightarrow G$ that maps $(x,y)$ to $x\inv{y}$ is continuous.
\end{df}

\begin{ex}
$GL(n,\mathbb{R})$ and $GL(n,\mathbb{C})$ are topological groups.
\end{ex}

\begin{prop}
Any subgroup of a topological group is a topological group under the subspace topology.
\end{prop}

\begin{df}[Homogeneous Space]
A \emph{homogeneous space} is a topological space of the form $G/H$, where $G$ is a topological group and $H$ is a normal subgroup of $G$, under the quotient topology.
\end{df}

\begin{prop}
Let $G$ be a topological group and $H$ a normal subgroup of $G$. Then $G/H$ is Hausdorff if and only if $H$ is closed.
\end{prop}

\begin{proof}
\pf\ See Bourbaki, N., General Topology. III.12 \qed
\end{proof}

\section{Continuous Actions}

\begin{df}[Continuous Action]
Let $G$ be a topological group and $X$ a topological space. A \emph{continuous action} of $G$ on $X$ is a continuous function $\cdot : G \times X \rightarrow X$ such that:
\begin{itemize}
\item $\forall x : \El{X}. ex = x$
\item $\forall g,h : \El{G}. \forall x : \El{X}. g(hx) = (gh)x$
\end{itemize}

A \emph{$G$-space} consists of a topological space $X$ and a continuous action of $G$ on $X$.
\end{df}

\begin{df}[Orbit]
Let $X$ be a $G$-space and $x \in X$. The \emph{orbit} of $x$ is $\{ gx : g \in G \}$.

The \emph{orbit space} $X / G$ is the set of all orbits under the quotient topology.
\end{df}

\begin{prop}
Define an action of $SO(2)$ on $S^2$ by 
\[ g(x_1, x_2, x_3) = (g(x_1, x_2), x_3) \enspace . \] Then $S^2 / SO(2) \cong [-1,1]$.
\end{prop}

\begin{proof}
\pf
\step{1}{\pflet{$f_3 : S^2 / SO(2) \rightarrow [-1,1]$ be the function induced by $\pi_3 : S^2 \rightarrow [-1,1]$}}
\step{2}{$f_3$ is bijective.}
\step{3}{$S^2 / SO(2)$ is compact.}
\begin{proof}
	\pf\ It is the continuous image of $S^2$ which is compact.
\end{proof}
\step{4}{$[-1,1]$ is Hausdorff.}
\step{5}{$f_3$ is a homeomorphism.}
\qed
\end{proof}

\begin{df}[Stabilizer]
Let $X$ be a $G$-space and $x \in X$. The \emph{stabilizer} of $x$ is $G_x := \{ g : \El{G} \mid gx = x \}$.
\end{df}

\begin{prop}
The function that maps $gG_x$ to $gx$ is a continuous bijection from $G / G_x$ to $Gx$.
\end{prop}

\begin{proof}
\pf
\step{1}{If $gG_x = hG_x$ then $gx = hx$.}
\begin{proof}
	\step{a}{\assume{$gG_x = hG_x$}}
	\step{b}{$\inv{g}h \in G_x$}
	\step{c}{$\inv{g}h x = x$}
	\step{d}{$gx = hx$}
\end{proof}
\step{2}{If $gx = hx$ then $gG_x = hG_x$.}
\begin{proof}
	\pf\ Similar.
\end{proof}
\step{3}{The function is continuous.}
\begin{proof}
	\pf\ Proposition \ref{prop:map_from_quotient_continuous}.
\end{proof}
\qed
\end{proof}

\chapter{Topological Vector Spaces}

\begin{df}[Topological Vector Space]
Let $K$ be either $\mathbb{R}$ or $\mathbb{C}$. A \emph{topological vector space} over $K$ consists of a 	vector space $E$ over $K$ and a topology on $E$ such that:
\begin{itemize}
\item Substraction is a continuous function $E^2 \rightarrow E$
\item Multiplication is a continuous function $K \times E \rightarrow E$
\end{itemize}
\end{df}

\begin{prop}
Every topological vector space is a topological group under addition.
\end{prop}

\begin{proof}
\pf\ Immediate from the definition. \qed
\end{proof}

\begin{thm}
The usual topology on a finite dimensional vector space over $K$ is the only one that makes it into a Hausdorff topological vector space.
\end{thm}

\begin{proof}
\pf\ See Bourbaki. Elements de Mathematique, Livre V: Espaces Vectoriels Topologiques, Th. 2, p. 18 \qed
\end{proof}

\begin{prop}
Let $E$ be a topological vector space and $E_0$ a subspace of $E$. Then $\overline{E_0}$ is a subspace of $E$.
\end{prop}

\begin{df}
Let $E$ be a topological vector space. The topological space \emph{associated} with $E$ is $E / \overline{\{0\}}$.
\end{df}

\section{Cauchy Sequences}

\begin{df}[Cauchy Sequence]
Let $E$ be a topological vector space. A sequence $(x_n)$ in $E$ is a \emph{Cauchy sequence} iff, for every neighbourhood $U$ of 0, there exists $n_0$ such that $\forall m,n \geq n_0. x_n - x_m \in U$.
\end{df}

\begin{df}[Complete Topological Vector Space]
A topological vector space is \emph{complete} iff every Cauchy sequence converges.
\end{df}

\section{Seminorms}

\begin{df}[Seminorm]
Let $E$ be a vector space over $K$. A \emph{seminorm} on $E$ is a function $\|\ \| : E \rightarrow \mathbb{R}$ such that:
\begin{enumerate}
\item $\forall x : \El{E}. \| x \| \geq 0$
\item $\forall \alpha : \El{K}. \forall x : \El{E}. \| \alpha x \| = |\alpha| \|x\|$
\item \emph{Triangle Inequality} $\forall x,y : \El{E}. \| x + y \| \leq \| x \| + \| y \|$
\end{enumerate}
\end{df}

\begin{ex}
The function that maps $(x_1, \ldots, x_n)$ to $|x_i|$ is a seminorm on $\mathbb{R}^n$.
\end{ex}

\begin{df}
Let $E$ be a vector space over $K$.
Let $\Lambda$ be a set of seminorms on $E$. The topology \emph{generated} by $\Lambda$ is the topology generated by the subbasis consisting of all sets of the form $B_\epsilon^\lambda(x) = \{ y \in E : \lambda(y-x) < \epsilon \}$ for $\epsilon > 0$, $\lambda \in \Lambda$ and $x : \El{E}$.
\end{df}

\begin{prop}
$E$ is a topological vector space under this topology. It is Hausdorff iff, for all $x : \El{E}$, if $\forall \lambda \in \Lambda. \lambda(x) = 0$ then $x = 0$.
\end{prop}

\section{Fr\'{e}chet Spaces}

\begin{df}[Pre-Fr\'{e}chet Space]
A \emph{pre-Fr\'{e}chet space} is a Hausdorff topological vector space whose topology is generated by a countable set of seminorms.
\end{df}

\begin{prop}
Let $E$ be a pre-Fr\'{e}chet space whose topology is generated by the family of seminorms $\{ \|\ \|_n : n \in \mathbb{Z}^+ \}$. Then
\[ d(x,y) = \sum_{n=1}^\infty \frac{1}{2^n} \frac{\|x-y\|_n}{1 + \|x-y\|_n} \]
is a metric that induces the same topology. The two definitions of Cauchy sequence agree.
\end{prop}

\begin{df}[Fr\'{e}chet Space]
A \emph{Fr\'{e}chet space} is a complete pre-Fr\'{e}chet space.
\end{df}

\section{Normed Spaces}

\begin{df}[Normed Space]
Let $E$ be a vector space over $K$. A \emph{norm} on $E$ is a function $\|\ \| : E \rightarrow \mathbb{R}$ is a seminorm such that, $\forall x \in E. \| x \| = 0 \Leftrightarrow x = 0$.

A \emph{normed space} consists of a vector space with a norm.
\end{df}

\begin{prop}
If $E$ is a normed space then $d(x,y) = \| x - y \|$ is a metric on $E$ that makes $E$ into a topological vector space. The two definitions of Cauchy sequence agree on $E$.
\end{prop}

\begin{df}[$p$-norm]
For any $p \geq 1$, the \emph{$p$-norm} on $\mathbb{R}^n$ is defined by
\[ \| \vec{x} \|_p := \left( \sum_{i=1}^n |x_i|^p \right)^{\frac{1}{p}} \enspace . \]

We prove this is a norm.
\end{df}

\begin{proof}
\pf
\step{1}{For all $\vec{x} \in \mathbb{R}^n$ we have $\| \vec{x} \|_p \geq 0$}
\begin{proof}
	\pf\ Immediate from definition.
\end{proof}
\step{2}{For all $\alpha \in \mathbb{R}$ and $\vec{x} \in \mathbb{R}^n$ we have $\| \alpha \vec{x} \|_p = |\alpha| \| \vec{x} \|_p$}
\begin{proof}
	\pf
	\begin{align*}
		\| \alpha (x_1, \ldots, x_n) \|
		& = \| (\alpha x_1, \ldots, \alpha x_n) \| \\
		& = \left( \sum_{i=1}^n (\alpha x_i)^p \right)^{\frac{1}{p}} \\
		& = \left( |\alpha|^p \sum_{i=1}^n x_i^p \right)^{\frac{1}{p}} \\
		& = |\alpha| \left( \sum_{i=1}^n x_i^p \right)^{\frac{1}{p}} \\
		& = |\alpha| \|\vec{x}\|_p
	\end{align*}
\end{proof}
\step{3}{The triangle inequality holds.}
\begin{proof}
	\pf
	\begin{align*}
		\| \vec{x} + \vec{y} \|_p^p
		& = \sum_{i=1}^n |x_i + y_i|^p \\
		& = \sum_{i=1}^n |x_i + y_i| |x_i + y_i|^{p-1} \\
		& \leq \sum_{i=1}^n (|x_i| + |y_i|) |x_i + y_i|^{p-1} \\
		& = \sum_{i=1}^n |x_i| |x_i + y_i|^{p-1} + \sum_{i=1}^n |y_i| |x_i + y_i|^{p-1} \\
		& \leq \left( \sum_{i=1}^n |x_i|^p \right)^{\frac{1}{p}} \left( \sum_{i=1}^n |x_i + y_i|^p \right)^{\frac{p-1}{p}} + \left( \sum_{i=1}^n |y_i|^p \right)^{\frac{1}{p}} \left( \sum_{i=1}^n |x_i + y_i|^p \right)^{\frac{p-1}{p}} & (\text{H\"{o}lder's Inequality}) \\
		& = ( \|\vec{x}\|_p + \|\vec{y}\|_p) \| \vec{x} + \vec{y} \|^{p-1}
	\end{align*}
	Assuming w.l.o.g. $\| \vec{x} + \vec{y} \|^{p-1} \neq 0$ (using \stepref{4}) we have $\| \vec{x} + \vec{y} \|_p \leq \| \vec{x} \|_p + \| \vec{y} \|_p$. 	
\end{proof}
\step{4}{For any $\vec{x} \in \mathbb{R}^n$, we have $\| \vec{x} \| = 0$ iff $\vec{x} = \vec{0}$.}
\begin{proof}
	\pf $\sum_{i=1}^n x_i^p = 0$ iff $x_1 = \cdots = x_n  = 0$.
\end{proof}
\qed
\end{proof}

\begin{df}[Sup-norm]
The \emph{sup-norm} on $\mathbb{R}^n$ is defined by
\[ \| (x_1, \ldots, x_n) \|_\infty := \max(|x_1|, \ldots, |x_n|) \enspace . \]
\end{df}

\begin{prop}
The 2-norm on $\mathbb{R}^n$ induces the standard metric.
\end{prop}

\begin{proof}
\pf\ Immediate from definitions. \qed
\end{proof}

\begin{df}
For $p \geq 1$, the normed space $l_p$ is the set of all sequences $(x_n)$ in $\mathbb{R}$ such that $\sum_{n=1}^\infty x_n^p$ converges, under
\[ \| (x_n) \|_p := \left( \sum_{i=1}^\infty |x_i|^p \right)^{\frac{1}{p}} \enspace . \]
\end{df}

\begin{prop}
The spaces $l_p$ for $p \geq 1$ are all homeomorphic.
\end{prop}

\begin{proof}
\pf\ See Kadets, Mikhail Iosifovich. 1967. Proof of the topological equivalence of all separable
infinite-dimensional banach spaces. Functional Analysis and Its Applications 1 (1): 53–62.
http://dx.doi.org/10.1007/BF01075865.
\end{proof}

\begin{df}
Let $l_\infty$ be the set of all bounded sequences in $\mathbb{R}$ under
\[ \| (x_n) \| := \sup_n |x_n| \]
\end{df}

\begin{prop}
For all $p \geq 1$ we have $l_p$ is not homeomorphic to $l_\infty$.
\end{prop}

%TODO

\begin{prop}
Let $\|\ \|$ be a seminorm on the vector space $E$. Then $\|\ \|$ defines a norm on $E / \overline{\{0\}}$.
\end{prop}

\begin{prop}
Let $E$ and $F$ be normed spaces. Any continuous linear map $E \rightarrow F$ is uniformly continuous.
\end{prop}

\begin{df}
For $p \geq 1$. let $\mathcal{L}^p(\mathbb{R}^n)$ be the vector space of all Lebesgue-measurable functions $f : \mathbb{R}^n \rightarrow \mathbb{R}$ such that $|f|^p$ is Lebesgue-integrable. Then
\[ \| f \|_p := \sqrt{p}{\int_{\mathbb{R}^n} |f(x)|^p dx} \]
defines a seminorm on $\mathcal{L}^p(\mathbb{R}^n)$. Let
\[ L^p(\mathbb{R}^n) := \mathcal{L}^p(\mathbb{R}^n) / \overline{\{0\}} \enspace . \]
\end{df}

\section{Inner Product Spaces}

\begin{prop}
If $E$ is an inner product space then $\| x \| = \sqrt{\langle x,x \rangle}$ is a norm on $E$.
\end{prop}

\section{Banach Spaces}

\begin{df}[Banach Space]
A \emph{Banach space} is a complete normed space.
\end{df}

\begin{ex}
For any topological space $X$, the set $C(X)$ of bounded continuous functions $X \rightarrow \mathbb{R}$ is a Banach space under $\| f \| = \sup_{x \in X} |f(x)|$.
\end{ex}

\begin{prop}
The completion of a normed space is a Banach space.
\end{prop}

\begin{prop}
Let $E$ and $F$ be normed spaces. Let $f : E \rightarrow F$ be a continuous linear map. Then the extension to the completions $\hat{E} \rightarrow \hat{F}$ is linear.
\end{prop}

\begin{prop}
$L^p(\mathbb{R}^n)$ is a Banach space.
\end{prop}

\begin{prop}
$C(\mathbb{R})$ is first countable but not second countable.
\end{prop}

\begin{proof}
\pf\ For every sequence of 0s and 1s $s = (s_n)$, let $f_s$ be a continuous bounded function whose value at $n$ is $s_n$. Then the set of all $f_s$ is an uncountable discrete set in $C(\mathbb{R})$. Hence $C(\mathbb{R})$ is not second countable.

It is first countable because it is metrizable. \qed
\end{proof}

\section{Hilbert Spaces}

\begin{df}[Hilbert Space]
A \emph{Hilbert space} is a complete inner product space.
\end{df}

\begin{ex}
The set of \emph{square-integrable functions} is the set of Lebesgue integrable functions $[-\pi,\pi] \rightarrow \mathbb{R}$ quotiented by: $f \sim g$ iff $\{ x \in [-\pi,\pi] : f(x) \neq g(x) \}$ has measure 0. This is a Hilbert space under
\[ \langle f,g \rangle = \frac{1}{\pi} \int_{- \pi}{\pi} f(x) g(x) dx \enspace . \]
\end{ex}

\begin{prop}
The completion of an inner product space is a Hilbert space.
\end{prop}

An infinite dimensional Hilbert space with the weak topology is not first countable.

\section{Locally Convex Spaces}

\begin{df}[Locally Convex Space]
A topological vector space is \emph{locally convex} iff every neighbourhood of 0 includes a convex neighbourhood of 0.
\end{df}

\begin{prop}
A topological vector space is locally convex if and only if its topology is generated by a set of seminorms.
\end{prop}

\begin{proof}
\pf\ See K\"{o}the, G. Topological Vector Spaces 1. Section 18. \qed
\end{proof}

\begin{prop}
A locally convex topological vector space is a pre-Fr\'{e}chet space if and only if it is metrizable.
\end{prop}

\begin{proof}
\pf\ See K\"{o}the, G. Topological Vector Spaces 1. Section 18. \qed
\end{proof}

\begin{ex}
Let $E$ be an infinite dimensional Hilbert space. Let $E'$ be the same vector space under the \emph{weak topology}, the coarsest topology such that every continuous linear map $E \rightarrow \mathbb{R}$ is continuous as a map $E' \rightarrow \mathbb{R}$. Then $E$ is locally convex Hausdorff but not metrizable.

Proof: See Dieudonne, J. A., Treatise on Analysis, Vol. II, New York and London: Academic Press, 1970, p. 76.
\end{ex}

\begin{df}[Thom Space]
Let $E$ be a vector bundle with a Riemannian metric, $DE = \{ x : \El{E} \mid \| x \| \leq 1 \}$ its disc bundle and $SE := \{ v : \El{E} \mid \| v \| = 1 \}$ its sphere bundle. The \emph{Thom space} of $E$ is the quotient space $DE / SE$.
\end{df}

\end{document}
